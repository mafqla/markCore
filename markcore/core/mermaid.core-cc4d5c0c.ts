import { g as getAugmentedNamespace, c as commonjsGlobal, p as purify_es, a as getDefaultExportFromCjs } from "./index-b2a469f3.ts";
import { I as InternMap, s as sort, a as ascending$7, t as tickIncrement$1, b as ticks$1, c as bisect, q as quantile$1, d as deviation$1, e as ascendingDefined, f as compareDefined, m as minIndex, g as maxIndex, h as min$3, i as InternSet, j as dispatch$1, T as Timer$1, k as timer$1, l as interpolateNumber$1, n as color$1, o as interpolateRgb$1, p as interpolateString$1, r as interpolateTransformSvg$1, u as interpolateTransformCss$1, v as now$1, w as interpolate$1$1, x as path$1, y as tickStep$1, z as max$5, A as dsvFormat$1, B as constant$l, C as clipRectangle$1, D as Adder$1, E as geoStream$1, F as noop$5, G as atan2$2, H as sqrt$3, J as sin$4, K as cos$4, L as radians$1, M as abs$4, N as epsilon2$3, O as polygonContains$1, P as asin$2, Q as haversin$1, R as degrees$2, S as ordinal$1, U as initRange$1, V as range$2, W as continuous$1, X as number$5, Y as linearish$1, Z as utcFormat$1, _ as utcParse$1, $ as initInterpolator$1, a0 as identity$e, a1 as rgbBasis$1, a2 as cubehelixLong$1, a3 as cubehelix$5, a4 as rgb$1, a5 as constant$m, a6 as tau$7, a7 as array$7, a8 as curveLinear$1, a9 as line$2, aa as area$2$1, ab as x$5, ac as y$5, ad as slice$a, ae as interpolateZoom$1, af as bisectRight$1, ag as bisectLeft$1, ah as bisectCenter, ai as bisector$1, aj as descending$5, ak as fsum, al as fcumsum, am as mean$1, an as median$1, ao as medianIndex, ap as merge$1, aq as permute$1, ar as quantileIndex, as as quantileSorted, at as quickselect, au as greatest, av as sum$4, aw as variance$1, ax as hsl$3, ay as lab$2, az as hcl$3, aA as lch$1, aB as gray$1, aC as Delaunay, aD as Voronoi, aE as forceCenter, aF as forceCollide, aG as forceLink, aH as forceManyBody, aI as forceSimulation, aJ as forceX, aK as forceY, aL as defaultLocale$2, aM as format$1, aN as formatPrefix$1, aO as formatLocale$2, aP as formatSpecifier$1, aQ as FormatSpecifier$1, aR as precisionFixed$1, aS as precisionPrefix$1, aT as precisionRound$1, aU as geoArea$1, aV as geoBounds$1, aW as geoCentroid$1, aX as geoCircle, aY as clipAntimeridian$1, aZ as clipCircle$1, a_ as graticule$1, a$ as graticule10$1, b0 as geoPath, b1 as geoAlbers, b2 as geoAlbersUsa, b3 as geoAzimuthalEqualArea, b4 as azimuthalEqualAreaRaw$1, b5 as geoAzimuthalEquidistant, b6 as azimuthalEquidistantRaw$1, b7 as geoConicConformal, b8 as conicConformalRaw$1, b9 as geoConicEqualArea, ba as conicEqualAreaRaw$1, bb as geoConicEquidistant, bc as conicEquidistantRaw$1, bd as geoEqualEarth, be as equalEarthRaw$1, bf as geoEquirectangular, bg as equirectangularRaw$1, bh as geoGnomonic, bi as gnomonicRaw$1, bj as geoIdentity, bk as projection$1, bl as projectionMutator$1, bm as geoMercator, bn as mercatorRaw$1, bo as geoNaturalEarth1, bp as naturalEarth1Raw$1, bq as geoOrthographic, br as orthographicRaw$1, bs as geoStereographic, bt as stereographicRaw$1, bu as geoTransverseMercator, bv as transverseMercatorRaw$1, bw as rotation$1, bx as transform$3, by as cluster$1, bz as hierarchy$1, bA as Node$2, bB as pack, bC as siblings$1, bD as enclose$1, bE as partition$1, bF as stratify$1, bG as tree$1, bH as treemap, bI as treemapBinary, bJ as treemapDice$1, bK as treemapSlice$1, bL as treemapSliceDice, bM as treemapSquarify, bN as treemapResquarify, bO as array$8, bP as basis$3, bQ as basisClosed$2, bR as date$2, bS as discrete$1, bT as hue$4, bU as numberArray$1, bV as object$3, bW as interpolateRound$1, bX as rgbBasisClosed$1, bY as hsl$4, bZ as hslLong$1, b_ as lab$3, b$ as hcl$4, c0 as hclLong$1, c1 as cubehelix$6, c2 as piecewise$1, c3 as quantize$2, c4 as quadtree$1, c5 as identity$f, c6 as linear$4, c7 as log$2, c8 as symlog$1, c9 as implicit$1, ca as pow$2, cb as sqrt$4, cc as quantile$2, cd as quantize$3, ce as threshold$2, cf as time$1, cg as utcTime$1, ch as sequential$1, ci as sequentialLog$1, cj as sequentialPow$1, ck as sequentialSqrt$1, cl as sequentialSymlog$1, cm as diverging$3, cn as divergingLog$1, co as divergingPow$1, cp as divergingSqrt$1, cq as divergingSymlog$1, cr as tickFormat$1, cs as arc$2, ct as Symbol$1, cu as symbolsStroke, cv as symbolsFill, cw as asterisk, cx as circle$3, cy as cross$5, cz as diamond$1, cA as diamond2, cB as plus, cC as square$2, cD as square2, cE as star$1, cF as triangle$1, cG as triangle2, cH as wye$1, cI as x$6, cJ as curveBasisClosed, cK as curveBasisOpen, cL as curveBasis, cM as curveBundle, cN as curveCardinalClosed, cO as curveCardinalOpen, cP as curveCardinal, cQ as curveCatmullRomClosed, cR as curveCatmullRomOpen, cS as curveCatmullRom, cT as curveLinearClosed, cU as monotoneX$1, cV as monotoneY$1, cW as curveNatural, cX as curveStep, cY as stepAfter$1, cZ as stepBefore$1, c_ as newInterval$1, c$ as utcMillisecond$1, d0 as milliseconds$1, d1 as utcSecond$1, d2 as seconds$1, d3 as timeMinute$1, d4 as minutes$1, d5 as timeHour$1, d6 as hours$1, d7 as timeDay$1, d8 as days$1, d9 as sunday$1, da as sundays$1, db as monday$1, dc as mondays$1, dd as tuesday$1, de as tuesdays$1, df as wednesday$1, dg as wednesdays$1, dh as thursday$1, di as thursdays$1, dj as friday$1, dk as fridays$1, dl as saturday$1, dm as saturdays$1, dn as timeMonth$1, dp as months$1, dq as timeYear$1, dr as years$1, ds as utcMinute$2, dt as utcMinutes$1, du as utcHour$2, dv as utcHours$1, dw as utcDay$2, dx as utcDays$1, dy as utcSunday$1, dz as utcSundays$1, dA as utcMonday$1, dB as utcMondays$1, dC as utcTuesday$1, dD as utcTuesdays$1, dE as utcWednesday$1, dF as utcWednesdays$1, dG as utcThursday$1, dH as utcThursdays$1, dI as utcFriday$1, dJ as utcFridays$1, dK as utcSaturday$1, dL as utcSaturdays$1, dM as utcMonth$2, dN as utcMonths$1, dO as utcYear$2, dP as utcYears$1, dQ as utcTicks, dR as utcTickInterval, dS as timeTicks, dT as timeTickInterval, dU as defaultLocale$3, dV as timeFormat$1, dW as timeParse$1, dX as formatLocale$3, dY as timerFlush$1, dZ as interval$2 } from "./step-7a65fc45.ts";
function _mergeNamespaces(n, m) {
  for (var i = 0; i < m.length; i++) {
    const e = m[i];
    if (typeof e !== "string" && !Array.isArray(e)) {
      for (const k2 in e) {
        if (k2 !== "default" && !(k2 in n)) {
          const d = Object.getOwnPropertyDescriptor(e, k2);
          if (d) {
            Object.defineProperty(n, k2, d.get ? d : {
              enumerable: true,
              get: () => e[k2]
            });
          }
        }
      }
    }
  }
  return Object.freeze(Object.defineProperty(n, Symbol.toStringTag, { value: "Module" }));
}
var mermaid_core$2 = { exports: {} };
var dist$1 = {};
var hasRequiredDist;
function requireDist() {
  if (hasRequiredDist)
    return dist$1;
  hasRequiredDist = 1;
  Object.defineProperty(dist$1, "__esModule", { value: true });
  dist$1.sanitizeUrl = void 0;
  var invalidProtocolRegex = /^([^\w]*)(javascript|data|vbscript)/im;
  var htmlEntitiesRegex = /&#(\w+)(^\w|;)?/g;
  var ctrlCharactersRegex = /[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;
  var urlSchemeRegex = /^([^:]+):/gm;
  var relativeFirstCharacters = [".", "/"];
  function isRelativeUrlWithoutProtocol(url) {
    return relativeFirstCharacters.indexOf(url[0]) > -1;
  }
  function decodeHtmlCharacters(str) {
    return str.replace(htmlEntitiesRegex, function(match, dec) {
      return String.fromCharCode(dec);
    });
  }
  function sanitizeUrl(url) {
    var sanitizedUrl = decodeHtmlCharacters(url || "").replace(ctrlCharactersRegex, "").trim();
    if (!sanitizedUrl) {
      return "about:blank";
    }
    if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {
      return sanitizedUrl;
    }
    var urlSchemeParseResults = sanitizedUrl.match(urlSchemeRegex);
    if (!urlSchemeParseResults) {
      return sanitizedUrl;
    }
    var urlScheme = urlSchemeParseResults[0];
    if (invalidProtocolRegex.test(urlScheme)) {
      return "about:blank";
    }
    return sanitizedUrl;
  }
  dist$1.sanitizeUrl = sanitizeUrl;
  return dist$1;
}
function blur(values2, r) {
  if (!((r = +r) >= 0))
    throw new RangeError("invalid r");
  let length2 = values2.length;
  if (!((length2 = Math.floor(length2)) >= 0))
    throw new RangeError("invalid length");
  if (!length2 || !r)
    return values2;
  const blur3 = blurf(r);
  const temp2 = values2.slice();
  blur3(values2, temp2, 0, length2, 1);
  blur3(temp2, values2, 0, length2, 1);
  blur3(values2, temp2, 0, length2, 1);
  return values2;
}
const blur2 = Blur2(blurf);
const blurImage = Blur2(blurfImage);
function Blur2(blur3) {
  return function(data, rx, ry = rx) {
    if (!((rx = +rx) >= 0))
      throw new RangeError("invalid rx");
    if (!((ry = +ry) >= 0))
      throw new RangeError("invalid ry");
    let { data: values2, width, height } = data;
    if (!((width = Math.floor(width)) >= 0))
      throw new RangeError("invalid width");
    if (!((height = Math.floor(height !== void 0 ? height : values2.length / width)) >= 0))
      throw new RangeError("invalid height");
    if (!width || !height || !rx && !ry)
      return data;
    const blurx = rx && blur3(rx);
    const blury = ry && blur3(ry);
    const temp2 = values2.slice();
    if (blurx && blury) {
      blurh(blurx, temp2, values2, width, height);
      blurh(blurx, values2, temp2, width, height);
      blurh(blurx, temp2, values2, width, height);
      blurv(blury, values2, temp2, width, height);
      blurv(blury, temp2, values2, width, height);
      blurv(blury, values2, temp2, width, height);
    } else if (blurx) {
      blurh(blurx, values2, temp2, width, height);
      blurh(blurx, temp2, values2, width, height);
      blurh(blurx, values2, temp2, width, height);
    } else if (blury) {
      blurv(blury, values2, temp2, width, height);
      blurv(blury, temp2, values2, width, height);
      blurv(blury, values2, temp2, width, height);
    }
    return data;
  };
}
function blurh(blur3, T, S, w, h) {
  for (let y2 = 0, n = w * h; y2 < n; ) {
    blur3(T, S, y2, y2 += w, 1);
  }
}
function blurv(blur3, T, S, w, h) {
  for (let x2 = 0, n = w * h; x2 < w; ++x2) {
    blur3(T, S, x2, x2 + n, w);
  }
}
function blurfImage(radius) {
  const blur3 = blurf(radius);
  return (T, S, start2, stop, step2) => {
    start2 <<= 2, stop <<= 2, step2 <<= 2;
    blur3(T, S, start2 + 0, stop + 0, step2);
    blur3(T, S, start2 + 1, stop + 1, step2);
    blur3(T, S, start2 + 2, stop + 2, step2);
    blur3(T, S, start2 + 3, stop + 3, step2);
  };
}
function blurf(radius) {
  const radius0 = Math.floor(radius);
  if (radius0 === radius)
    return bluri(radius);
  const t = radius - radius0;
  const w = 2 * radius + 1;
  return (T, S, start2, stop, step2) => {
    if (!((stop -= step2) >= start2))
      return;
    let sum2 = radius0 * S[start2];
    const s0 = step2 * radius0;
    const s1 = s0 + step2;
    for (let i = start2, j = start2 + s0; i < j; i += step2) {
      sum2 += S[Math.min(stop, i)];
    }
    for (let i = start2, j = stop; i <= j; i += step2) {
      sum2 += S[Math.min(stop, i + s0)];
      T[i] = (sum2 + t * (S[Math.max(start2, i - s1)] + S[Math.min(stop, i + s1)])) / w;
      sum2 -= S[Math.max(start2, i - s0)];
    }
  };
}
function bluri(radius) {
  const w = 2 * radius + 1;
  return (T, S, start2, stop, step2) => {
    if (!((stop -= step2) >= start2))
      return;
    let sum2 = radius * S[start2];
    const s2 = step2 * radius;
    for (let i = start2, j = start2 + s2; i < j; i += step2) {
      sum2 += S[Math.min(stop, i)];
    }
    for (let i = start2, j = stop; i <= j; i += step2) {
      sum2 += S[Math.min(stop, i + s2)];
      T[i] = sum2 / w;
      sum2 -= S[Math.max(start2, i - s2)];
    }
  };
}
function count$1(values2, valueof) {
  let count2 = 0;
  if (valueof === void 0) {
    for (let value of values2) {
      if (value != null && (value = +value) >= value) {
        ++count2;
      }
    }
  } else {
    let index2 = -1;
    for (let value of values2) {
      if ((value = valueof(value, ++index2, values2)) != null && (value = +value) >= value) {
        ++count2;
      }
    }
  }
  return count2;
}
function length$6(array2) {
  return array2.length | 0;
}
function empty$4(length2) {
  return !(length2 > 0);
}
function arrayify(values2) {
  return typeof values2 !== "object" || "length" in values2 ? values2 : Array.from(values2);
}
function reducer(reduce2) {
  return (values2) => reduce2(...values2);
}
function cross$4(...values2) {
  const reduce2 = typeof values2[values2.length - 1] === "function" && reducer(values2.pop());
  values2 = values2.map(arrayify);
  const lengths = values2.map(length$6);
  const j = values2.length - 1;
  const index2 = new Array(j + 1).fill(0);
  const product = [];
  if (j < 0 || lengths.some(empty$4))
    return product;
  while (true) {
    product.push(index2.map((j2, i2) => values2[i2][j2]));
    let i = j;
    while (++index2[i] === lengths[i]) {
      if (i === 0)
        return reduce2 ? product.map(reduce2) : product;
      index2[i--] = 0;
    }
  }
}
function cumsum(values2, valueof) {
  var sum2 = 0, index2 = 0;
  return Float64Array.from(values2, valueof === void 0 ? (v) => sum2 += +v || 0 : (v) => sum2 += +valueof(v, index2++, values2) || 0);
}
function extent$3(values2, valueof) {
  let min2;
  let max2;
  if (valueof === void 0) {
    for (const value of values2) {
      if (value != null) {
        if (min2 === void 0) {
          if (value >= value)
            min2 = max2 = value;
        } else {
          if (min2 > value)
            min2 = value;
          if (max2 < value)
            max2 = value;
        }
      }
    }
  } else {
    let index2 = -1;
    for (let value of values2) {
      if ((value = valueof(value, ++index2, values2)) != null) {
        if (min2 === void 0) {
          if (value >= value)
            min2 = max2 = value;
        } else {
          if (min2 > value)
            min2 = value;
          if (max2 < value)
            max2 = value;
        }
      }
    }
  }
  return [min2, max2];
}
function identity$d(x2) {
  return x2;
}
function group(values2, ...keys2) {
  return nest$1(values2, identity$d, identity$d, keys2);
}
function groups(values2, ...keys2) {
  return nest$1(values2, Array.from, identity$d, keys2);
}
function flatten(groups2, keys2) {
  for (let i = 1, n = keys2.length; i < n; ++i) {
    groups2 = groups2.flatMap((g) => g.pop().map(([key, value]) => [...g, key, value]));
  }
  return groups2;
}
function flatGroup(values2, ...keys2) {
  return flatten(groups(values2, ...keys2), keys2);
}
function flatRollup(values2, reduce2, ...keys2) {
  return flatten(rollups(values2, reduce2, ...keys2), keys2);
}
function rollup(values2, reduce2, ...keys2) {
  return nest$1(values2, identity$d, reduce2, keys2);
}
function rollups(values2, reduce2, ...keys2) {
  return nest$1(values2, Array.from, reduce2, keys2);
}
function index$4(values2, ...keys2) {
  return nest$1(values2, identity$d, unique, keys2);
}
function indexes(values2, ...keys2) {
  return nest$1(values2, Array.from, unique, keys2);
}
function unique(values2) {
  if (values2.length !== 1)
    throw new Error("duplicate key");
  return values2[0];
}
function nest$1(values2, map2, reduce2, keys2) {
  return function regroup(values3, i) {
    if (i >= keys2.length)
      return reduce2(values3);
    const groups2 = new InternMap();
    const keyof = keys2[i++];
    let index2 = -1;
    for (const value of values3) {
      const key = keyof(value, ++index2, values3);
      const group2 = groups2.get(key);
      if (group2)
        group2.push(value);
      else
        groups2.set(key, [value]);
    }
    for (const [key, values4] of groups2) {
      groups2.set(key, regroup(values4, i));
    }
    return map2(groups2);
  }(values2, 0);
}
function groupSort(values2, reduce2, key) {
  return (reduce2.length !== 2 ? sort(rollup(values2, reduce2, key), ([ak, av], [bk2, bv]) => ascending$7(av, bv) || ascending$7(ak, bk2)) : sort(group(values2, key), ([ak, av], [bk2, bv]) => reduce2(av, bv) || ascending$7(ak, bk2))).map(([key2]) => key2);
}
var array$6 = Array.prototype;
var slice$9 = array$6.slice;
function constant$k(x2) {
  return () => x2;
}
function nice$1(start2, stop, count2) {
  let prestep;
  while (true) {
    const step2 = tickIncrement$1(start2, stop, count2);
    if (step2 === prestep || step2 === 0 || !isFinite(step2)) {
      return [start2, stop];
    } else if (step2 > 0) {
      start2 = Math.floor(start2 / step2) * step2;
      stop = Math.ceil(stop / step2) * step2;
    } else if (step2 < 0) {
      start2 = Math.ceil(start2 * step2) / step2;
      stop = Math.floor(stop * step2) / step2;
    }
    prestep = step2;
  }
}
function thresholdSturges$1(values2) {
  return Math.ceil(Math.log(count$1(values2)) / Math.LN2) + 1;
}
function bin() {
  var value = identity$d, domain = extent$3, threshold2 = thresholdSturges$1;
  function histogram2(data) {
    if (!Array.isArray(data))
      data = Array.from(data);
    var i, n = data.length, x2, step2, values2 = new Array(n);
    for (i = 0; i < n; ++i) {
      values2[i] = value(data[i], i, data);
    }
    var xz = domain(values2), x02 = xz[0], x12 = xz[1], tz = threshold2(values2, x02, x12);
    if (!Array.isArray(tz)) {
      const max2 = x12, tn = +tz;
      if (domain === extent$3)
        [x02, x12] = nice$1(x02, x12, tn);
      tz = ticks$1(x02, x12, tn);
      if (tz[0] <= x02)
        step2 = tickIncrement$1(x02, x12, tn);
      if (tz[tz.length - 1] >= x12) {
        if (max2 >= x12 && domain === extent$3) {
          const step3 = tickIncrement$1(x02, x12, tn);
          if (isFinite(step3)) {
            if (step3 > 0) {
              x12 = (Math.floor(x12 / step3) + 1) * step3;
            } else if (step3 < 0) {
              x12 = (Math.ceil(x12 * -step3) + 1) / -step3;
            }
          }
        } else {
          tz.pop();
        }
      }
    }
    var m = tz.length;
    while (tz[0] <= x02)
      tz.shift(), --m;
    while (tz[m - 1] > x12)
      tz.pop(), --m;
    var bins = new Array(m + 1), bin2;
    for (i = 0; i <= m; ++i) {
      bin2 = bins[i] = [];
      bin2.x0 = i > 0 ? tz[i - 1] : x02;
      bin2.x1 = i < m ? tz[i] : x12;
    }
    if (isFinite(step2)) {
      if (step2 > 0) {
        for (i = 0; i < n; ++i) {
          if ((x2 = values2[i]) != null && x02 <= x2 && x2 <= x12) {
            bins[Math.min(m, Math.floor((x2 - x02) / step2))].push(data[i]);
          }
        }
      } else if (step2 < 0) {
        for (i = 0; i < n; ++i) {
          if ((x2 = values2[i]) != null && x02 <= x2 && x2 <= x12) {
            const j = Math.floor((x02 - x2) * step2);
            bins[Math.min(m, j + (tz[j] <= x2))].push(data[i]);
          }
        }
      }
    } else {
      for (i = 0; i < n; ++i) {
        if ((x2 = values2[i]) != null && x02 <= x2 && x2 <= x12) {
          bins[bisect(tz, x2, 0, m)].push(data[i]);
        }
      }
    }
    return bins;
  }
  histogram2.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant$k(_2), histogram2) : value;
  };
  histogram2.domain = function(_2) {
    return arguments.length ? (domain = typeof _2 === "function" ? _2 : constant$k([_2[0], _2[1]]), histogram2) : domain;
  };
  histogram2.thresholds = function(_2) {
    return arguments.length ? (threshold2 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant$k(slice$9.call(_2)) : constant$k(_2), histogram2) : threshold2;
  };
  return histogram2;
}
function thresholdFreedmanDiaconis(values2, min2, max2) {
  return Math.ceil((max2 - min2) / (2 * (quantile$1(values2, 0.75) - quantile$1(values2, 0.25)) * Math.pow(count$1(values2), -1 / 3)));
}
function thresholdScott(values2, min2, max2) {
  return Math.ceil((max2 - min2) * Math.cbrt(count$1(values2)) / (3.49 * deviation$1(values2)));
}
function mode(values2, valueof) {
  const counts = new InternMap();
  if (valueof === void 0) {
    for (let value of values2) {
      if (value != null && value >= value) {
        counts.set(value, (counts.get(value) || 0) + 1);
      }
    }
  } else {
    let index2 = -1;
    for (let value of values2) {
      if ((value = valueof(value, ++index2, values2)) != null && value >= value) {
        counts.set(value, (counts.get(value) || 0) + 1);
      }
    }
  }
  let modeValue;
  let modeCount = 0;
  for (const [value, count2] of counts) {
    if (count2 > modeCount) {
      modeCount = count2;
      modeValue = value;
    }
  }
  return modeValue;
}
function pairs$1(values2, pairof = pair$1) {
  const pairs2 = [];
  let previous;
  let first = false;
  for (const value of values2) {
    if (first)
      pairs2.push(pairof(previous, value));
    previous = value;
    first = true;
  }
  return pairs2;
}
function pair$1(a2, b) {
  return [a2, b];
}
function rank(values2, valueof = ascending$7) {
  if (typeof values2[Symbol.iterator] !== "function")
    throw new TypeError("values is not iterable");
  let V = Array.from(values2);
  const R = new Float64Array(V.length);
  if (valueof.length !== 2)
    V = V.map(valueof), valueof = ascending$7;
  const compareIndex = (i, j) => valueof(V[i], V[j]);
  let k2, r;
  Uint32Array.from(V, (_2, i) => i).sort(valueof === ascending$7 ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex)).forEach((j, i) => {
    const c2 = compareIndex(j, k2 === void 0 ? j : k2);
    if (c2 >= 0) {
      if (k2 === void 0 || c2 > 0)
        k2 = j, r = i;
      R[j] = r;
    } else {
      R[j] = NaN;
    }
  });
  return R;
}
function least(values2, compare = ascending$7) {
  let min2;
  let defined = false;
  if (compare.length === 1) {
    let minValue;
    for (const element of values2) {
      const value = compare(element);
      if (defined ? ascending$7(value, minValue) < 0 : ascending$7(value, value) === 0) {
        min2 = element;
        minValue = value;
        defined = true;
      }
    }
  } else {
    for (const value of values2) {
      if (defined ? compare(value, min2) < 0 : compare(value, value) === 0) {
        min2 = value;
        defined = true;
      }
    }
  }
  return min2;
}
function leastIndex(values2, compare = ascending$7) {
  if (compare.length === 1)
    return minIndex(values2, compare);
  let minValue;
  let min2 = -1;
  let index2 = -1;
  for (const value of values2) {
    ++index2;
    if (min2 < 0 ? compare(value, value) === 0 : compare(value, minValue) < 0) {
      minValue = value;
      min2 = index2;
    }
  }
  return min2;
}
function greatestIndex(values2, compare = ascending$7) {
  if (compare.length === 1)
    return maxIndex(values2, compare);
  let maxValue;
  let max2 = -1;
  let index2 = -1;
  for (const value of values2) {
    ++index2;
    if (max2 < 0 ? compare(value, value) === 0 : compare(value, maxValue) > 0) {
      maxValue = value;
      max2 = index2;
    }
  }
  return max2;
}
function scan$1(values2, compare) {
  const index2 = leastIndex(values2, compare);
  return index2 < 0 ? void 0 : index2;
}
const shuffle$2 = shuffler(Math.random);
function shuffler(random) {
  return function shuffle2(array2, i0 = 0, i1 = array2.length) {
    let m = i1 - (i0 = +i0);
    while (m) {
      const i = random() * m-- | 0, t = array2[m + i0];
      array2[m + i0] = array2[i + i0];
      array2[i + i0] = t;
    }
    return array2;
  };
}
function transpose$1(matrix) {
  if (!(n = matrix.length))
    return [];
  for (var i = -1, m = min$3(matrix, length$5), transpose2 = new Array(m); ++i < m; ) {
    for (var j = -1, n, row = transpose2[i] = new Array(n); ++j < n; ) {
      row[j] = matrix[j][i];
    }
  }
  return transpose2;
}
function length$5(d) {
  return d.length;
}
function zip$1() {
  return transpose$1(arguments);
}
function every(values2, test) {
  if (typeof test !== "function")
    throw new TypeError("test is not a function");
  let index2 = -1;
  for (const value of values2) {
    if (!test(value, ++index2, values2)) {
      return false;
    }
  }
  return true;
}
function some(values2, test) {
  if (typeof test !== "function")
    throw new TypeError("test is not a function");
  let index2 = -1;
  for (const value of values2) {
    if (test(value, ++index2, values2)) {
      return true;
    }
  }
  return false;
}
function filter$1(values2, test) {
  if (typeof test !== "function")
    throw new TypeError("test is not a function");
  const array2 = [];
  let index2 = -1;
  for (const value of values2) {
    if (test(value, ++index2, values2)) {
      array2.push(value);
    }
  }
  return array2;
}
function map$4(values2, mapper) {
  if (typeof values2[Symbol.iterator] !== "function")
    throw new TypeError("values is not iterable");
  if (typeof mapper !== "function")
    throw new TypeError("mapper is not a function");
  return Array.from(values2, (value, index2) => mapper(value, index2, values2));
}
function reduce(values2, reducer2, value) {
  if (typeof reducer2 !== "function")
    throw new TypeError("reducer is not a function");
  const iterator = values2[Symbol.iterator]();
  let done, next, index2 = -1;
  if (arguments.length < 3) {
    ({ done, value } = iterator.next());
    if (done)
      return;
    ++index2;
  }
  while ({ done, value: next } = iterator.next(), !done) {
    value = reducer2(value, next, ++index2, values2);
  }
  return value;
}
function reverse$2(values2) {
  if (typeof values2[Symbol.iterator] !== "function")
    throw new TypeError("values is not iterable");
  return Array.from(values2).reverse();
}
function difference(values2, ...others) {
  values2 = new InternSet(values2);
  for (const other of others) {
    for (const value of other) {
      values2.delete(value);
    }
  }
  return values2;
}
function disjoint(values2, other) {
  const iterator = other[Symbol.iterator](), set2 = new InternSet();
  for (const v of values2) {
    if (set2.has(v))
      return false;
    let value, done;
    while ({ value, done } = iterator.next()) {
      if (done)
        break;
      if (Object.is(v, value))
        return false;
      set2.add(value);
    }
  }
  return true;
}
function intersection(values2, ...others) {
  values2 = new InternSet(values2);
  others = others.map(set$4);
  out:
    for (const value of values2) {
      for (const other of others) {
        if (!other.has(value)) {
          values2.delete(value);
          continue out;
        }
      }
    }
  return values2;
}
function set$4(values2) {
  return values2 instanceof InternSet ? values2 : new InternSet(values2);
}
function superset(values2, other) {
  const iterator = values2[Symbol.iterator](), set2 = /* @__PURE__ */ new Set();
  for (const o of other) {
    const io = intern(o);
    if (set2.has(io))
      continue;
    let value, done;
    while ({ value, done } = iterator.next()) {
      if (done)
        return false;
      const ivalue = intern(value);
      set2.add(ivalue);
      if (Object.is(io, ivalue))
        break;
    }
  }
  return true;
}
function intern(value) {
  return value !== null && typeof value === "object" ? value.valueOf() : value;
}
function subset(values2, other) {
  return superset(other, values2);
}
function union(...others) {
  const set2 = new InternSet();
  for (const other of others) {
    for (const o of other) {
      set2.add(o);
    }
  }
  return set2;
}
function identity$c(x2) {
  return x2;
}
var top$1 = 1, right$1 = 2, bottom$1 = 3, left$1 = 4, epsilon$6 = 1e-6;
function translateX$1(x2) {
  return "translate(" + x2 + ",0)";
}
function translateY$1(y2) {
  return "translate(0," + y2 + ")";
}
function number$4(scale2) {
  return (d) => +scale2(d);
}
function center$2(scale2, offset) {
  offset = Math.max(0, scale2.bandwidth() - offset * 2) / 2;
  if (scale2.round())
    offset = Math.round(offset);
  return (d) => +scale2(d) + offset;
}
function entering$1() {
  return !this.__axis;
}
function axis$1(orient, scale2) {
  var tickArguments = [], tickValues = null, tickFormat2 = null, tickSizeInner = 6, tickSizeOuter = 6, tickPadding = 3, offset = typeof window !== "undefined" && window.devicePixelRatio > 1 ? 0 : 0.5, k2 = orient === top$1 || orient === left$1 ? -1 : 1, x2 = orient === left$1 || orient === right$1 ? "x" : "y", transform2 = orient === top$1 || orient === bottom$1 ? translateX$1 : translateY$1;
  function axis2(context) {
    var values2 = tickValues == null ? scale2.ticks ? scale2.ticks.apply(scale2, tickArguments) : scale2.domain() : tickValues, format2 = tickFormat2 == null ? scale2.tickFormat ? scale2.tickFormat.apply(scale2, tickArguments) : identity$c : tickFormat2, spacing = Math.max(tickSizeInner, 0) + tickPadding, range2 = scale2.range(), range0 = +range2[0] + offset, range1 = +range2[range2.length - 1] + offset, position = (scale2.bandwidth ? center$2 : number$4)(scale2.copy(), offset), selection2 = context.selection ? context.selection() : context, path2 = selection2.selectAll(".domain").data([null]), tick = selection2.selectAll(".tick").data(values2, scale2).order(), tickExit = tick.exit(), tickEnter = tick.enter().append("g").attr("class", "tick"), line2 = tick.select("line"), text2 = tick.select("text");
    path2 = path2.merge(path2.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor"));
    tick = tick.merge(tickEnter);
    line2 = line2.merge(tickEnter.append("line").attr("stroke", "currentColor").attr(x2 + "2", k2 * tickSizeInner));
    text2 = text2.merge(tickEnter.append("text").attr("fill", "currentColor").attr(x2, k2 * spacing).attr("dy", orient === top$1 ? "0em" : orient === bottom$1 ? "0.71em" : "0.32em"));
    if (context !== selection2) {
      path2 = path2.transition(context);
      tick = tick.transition(context);
      line2 = line2.transition(context);
      text2 = text2.transition(context);
      tickExit = tickExit.transition(context).attr("opacity", epsilon$6).attr("transform", function(d) {
        return isFinite(d = position(d)) ? transform2(d + offset) : this.getAttribute("transform");
      });
      tickEnter.attr("opacity", epsilon$6).attr("transform", function(d) {
        var p = this.parentNode.__axis;
        return transform2((p && isFinite(p = p(d)) ? p : position(d)) + offset);
      });
    }
    tickExit.remove();
    path2.attr("d", orient === left$1 || orient === right$1 ? tickSizeOuter ? "M" + k2 * tickSizeOuter + "," + range0 + "H" + offset + "V" + range1 + "H" + k2 * tickSizeOuter : "M" + offset + "," + range0 + "V" + range1 : tickSizeOuter ? "M" + range0 + "," + k2 * tickSizeOuter + "V" + offset + "H" + range1 + "V" + k2 * tickSizeOuter : "M" + range0 + "," + offset + "H" + range1);
    tick.attr("opacity", 1).attr("transform", function(d) {
      return transform2(position(d) + offset);
    });
    line2.attr(x2 + "2", k2 * tickSizeInner);
    text2.attr(x2, k2 * spacing).text(format2);
    selection2.filter(entering$1).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", orient === right$1 ? "start" : orient === left$1 ? "end" : "middle");
    selection2.each(function() {
      this.__axis = position;
    });
  }
  axis2.scale = function(_2) {
    return arguments.length ? (scale2 = _2, axis2) : scale2;
  };
  axis2.ticks = function() {
    return tickArguments = Array.from(arguments), axis2;
  };
  axis2.tickArguments = function(_2) {
    return arguments.length ? (tickArguments = _2 == null ? [] : Array.from(_2), axis2) : tickArguments.slice();
  };
  axis2.tickValues = function(_2) {
    return arguments.length ? (tickValues = _2 == null ? null : Array.from(_2), axis2) : tickValues && tickValues.slice();
  };
  axis2.tickFormat = function(_2) {
    return arguments.length ? (tickFormat2 = _2, axis2) : tickFormat2;
  };
  axis2.tickSize = function(_2) {
    return arguments.length ? (tickSizeInner = tickSizeOuter = +_2, axis2) : tickSizeInner;
  };
  axis2.tickSizeInner = function(_2) {
    return arguments.length ? (tickSizeInner = +_2, axis2) : tickSizeInner;
  };
  axis2.tickSizeOuter = function(_2) {
    return arguments.length ? (tickSizeOuter = +_2, axis2) : tickSizeOuter;
  };
  axis2.tickPadding = function(_2) {
    return arguments.length ? (tickPadding = +_2, axis2) : tickPadding;
  };
  axis2.offset = function(_2) {
    return arguments.length ? (offset = +_2, axis2) : offset;
  };
  return axis2;
}
function axisTop$1(scale2) {
  return axis$1(top$1, scale2);
}
function axisRight$1(scale2) {
  return axis$1(right$1, scale2);
}
function axisBottom$1(scale2) {
  return axis$1(bottom$1, scale2);
}
function axisLeft$1(scale2) {
  return axis$1(left$1, scale2);
}
var xhtml$1 = "http://www.w3.org/1999/xhtml";
const namespaces$1 = {
  svg: "http://www.w3.org/2000/svg",
  xhtml: xhtml$1,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};
function namespace$1(name) {
  var prefix2 = name += "", i = prefix2.indexOf(":");
  if (i >= 0 && (prefix2 = name.slice(0, i)) !== "xmlns")
    name = name.slice(i + 1);
  return namespaces$1.hasOwnProperty(prefix2) ? { space: namespaces$1[prefix2], local: name } : name;
}
function creatorInherit$1(name) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml$1 && document2.documentElement.namespaceURI === xhtml$1 ? document2.createElement(name) : document2.createElementNS(uri, name);
  };
}
function creatorFixed$1(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator$1(name) {
  var fullname = namespace$1(name);
  return (fullname.local ? creatorFixed$1 : creatorInherit$1)(fullname);
}
function none$5() {
}
function selector$1(selector2) {
  return selector2 == null ? none$5 : function() {
    return this.querySelector(selector2);
  };
}
function selection_select$1(select2) {
  if (typeof select2 !== "function")
    select2 = selector$1(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group2[i]) && (subnode = select2.call(node, node.__data__, i, group2))) {
        if ("__data__" in node)
          subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection$3(subgroups, this._parents);
}
function array$5(x2) {
  return x2 == null ? [] : Array.isArray(x2) ? x2 : Array.from(x2);
}
function empty$3() {
  return [];
}
function selectorAll$1(selector2) {
  return selector2 == null ? empty$3 : function() {
    return this.querySelectorAll(selector2);
  };
}
function arrayAll(select2) {
  return function() {
    return array$5(select2.apply(this, arguments));
  };
}
function selection_selectAll$1(select2) {
  if (typeof select2 === "function")
    select2 = arrayAll(select2);
  else
    select2 = selectorAll$1(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        subgroups.push(select2.call(node, node.__data__, i, group2));
        parents.push(node);
      }
    }
  }
  return new Selection$3(subgroups, parents);
}
function matcher$1(selector2) {
  return function() {
    return this.matches(selector2);
  };
}
function childMatcher(selector2) {
  return function(node) {
    return node.matches(selector2);
  };
}
var find$1 = Array.prototype.find;
function childFind(match) {
  return function() {
    return find$1.call(this.children, match);
  };
}
function childFirst() {
  return this.firstElementChild;
}
function selection_selectChild(match) {
  return this.select(match == null ? childFirst : childFind(typeof match === "function" ? match : childMatcher(match)));
}
var filter = Array.prototype.filter;
function children() {
  return Array.from(this.children);
}
function childrenFilter(match) {
  return function() {
    return filter.call(this.children, match);
  };
}
function selection_selectChildren(match) {
  return this.selectAll(match == null ? children : childrenFilter(typeof match === "function" ? match : childMatcher(match)));
}
function selection_filter$1(match) {
  if (typeof match !== "function")
    match = matcher$1(match);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group2[i]) && match.call(node, node.__data__, i, group2)) {
        subgroup.push(node);
      }
    }
  }
  return new Selection$3(subgroups, this._parents);
}
function sparse$1(update) {
  return new Array(update.length);
}
function selection_enter$1() {
  return new Selection$3(this._enter || this._groups.map(sparse$1), this._parents);
}
function EnterNode$1(parent, datum2) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum2;
}
EnterNode$1.prototype = {
  constructor: EnterNode$1,
  appendChild: function(child) {
    return this._parent.insertBefore(child, this._next);
  },
  insertBefore: function(child, next) {
    return this._parent.insertBefore(child, next);
  },
  querySelector: function(selector2) {
    return this._parent.querySelector(selector2);
  },
  querySelectorAll: function(selector2) {
    return this._parent.querySelectorAll(selector2);
  }
};
function constant$j(x2) {
  return function() {
    return x2;
  };
}
function bindIndex$1(parent, group2, enter, update, exit, data) {
  var i = 0, node, groupLength = group2.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node = group2[i]) {
      node.__data__ = data[i];
      update[i] = node;
    } else {
      enter[i] = new EnterNode$1(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node = group2[i]) {
      exit[i] = node;
    }
  }
}
function bindKey$1(parent, group2, enter, update, exit, data, key) {
  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group2.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node = group2[i]) {
      keyValues[i] = keyValue = key.call(node, node.__data__, i, group2) + "";
      if (nodeByKeyValue.has(keyValue)) {
        exit[i] = node;
      } else {
        nodeByKeyValue.set(keyValue, node);
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = key.call(parent, data[i], i, data) + "";
    if (node = nodeByKeyValue.get(keyValue)) {
      update[i] = node;
      node.__data__ = data[i];
      nodeByKeyValue.delete(keyValue);
    } else {
      enter[i] = new EnterNode$1(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node = group2[i]) && nodeByKeyValue.get(keyValues[i]) === node) {
      exit[i] = node;
    }
  }
}
function datum(node) {
  return node.__data__;
}
function selection_data$1(value, key) {
  if (!arguments.length)
    return Array.from(this, datum);
  var bind = key ? bindKey$1 : bindIndex$1, parents = this._parents, groups2 = this._groups;
  if (typeof value !== "function")
    value = constant$j(value);
  for (var m = groups2.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents[j], group2 = groups2[j], groupLength = group2.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group2, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1)
          i1 = i0 + 1;
        while (!(next = updateGroup[i1]) && ++i1 < dataLength)
          ;
        previous._next = next || null;
      }
    }
  }
  update = new Selection$3(update, parents);
  update._enter = enter;
  update._exit = exit;
  return update;
}
function arraylike(data) {
  return typeof data === "object" && "length" in data ? data : Array.from(data);
}
function selection_exit$1() {
  return new Selection$3(this._exit || this._groups.map(sparse$1), this._parents);
}
function selection_join$1(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  if (typeof onenter === "function") {
    enter = onenter(enter);
    if (enter)
      enter = enter.selection();
  } else {
    enter = enter.append(onenter + "");
  }
  if (onupdate != null) {
    update = onupdate(update);
    if (update)
      update = update.selection();
  }
  if (onexit == null)
    exit.remove();
  else
    onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}
function selection_merge$1(context) {
  var selection2 = context.selection ? context.selection() : context;
  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge2 = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge2[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection$3(merges, this._parents);
}
function selection_order$1() {
  for (var groups2 = this._groups, j = -1, m = groups2.length; ++j < m; ) {
    for (var group2 = groups2[j], i = group2.length - 1, next = group2[i], node; --i >= 0; ) {
      if (node = group2[i]) {
        if (next && node.compareDocumentPosition(next) ^ 4)
          next.parentNode.insertBefore(node, next);
        next = node;
      }
    }
  }
  return this;
}
function selection_sort$1(compare) {
  if (!compare)
    compare = ascending$6;
  function compareNode(a2, b) {
    return a2 && b ? compare(a2.__data__, b.__data__) : !a2 - !b;
  }
  for (var groups2 = this._groups, m = groups2.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        sortgroup[i] = node;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection$3(sortgroups, this._parents).order();
}
function ascending$6(a2, b) {
  return a2 < b ? -1 : a2 > b ? 1 : a2 >= b ? 0 : NaN;
}
function selection_call$1() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}
function selection_nodes$1() {
  return Array.from(this);
}
function selection_node$1() {
  for (var groups2 = this._groups, j = 0, m = groups2.length; j < m; ++j) {
    for (var group2 = groups2[j], i = 0, n = group2.length; i < n; ++i) {
      var node = group2[i];
      if (node)
        return node;
    }
  }
  return null;
}
function selection_size$1() {
  let size = 0;
  for (const node of this)
    ++size;
  return size;
}
function selection_empty$1() {
  return !this.node();
}
function selection_each$1(callback) {
  for (var groups2 = this._groups, j = 0, m = groups2.length; j < m; ++j) {
    for (var group2 = groups2[j], i = 0, n = group2.length, node; i < n; ++i) {
      if (node = group2[i])
        callback.call(node, node.__data__, i, group2);
    }
  }
  return this;
}
function attrRemove$3(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS$3(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant$3(name, value) {
  return function() {
    this.setAttribute(name, value);
  };
}
function attrConstantNS$3(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction$3(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.removeAttribute(name);
    else
      this.setAttribute(name, v);
  };
}
function attrFunctionNS$3(fullname, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.removeAttributeNS(fullname.space, fullname.local);
    else
      this.setAttributeNS(fullname.space, fullname.local, v);
  };
}
function selection_attr$1(name, value) {
  var fullname = namespace$1(name);
  if (arguments.length < 2) {
    var node = this.node();
    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS$3 : attrRemove$3 : typeof value === "function" ? fullname.local ? attrFunctionNS$3 : attrFunction$3 : fullname.local ? attrConstantNS$3 : attrConstant$3)(fullname, value));
}
function defaultView$1(node) {
  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;
}
function styleRemove$3(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant$3(name, value, priority) {
  return function() {
    this.style.setProperty(name, value, priority);
  };
}
function styleFunction$3(name, value, priority) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.style.removeProperty(name);
    else
      this.style.setProperty(name, v, priority);
  };
}
function selection_style$1(name, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove$3 : typeof value === "function" ? styleFunction$3 : styleConstant$3)(name, value, priority == null ? "" : priority)) : styleValue$1(this.node(), name);
}
function styleValue$1(node, name) {
  return node.style.getPropertyValue(name) || defaultView$1(node).getComputedStyle(node, null).getPropertyValue(name);
}
function propertyRemove$1(name) {
  return function() {
    delete this[name];
  };
}
function propertyConstant$1(name, value) {
  return function() {
    this[name] = value;
  };
}
function propertyFunction$1(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      delete this[name];
    else
      this[name] = v;
  };
}
function selection_property$1(name, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove$1 : typeof value === "function" ? propertyFunction$1 : propertyConstant$1)(name, value)) : this.node()[name];
}
function classArray$1(string) {
  return string.trim().split(/^|\s+/);
}
function classList$1(node) {
  return node.classList || new ClassList$1(node);
}
function ClassList$1(node) {
  this._node = node;
  this._names = classArray$1(node.getAttribute("class") || "");
}
ClassList$1.prototype = {
  add: function(name) {
    var i = this._names.indexOf(name);
    if (i < 0) {
      this._names.push(name);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name) {
    var i = this._names.indexOf(name);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name) {
    return this._names.indexOf(name) >= 0;
  }
};
function classedAdd$1(node, names) {
  var list2 = classList$1(node), i = -1, n = names.length;
  while (++i < n)
    list2.add(names[i]);
}
function classedRemove$1(node, names) {
  var list2 = classList$1(node), i = -1, n = names.length;
  while (++i < n)
    list2.remove(names[i]);
}
function classedTrue$1(names) {
  return function() {
    classedAdd$1(this, names);
  };
}
function classedFalse$1(names) {
  return function() {
    classedRemove$1(this, names);
  };
}
function classedFunction$1(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd$1 : classedRemove$1)(this, names);
  };
}
function selection_classed$1(name, value) {
  var names = classArray$1(name + "");
  if (arguments.length < 2) {
    var list2 = classList$1(this.node()), i = -1, n = names.length;
    while (++i < n)
      if (!list2.contains(names[i]))
        return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction$1 : value ? classedTrue$1 : classedFalse$1)(names, value));
}
function textRemove$1() {
  this.textContent = "";
}
function textConstant$3(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction$3(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.textContent = v == null ? "" : v;
  };
}
function selection_text$1(value) {
  return arguments.length ? this.each(value == null ? textRemove$1 : (typeof value === "function" ? textFunction$3 : textConstant$3)(value)) : this.node().textContent;
}
function htmlRemove$1() {
  this.innerHTML = "";
}
function htmlConstant$1(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction$1(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.innerHTML = v == null ? "" : v;
  };
}
function selection_html$1(value) {
  return arguments.length ? this.each(value == null ? htmlRemove$1 : (typeof value === "function" ? htmlFunction$1 : htmlConstant$1)(value)) : this.node().innerHTML;
}
function raise$1() {
  if (this.nextSibling)
    this.parentNode.appendChild(this);
}
function selection_raise$1() {
  return this.each(raise$1);
}
function lower$1() {
  if (this.previousSibling)
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function selection_lower$1() {
  return this.each(lower$1);
}
function selection_append$1(name) {
  var create2 = typeof name === "function" ? name : creator$1(name);
  return this.select(function() {
    return this.appendChild(create2.apply(this, arguments));
  });
}
function constantNull$1() {
  return null;
}
function selection_insert$1(name, before) {
  var create2 = typeof name === "function" ? name : creator$1(name), select2 = before == null ? constantNull$1 : typeof before === "function" ? before : selector$1(before);
  return this.select(function() {
    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);
  });
}
function remove$1() {
  var parent = this.parentNode;
  if (parent)
    parent.removeChild(this);
}
function selection_remove$1() {
  return this.each(remove$1);
}
function selection_cloneShallow$1() {
  var clone = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function selection_cloneDeep$1() {
  var clone = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function selection_clone$1(deep) {
  return this.select(deep ? selection_cloneDeep$1 : selection_cloneShallow$1);
}
function selection_datum$1(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}
function contextListener$1(listener) {
  return function(event2) {
    listener.call(this, event2, this.__data__);
  };
}
function parseTypenames$2(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0)
      name = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name };
  });
}
function onRemove$1(typename) {
  return function() {
    var on = this.__on;
    if (!on)
      return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.options);
      } else {
        on[++i] = o;
      }
    }
    if (++i)
      on.length = i;
    else
      delete this.__on;
  };
}
function onAdd$1(typename, value, options) {
  return function() {
    var on = this.__on, o, listener = contextListener$1(value);
    if (on)
      for (var j = 0, m = on.length; j < m; ++j) {
        if ((o = on[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.options);
          this.addEventListener(o.type, o.listener = listener, o.options = options);
          o.value = value;
          return;
        }
      }
    this.addEventListener(typename.type, listener, options);
    o = { type: typename.type, name: typename.name, value, listener, options };
    if (!on)
      this.__on = [o];
    else
      on.push(o);
  };
}
function selection_on$1(typename, value, options) {
  var typenames = parseTypenames$2(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on)
      for (var j = 0, m = on.length, o; j < m; ++j) {
        for (i = 0, o = on[j]; i < n; ++i) {
          if ((t = typenames[i]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
    return;
  }
  on = value ? onAdd$1 : onRemove$1;
  for (i = 0; i < n; ++i)
    this.each(on(typenames[i], value, options));
  return this;
}
function dispatchEvent$1(node, type2, params) {
  var window2 = defaultView$1(node), event2 = window2.CustomEvent;
  if (typeof event2 === "function") {
    event2 = new event2(type2, params);
  } else {
    event2 = window2.document.createEvent("Event");
    if (params)
      event2.initEvent(type2, params.bubbles, params.cancelable), event2.detail = params.detail;
    else
      event2.initEvent(type2, false, false);
  }
  node.dispatchEvent(event2);
}
function dispatchConstant$1(type2, params) {
  return function() {
    return dispatchEvent$1(this, type2, params);
  };
}
function dispatchFunction$1(type2, params) {
  return function() {
    return dispatchEvent$1(this, type2, params.apply(this, arguments));
  };
}
function selection_dispatch$1(type2, params) {
  return this.each((typeof params === "function" ? dispatchFunction$1 : dispatchConstant$1)(type2, params));
}
function* selection_iterator() {
  for (var groups2 = this._groups, j = 0, m = groups2.length; j < m; ++j) {
    for (var group2 = groups2[j], i = 0, n = group2.length, node; i < n; ++i) {
      if (node = group2[i])
        yield node;
    }
  }
}
var root$3 = [null];
function Selection$3(groups2, parents) {
  this._groups = groups2;
  this._parents = parents;
}
function selection$1() {
  return new Selection$3([[document.documentElement]], root$3);
}
function selection_selection() {
  return this;
}
Selection$3.prototype = selection$1.prototype = {
  constructor: Selection$3,
  select: selection_select$1,
  selectAll: selection_selectAll$1,
  selectChild: selection_selectChild,
  selectChildren: selection_selectChildren,
  filter: selection_filter$1,
  data: selection_data$1,
  enter: selection_enter$1,
  exit: selection_exit$1,
  join: selection_join$1,
  merge: selection_merge$1,
  selection: selection_selection,
  order: selection_order$1,
  sort: selection_sort$1,
  call: selection_call$1,
  nodes: selection_nodes$1,
  node: selection_node$1,
  size: selection_size$1,
  empty: selection_empty$1,
  each: selection_each$1,
  attr: selection_attr$1,
  style: selection_style$1,
  property: selection_property$1,
  classed: selection_classed$1,
  text: selection_text$1,
  html: selection_html$1,
  raise: selection_raise$1,
  lower: selection_lower$1,
  append: selection_append$1,
  insert: selection_insert$1,
  remove: selection_remove$1,
  clone: selection_clone$1,
  datum: selection_datum$1,
  on: selection_on$1,
  dispatch: selection_dispatch$1,
  [Symbol.iterator]: selection_iterator
};
function select$1(selector2) {
  return typeof selector2 === "string" ? new Selection$3([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$3([[selector2]], root$3);
}
function create$3(name) {
  return select$1(creator$1(name).call(document.documentElement));
}
var nextId$1 = 0;
function local$3() {
  return new Local$1();
}
function Local$1() {
  this._ = "@" + (++nextId$1).toString(36);
}
Local$1.prototype = local$3.prototype = {
  constructor: Local$1,
  get: function(node) {
    var id2 = this._;
    while (!(id2 in node))
      if (!(node = node.parentNode))
        return;
    return node[id2];
  },
  set: function(node, value) {
    return node[this._] = value;
  },
  remove: function(node) {
    return this._ in node && delete node[this._];
  },
  toString: function() {
    return this._;
  }
};
function sourceEvent$1(event2) {
  let sourceEvent2;
  while (sourceEvent2 = event2.sourceEvent)
    event2 = sourceEvent2;
  return event2;
}
function pointer(event2, node) {
  event2 = sourceEvent$1(event2);
  if (node === void 0)
    node = event2.currentTarget;
  if (node) {
    var svg2 = node.ownerSVGElement || node;
    if (svg2.createSVGPoint) {
      var point2 = svg2.createSVGPoint();
      point2.x = event2.clientX, point2.y = event2.clientY;
      point2 = point2.matrixTransform(node.getScreenCTM().inverse());
      return [point2.x, point2.y];
    }
    if (node.getBoundingClientRect) {
      var rect = node.getBoundingClientRect();
      return [event2.clientX - rect.left - node.clientLeft, event2.clientY - rect.top - node.clientTop];
    }
  }
  return [event2.pageX, event2.pageY];
}
function pointers(events, node) {
  if (events.target) {
    events = sourceEvent$1(events);
    if (node === void 0)
      node = events.currentTarget;
    events = events.touches || [events];
  }
  return Array.from(events, (event2) => pointer(event2, node));
}
function selectAll$1(selector2) {
  return typeof selector2 === "string" ? new Selection$3([document.querySelectorAll(selector2)], [document.documentElement]) : new Selection$3([array$5(selector2)], root$3);
}
const nonpassive = { passive: false };
const nonpassivecapture = { capture: true, passive: false };
function nopropagation$5(event2) {
  event2.stopImmediatePropagation();
}
function noevent$5(event2) {
  event2.preventDefault();
  event2.stopImmediatePropagation();
}
function dragDisable$1(view) {
  var root2 = view.document.documentElement, selection2 = select$1(view).on("dragstart.drag", noevent$5, nonpassivecapture);
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", noevent$5, nonpassivecapture);
  } else {
    root2.__noselect = root2.style.MozUserSelect;
    root2.style.MozUserSelect = "none";
  }
}
function yesdrag$1(view, noclick) {
  var root2 = view.document.documentElement, selection2 = select$1(view).on("dragstart.drag", null);
  if (noclick) {
    selection2.on("click.drag", noevent$5, nonpassivecapture);
    setTimeout(function() {
      selection2.on("click.drag", null);
    }, 0);
  }
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", null);
  } else {
    root2.style.MozUserSelect = root2.__noselect;
    delete root2.__noselect;
  }
}
const constant$i = (x2) => () => x2;
function DragEvent$1(type2, {
  sourceEvent: sourceEvent2,
  subject,
  target,
  identifier,
  active: active2,
  x: x2,
  y: y2,
  dx,
  dy,
  dispatch: dispatch2
}) {
  Object.defineProperties(this, {
    type: { value: type2, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },
    subject: { value: subject, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    identifier: { value: identifier, enumerable: true, configurable: true },
    active: { value: active2, enumerable: true, configurable: true },
    x: { value: x2, enumerable: true, configurable: true },
    y: { value: y2, enumerable: true, configurable: true },
    dx: { value: dx, enumerable: true, configurable: true },
    dy: { value: dy, enumerable: true, configurable: true },
    _: { value: dispatch2 }
  });
}
DragEvent$1.prototype.on = function() {
  var value = this._.on.apply(this._, arguments);
  return value === this._ ? this : value;
};
function defaultFilter$5(event2) {
  return !event2.ctrlKey && !event2.button;
}
function defaultContainer$1() {
  return this.parentNode;
}
function defaultSubject$1(event2, d) {
  return d == null ? { x: event2.x, y: event2.y } : d;
}
function defaultTouchable$5() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function drag$1() {
  var filter2 = defaultFilter$5, container = defaultContainer$1, subject = defaultSubject$1, touchable = defaultTouchable$5, gestures = {}, listeners = dispatch$1("start", "drag", "end"), active2 = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;
  function drag2(selection2) {
    selection2.on("mousedown.drag", mousedowned).filter(touchable).on("touchstart.drag", touchstarted).on("touchmove.drag", touchmoved, nonpassive).on("touchend.drag touchcancel.drag", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  function mousedowned(event2, d) {
    if (touchending || !filter2.call(this, event2, d))
      return;
    var gesture = beforestart(this, container.call(this, event2, d), event2, d, "mouse");
    if (!gesture)
      return;
    select$1(event2.view).on("mousemove.drag", mousemoved, nonpassivecapture).on("mouseup.drag", mouseupped, nonpassivecapture);
    dragDisable$1(event2.view);
    nopropagation$5(event2);
    mousemoving = false;
    mousedownx = event2.clientX;
    mousedowny = event2.clientY;
    gesture("start", event2);
  }
  function mousemoved(event2) {
    noevent$5(event2);
    if (!mousemoving) {
      var dx = event2.clientX - mousedownx, dy = event2.clientY - mousedowny;
      mousemoving = dx * dx + dy * dy > clickDistance2;
    }
    gestures.mouse("drag", event2);
  }
  function mouseupped(event2) {
    select$1(event2.view).on("mousemove.drag mouseup.drag", null);
    yesdrag$1(event2.view, mousemoving);
    noevent$5(event2);
    gestures.mouse("end", event2);
  }
  function touchstarted(event2, d) {
    if (!filter2.call(this, event2, d))
      return;
    var touches2 = event2.changedTouches, c2 = container.call(this, event2, d), n = touches2.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = beforestart(this, c2, event2, d, touches2[i].identifier, touches2[i])) {
        nopropagation$5(event2);
        gesture("start", event2, touches2[i]);
      }
    }
  }
  function touchmoved(event2) {
    var touches2 = event2.changedTouches, n = touches2.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches2[i].identifier]) {
        noevent$5(event2);
        gesture("drag", event2, touches2[i]);
      }
    }
  }
  function touchended(event2) {
    var touches2 = event2.changedTouches, n = touches2.length, i, gesture;
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, 500);
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches2[i].identifier]) {
        nopropagation$5(event2);
        gesture("end", event2, touches2[i]);
      }
    }
  }
  function beforestart(that, container2, event2, d, identifier, touch2) {
    var dispatch2 = listeners.copy(), p = pointer(touch2 || event2, container2), dx, dy, s2;
    if ((s2 = subject.call(that, new DragEvent$1("beforestart", {
      sourceEvent: event2,
      target: drag2,
      identifier,
      active: active2,
      x: p[0],
      y: p[1],
      dx: 0,
      dy: 0,
      dispatch: dispatch2
    }), d)) == null)
      return;
    dx = s2.x - p[0] || 0;
    dy = s2.y - p[1] || 0;
    return function gesture(type2, event3, touch3) {
      var p02 = p, n;
      switch (type2) {
        case "start":
          gestures[identifier] = gesture, n = active2++;
          break;
        case "end":
          delete gestures[identifier], --active2;
        case "drag":
          p = pointer(touch3 || event3, container2), n = active2;
          break;
      }
      dispatch2.call(
        type2,
        that,
        new DragEvent$1(type2, {
          sourceEvent: event3,
          subject: s2,
          target: drag2,
          identifier,
          active: n,
          x: p[0] + dx,
          y: p[1] + dy,
          dx: p[0] - p02[0],
          dy: p[1] - p02[1],
          dispatch: dispatch2
        }),
        d
      );
    };
  }
  drag2.filter = function(_2) {
    return arguments.length ? (filter2 = typeof _2 === "function" ? _2 : constant$i(!!_2), drag2) : filter2;
  };
  drag2.container = function(_2) {
    return arguments.length ? (container = typeof _2 === "function" ? _2 : constant$i(_2), drag2) : container;
  };
  drag2.subject = function(_2) {
    return arguments.length ? (subject = typeof _2 === "function" ? _2 : constant$i(_2), drag2) : subject;
  };
  drag2.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant$i(!!_2), drag2) : touchable;
  };
  drag2.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? drag2 : value;
  };
  drag2.clickDistance = function(_2) {
    return arguments.length ? (clickDistance2 = (_2 = +_2) * _2, drag2) : Math.sqrt(clickDistance2);
  };
  return drag2;
}
function timeout$2(callback, delay, time2) {
  var t = new Timer$1();
  delay = delay == null ? 0 : +delay;
  t.restart((elapsed) => {
    t.stop();
    callback(elapsed + delay);
  }, delay, time2);
  return t;
}
var emptyOn$1 = dispatch$1("start", "end", "cancel", "interrupt");
var emptyTween$1 = [];
var CREATED$1 = 0;
var SCHEDULED$1 = 1;
var STARTING$1 = 2;
var STARTED$1 = 3;
var RUNNING$1 = 4;
var ENDING$1 = 5;
var ENDED$1 = 6;
function schedule$1(node, name, id2, index2, group2, timing) {
  var schedules = node.__transition;
  if (!schedules)
    node.__transition = {};
  else if (id2 in schedules)
    return;
  create$2(node, id2, {
    name,
    index: index2,
    group: group2,
    on: emptyOn$1,
    tween: emptyTween$1,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED$1
  });
}
function init$1(node, id2) {
  var schedule2 = get$2(node, id2);
  if (schedule2.state > CREATED$1)
    throw new Error("too late; already scheduled");
  return schedule2;
}
function set$3(node, id2) {
  var schedule2 = get$2(node, id2);
  if (schedule2.state > STARTED$1)
    throw new Error("too late; already running");
  return schedule2;
}
function get$2(node, id2) {
  var schedule2 = node.__transition;
  if (!schedule2 || !(schedule2 = schedule2[id2]))
    throw new Error("transition not found");
  return schedule2;
}
function create$2(node, id2, self2) {
  var schedules = node.__transition, tween;
  schedules[id2] = self2;
  self2.timer = timer$1(schedule2, 0, self2.time);
  function schedule2(elapsed) {
    self2.state = SCHEDULED$1;
    self2.timer.restart(start2, self2.delay, self2.time);
    if (self2.delay <= elapsed)
      start2(elapsed - self2.delay);
  }
  function start2(elapsed) {
    var i, j, n, o;
    if (self2.state !== SCHEDULED$1)
      return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self2.name)
        continue;
      if (o.state === STARTED$1)
        return timeout$2(start2);
      if (o.state === RUNNING$1) {
        o.state = ENDED$1;
        o.timer.stop();
        o.on.call("interrupt", node, node.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id2) {
        o.state = ENDED$1;
        o.timer.stop();
        o.on.call("cancel", node, node.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout$2(function() {
      if (self2.state === STARTED$1) {
        self2.state = RUNNING$1;
        self2.timer.restart(tick, self2.delay, self2.time);
        tick(elapsed);
      }
    });
    self2.state = STARTING$1;
    self2.on.call("start", node, node.__data__, self2.index, self2.group);
    if (self2.state !== STARTING$1)
      return;
    self2.state = STARTED$1;
    tween = new Array(n = self2.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self2.tween[i].value.call(node, node.__data__, self2.index, self2.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self2.duration ? self2.ease.call(null, elapsed / self2.duration) : (self2.timer.restart(stop), self2.state = ENDING$1, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node, t);
    }
    if (self2.state === ENDING$1) {
      self2.on.call("end", node, node.__data__, self2.index, self2.group);
      stop();
    }
  }
  function stop() {
    self2.state = ENDED$1;
    self2.timer.stop();
    delete schedules[id2];
    for (var i in schedules)
      return;
    delete node.__transition;
  }
}
function interrupt$1(node, name) {
  var schedules = node.__transition, schedule2, active2, empty2 = true, i;
  if (!schedules)
    return;
  name = name == null ? null : name + "";
  for (i in schedules) {
    if ((schedule2 = schedules[i]).name !== name) {
      empty2 = false;
      continue;
    }
    active2 = schedule2.state > STARTING$1 && schedule2.state < ENDING$1;
    schedule2.state = ENDED$1;
    schedule2.timer.stop();
    schedule2.on.call(active2 ? "interrupt" : "cancel", node, node.__data__, schedule2.index, schedule2.group);
    delete schedules[i];
  }
  if (empty2)
    delete node.__transition;
}
function selection_interrupt$1(name) {
  return this.each(function() {
    interrupt$1(this, name);
  });
}
function tweenRemove$1(id2, name) {
  var tween0, tween1;
  return function() {
    var schedule2 = set$3(this, id2), tween = schedule2.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule2.tween = tween1;
  };
}
function tweenFunction$1(id2, name, value) {
  var tween0, tween1;
  if (typeof value !== "function")
    throw new Error();
  return function() {
    var schedule2 = set$3(this, id2), tween = schedule2.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n)
        tween1.push(t);
    }
    schedule2.tween = tween1;
  };
}
function transition_tween$1(name, value) {
  var id2 = this._id;
  name += "";
  if (arguments.length < 2) {
    var tween = get$2(this.node(), id2).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove$1 : tweenFunction$1)(id2, name, value));
}
function tweenValue$1(transition2, name, value) {
  var id2 = transition2._id;
  transition2.each(function() {
    var schedule2 = set$3(this, id2);
    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);
  });
  return function(node) {
    return get$2(node, id2).value[name];
  };
}
function interpolate$3(a2, b) {
  var c2;
  return (typeof b === "number" ? interpolateNumber$1 : b instanceof color$1 ? interpolateRgb$1 : (c2 = color$1(b)) ? (b = c2, interpolateRgb$1) : interpolateString$1)(a2, b);
}
function attrRemove$2(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS$2(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant$2(name, interpolate2, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);
  };
}
function attrConstantNS$2(fullname, interpolate2, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);
  };
}
function attrFunction$2(name, interpolate2, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttribute(name);
    string0 = this.getAttribute(name);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));
  };
}
function attrFunctionNS$2(fullname, interpolate2, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));
  };
}
function transition_attr$1(name, value) {
  var fullname = namespace$1(name), i = fullname === "transform" ? interpolateTransformSvg$1 : interpolate$3;
  return this.attrTween(name, typeof value === "function" ? (fullname.local ? attrFunctionNS$2 : attrFunction$2)(fullname, i, tweenValue$1(this, "attr." + name, value)) : value == null ? (fullname.local ? attrRemoveNS$2 : attrRemove$2)(fullname) : (fullname.local ? attrConstantNS$2 : attrConstant$2)(fullname, i, value));
}
function attrInterpolate$1(name, i) {
  return function(t) {
    this.setAttribute(name, i.call(this, t));
  };
}
function attrInterpolateNS$1(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS$1(fullname, value) {
  var t02, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t02 = (i0 = i) && attrInterpolateNS$1(fullname, i);
    return t02;
  }
  tween._value = value;
  return tween;
}
function attrTween$1(name, value) {
  var t02, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t02 = (i0 = i) && attrInterpolate$1(name, i);
    return t02;
  }
  tween._value = value;
  return tween;
}
function transition_attrTween$1(name, value) {
  var key = "attr." + name;
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  var fullname = namespace$1(name);
  return this.tween(key, (fullname.local ? attrTweenNS$1 : attrTween$1)(fullname, value));
}
function delayFunction$1(id2, value) {
  return function() {
    init$1(this, id2).delay = +value.apply(this, arguments);
  };
}
function delayConstant$1(id2, value) {
  return value = +value, function() {
    init$1(this, id2).delay = value;
  };
}
function transition_delay$1(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction$1 : delayConstant$1)(id2, value)) : get$2(this.node(), id2).delay;
}
function durationFunction$1(id2, value) {
  return function() {
    set$3(this, id2).duration = +value.apply(this, arguments);
  };
}
function durationConstant$1(id2, value) {
  return value = +value, function() {
    set$3(this, id2).duration = value;
  };
}
function transition_duration$1(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction$1 : durationConstant$1)(id2, value)) : get$2(this.node(), id2).duration;
}
function easeConstant$1(id2, value) {
  if (typeof value !== "function")
    throw new Error();
  return function() {
    set$3(this, id2).ease = value;
  };
}
function transition_ease$1(value) {
  var id2 = this._id;
  return arguments.length ? this.each(easeConstant$1(id2, value)) : get$2(this.node(), id2).ease;
}
function easeVarying(id2, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (typeof v !== "function")
      throw new Error();
    set$3(this, id2).ease = v;
  };
}
function transition_easeVarying(value) {
  if (typeof value !== "function")
    throw new Error();
  return this.each(easeVarying(this._id, value));
}
function transition_filter$1(match) {
  if (typeof match !== "function")
    match = matcher$1(match);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group2[i]) && match.call(node, node.__data__, i, group2)) {
        subgroup.push(node);
      }
    }
  }
  return new Transition$1(subgroups, this._parents, this._name, this._id);
}
function transition_merge$1(transition2) {
  if (transition2._id !== this._id)
    throw new Error();
  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge2 = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge2[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition$1(merges, this._parents, this._name, this._id);
}
function start$1(name) {
  return (name + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0)
      t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction$1(id2, name, listener) {
  var on0, on1, sit = start$1(name) ? init$1 : set$3;
  return function() {
    var schedule2 = sit(this, id2), on = schedule2.on;
    if (on !== on0)
      (on1 = (on0 = on).copy()).on(name, listener);
    schedule2.on = on1;
  };
}
function transition_on$1(name, listener) {
  var id2 = this._id;
  return arguments.length < 2 ? get$2(this.node(), id2).on.on(name) : this.each(onFunction$1(id2, name, listener));
}
function removeFunction$1(id2) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition)
      if (+i !== id2)
        return;
    if (parent)
      parent.removeChild(this);
  };
}
function transition_remove$1() {
  return this.on("end.remove", removeFunction$1(this._id));
}
function transition_select$1(select2) {
  var name = this._name, id2 = this._id;
  if (typeof select2 !== "function")
    select2 = selector$1(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group2[i]) && (subnode = select2.call(node, node.__data__, i, group2))) {
        if ("__data__" in node)
          subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
        schedule$1(subgroup[i], name, id2, i, subgroup, get$2(node, id2));
      }
    }
  }
  return new Transition$1(subgroups, this._parents, name, id2);
}
function transition_selectAll$1(select2) {
  var name = this._name, id2 = this._id;
  if (typeof select2 !== "function")
    select2 = selectorAll$1(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        for (var children2 = select2.call(node, node.__data__, i, group2), child, inherit2 = get$2(node, id2), k2 = 0, l = children2.length; k2 < l; ++k2) {
          if (child = children2[k2]) {
            schedule$1(child, name, id2, k2, children2, inherit2);
          }
        }
        subgroups.push(children2);
        parents.push(node);
      }
    }
  }
  return new Transition$1(subgroups, parents, name, id2);
}
var Selection$2 = selection$1.prototype.constructor;
function transition_selection$1() {
  return new Selection$2(this._groups, this._parents);
}
function styleNull$1(name, interpolate2) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue$1(this, name), string1 = (this.style.removeProperty(name), styleValue$1(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);
  };
}
function styleRemove$2(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant$2(name, interpolate2, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue$1(this, name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);
  };
}
function styleFunction$2(name, interpolate2, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue$1(this, name), value1 = value(this), string1 = value1 + "";
    if (value1 == null)
      string1 = value1 = (this.style.removeProperty(name), styleValue$1(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));
  };
}
function styleMaybeRemove$1(id2, name) {
  var on0, on1, listener0, key = "style." + name, event2 = "end." + key, remove2;
  return function() {
    var schedule2 = set$3(this, id2), on = schedule2.on, listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove$2(name)) : void 0;
    if (on !== on0 || listener0 !== listener)
      (on1 = (on0 = on).copy()).on(event2, listener0 = listener);
    schedule2.on = on1;
  };
}
function transition_style$1(name, value, priority) {
  var i = (name += "") === "transform" ? interpolateTransformCss$1 : interpolate$3;
  return value == null ? this.styleTween(name, styleNull$1(name, i)).on("end.style." + name, styleRemove$2(name)) : typeof value === "function" ? this.styleTween(name, styleFunction$2(name, i, tweenValue$1(this, "style." + name, value))).each(styleMaybeRemove$1(this._id, name)) : this.styleTween(name, styleConstant$2(name, i, value), priority).on("end.style." + name, null);
}
function styleInterpolate$1(name, i, priority) {
  return function(t) {
    this.style.setProperty(name, i.call(this, t), priority);
  };
}
function styleTween$1(name, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t = (i0 = i) && styleInterpolate$1(name, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function transition_styleTween$1(name, value, priority) {
  var key = "style." + (name += "");
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, styleTween$1(name, value, priority == null ? "" : priority));
}
function textConstant$2(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction$2(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function transition_text$1(value) {
  return this.tween("text", typeof value === "function" ? textFunction$2(tweenValue$1(this, "text", value)) : textConstant$2(value == null ? "" : value + ""));
}
function textInterpolate$1(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween$1(value) {
  var t02, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t02 = (i0 = i) && textInterpolate$1(i);
    return t02;
  }
  tween._value = value;
  return tween;
}
function transition_textTween$1(value) {
  var key = "text";
  if (arguments.length < 1)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, textTween$1(value));
}
function transition_transition$1() {
  var name = this._name, id0 = this._id, id1 = newId$1();
  for (var groups2 = this._groups, m = groups2.length, j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        var inherit2 = get$2(node, id0);
        schedule$1(node, name, id1, i, group2, {
          time: inherit2.time + inherit2.delay + inherit2.duration,
          delay: 0,
          duration: inherit2.duration,
          ease: inherit2.ease
        });
      }
    }
  }
  return new Transition$1(groups2, this._parents, name, id1);
}
function transition_end$1() {
  var on0, on1, that = this, id2 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end = { value: function() {
      if (--size === 0)
        resolve();
    } };
    that.each(function() {
      var schedule2 = set$3(this, id2), on = schedule2.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end);
      }
      schedule2.on = on1;
    });
    if (size === 0)
      resolve();
  });
}
var id$1 = 0;
function Transition$1(groups2, parents, name, id2) {
  this._groups = groups2;
  this._parents = parents;
  this._name = name;
  this._id = id2;
}
function transition$1(name) {
  return selection$1().transition(name);
}
function newId$1() {
  return ++id$1;
}
var selection_prototype$1 = selection$1.prototype;
Transition$1.prototype = transition$1.prototype = {
  constructor: Transition$1,
  select: transition_select$1,
  selectAll: transition_selectAll$1,
  selectChild: selection_prototype$1.selectChild,
  selectChildren: selection_prototype$1.selectChildren,
  filter: transition_filter$1,
  merge: transition_merge$1,
  selection: transition_selection$1,
  transition: transition_transition$1,
  call: selection_prototype$1.call,
  nodes: selection_prototype$1.nodes,
  node: selection_prototype$1.node,
  size: selection_prototype$1.size,
  empty: selection_prototype$1.empty,
  each: selection_prototype$1.each,
  on: transition_on$1,
  attr: transition_attr$1,
  attrTween: transition_attrTween$1,
  style: transition_style$1,
  styleTween: transition_styleTween$1,
  text: transition_text$1,
  textTween: transition_textTween$1,
  remove: transition_remove$1,
  tween: transition_tween$1,
  delay: transition_delay$1,
  duration: transition_duration$1,
  ease: transition_ease$1,
  easeVarying: transition_easeVarying,
  end: transition_end$1,
  [Symbol.iterator]: selection_prototype$1[Symbol.iterator]
};
const linear$3 = (t) => +t;
function quadIn$1(t) {
  return t * t;
}
function quadOut$1(t) {
  return t * (2 - t);
}
function quadInOut$1(t) {
  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}
function cubicIn$1(t) {
  return t * t * t;
}
function cubicOut$1(t) {
  return --t * t * t + 1;
}
function cubicInOut$1(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}
var exponent$2 = 3;
var polyIn$1 = function custom(e) {
  e = +e;
  function polyIn2(t) {
    return Math.pow(t, e);
  }
  polyIn2.exponent = custom;
  return polyIn2;
}(exponent$2);
var polyOut$1 = function custom2(e) {
  e = +e;
  function polyOut2(t) {
    return 1 - Math.pow(1 - t, e);
  }
  polyOut2.exponent = custom2;
  return polyOut2;
}(exponent$2);
var polyInOut$1 = function custom3(e) {
  e = +e;
  function polyInOut2(t) {
    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
  }
  polyInOut2.exponent = custom3;
  return polyInOut2;
}(exponent$2);
var pi$6 = Math.PI, halfPi$5 = pi$6 / 2;
function sinIn$1(t) {
  return +t === 1 ? 1 : 1 - Math.cos(t * halfPi$5);
}
function sinOut$1(t) {
  return Math.sin(t * halfPi$5);
}
function sinInOut$1(t) {
  return (1 - Math.cos(pi$6 * t)) / 2;
}
function tpmt$1(x2) {
  return (Math.pow(2, -10 * x2) - 9765625e-10) * 1.0009775171065494;
}
function expIn$1(t) {
  return tpmt$1(1 - +t);
}
function expOut$1(t) {
  return 1 - tpmt$1(t);
}
function expInOut$1(t) {
  return ((t *= 2) <= 1 ? tpmt$1(1 - t) : 2 - tpmt$1(t - 1)) / 2;
}
function circleIn$1(t) {
  return 1 - Math.sqrt(1 - t * t);
}
function circleOut$1(t) {
  return Math.sqrt(1 - --t * t);
}
function circleInOut$1(t) {
  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
}
var b1$1 = 4 / 11, b2$1 = 6 / 11, b3$1 = 8 / 11, b4$1 = 3 / 4, b5$1 = 9 / 11, b6$1 = 10 / 11, b7$1 = 15 / 16, b8$1 = 21 / 22, b9$1 = 63 / 64, b0$1 = 1 / b1$1 / b1$1;
function bounceIn$1(t) {
  return 1 - bounceOut$1(1 - t);
}
function bounceOut$1(t) {
  return (t = +t) < b1$1 ? b0$1 * t * t : t < b3$1 ? b0$1 * (t -= b2$1) * t + b4$1 : t < b6$1 ? b0$1 * (t -= b5$1) * t + b7$1 : b0$1 * (t -= b8$1) * t + b9$1;
}
function bounceInOut$1(t) {
  return ((t *= 2) <= 1 ? 1 - bounceOut$1(1 - t) : bounceOut$1(t - 1) + 1) / 2;
}
var overshoot$1 = 1.70158;
var backIn$1 = function custom4(s2) {
  s2 = +s2;
  function backIn2(t) {
    return (t = +t) * t * (s2 * (t - 1) + t);
  }
  backIn2.overshoot = custom4;
  return backIn2;
}(overshoot$1);
var backOut$1 = function custom5(s2) {
  s2 = +s2;
  function backOut2(t) {
    return --t * t * ((t + 1) * s2 + t) + 1;
  }
  backOut2.overshoot = custom5;
  return backOut2;
}(overshoot$1);
var backInOut$1 = function custom6(s2) {
  s2 = +s2;
  function backInOut2(t) {
    return ((t *= 2) < 1 ? t * t * ((s2 + 1) * t - s2) : (t -= 2) * t * ((s2 + 1) * t + s2) + 2) / 2;
  }
  backInOut2.overshoot = custom6;
  return backInOut2;
}(overshoot$1);
var tau$6 = 2 * Math.PI, amplitude$1 = 1, period$1 = 0.3;
var elasticIn$1 = function custom7(a2, p) {
  var s2 = Math.asin(1 / (a2 = Math.max(1, a2))) * (p /= tau$6);
  function elasticIn2(t) {
    return a2 * tpmt$1(- --t) * Math.sin((s2 - t) / p);
  }
  elasticIn2.amplitude = function(a3) {
    return custom7(a3, p * tau$6);
  };
  elasticIn2.period = function(p2) {
    return custom7(a2, p2);
  };
  return elasticIn2;
}(amplitude$1, period$1);
var elasticOut$1 = function custom8(a2, p) {
  var s2 = Math.asin(1 / (a2 = Math.max(1, a2))) * (p /= tau$6);
  function elasticOut2(t) {
    return 1 - a2 * tpmt$1(t = +t) * Math.sin((t + s2) / p);
  }
  elasticOut2.amplitude = function(a3) {
    return custom8(a3, p * tau$6);
  };
  elasticOut2.period = function(p2) {
    return custom8(a2, p2);
  };
  return elasticOut2;
}(amplitude$1, period$1);
var elasticInOut$1 = function custom9(a2, p) {
  var s2 = Math.asin(1 / (a2 = Math.max(1, a2))) * (p /= tau$6);
  function elasticInOut2(t) {
    return ((t = t * 2 - 1) < 0 ? a2 * tpmt$1(-t) * Math.sin((s2 - t) / p) : 2 - a2 * tpmt$1(t) * Math.sin((s2 + t) / p)) / 2;
  }
  elasticInOut2.amplitude = function(a3) {
    return custom9(a3, p * tau$6);
  };
  elasticInOut2.period = function(p2) {
    return custom9(a2, p2);
  };
  return elasticInOut2;
}(amplitude$1, period$1);
var defaultTiming$1 = {
  time: null,
  delay: 0,
  duration: 250,
  ease: cubicInOut$1
};
function inherit$1(node, id2) {
  var timing;
  while (!(timing = node.__transition) || !(timing = timing[id2])) {
    if (!(node = node.parentNode)) {
      throw new Error(`transition ${id2} not found`);
    }
  }
  return timing;
}
function selection_transition$1(name) {
  var id2, timing;
  if (name instanceof Transition$1) {
    id2 = name._id, name = name._name;
  } else {
    id2 = newId$1(), (timing = defaultTiming$1).time = now$1(), name = name == null ? null : name + "";
  }
  for (var groups2 = this._groups, m = groups2.length, j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        schedule$1(node, name, id2, i, group2, timing || inherit$1(node, id2));
      }
    }
  }
  return new Transition$1(groups2, this._parents, name, id2);
}
selection$1.prototype.interrupt = selection_interrupt$1;
selection$1.prototype.transition = selection_transition$1;
var root$2 = [null];
function active$1(node, name) {
  var schedules = node.__transition, schedule2, i;
  if (schedules) {
    name = name == null ? null : name + "";
    for (i in schedules) {
      if ((schedule2 = schedules[i]).state > SCHEDULED$1 && schedule2.name === name) {
        return new Transition$1([[node]], root$2, name, +i);
      }
    }
  }
  return null;
}
const constant$h = (x2) => () => x2;
function BrushEvent$1(type2, {
  sourceEvent: sourceEvent2,
  target,
  selection: selection2,
  mode: mode2,
  dispatch: dispatch2
}) {
  Object.defineProperties(this, {
    type: { value: type2, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    selection: { value: selection2, enumerable: true, configurable: true },
    mode: { value: mode2, enumerable: true, configurable: true },
    _: { value: dispatch2 }
  });
}
function nopropagation$4(event2) {
  event2.stopImmediatePropagation();
}
function noevent$4(event2) {
  event2.preventDefault();
  event2.stopImmediatePropagation();
}
var MODE_DRAG$1 = { name: "drag" }, MODE_SPACE$1 = { name: "space" }, MODE_HANDLE$1 = { name: "handle" }, MODE_CENTER$1 = { name: "center" };
const { abs: abs$3, max: max$4, min: min$2 } = Math;
function number1$1(e) {
  return [+e[0], +e[1]];
}
function number2$1(e) {
  return [number1$1(e[0]), number1$1(e[1])];
}
var X$1 = {
  name: "x",
  handles: ["w", "e"].map(type$1),
  input: function(x2, e) {
    return x2 == null ? null : [[+x2[0], e[0][1]], [+x2[1], e[1][1]]];
  },
  output: function(xy) {
    return xy && [xy[0][0], xy[1][0]];
  }
};
var Y$1 = {
  name: "y",
  handles: ["n", "s"].map(type$1),
  input: function(y2, e) {
    return y2 == null ? null : [[e[0][0], +y2[0]], [e[1][0], +y2[1]]];
  },
  output: function(xy) {
    return xy && [xy[0][1], xy[1][1]];
  }
};
var XY$1 = {
  name: "xy",
  handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(type$1),
  input: function(xy) {
    return xy == null ? null : number2$1(xy);
  },
  output: function(xy) {
    return xy;
  }
};
var cursors$1 = {
  overlay: "crosshair",
  selection: "move",
  n: "ns-resize",
  e: "ew-resize",
  s: "ns-resize",
  w: "ew-resize",
  nw: "nwse-resize",
  ne: "nesw-resize",
  se: "nwse-resize",
  sw: "nesw-resize"
};
var flipX$1 = {
  e: "w",
  w: "e",
  nw: "ne",
  ne: "nw",
  se: "sw",
  sw: "se"
};
var flipY$1 = {
  n: "s",
  s: "n",
  nw: "sw",
  ne: "se",
  se: "ne",
  sw: "nw"
};
var signsX$1 = {
  overlay: 1,
  selection: 1,
  n: null,
  e: 1,
  s: null,
  w: -1,
  nw: -1,
  ne: 1,
  se: 1,
  sw: -1
};
var signsY$1 = {
  overlay: 1,
  selection: 1,
  n: -1,
  e: null,
  s: 1,
  w: null,
  nw: -1,
  ne: -1,
  se: 1,
  sw: 1
};
function type$1(t) {
  return { type: t };
}
function defaultFilter$4(event2) {
  return !event2.ctrlKey && !event2.button;
}
function defaultExtent$3() {
  var svg2 = this.ownerSVGElement || this;
  if (svg2.hasAttribute("viewBox")) {
    svg2 = svg2.viewBox.baseVal;
    return [[svg2.x, svg2.y], [svg2.x + svg2.width, svg2.y + svg2.height]];
  }
  return [[0, 0], [svg2.width.baseVal.value, svg2.height.baseVal.value]];
}
function defaultTouchable$4() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function local$2(node) {
  while (!node.__brush)
    if (!(node = node.parentNode))
      return;
  return node.__brush;
}
function empty$2(extent2) {
  return extent2[0][0] === extent2[1][0] || extent2[0][1] === extent2[1][1];
}
function brushSelection$1(node) {
  var state = node.__brush;
  return state ? state.dim.output(state.selection) : null;
}
function brushX$1() {
  return brush$3(X$1);
}
function brushY$1() {
  return brush$3(Y$1);
}
function brush$2() {
  return brush$3(XY$1);
}
function brush$3(dim) {
  var extent2 = defaultExtent$3, filter2 = defaultFilter$4, touchable = defaultTouchable$4, keys2 = true, listeners = dispatch$1("start", "brush", "end"), handleSize = 6, touchending;
  function brush2(group2) {
    var overlay = group2.property("__brush", initialize).selectAll(".overlay").data([type$1("overlay")]);
    overlay.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", cursors$1.overlay).merge(overlay).each(function() {
      var extent3 = local$2(this).extent;
      select$1(this).attr("x", extent3[0][0]).attr("y", extent3[0][1]).attr("width", extent3[1][0] - extent3[0][0]).attr("height", extent3[1][1] - extent3[0][1]);
    });
    group2.selectAll(".selection").data([type$1("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", cursors$1.selection).attr("fill", "#777").attr("fill-opacity", 0.3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges");
    var handle = group2.selectAll(".handle").data(dim.handles, function(d) {
      return d.type;
    });
    handle.exit().remove();
    handle.enter().append("rect").attr("class", function(d) {
      return "handle handle--" + d.type;
    }).attr("cursor", function(d) {
      return cursors$1[d.type];
    });
    group2.each(redraw).attr("fill", "none").attr("pointer-events", "all").on("mousedown.brush", started).filter(touchable).on("touchstart.brush", started).on("touchmove.brush", touchmoved).on("touchend.brush touchcancel.brush", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  brush2.move = function(group2, selection2, event2) {
    if (group2.tween) {
      group2.on("start.brush", function(event3) {
        emitter(this, arguments).beforestart().start(event3);
      }).on("interrupt.brush end.brush", function(event3) {
        emitter(this, arguments).end(event3);
      }).tween("brush", function() {
        var that = this, state = that.__brush, emit = emitter(that, arguments), selection0 = state.selection, selection1 = dim.input(typeof selection2 === "function" ? selection2.apply(this, arguments) : selection2, state.extent), i = interpolate$1$1(selection0, selection1);
        function tween(t) {
          state.selection = t === 1 && selection1 === null ? null : i(t);
          redraw.call(that);
          emit.brush();
        }
        return selection0 !== null && selection1 !== null ? tween : tween(1);
      });
    } else {
      group2.each(function() {
        var that = this, args = arguments, state = that.__brush, selection1 = dim.input(typeof selection2 === "function" ? selection2.apply(that, args) : selection2, state.extent), emit = emitter(that, args).beforestart();
        interrupt$1(that);
        state.selection = selection1 === null ? null : selection1;
        redraw.call(that);
        emit.start(event2).brush(event2).end(event2);
      });
    }
  };
  brush2.clear = function(group2, event2) {
    brush2.move(group2, null, event2);
  };
  function redraw() {
    var group2 = select$1(this), selection2 = local$2(this).selection;
    if (selection2) {
      group2.selectAll(".selection").style("display", null).attr("x", selection2[0][0]).attr("y", selection2[0][1]).attr("width", selection2[1][0] - selection2[0][0]).attr("height", selection2[1][1] - selection2[0][1]);
      group2.selectAll(".handle").style("display", null).attr("x", function(d) {
        return d.type[d.type.length - 1] === "e" ? selection2[1][0] - handleSize / 2 : selection2[0][0] - handleSize / 2;
      }).attr("y", function(d) {
        return d.type[0] === "s" ? selection2[1][1] - handleSize / 2 : selection2[0][1] - handleSize / 2;
      }).attr("width", function(d) {
        return d.type === "n" || d.type === "s" ? selection2[1][0] - selection2[0][0] + handleSize : handleSize;
      }).attr("height", function(d) {
        return d.type === "e" || d.type === "w" ? selection2[1][1] - selection2[0][1] + handleSize : handleSize;
      });
    } else {
      group2.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null);
    }
  }
  function emitter(that, args, clean) {
    var emit = that.__brush.emitter;
    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);
  }
  function Emitter(that, args, clean) {
    this.that = that;
    this.args = args;
    this.state = that.__brush;
    this.active = 0;
    this.clean = clean;
  }
  Emitter.prototype = {
    beforestart: function() {
      if (++this.active === 1)
        this.state.emitter = this, this.starting = true;
      return this;
    },
    start: function(event2, mode2) {
      if (this.starting)
        this.starting = false, this.emit("start", event2, mode2);
      else
        this.emit("brush", event2);
      return this;
    },
    brush: function(event2, mode2) {
      this.emit("brush", event2, mode2);
      return this;
    },
    end: function(event2, mode2) {
      if (--this.active === 0)
        delete this.state.emitter, this.emit("end", event2, mode2);
      return this;
    },
    emit: function(type2, event2, mode2) {
      var d = select$1(this.that).datum();
      listeners.call(
        type2,
        this.that,
        new BrushEvent$1(type2, {
          sourceEvent: event2,
          target: brush2,
          selection: dim.output(this.state.selection),
          mode: mode2,
          dispatch: listeners
        }),
        d
      );
    }
  };
  function started(event2) {
    if (touchending && !event2.touches)
      return;
    if (!filter2.apply(this, arguments))
      return;
    var that = this, type2 = event2.target.__data__.type, mode2 = (keys2 && event2.metaKey ? type2 = "overlay" : type2) === "selection" ? MODE_DRAG$1 : keys2 && event2.altKey ? MODE_CENTER$1 : MODE_HANDLE$1, signX = dim === Y$1 ? null : signsX$1[type2], signY = dim === X$1 ? null : signsY$1[type2], state = local$2(that), extent3 = state.extent, selection2 = state.selection, W = extent3[0][0], w0, w1, N = extent3[0][1], n0, n1, E2 = extent3[1][0], e0, e1, S = extent3[1][1], s0, s1, dx = 0, dy = 0, moving, shifting = signX && signY && keys2 && event2.shiftKey, lockX, lockY, points = Array.from(event2.touches || [event2], (t) => {
      const i = t.identifier;
      t = pointer(t, that);
      t.point0 = t.slice();
      t.identifier = i;
      return t;
    });
    interrupt$1(that);
    var emit = emitter(that, arguments, true).beforestart();
    if (type2 === "overlay") {
      if (selection2)
        moving = true;
      const pts = [points[0], points[1] || points[0]];
      state.selection = selection2 = [[
        w0 = dim === Y$1 ? W : min$2(pts[0][0], pts[1][0]),
        n0 = dim === X$1 ? N : min$2(pts[0][1], pts[1][1])
      ], [
        e0 = dim === Y$1 ? E2 : max$4(pts[0][0], pts[1][0]),
        s0 = dim === X$1 ? S : max$4(pts[0][1], pts[1][1])
      ]];
      if (points.length > 1)
        move(event2);
    } else {
      w0 = selection2[0][0];
      n0 = selection2[0][1];
      e0 = selection2[1][0];
      s0 = selection2[1][1];
    }
    w1 = w0;
    n1 = n0;
    e1 = e0;
    s1 = s0;
    var group2 = select$1(that).attr("pointer-events", "none");
    var overlay = group2.selectAll(".overlay").attr("cursor", cursors$1[type2]);
    if (event2.touches) {
      emit.moved = moved;
      emit.ended = ended;
    } else {
      var view = select$1(event2.view).on("mousemove.brush", moved, true).on("mouseup.brush", ended, true);
      if (keys2)
        view.on("keydown.brush", keydowned, true).on("keyup.brush", keyupped, true);
      dragDisable$1(event2.view);
    }
    redraw.call(that);
    emit.start(event2, mode2.name);
    function moved(event3) {
      for (const p of event3.changedTouches || [event3]) {
        for (const d of points)
          if (d.identifier === p.identifier)
            d.cur = pointer(p, that);
      }
      if (shifting && !lockX && !lockY && points.length === 1) {
        const point2 = points[0];
        if (abs$3(point2.cur[0] - point2[0]) > abs$3(point2.cur[1] - point2[1]))
          lockY = true;
        else
          lockX = true;
      }
      for (const point2 of points)
        if (point2.cur)
          point2[0] = point2.cur[0], point2[1] = point2.cur[1];
      moving = true;
      noevent$4(event3);
      move(event3);
    }
    function move(event3) {
      const point2 = points[0], point0 = point2.point0;
      var t;
      dx = point2[0] - point0[0];
      dy = point2[1] - point0[1];
      switch (mode2) {
        case MODE_SPACE$1:
        case MODE_DRAG$1: {
          if (signX)
            dx = max$4(W - w0, min$2(E2 - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;
          if (signY)
            dy = max$4(N - n0, min$2(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;
          break;
        }
        case MODE_HANDLE$1: {
          if (points[1]) {
            if (signX)
              w1 = max$4(W, min$2(E2, points[0][0])), e1 = max$4(W, min$2(E2, points[1][0])), signX = 1;
            if (signY)
              n1 = max$4(N, min$2(S, points[0][1])), s1 = max$4(N, min$2(S, points[1][1])), signY = 1;
          } else {
            if (signX < 0)
              dx = max$4(W - w0, min$2(E2 - w0, dx)), w1 = w0 + dx, e1 = e0;
            else if (signX > 0)
              dx = max$4(W - e0, min$2(E2 - e0, dx)), w1 = w0, e1 = e0 + dx;
            if (signY < 0)
              dy = max$4(N - n0, min$2(S - n0, dy)), n1 = n0 + dy, s1 = s0;
            else if (signY > 0)
              dy = max$4(N - s0, min$2(S - s0, dy)), n1 = n0, s1 = s0 + dy;
          }
          break;
        }
        case MODE_CENTER$1: {
          if (signX)
            w1 = max$4(W, min$2(E2, w0 - dx * signX)), e1 = max$4(W, min$2(E2, e0 + dx * signX));
          if (signY)
            n1 = max$4(N, min$2(S, n0 - dy * signY)), s1 = max$4(N, min$2(S, s0 + dy * signY));
          break;
        }
      }
      if (e1 < w1) {
        signX *= -1;
        t = w0, w0 = e0, e0 = t;
        t = w1, w1 = e1, e1 = t;
        if (type2 in flipX$1)
          overlay.attr("cursor", cursors$1[type2 = flipX$1[type2]]);
      }
      if (s1 < n1) {
        signY *= -1;
        t = n0, n0 = s0, s0 = t;
        t = n1, n1 = s1, s1 = t;
        if (type2 in flipY$1)
          overlay.attr("cursor", cursors$1[type2 = flipY$1[type2]]);
      }
      if (state.selection)
        selection2 = state.selection;
      if (lockX)
        w1 = selection2[0][0], e1 = selection2[1][0];
      if (lockY)
        n1 = selection2[0][1], s1 = selection2[1][1];
      if (selection2[0][0] !== w1 || selection2[0][1] !== n1 || selection2[1][0] !== e1 || selection2[1][1] !== s1) {
        state.selection = [[w1, n1], [e1, s1]];
        redraw.call(that);
        emit.brush(event3, mode2.name);
      }
    }
    function ended(event3) {
      nopropagation$4(event3);
      if (event3.touches) {
        if (event3.touches.length)
          return;
        if (touchending)
          clearTimeout(touchending);
        touchending = setTimeout(function() {
          touchending = null;
        }, 500);
      } else {
        yesdrag$1(event3.view, moving);
        view.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null);
      }
      group2.attr("pointer-events", "all");
      overlay.attr("cursor", cursors$1.overlay);
      if (state.selection)
        selection2 = state.selection;
      if (empty$2(selection2))
        state.selection = null, redraw.call(that);
      emit.end(event3, mode2.name);
    }
    function keydowned(event3) {
      switch (event3.keyCode) {
        case 16: {
          shifting = signX && signY;
          break;
        }
        case 18: {
          if (mode2 === MODE_HANDLE$1) {
            if (signX)
              e0 = e1 - dx * signX, w0 = w1 + dx * signX;
            if (signY)
              s0 = s1 - dy * signY, n0 = n1 + dy * signY;
            mode2 = MODE_CENTER$1;
            move(event3);
          }
          break;
        }
        case 32: {
          if (mode2 === MODE_HANDLE$1 || mode2 === MODE_CENTER$1) {
            if (signX < 0)
              e0 = e1 - dx;
            else if (signX > 0)
              w0 = w1 - dx;
            if (signY < 0)
              s0 = s1 - dy;
            else if (signY > 0)
              n0 = n1 - dy;
            mode2 = MODE_SPACE$1;
            overlay.attr("cursor", cursors$1.selection);
            move(event3);
          }
          break;
        }
        default:
          return;
      }
      noevent$4(event3);
    }
    function keyupped(event3) {
      switch (event3.keyCode) {
        case 16: {
          if (shifting) {
            lockX = lockY = shifting = false;
            move(event3);
          }
          break;
        }
        case 18: {
          if (mode2 === MODE_CENTER$1) {
            if (signX < 0)
              e0 = e1;
            else if (signX > 0)
              w0 = w1;
            if (signY < 0)
              s0 = s1;
            else if (signY > 0)
              n0 = n1;
            mode2 = MODE_HANDLE$1;
            move(event3);
          }
          break;
        }
        case 32: {
          if (mode2 === MODE_SPACE$1) {
            if (event3.altKey) {
              if (signX)
                e0 = e1 - dx * signX, w0 = w1 + dx * signX;
              if (signY)
                s0 = s1 - dy * signY, n0 = n1 + dy * signY;
              mode2 = MODE_CENTER$1;
            } else {
              if (signX < 0)
                e0 = e1;
              else if (signX > 0)
                w0 = w1;
              if (signY < 0)
                s0 = s1;
              else if (signY > 0)
                n0 = n1;
              mode2 = MODE_HANDLE$1;
            }
            overlay.attr("cursor", cursors$1[type2]);
            move(event3);
          }
          break;
        }
        default:
          return;
      }
      noevent$4(event3);
    }
  }
  function touchmoved(event2) {
    emitter(this, arguments).moved(event2);
  }
  function touchended(event2) {
    emitter(this, arguments).ended(event2);
  }
  function initialize() {
    var state = this.__brush || { selection: null };
    state.extent = number2$1(extent2.apply(this, arguments));
    state.dim = dim;
    return state;
  }
  brush2.extent = function(_2) {
    return arguments.length ? (extent2 = typeof _2 === "function" ? _2 : constant$h(number2$1(_2)), brush2) : extent2;
  };
  brush2.filter = function(_2) {
    return arguments.length ? (filter2 = typeof _2 === "function" ? _2 : constant$h(!!_2), brush2) : filter2;
  };
  brush2.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant$h(!!_2), brush2) : touchable;
  };
  brush2.handleSize = function(_2) {
    return arguments.length ? (handleSize = +_2, brush2) : handleSize;
  };
  brush2.keyModifiers = function(_2) {
    return arguments.length ? (keys2 = !!_2, brush2) : keys2;
  };
  brush2.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? brush2 : value;
  };
  return brush2;
}
var abs$2 = Math.abs;
var cos$3 = Math.cos;
var sin$3 = Math.sin;
var pi$5 = Math.PI;
var halfPi$4 = pi$5 / 2;
var tau$5 = pi$5 * 2;
var max$3 = Math.max;
var epsilon$5 = 1e-12;
function range$1(i, j) {
  return Array.from({ length: j - i }, (_2, k2) => i + k2);
}
function compareValue$1(compare) {
  return function(a2, b) {
    return compare(
      a2.source.value + a2.target.value,
      b.source.value + b.target.value
    );
  };
}
function chord$1() {
  return chord$2(false, false);
}
function chordTranspose() {
  return chord$2(false, true);
}
function chordDirected() {
  return chord$2(true, false);
}
function chord$2(directed, transpose2) {
  var padAngle = 0, sortGroups = null, sortSubgroups = null, sortChords = null;
  function chord2(matrix) {
    var n = matrix.length, groupSums = new Array(n), groupIndex = range$1(0, n), chords = new Array(n * n), groups2 = new Array(n), k2 = 0, dx;
    matrix = Float64Array.from({ length: n * n }, transpose2 ? (_2, i) => matrix[i % n][i / n | 0] : (_2, i) => matrix[i / n | 0][i % n]);
    for (let i = 0; i < n; ++i) {
      let x2 = 0;
      for (let j = 0; j < n; ++j)
        x2 += matrix[i * n + j] + directed * matrix[j * n + i];
      k2 += groupSums[i] = x2;
    }
    k2 = max$3(0, tau$5 - padAngle * n) / k2;
    dx = k2 ? padAngle : tau$5 / n;
    {
      let x2 = 0;
      if (sortGroups)
        groupIndex.sort((a2, b) => sortGroups(groupSums[a2], groupSums[b]));
      for (const i of groupIndex) {
        const x02 = x2;
        if (directed) {
          const subgroupIndex = range$1(~n + 1, n).filter((j) => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);
          if (sortSubgroups)
            subgroupIndex.sort((a2, b) => sortSubgroups(a2 < 0 ? -matrix[~a2 * n + i] : matrix[i * n + a2], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));
          for (const j of subgroupIndex) {
            if (j < 0) {
              const chord3 = chords[~j * n + i] || (chords[~j * n + i] = { source: null, target: null });
              chord3.target = { index: i, startAngle: x2, endAngle: x2 += matrix[~j * n + i] * k2, value: matrix[~j * n + i] };
            } else {
              const chord3 = chords[i * n + j] || (chords[i * n + j] = { source: null, target: null });
              chord3.source = { index: i, startAngle: x2, endAngle: x2 += matrix[i * n + j] * k2, value: matrix[i * n + j] };
            }
          }
          groups2[i] = { index: i, startAngle: x02, endAngle: x2, value: groupSums[i] };
        } else {
          const subgroupIndex = range$1(0, n).filter((j) => matrix[i * n + j] || matrix[j * n + i]);
          if (sortSubgroups)
            subgroupIndex.sort((a2, b) => sortSubgroups(matrix[i * n + a2], matrix[i * n + b]));
          for (const j of subgroupIndex) {
            let chord3;
            if (i < j) {
              chord3 = chords[i * n + j] || (chords[i * n + j] = { source: null, target: null });
              chord3.source = { index: i, startAngle: x2, endAngle: x2 += matrix[i * n + j] * k2, value: matrix[i * n + j] };
            } else {
              chord3 = chords[j * n + i] || (chords[j * n + i] = { source: null, target: null });
              chord3.target = { index: i, startAngle: x2, endAngle: x2 += matrix[i * n + j] * k2, value: matrix[i * n + j] };
              if (i === j)
                chord3.source = chord3.target;
            }
            if (chord3.source && chord3.target && chord3.source.value < chord3.target.value) {
              const source = chord3.source;
              chord3.source = chord3.target;
              chord3.target = source;
            }
          }
          groups2[i] = { index: i, startAngle: x02, endAngle: x2, value: groupSums[i] };
        }
        x2 += dx;
      }
    }
    chords = Object.values(chords);
    chords.groups = groups2;
    return sortChords ? chords.sort(sortChords) : chords;
  }
  chord2.padAngle = function(_2) {
    return arguments.length ? (padAngle = max$3(0, _2), chord2) : padAngle;
  };
  chord2.sortGroups = function(_2) {
    return arguments.length ? (sortGroups = _2, chord2) : sortGroups;
  };
  chord2.sortSubgroups = function(_2) {
    return arguments.length ? (sortSubgroups = _2, chord2) : sortSubgroups;
  };
  chord2.sortChords = function(_2) {
    return arguments.length ? (_2 == null ? sortChords = null : (sortChords = compareValue$1(_2))._ = _2, chord2) : sortChords && sortChords._;
  };
  return chord2;
}
var slice$8 = Array.prototype.slice;
function constant$g(x2) {
  return function() {
    return x2;
  };
}
function defaultSource$3(d) {
  return d.source;
}
function defaultTarget$1(d) {
  return d.target;
}
function defaultRadius$2(d) {
  return d.radius;
}
function defaultStartAngle$1(d) {
  return d.startAngle;
}
function defaultEndAngle$1(d) {
  return d.endAngle;
}
function defaultPadAngle() {
  return 0;
}
function defaultArrowheadRadius() {
  return 10;
}
function ribbon$1(headRadius) {
  var source = defaultSource$3, target = defaultTarget$1, sourceRadius = defaultRadius$2, targetRadius = defaultRadius$2, startAngle = defaultStartAngle$1, endAngle = defaultEndAngle$1, padAngle = defaultPadAngle, context = null;
  function ribbon2() {
    var buffer2, s2 = source.apply(this, arguments), t = target.apply(this, arguments), ap = padAngle.apply(this, arguments) / 2, argv = slice$8.call(arguments), sr = +sourceRadius.apply(this, (argv[0] = s2, argv)), sa0 = startAngle.apply(this, argv) - halfPi$4, sa1 = endAngle.apply(this, argv) - halfPi$4, tr = +targetRadius.apply(this, (argv[0] = t, argv)), ta0 = startAngle.apply(this, argv) - halfPi$4, ta1 = endAngle.apply(this, argv) - halfPi$4;
    if (!context)
      context = buffer2 = path$1();
    if (ap > epsilon$5) {
      if (abs$2(sa1 - sa0) > ap * 2 + epsilon$5)
        sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);
      else
        sa0 = sa1 = (sa0 + sa1) / 2;
      if (abs$2(ta1 - ta0) > ap * 2 + epsilon$5)
        ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);
      else
        ta0 = ta1 = (ta0 + ta1) / 2;
    }
    context.moveTo(sr * cos$3(sa0), sr * sin$3(sa0));
    context.arc(0, 0, sr, sa0, sa1);
    if (sa0 !== ta0 || sa1 !== ta1) {
      if (headRadius) {
        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;
        context.quadraticCurveTo(0, 0, tr2 * cos$3(ta0), tr2 * sin$3(ta0));
        context.lineTo(tr * cos$3(ta2), tr * sin$3(ta2));
        context.lineTo(tr2 * cos$3(ta1), tr2 * sin$3(ta1));
      } else {
        context.quadraticCurveTo(0, 0, tr * cos$3(ta0), tr * sin$3(ta0));
        context.arc(0, 0, tr, ta0, ta1);
      }
    }
    context.quadraticCurveTo(0, 0, sr * cos$3(sa0), sr * sin$3(sa0));
    context.closePath();
    if (buffer2)
      return context = null, buffer2 + "" || null;
  }
  if (headRadius)
    ribbon2.headRadius = function(_2) {
      return arguments.length ? (headRadius = typeof _2 === "function" ? _2 : constant$g(+_2), ribbon2) : headRadius;
    };
  ribbon2.radius = function(_2) {
    return arguments.length ? (sourceRadius = targetRadius = typeof _2 === "function" ? _2 : constant$g(+_2), ribbon2) : sourceRadius;
  };
  ribbon2.sourceRadius = function(_2) {
    return arguments.length ? (sourceRadius = typeof _2 === "function" ? _2 : constant$g(+_2), ribbon2) : sourceRadius;
  };
  ribbon2.targetRadius = function(_2) {
    return arguments.length ? (targetRadius = typeof _2 === "function" ? _2 : constant$g(+_2), ribbon2) : targetRadius;
  };
  ribbon2.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant$g(+_2), ribbon2) : startAngle;
  };
  ribbon2.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant$g(+_2), ribbon2) : endAngle;
  };
  ribbon2.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant$g(+_2), ribbon2) : padAngle;
  };
  ribbon2.source = function(_2) {
    return arguments.length ? (source = _2, ribbon2) : source;
  };
  ribbon2.target = function(_2) {
    return arguments.length ? (target = _2, ribbon2) : target;
  };
  ribbon2.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, ribbon2) : context;
  };
  return ribbon2;
}
function ribbon$2() {
  return ribbon$1();
}
function ribbonArrow() {
  return ribbon$1(defaultArrowheadRadius);
}
var array$4 = Array.prototype;
var slice$7 = array$4.slice;
function ascending$5(a2, b) {
  return a2 - b;
}
function area$5(ring) {
  var i = 0, n = ring.length, area2 = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];
  while (++i < n)
    area2 += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];
  return area2;
}
const constant$f = (x2) => () => x2;
function contains$5(ring, hole) {
  var i = -1, n = hole.length, c2;
  while (++i < n)
    if (c2 = ringContains$1(ring, hole[i]))
      return c2;
  return 0;
}
function ringContains$1(ring, point2) {
  var x2 = point2[0], y2 = point2[1], contains2 = -1;
  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {
    var pi2 = ring[i], xi = pi2[0], yi = pi2[1], pj = ring[j], xj = pj[0], yj = pj[1];
    if (segmentContains$1(pi2, pj, point2))
      return 0;
    if (yi > y2 !== yj > y2 && x2 < (xj - xi) * (y2 - yi) / (yj - yi) + xi)
      contains2 = -contains2;
  }
  return contains2;
}
function segmentContains$1(a2, b, c2) {
  var i;
  return collinear$1(a2, b, c2) && within$1(a2[i = +(a2[0] === b[0])], c2[i], b[i]);
}
function collinear$1(a2, b, c2) {
  return (b[0] - a2[0]) * (c2[1] - a2[1]) === (c2[0] - a2[0]) * (b[1] - a2[1]);
}
function within$1(p, q, r) {
  return p <= q && q <= r || r <= q && q <= p;
}
function noop$4() {
}
var cases$1 = [
  [],
  [[[1, 1.5], [0.5, 1]]],
  [[[1.5, 1], [1, 1.5]]],
  [[[1.5, 1], [0.5, 1]]],
  [[[1, 0.5], [1.5, 1]]],
  [[[1, 1.5], [0.5, 1]], [[1, 0.5], [1.5, 1]]],
  [[[1, 0.5], [1, 1.5]]],
  [[[1, 0.5], [0.5, 1]]],
  [[[0.5, 1], [1, 0.5]]],
  [[[1, 1.5], [1, 0.5]]],
  [[[0.5, 1], [1, 0.5]], [[1.5, 1], [1, 1.5]]],
  [[[1.5, 1], [1, 0.5]]],
  [[[0.5, 1], [1.5, 1]]],
  [[[1, 1.5], [1.5, 1]]],
  [[[0.5, 1], [1, 1.5]]],
  []
];
function Contours() {
  var dx = 1, dy = 1, threshold2 = thresholdSturges$1, smooth = smoothLinear;
  function contours2(values2) {
    var tz = threshold2(values2);
    if (!Array.isArray(tz)) {
      const e = extent$3(values2), ts = tickStep$1(e[0], e[1], tz);
      tz = ticks$1(Math.floor(e[0] / ts) * ts, Math.floor(e[1] / ts - 1) * ts, tz);
    } else {
      tz = tz.slice().sort(ascending$5);
    }
    return tz.map((value) => contour(values2, value));
  }
  function contour(values2, value) {
    var polygons = [], holes = [];
    isorings(values2, value, function(ring) {
      smooth(ring, values2, value);
      if (area$5(ring) > 0)
        polygons.push([ring]);
      else
        holes.push(ring);
    });
    holes.forEach(function(hole) {
      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {
        if (contains$5((polygon = polygons[i])[0], hole) !== -1) {
          polygon.push(hole);
          return;
        }
      }
    });
    return {
      type: "MultiPolygon",
      value,
      coordinates: polygons
    };
  }
  function isorings(values2, value, callback) {
    var fragmentByStart = new Array(), fragmentByEnd = new Array(), x2, y2, t02, t12, t22, t32;
    x2 = y2 = -1;
    t12 = values2[0] >= value;
    cases$1[t12 << 1].forEach(stitch);
    while (++x2 < dx - 1) {
      t02 = t12, t12 = values2[x2 + 1] >= value;
      cases$1[t02 | t12 << 1].forEach(stitch);
    }
    cases$1[t12 << 0].forEach(stitch);
    while (++y2 < dy - 1) {
      x2 = -1;
      t12 = values2[y2 * dx + dx] >= value;
      t22 = values2[y2 * dx] >= value;
      cases$1[t12 << 1 | t22 << 2].forEach(stitch);
      while (++x2 < dx - 1) {
        t02 = t12, t12 = values2[y2 * dx + dx + x2 + 1] >= value;
        t32 = t22, t22 = values2[y2 * dx + x2 + 1] >= value;
        cases$1[t02 | t12 << 1 | t22 << 2 | t32 << 3].forEach(stitch);
      }
      cases$1[t12 | t22 << 3].forEach(stitch);
    }
    x2 = -1;
    t22 = values2[y2 * dx] >= value;
    cases$1[t22 << 2].forEach(stitch);
    while (++x2 < dx - 1) {
      t32 = t22, t22 = values2[y2 * dx + x2 + 1] >= value;
      cases$1[t22 << 2 | t32 << 3].forEach(stitch);
    }
    cases$1[t22 << 3].forEach(stitch);
    function stitch(line2) {
      var start2 = [line2[0][0] + x2, line2[0][1] + y2], end = [line2[1][0] + x2, line2[1][1] + y2], startIndex = index2(start2), endIndex = index2(end), f, g;
      if (f = fragmentByEnd[startIndex]) {
        if (g = fragmentByStart[endIndex]) {
          delete fragmentByEnd[f.end];
          delete fragmentByStart[g.start];
          if (f === g) {
            f.ring.push(end);
            callback(f.ring);
          } else {
            fragmentByStart[f.start] = fragmentByEnd[g.end] = { start: f.start, end: g.end, ring: f.ring.concat(g.ring) };
          }
        } else {
          delete fragmentByEnd[f.end];
          f.ring.push(end);
          fragmentByEnd[f.end = endIndex] = f;
        }
      } else if (f = fragmentByStart[endIndex]) {
        if (g = fragmentByEnd[startIndex]) {
          delete fragmentByStart[f.start];
          delete fragmentByEnd[g.end];
          if (f === g) {
            f.ring.push(end);
            callback(f.ring);
          } else {
            fragmentByStart[g.start] = fragmentByEnd[f.end] = { start: g.start, end: f.end, ring: g.ring.concat(f.ring) };
          }
        } else {
          delete fragmentByStart[f.start];
          f.ring.unshift(start2);
          fragmentByStart[f.start = startIndex] = f;
        }
      } else {
        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = { start: startIndex, end: endIndex, ring: [start2, end] };
      }
    }
  }
  function index2(point2) {
    return point2[0] * 2 + point2[1] * (dx + 1) * 4;
  }
  function smoothLinear(ring, values2, value) {
    ring.forEach(function(point2) {
      var x2 = point2[0], y2 = point2[1], xt = x2 | 0, yt = y2 | 0, v0, v1 = values2[yt * dx + xt];
      if (x2 > 0 && x2 < dx && xt === x2) {
        v0 = values2[yt * dx + xt - 1];
        point2[0] = x2 + (value - v0) / (v1 - v0) - 0.5;
      }
      if (y2 > 0 && y2 < dy && yt === y2) {
        v0 = values2[(yt - 1) * dx + xt];
        point2[1] = y2 + (value - v0) / (v1 - v0) - 0.5;
      }
    });
  }
  contours2.contour = contour;
  contours2.size = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    var _0 = Math.floor(_2[0]), _1 = Math.floor(_2[1]);
    if (!(_0 >= 0 && _1 >= 0))
      throw new Error("invalid size");
    return dx = _0, dy = _1, contours2;
  };
  contours2.thresholds = function(_2) {
    return arguments.length ? (threshold2 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant$f(slice$7.call(_2)) : constant$f(_2), contours2) : threshold2;
  };
  contours2.smooth = function(_2) {
    return arguments.length ? (smooth = _2 ? smoothLinear : noop$4, contours2) : smooth === smoothLinear;
  };
  return contours2;
}
function defaultX$2(d) {
  return d[0];
}
function defaultY$2(d) {
  return d[1];
}
function defaultWeight$1() {
  return 1;
}
function density$1() {
  var x2 = defaultX$2, y2 = defaultY$2, weight = defaultWeight$1, dx = 960, dy = 500, r = 20, k2 = 2, o = r * 3, n = dx + o * 2 >> k2, m = dy + o * 2 >> k2, threshold2 = constant$f(20);
  function grid(data) {
    var values2 = new Float32Array(n * m), pow2k = Math.pow(2, -k2), i = -1;
    for (const d of data) {
      var xi = (x2(d, ++i, data) + o) * pow2k, yi = (y2(d, i, data) + o) * pow2k, wi = +weight(d, i, data);
      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {
        var x02 = Math.floor(xi), y02 = Math.floor(yi), xt = xi - x02 - 0.5, yt = yi - y02 - 0.5;
        values2[x02 + y02 * n] += (1 - xt) * (1 - yt) * wi;
        values2[x02 + 1 + y02 * n] += xt * (1 - yt) * wi;
        values2[x02 + 1 + (y02 + 1) * n] += xt * yt * wi;
        values2[x02 + (y02 + 1) * n] += (1 - xt) * yt * wi;
      }
    }
    blur2({ data: values2, width: n, height: m }, r * pow2k);
    return values2;
  }
  function density2(data) {
    var values2 = grid(data), tz = threshold2(values2), pow4k = Math.pow(2, 2 * k2);
    if (!Array.isArray(tz)) {
      tz = ticks$1(Number.MIN_VALUE, max$5(values2) / pow4k, tz);
    }
    return Contours().size([n, m]).thresholds(tz.map((d) => d * pow4k))(values2).map((c2, i) => (c2.value = +tz[i], transform2(c2)));
  }
  density2.contours = function(data) {
    var values2 = grid(data), contours2 = Contours().size([n, m]), pow4k = Math.pow(2, 2 * k2), contour = (value) => {
      value = +value;
      var c2 = transform2(contours2.contour(values2, value * pow4k));
      c2.value = value;
      return c2;
    };
    Object.defineProperty(contour, "max", { get: () => max$5(values2) / pow4k });
    return contour;
  };
  function transform2(geometry) {
    geometry.coordinates.forEach(transformPolygon);
    return geometry;
  }
  function transformPolygon(coordinates2) {
    coordinates2.forEach(transformRing);
  }
  function transformRing(coordinates2) {
    coordinates2.forEach(transformPoint);
  }
  function transformPoint(coordinates2) {
    coordinates2[0] = coordinates2[0] * Math.pow(2, k2) - o;
    coordinates2[1] = coordinates2[1] * Math.pow(2, k2) - o;
  }
  function resize() {
    o = r * 3;
    n = dx + o * 2 >> k2;
    m = dy + o * 2 >> k2;
    return density2;
  }
  density2.x = function(_2) {
    return arguments.length ? (x2 = typeof _2 === "function" ? _2 : constant$f(+_2), density2) : x2;
  };
  density2.y = function(_2) {
    return arguments.length ? (y2 = typeof _2 === "function" ? _2 : constant$f(+_2), density2) : y2;
  };
  density2.weight = function(_2) {
    return arguments.length ? (weight = typeof _2 === "function" ? _2 : constant$f(+_2), density2) : weight;
  };
  density2.size = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    var _0 = +_2[0], _1 = +_2[1];
    if (!(_0 >= 0 && _1 >= 0))
      throw new Error("invalid size");
    return dx = _0, dy = _1, resize();
  };
  density2.cellSize = function(_2) {
    if (!arguments.length)
      return 1 << k2;
    if (!((_2 = +_2) >= 1))
      throw new Error("invalid cell size");
    return k2 = Math.floor(Math.log(_2) / Math.LN2), resize();
  };
  density2.thresholds = function(_2) {
    return arguments.length ? (threshold2 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant$f(slice$7.call(_2)) : constant$f(_2), density2) : threshold2;
  };
  density2.bandwidth = function(_2) {
    if (!arguments.length)
      return Math.sqrt(r * (r + 1));
    if (!((_2 = +_2) >= 0))
      throw new Error("invalid bandwidth");
    return r = (Math.sqrt(4 * _2 * _2 + 1) - 1) / 2, resize();
  };
  return density2;
}
var csv$3 = dsvFormat$1(",");
var csvParse$1 = csv$3.parse;
var csvParseRows$1 = csv$3.parseRows;
var csvFormat$1 = csv$3.format;
var csvFormatBody$1 = csv$3.formatBody;
var csvFormatRows$1 = csv$3.formatRows;
var csvFormatRow$1 = csv$3.formatRow;
var csvFormatValue$1 = csv$3.formatValue;
var tsv$3 = dsvFormat$1("	");
var tsvParse$1 = tsv$3.parse;
var tsvParseRows$1 = tsv$3.parseRows;
var tsvFormat$1 = tsv$3.format;
var tsvFormatBody$1 = tsv$3.formatBody;
var tsvFormatRows$1 = tsv$3.formatRows;
var tsvFormatRow$1 = tsv$3.formatRow;
var tsvFormatValue$1 = tsv$3.formatValue;
function autoType$1(object2) {
  for (var key in object2) {
    var value = object2[key].trim(), number3, m;
    if (!value)
      value = null;
    else if (value === "true")
      value = true;
    else if (value === "false")
      value = false;
    else if (value === "NaN")
      value = NaN;
    else if (!isNaN(number3 = +value))
      value = number3;
    else if (m = value.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)) {
      if (fixtz$1 && !!m[4] && !m[7])
        value = value.replace(/-/g, "/").replace(/T/, " ");
      value = new Date(value);
    } else
      continue;
    object2[key] = value;
  }
  return object2;
}
const fixtz$1 = new Date("2019-01-01T00:00").getHours() || new Date("2019-07-01T00:00").getHours();
function responseBlob$1(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.blob();
}
function blob$1(input, init2) {
  return fetch(input, init2).then(responseBlob$1);
}
function responseArrayBuffer$1(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.arrayBuffer();
}
function buffer$1(input, init2) {
  return fetch(input, init2).then(responseArrayBuffer$1);
}
function responseText$1(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.text();
}
function text$1(input, init2) {
  return fetch(input, init2).then(responseText$1);
}
function dsvParse$1(parse) {
  return function(input, init2, row) {
    if (arguments.length === 2 && typeof init2 === "function")
      row = init2, init2 = void 0;
    return text$1(input, init2).then(function(response) {
      return parse(response, row);
    });
  };
}
function dsv$1(delimiter, input, init2, row) {
  if (arguments.length === 3 && typeof init2 === "function")
    row = init2, init2 = void 0;
  var format2 = dsvFormat$1(delimiter);
  return text$1(input, init2).then(function(response) {
    return format2.parse(response, row);
  });
}
var csv$2 = dsvParse$1(csvParse$1);
var tsv$2 = dsvParse$1(tsvParse$1);
function image$1(input, init2) {
  return new Promise(function(resolve, reject) {
    var image2 = new Image();
    for (var key in init2)
      image2[key] = init2[key];
    image2.onerror = reject;
    image2.onload = function() {
      resolve(image2);
    };
    image2.src = input;
  });
}
function responseJson$1(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  if (response.status === 204 || response.status === 205)
    return;
  return response.json();
}
function json$2(input, init2) {
  return fetch(input, init2).then(responseJson$1);
}
function parser$1(type2) {
  return (input, init2) => text$1(input, init2).then((text2) => new DOMParser().parseFromString(text2, type2));
}
const xml$1 = parser$1("application/xml");
var html$1 = parser$1("text/html");
var svg$1 = parser$1("image/svg+xml");
function radial$2(radius, x2, y2) {
  var nodes, strength = constant$l(0.1), strengths, radiuses;
  if (typeof radius !== "function")
    radius = constant$l(+radius);
  if (x2 == null)
    x2 = 0;
  if (y2 == null)
    y2 = 0;
  function force(alpha2) {
    for (var i = 0, n = nodes.length; i < n; ++i) {
      var node = nodes[i], dx = node.x - x2 || 1e-6, dy = node.y - y2 || 1e-6, r = Math.sqrt(dx * dx + dy * dy), k2 = (radiuses[i] - r) * strengths[i] * alpha2 / r;
      node.vx += dx * k2;
      node.vy += dy * k2;
    }
  }
  function initialize() {
    if (!nodes)
      return;
    var i, n = nodes.length;
    strengths = new Array(n);
    radiuses = new Array(n);
    for (i = 0; i < n; ++i) {
      radiuses[i] = +radius(nodes[i], i, nodes);
      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);
    }
  }
  force.initialize = function(_2) {
    nodes = _2, initialize();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant$l(+_2), initialize(), force) : strength;
  };
  force.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant$l(+_2), initialize(), force) : radius;
  };
  force.x = function(_2) {
    return arguments.length ? (x2 = +_2, force) : x2;
  };
  force.y = function(_2) {
    return arguments.length ? (y2 = +_2, force) : y2;
  };
  return force;
}
function extent$2() {
  var x02 = 0, y02 = 0, x12 = 960, y12 = 500, cache, cacheStream, clip2;
  return clip2 = {
    stream: function(stream) {
      return cache && cacheStream === stream ? cache : cache = clipRectangle$1(x02, y02, x12, y12)(cacheStream = stream);
    },
    extent: function(_2) {
      return arguments.length ? (x02 = +_2[0][0], y02 = +_2[0][1], x12 = +_2[1][0], y12 = +_2[1][1], cache = cacheStream = null, clip2) : [[x02, y02], [x12, y12]];
    }
  };
}
var lengthSum$2, lambda0$3, sinPhi0$2, cosPhi0$2;
var lengthStream$2 = {
  sphere: noop$5,
  point: noop$5,
  lineStart: lengthLineStart$1,
  lineEnd: noop$5,
  polygonStart: noop$5,
  polygonEnd: noop$5
};
function lengthLineStart$1() {
  lengthStream$2.point = lengthPointFirst$2;
  lengthStream$2.lineEnd = lengthLineEnd$1;
}
function lengthLineEnd$1() {
  lengthStream$2.point = lengthStream$2.lineEnd = noop$5;
}
function lengthPointFirst$2(lambda, phi2) {
  lambda *= radians$1, phi2 *= radians$1;
  lambda0$3 = lambda, sinPhi0$2 = sin$4(phi2), cosPhi0$2 = cos$4(phi2);
  lengthStream$2.point = lengthPoint$2;
}
function lengthPoint$2(lambda, phi2) {
  lambda *= radians$1, phi2 *= radians$1;
  var sinPhi = sin$4(phi2), cosPhi = cos$4(phi2), delta = abs$4(lambda - lambda0$3), cosDelta = cos$4(delta), sinDelta = sin$4(delta), x2 = cosPhi * sinDelta, y2 = cosPhi0$2 * sinPhi - sinPhi0$2 * cosPhi * cosDelta, z = sinPhi0$2 * sinPhi + cosPhi0$2 * cosPhi * cosDelta;
  lengthSum$2.add(atan2$2(sqrt$3(x2 * x2 + y2 * y2), z));
  lambda0$3 = lambda, sinPhi0$2 = sinPhi, cosPhi0$2 = cosPhi;
}
function length$4(object2) {
  lengthSum$2 = new Adder$1();
  geoStream$1(object2, lengthStream$2);
  return +lengthSum$2;
}
var coordinates$1 = [null, null], object$2 = { type: "LineString", coordinates: coordinates$1 };
function distance$1(a2, b) {
  coordinates$1[0] = a2;
  coordinates$1[1] = b;
  return length$4(object$2);
}
var containsObjectType$1 = {
  Feature: function(object2, point2) {
    return containsGeometry$1(object2.geometry, point2);
  },
  FeatureCollection: function(object2, point2) {
    var features = object2.features, i = -1, n = features.length;
    while (++i < n)
      if (containsGeometry$1(features[i].geometry, point2))
        return true;
    return false;
  }
};
var containsGeometryType$1 = {
  Sphere: function() {
    return true;
  },
  Point: function(object2, point2) {
    return containsPoint$1(object2.coordinates, point2);
  },
  MultiPoint: function(object2, point2) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      if (containsPoint$1(coordinates2[i], point2))
        return true;
    return false;
  },
  LineString: function(object2, point2) {
    return containsLine$1(object2.coordinates, point2);
  },
  MultiLineString: function(object2, point2) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      if (containsLine$1(coordinates2[i], point2))
        return true;
    return false;
  },
  Polygon: function(object2, point2) {
    return containsPolygon$1(object2.coordinates, point2);
  },
  MultiPolygon: function(object2, point2) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      if (containsPolygon$1(coordinates2[i], point2))
        return true;
    return false;
  },
  GeometryCollection: function(object2, point2) {
    var geometries = object2.geometries, i = -1, n = geometries.length;
    while (++i < n)
      if (containsGeometry$1(geometries[i], point2))
        return true;
    return false;
  }
};
function containsGeometry$1(geometry, point2) {
  return geometry && containsGeometryType$1.hasOwnProperty(geometry.type) ? containsGeometryType$1[geometry.type](geometry, point2) : false;
}
function containsPoint$1(coordinates2, point2) {
  return distance$1(coordinates2, point2) === 0;
}
function containsLine$1(coordinates2, point2) {
  var ao, bo, ab;
  for (var i = 0, n = coordinates2.length; i < n; i++) {
    bo = distance$1(coordinates2[i], point2);
    if (bo === 0)
      return true;
    if (i > 0) {
      ab = distance$1(coordinates2[i], coordinates2[i - 1]);
      if (ab > 0 && ao <= ab && bo <= ab && (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2$3 * ab)
        return true;
    }
    ao = bo;
  }
  return false;
}
function containsPolygon$1(coordinates2, point2) {
  return !!polygonContains$1(coordinates2.map(ringRadians$1), pointRadians$1(point2));
}
function ringRadians$1(ring) {
  return ring = ring.map(pointRadians$1), ring.pop(), ring;
}
function pointRadians$1(point2) {
  return [point2[0] * radians$1, point2[1] * radians$1];
}
function contains$4(object2, point2) {
  return (object2 && containsObjectType$1.hasOwnProperty(object2.type) ? containsObjectType$1[object2.type] : containsGeometry$1)(object2, point2);
}
function interpolate$2(a2, b) {
  var x02 = a2[0] * radians$1, y02 = a2[1] * radians$1, x12 = b[0] * radians$1, y12 = b[1] * radians$1, cy0 = cos$4(y02), sy0 = sin$4(y02), cy1 = cos$4(y12), sy1 = sin$4(y12), kx0 = cy0 * cos$4(x02), ky0 = cy0 * sin$4(x02), kx1 = cy1 * cos$4(x12), ky1 = cy1 * sin$4(x12), d = 2 * asin$2(sqrt$3(haversin$1(y12 - y02) + cy0 * cy1 * haversin$1(x12 - x02))), k2 = sin$4(d);
  var interpolate2 = d ? function(t) {
    var B2 = sin$4(t *= d) / k2, A5 = sin$4(d - t) / k2, x2 = A5 * kx0 + B2 * kx1, y2 = A5 * ky0 + B2 * ky1, z = A5 * sy0 + B2 * sy1;
    return [
      atan2$2(y2, x2) * degrees$2,
      atan2$2(z, sqrt$3(x2 * x2 + y2 * y2)) * degrees$2
    ];
  } : function() {
    return [x02 * degrees$2, y02 * degrees$2];
  };
  interpolate2.distance = d;
  return interpolate2;
}
function area$4(polygon) {
  var i = -1, n = polygon.length, a2, b = polygon[n - 1], area2 = 0;
  while (++i < n) {
    a2 = b;
    b = polygon[i];
    area2 += a2[1] * b[0] - a2[0] * b[1];
  }
  return area2 / 2;
}
function centroid$2(polygon) {
  var i = -1, n = polygon.length, x2 = 0, y2 = 0, a2, b = polygon[n - 1], c2, k2 = 0;
  while (++i < n) {
    a2 = b;
    b = polygon[i];
    k2 += c2 = a2[0] * b[1] - b[0] * a2[1];
    x2 += (a2[0] + b[0]) * c2;
    y2 += (a2[1] + b[1]) * c2;
  }
  return k2 *= 3, [x2 / k2, y2 / k2];
}
function cross$3(a2, b, c2) {
  return (b[0] - a2[0]) * (c2[1] - a2[1]) - (b[1] - a2[1]) * (c2[0] - a2[0]);
}
function lexicographicOrder$1(a2, b) {
  return a2[0] - b[0] || a2[1] - b[1];
}
function computeUpperHullIndexes$1(points) {
  const n = points.length, indexes2 = [0, 1];
  let size = 2, i;
  for (i = 2; i < n; ++i) {
    while (size > 1 && cross$3(points[indexes2[size - 2]], points[indexes2[size - 1]], points[i]) <= 0)
      --size;
    indexes2[size++] = i;
  }
  return indexes2.slice(0, size);
}
function hull$1(points) {
  if ((n = points.length) < 3)
    return null;
  var i, n, sortedPoints = new Array(n), flippedPoints = new Array(n);
  for (i = 0; i < n; ++i)
    sortedPoints[i] = [+points[i][0], +points[i][1], i];
  sortedPoints.sort(lexicographicOrder$1);
  for (i = 0; i < n; ++i)
    flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];
  var upperIndexes = computeUpperHullIndexes$1(sortedPoints), lowerIndexes = computeUpperHullIndexes$1(flippedPoints);
  var skipLeft = lowerIndexes[0] === upperIndexes[0], skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1], hull2 = [];
  for (i = upperIndexes.length - 1; i >= 0; --i)
    hull2.push(points[sortedPoints[upperIndexes[i]][2]]);
  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i)
    hull2.push(points[sortedPoints[lowerIndexes[i]][2]]);
  return hull2;
}
function contains$3(polygon, point2) {
  var n = polygon.length, p = polygon[n - 1], x2 = point2[0], y2 = point2[1], x02 = p[0], y02 = p[1], x12, y12, inside = false;
  for (var i = 0; i < n; ++i) {
    p = polygon[i], x12 = p[0], y12 = p[1];
    if (y12 > y2 !== y02 > y2 && x2 < (x02 - x12) * (y2 - y12) / (y02 - y12) + x12)
      inside = !inside;
    x02 = x12, y02 = y12;
  }
  return inside;
}
function length$3(polygon) {
  var i = -1, n = polygon.length, b = polygon[n - 1], xa, ya, xb = b[0], yb = b[1], perimeter = 0;
  while (++i < n) {
    xa = xb;
    ya = yb;
    b = polygon[i];
    xb = b[0];
    yb = b[1];
    xa -= xb;
    ya -= yb;
    perimeter += Math.hypot(xa, ya);
  }
  return perimeter;
}
const defaultSource$2 = Math.random;
const uniform$1 = function sourceRandomUniform(source) {
  function randomUniform(min2, max2) {
    min2 = min2 == null ? 0 : +min2;
    max2 = max2 == null ? 1 : +max2;
    if (arguments.length === 1)
      max2 = min2, min2 = 0;
    else
      max2 -= min2;
    return function() {
      return source() * max2 + min2;
    };
  }
  randomUniform.source = sourceRandomUniform;
  return randomUniform;
}(defaultSource$2);
const int = function sourceRandomInt(source) {
  function randomInt(min2, max2) {
    if (arguments.length < 2)
      max2 = min2, min2 = 0;
    min2 = Math.floor(min2);
    max2 = Math.floor(max2) - min2;
    return function() {
      return Math.floor(source() * max2 + min2);
    };
  }
  randomInt.source = sourceRandomInt;
  return randomInt;
}(defaultSource$2);
const normal$1 = function sourceRandomNormal(source) {
  function randomNormal(mu, sigma) {
    var x2, r;
    mu = mu == null ? 0 : +mu;
    sigma = sigma == null ? 1 : +sigma;
    return function() {
      var y2;
      if (x2 != null)
        y2 = x2, x2 = null;
      else
        do {
          x2 = source() * 2 - 1;
          y2 = source() * 2 - 1;
          r = x2 * x2 + y2 * y2;
        } while (!r || r > 1);
      return mu + sigma * y2 * Math.sqrt(-2 * Math.log(r) / r);
    };
  }
  randomNormal.source = sourceRandomNormal;
  return randomNormal;
}(defaultSource$2);
const logNormal$1 = function sourceRandomLogNormal(source) {
  var N = normal$1.source(source);
  function randomLogNormal() {
    var randomNormal = N.apply(this, arguments);
    return function() {
      return Math.exp(randomNormal());
    };
  }
  randomLogNormal.source = sourceRandomLogNormal;
  return randomLogNormal;
}(defaultSource$2);
const irwinHall$1 = function sourceRandomIrwinHall(source) {
  function randomIrwinHall(n) {
    if ((n = +n) <= 0)
      return () => 0;
    return function() {
      for (var sum2 = 0, i = n; i > 1; --i)
        sum2 += source();
      return sum2 + i * source();
    };
  }
  randomIrwinHall.source = sourceRandomIrwinHall;
  return randomIrwinHall;
}(defaultSource$2);
const bates$1 = function sourceRandomBates(source) {
  var I = irwinHall$1.source(source);
  function randomBates(n) {
    if ((n = +n) === 0)
      return source;
    var randomIrwinHall = I(n);
    return function() {
      return randomIrwinHall() / n;
    };
  }
  randomBates.source = sourceRandomBates;
  return randomBates;
}(defaultSource$2);
const exponential$2 = function sourceRandomExponential(source) {
  function randomExponential(lambda) {
    return function() {
      return -Math.log1p(-source()) / lambda;
    };
  }
  randomExponential.source = sourceRandomExponential;
  return randomExponential;
}(defaultSource$2);
const pareto = function sourceRandomPareto(source) {
  function randomPareto(alpha2) {
    if ((alpha2 = +alpha2) < 0)
      throw new RangeError("invalid alpha");
    alpha2 = 1 / -alpha2;
    return function() {
      return Math.pow(1 - source(), alpha2);
    };
  }
  randomPareto.source = sourceRandomPareto;
  return randomPareto;
}(defaultSource$2);
const bernoulli = function sourceRandomBernoulli(source) {
  function randomBernoulli(p) {
    if ((p = +p) < 0 || p > 1)
      throw new RangeError("invalid p");
    return function() {
      return Math.floor(source() + p);
    };
  }
  randomBernoulli.source = sourceRandomBernoulli;
  return randomBernoulli;
}(defaultSource$2);
const geometric = function sourceRandomGeometric(source) {
  function randomGeometric(p) {
    if ((p = +p) < 0 || p > 1)
      throw new RangeError("invalid p");
    if (p === 0)
      return () => Infinity;
    if (p === 1)
      return () => 1;
    p = Math.log1p(-p);
    return function() {
      return 1 + Math.floor(Math.log1p(-source()) / p);
    };
  }
  randomGeometric.source = sourceRandomGeometric;
  return randomGeometric;
}(defaultSource$2);
const gamma$1 = function sourceRandomGamma(source) {
  var randomNormal = normal$1.source(source)();
  function randomGamma(k2, theta) {
    if ((k2 = +k2) < 0)
      throw new RangeError("invalid k");
    if (k2 === 0)
      return () => 0;
    theta = theta == null ? 1 : +theta;
    if (k2 === 1)
      return () => -Math.log1p(-source()) * theta;
    var d = (k2 < 1 ? k2 + 1 : k2) - 1 / 3, c2 = 1 / (3 * Math.sqrt(d)), multiplier = k2 < 1 ? () => Math.pow(source(), 1 / k2) : () => 1;
    return function() {
      do {
        do {
          var x2 = randomNormal(), v = 1 + c2 * x2;
        } while (v <= 0);
        v *= v * v;
        var u = 1 - source();
      } while (u >= 1 - 0.0331 * x2 * x2 * x2 * x2 && Math.log(u) >= 0.5 * x2 * x2 + d * (1 - v + Math.log(v)));
      return d * v * multiplier() * theta;
    };
  }
  randomGamma.source = sourceRandomGamma;
  return randomGamma;
}(defaultSource$2);
const beta = function sourceRandomBeta(source) {
  var G = gamma$1.source(source);
  function randomBeta(alpha2, beta2) {
    var X3 = G(alpha2), Y3 = G(beta2);
    return function() {
      var x2 = X3();
      return x2 === 0 ? 0 : x2 / (x2 + Y3());
    };
  }
  randomBeta.source = sourceRandomBeta;
  return randomBeta;
}(defaultSource$2);
const binomial = function sourceRandomBinomial(source) {
  var G = geometric.source(source), B2 = beta.source(source);
  function randomBinomial(n, p) {
    n = +n;
    if ((p = +p) >= 1)
      return () => n;
    if (p <= 0)
      return () => 0;
    return function() {
      var acc = 0, nn = n, pp = p;
      while (nn * pp > 16 && nn * (1 - pp) > 16) {
        var i = Math.floor((nn + 1) * pp), y2 = B2(i, nn - i + 1)();
        if (y2 <= pp) {
          acc += i;
          nn -= i;
          pp = (pp - y2) / (1 - y2);
        } else {
          nn = i - 1;
          pp /= y2;
        }
      }
      var sign2 = pp < 0.5, pFinal = sign2 ? pp : 1 - pp, g = G(pFinal);
      for (var s2 = g(), k2 = 0; s2 <= nn; ++k2)
        s2 += g();
      return acc + (sign2 ? k2 : nn - k2);
    };
  }
  randomBinomial.source = sourceRandomBinomial;
  return randomBinomial;
}(defaultSource$2);
const weibull = function sourceRandomWeibull(source) {
  function randomWeibull(k2, a2, b) {
    var outerFunc;
    if ((k2 = +k2) === 0) {
      outerFunc = (x2) => -Math.log(x2);
    } else {
      k2 = 1 / k2;
      outerFunc = (x2) => Math.pow(x2, k2);
    }
    a2 = a2 == null ? 0 : +a2;
    b = b == null ? 1 : +b;
    return function() {
      return a2 + b * outerFunc(-Math.log1p(-source()));
    };
  }
  randomWeibull.source = sourceRandomWeibull;
  return randomWeibull;
}(defaultSource$2);
const cauchy = function sourceRandomCauchy(source) {
  function randomCauchy(a2, b) {
    a2 = a2 == null ? 0 : +a2;
    b = b == null ? 1 : +b;
    return function() {
      return a2 + b * Math.tan(Math.PI * source());
    };
  }
  randomCauchy.source = sourceRandomCauchy;
  return randomCauchy;
}(defaultSource$2);
const logistic = function sourceRandomLogistic(source) {
  function randomLogistic(a2, b) {
    a2 = a2 == null ? 0 : +a2;
    b = b == null ? 1 : +b;
    return function() {
      var u = source();
      return a2 + b * Math.log(u / (1 - u));
    };
  }
  randomLogistic.source = sourceRandomLogistic;
  return randomLogistic;
}(defaultSource$2);
const poisson = function sourceRandomPoisson(source) {
  var G = gamma$1.source(source), B2 = binomial.source(source);
  function randomPoisson(lambda) {
    return function() {
      var acc = 0, l = lambda;
      while (l > 16) {
        var n = Math.floor(0.875 * l), t = G(n)();
        if (t > l)
          return acc + B2(n - 1, l / t)();
        acc += n;
        l -= t;
      }
      for (var s2 = -Math.log1p(-source()), k2 = 0; s2 <= l; ++k2)
        s2 -= Math.log1p(-source());
      return acc + k2;
    };
  }
  randomPoisson.source = sourceRandomPoisson;
  return randomPoisson;
}(defaultSource$2);
const mul = 1664525;
const inc = 1013904223;
const eps = 1 / 4294967296;
function lcg(seed = Math.random()) {
  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;
  return () => (state = mul * state + inc | 0, eps * (state >>> 0));
}
function band$1() {
  var scale2 = ordinal$1().unknown(void 0), domain = scale2.domain, ordinalRange = scale2.range, r0 = 0, r1 = 1, step2, bandwidth, round = false, paddingInner = 0, paddingOuter = 0, align = 0.5;
  delete scale2.unknown;
  function rescale() {
    var n = domain().length, reverse2 = r1 < r0, start2 = reverse2 ? r1 : r0, stop = reverse2 ? r0 : r1;
    step2 = (stop - start2) / Math.max(1, n - paddingInner + paddingOuter * 2);
    if (round)
      step2 = Math.floor(step2);
    start2 += (stop - start2 - step2 * (n - paddingInner)) * align;
    bandwidth = step2 * (1 - paddingInner);
    if (round)
      start2 = Math.round(start2), bandwidth = Math.round(bandwidth);
    var values2 = range$2(n).map(function(i) {
      return start2 + step2 * i;
    });
    return ordinalRange(reverse2 ? values2.reverse() : values2);
  }
  scale2.domain = function(_2) {
    return arguments.length ? (domain(_2), rescale()) : domain();
  };
  scale2.range = function(_2) {
    return arguments.length ? ([r0, r1] = _2, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];
  };
  scale2.rangeRound = function(_2) {
    return [r0, r1] = _2, r0 = +r0, r1 = +r1, round = true, rescale();
  };
  scale2.bandwidth = function() {
    return bandwidth;
  };
  scale2.step = function() {
    return step2;
  };
  scale2.round = function(_2) {
    return arguments.length ? (round = !!_2, rescale()) : round;
  };
  scale2.padding = function(_2) {
    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_2), rescale()) : paddingInner;
  };
  scale2.paddingInner = function(_2) {
    return arguments.length ? (paddingInner = Math.min(1, _2), rescale()) : paddingInner;
  };
  scale2.paddingOuter = function(_2) {
    return arguments.length ? (paddingOuter = +_2, rescale()) : paddingOuter;
  };
  scale2.align = function(_2) {
    return arguments.length ? (align = Math.max(0, Math.min(1, _2)), rescale()) : align;
  };
  scale2.copy = function() {
    return band$1(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);
  };
  return initRange$1.apply(rescale(), arguments);
}
function pointish$1(scale2) {
  var copy2 = scale2.copy;
  scale2.padding = scale2.paddingOuter;
  delete scale2.paddingInner;
  delete scale2.paddingOuter;
  scale2.copy = function() {
    return pointish$1(copy2());
  };
  return scale2;
}
function point$6() {
  return pointish$1(band$1.apply(null, arguments).paddingInner(1));
}
function square$1(x2) {
  return Math.sign(x2) * x2 * x2;
}
function unsquare(x2) {
  return Math.sign(x2) * Math.sqrt(Math.abs(x2));
}
function radial$1() {
  var squared = continuous$1(), range2 = [0, 1], round = false, unknown;
  function scale2(x2) {
    var y2 = unsquare(squared(x2));
    return isNaN(y2) ? unknown : round ? Math.round(y2) : y2;
  }
  scale2.invert = function(y2) {
    return squared.invert(square$1(y2));
  };
  scale2.domain = function(_2) {
    return arguments.length ? (squared.domain(_2), scale2) : squared.domain();
  };
  scale2.range = function(_2) {
    return arguments.length ? (squared.range((range2 = Array.from(_2, number$5)).map(square$1)), scale2) : range2.slice();
  };
  scale2.rangeRound = function(_2) {
    return scale2.range(_2).round(true);
  };
  scale2.round = function(_2) {
    return arguments.length ? (round = !!_2, scale2) : round;
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (squared.clamp(_2), scale2) : squared.clamp();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return radial$1(squared.domain(), range2).round(round).clamp(squared.clamp()).unknown(unknown);
  };
  initRange$1.apply(scale2, arguments);
  return linearish$1(scale2);
}
var isoSpecifier$1 = "%Y-%m-%dT%H:%M:%S.%LZ";
function formatIsoNative$1(date2) {
  return date2.toISOString();
}
var formatIso$2 = Date.prototype.toISOString ? formatIsoNative$1 : utcFormat$1(isoSpecifier$1);
const formatIso$3 = formatIso$2;
function parseIsoNative$1(string) {
  var date2 = new Date(string);
  return isNaN(date2) ? null : date2;
}
var parseIso$2 = +new Date("2000-01-01T00:00:00.000Z") ? parseIsoNative$1 : utcParse$1(isoSpecifier$1);
const parseIso$3 = parseIso$2;
function sequentialQuantile$1() {
  var domain = [], interpolator = identity$e;
  function scale2(x2) {
    if (x2 != null && !isNaN(x2 = +x2))
      return interpolator((bisect(domain, x2, 1) - 1) / (domain.length - 1));
  }
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [];
    for (let d of _2)
      if (d != null && !isNaN(d = +d))
        domain.push(d);
    domain.sort(ascending$7);
    return scale2;
  };
  scale2.interpolator = function(_2) {
    return arguments.length ? (interpolator = _2, scale2) : interpolator;
  };
  scale2.range = function() {
    return domain.map((d, i) => interpolator(i / (domain.length - 1)));
  };
  scale2.quantiles = function(n) {
    return Array.from({ length: n + 1 }, (_2, i) => quantile$1(domain, i / n));
  };
  scale2.copy = function() {
    return sequentialQuantile$1(interpolator).domain(domain);
  };
  return initInterpolator$1.apply(scale2, arguments);
}
function colors$1(specifier) {
  var n = specifier.length / 6 | 0, colors2 = new Array(n), i = 0;
  while (i < n)
    colors2[i] = "#" + specifier.slice(i * 6, ++i * 6);
  return colors2;
}
const category10$1 = colors$1("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");
const Accent$1 = colors$1("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");
const Dark2$1 = colors$1("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");
const Paired$1 = colors$1("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");
const Pastel1$1 = colors$1("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");
const Pastel2$1 = colors$1("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");
const Set1$1 = colors$1("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");
const Set2$1 = colors$1("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");
const Set3$1 = colors$1("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");
const Tableau10$1 = colors$1("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");
const ramp$3 = (scheme2) => rgbBasis$1(scheme2[scheme2.length - 1]);
var scheme$R = new Array(3).concat(
  "d8b365f5f5f55ab4ac",
  "a6611adfc27d80cdc1018571",
  "a6611adfc27df5f5f580cdc1018571",
  "8c510ad8b365f6e8c3c7eae55ab4ac01665e",
  "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e",
  "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
  "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e",
  "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30",
  "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30"
).map(colors$1);
const BrBG$1 = ramp$3(scheme$R);
var scheme$Q = new Array(3).concat(
  "af8dc3f7f7f77fbf7b",
  "7b3294c2a5cfa6dba0008837",
  "7b3294c2a5cff7f7f7a6dba0008837",
  "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837",
  "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837",
  "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837",
  "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837",
  "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",
  "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b"
).map(colors$1);
const PRGn$1 = ramp$3(scheme$Q);
var scheme$P = new Array(3).concat(
  "e9a3c9f7f7f7a1d76a",
  "d01c8bf1b6dab8e1864dac26",
  "d01c8bf1b6daf7f7f7b8e1864dac26",
  "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221",
  "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221",
  "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221",
  "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221",
  "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",
  "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419"
).map(colors$1);
const PiYG$1 = ramp$3(scheme$P);
var scheme$O = new Array(3).concat(
  "998ec3f7f7f7f1a340",
  "5e3c99b2abd2fdb863e66101",
  "5e3c99b2abd2f7f7f7fdb863e66101",
  "542788998ec3d8daebfee0b6f1a340b35806",
  "542788998ec3d8daebf7f7f7fee0b6f1a340b35806",
  "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806",
  "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806",
  "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08",
  "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08"
).map(colors$1);
const PuOr$1 = ramp$3(scheme$O);
var scheme$N = new Array(3).concat(
  "ef8a62f7f7f767a9cf",
  "ca0020f4a58292c5de0571b0",
  "ca0020f4a582f7f7f792c5de0571b0",
  "b2182bef8a62fddbc7d1e5f067a9cf2166ac",
  "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac",
  "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac",
  "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac",
  "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061",
  "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061"
).map(colors$1);
const RdBu$1 = ramp$3(scheme$N);
var scheme$M = new Array(3).concat(
  "ef8a62ffffff999999",
  "ca0020f4a582bababa404040",
  "ca0020f4a582ffffffbababa404040",
  "b2182bef8a62fddbc7e0e0e09999994d4d4d",
  "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d",
  "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d",
  "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d",
  "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a",
  "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a"
).map(colors$1);
const RdGy$1 = ramp$3(scheme$M);
var scheme$L = new Array(3).concat(
  "fc8d59ffffbf91bfdb",
  "d7191cfdae61abd9e92c7bb6",
  "d7191cfdae61ffffbfabd9e92c7bb6",
  "d73027fc8d59fee090e0f3f891bfdb4575b4",
  "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",
  "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",
  "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",
  "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",
  "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"
).map(colors$1);
const RdYlBu$1 = ramp$3(scheme$L);
var scheme$K = new Array(3).concat(
  "fc8d59ffffbf91cf60",
  "d7191cfdae61a6d96a1a9641",
  "d7191cfdae61ffffbfa6d96a1a9641",
  "d73027fc8d59fee08bd9ef8b91cf601a9850",
  "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850",
  "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",
  "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850",
  "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
  "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837"
).map(colors$1);
const RdYlGn$1 = ramp$3(scheme$K);
var scheme$J = new Array(3).concat(
  "fc8d59ffffbf99d594",
  "d7191cfdae61abdda42b83ba",
  "d7191cfdae61ffffbfabdda42b83ba",
  "d53e4ffc8d59fee08be6f59899d5943288bd",
  "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd",
  "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd",
  "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd",
  "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2",
  "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2"
).map(colors$1);
const Spectral$1 = ramp$3(scheme$J);
var scheme$I = new Array(3).concat(
  "e5f5f999d8c92ca25f",
  "edf8fbb2e2e266c2a4238b45",
  "edf8fbb2e2e266c2a42ca25f006d2c",
  "edf8fbccece699d8c966c2a42ca25f006d2c",
  "edf8fbccece699d8c966c2a441ae76238b45005824",
  "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824",
  "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b"
).map(colors$1);
const BuGn$1 = ramp$3(scheme$I);
var scheme$H = new Array(3).concat(
  "e0ecf49ebcda8856a7",
  "edf8fbb3cde38c96c688419d",
  "edf8fbb3cde38c96c68856a7810f7c",
  "edf8fbbfd3e69ebcda8c96c68856a7810f7c",
  "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",
  "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b",
  "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b"
).map(colors$1);
const BuPu$1 = ramp$3(scheme$H);
var scheme$G = new Array(3).concat(
  "e0f3dba8ddb543a2ca",
  "f0f9e8bae4bc7bccc42b8cbe",
  "f0f9e8bae4bc7bccc443a2ca0868ac",
  "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac",
  "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e",
  "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e",
  "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081"
).map(colors$1);
const GnBu$1 = ramp$3(scheme$G);
var scheme$F = new Array(3).concat(
  "fee8c8fdbb84e34a33",
  "fef0d9fdcc8afc8d59d7301f",
  "fef0d9fdcc8afc8d59e34a33b30000",
  "fef0d9fdd49efdbb84fc8d59e34a33b30000",
  "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000",
  "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000",
  "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000"
).map(colors$1);
const OrRd$1 = ramp$3(scheme$F);
var scheme$E = new Array(3).concat(
  "ece2f0a6bddb1c9099",
  "f6eff7bdc9e167a9cf02818a",
  "f6eff7bdc9e167a9cf1c9099016c59",
  "f6eff7d0d1e6a6bddb67a9cf1c9099016c59",
  "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450",
  "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450",
  "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636"
).map(colors$1);
const PuBuGn$1 = ramp$3(scheme$E);
var scheme$D = new Array(3).concat(
  "ece7f2a6bddb2b8cbe",
  "f1eef6bdc9e174a9cf0570b0",
  "f1eef6bdc9e174a9cf2b8cbe045a8d",
  "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d",
  "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b",
  "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b",
  "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858"
).map(colors$1);
const PuBu$1 = ramp$3(scheme$D);
var scheme$C = new Array(3).concat(
  "e7e1efc994c7dd1c77",
  "f1eef6d7b5d8df65b0ce1256",
  "f1eef6d7b5d8df65b0dd1c77980043",
  "f1eef6d4b9dac994c7df65b0dd1c77980043",
  "f1eef6d4b9dac994c7df65b0e7298ace125691003f",
  "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f",
  "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f"
).map(colors$1);
const PuRd$1 = ramp$3(scheme$C);
var scheme$B = new Array(3).concat(
  "fde0ddfa9fb5c51b8a",
  "feebe2fbb4b9f768a1ae017e",
  "feebe2fbb4b9f768a1c51b8a7a0177",
  "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177",
  "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177",
  "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",
  "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a"
).map(colors$1);
const RdPu$1 = ramp$3(scheme$B);
var scheme$A = new Array(3).concat(
  "edf8b17fcdbb2c7fb8",
  "ffffcca1dab441b6c4225ea8",
  "ffffcca1dab441b6c42c7fb8253494",
  "ffffccc7e9b47fcdbb41b6c42c7fb8253494",
  "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84",
  "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84",
  "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58"
).map(colors$1);
const YlGnBu$1 = ramp$3(scheme$A);
var scheme$z = new Array(3).concat(
  "f7fcb9addd8e31a354",
  "ffffccc2e69978c679238443",
  "ffffccc2e69978c67931a354006837",
  "ffffccd9f0a3addd8e78c67931a354006837",
  "ffffccd9f0a3addd8e78c67941ab5d238443005a32",
  "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32",
  "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529"
).map(colors$1);
const YlGn$1 = ramp$3(scheme$z);
var scheme$y = new Array(3).concat(
  "fff7bcfec44fd95f0e",
  "ffffd4fed98efe9929cc4c02",
  "ffffd4fed98efe9929d95f0e993404",
  "ffffd4fee391fec44ffe9929d95f0e993404",
  "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04",
  "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04",
  "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506"
).map(colors$1);
const YlOrBr$1 = ramp$3(scheme$y);
var scheme$x = new Array(3).concat(
  "ffeda0feb24cf03b20",
  "ffffb2fecc5cfd8d3ce31a1c",
  "ffffb2fecc5cfd8d3cf03b20bd0026",
  "ffffb2fed976feb24cfd8d3cf03b20bd0026",
  "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",
  "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026",
  "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026"
).map(colors$1);
const YlOrRd$1 = ramp$3(scheme$x);
var scheme$w = new Array(3).concat(
  "deebf79ecae13182bd",
  "eff3ffbdd7e76baed62171b5",
  "eff3ffbdd7e76baed63182bd08519c",
  "eff3ffc6dbef9ecae16baed63182bd08519c",
  "eff3ffc6dbef9ecae16baed64292c62171b5084594",
  "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594",
  "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b"
).map(colors$1);
const Blues$1 = ramp$3(scheme$w);
var scheme$v = new Array(3).concat(
  "e5f5e0a1d99b31a354",
  "edf8e9bae4b374c476238b45",
  "edf8e9bae4b374c47631a354006d2c",
  "edf8e9c7e9c0a1d99b74c47631a354006d2c",
  "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32",
  "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32",
  "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b"
).map(colors$1);
const Greens$1 = ramp$3(scheme$v);
var scheme$u = new Array(3).concat(
  "f0f0f0bdbdbd636363",
  "f7f7f7cccccc969696525252",
  "f7f7f7cccccc969696636363252525",
  "f7f7f7d9d9d9bdbdbd969696636363252525",
  "f7f7f7d9d9d9bdbdbd969696737373525252252525",
  "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",
  "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000"
).map(colors$1);
const Greys$1 = ramp$3(scheme$u);
var scheme$t = new Array(3).concat(
  "efedf5bcbddc756bb1",
  "f2f0f7cbc9e29e9ac86a51a3",
  "f2f0f7cbc9e29e9ac8756bb154278f",
  "f2f0f7dadaebbcbddc9e9ac8756bb154278f",
  "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486",
  "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486",
  "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d"
).map(colors$1);
const Purples$1 = ramp$3(scheme$t);
var scheme$s = new Array(3).concat(
  "fee0d2fc9272de2d26",
  "fee5d9fcae91fb6a4acb181d",
  "fee5d9fcae91fb6a4ade2d26a50f15",
  "fee5d9fcbba1fc9272fb6a4ade2d26a50f15",
  "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",
  "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d",
  "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d"
).map(colors$1);
const Reds$1 = ramp$3(scheme$s);
var scheme$r = new Array(3).concat(
  "fee6cefdae6be6550d",
  "feeddefdbe85fd8d3cd94701",
  "feeddefdbe85fd8d3ce6550da63603",
  "feeddefdd0a2fdae6bfd8d3ce6550da63603",
  "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04",
  "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04",
  "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704"
).map(colors$1);
const Oranges$1 = ramp$3(scheme$r);
function cividis$1(t) {
  t = Math.max(0, Math.min(1, t));
  return "rgb(" + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + ", " + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + ", " + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67))))))) + ")";
}
const cubehelix$4 = cubehelixLong$1(cubehelix$5(300, 0.5, 0), cubehelix$5(-240, 0.5, 1));
var warm$1 = cubehelixLong$1(cubehelix$5(-100, 0.75, 0.35), cubehelix$5(80, 1.5, 0.8));
var cool$1 = cubehelixLong$1(cubehelix$5(260, 0.75, 0.35), cubehelix$5(80, 1.5, 0.8));
var c$5 = cubehelix$5();
function rainbow$1(t) {
  if (t < 0 || t > 1)
    t -= Math.floor(t);
  var ts = Math.abs(t - 0.5);
  c$5.h = 360 * t - 100;
  c$5.s = 1.5 - 1.5 * ts;
  c$5.l = 0.8 - 0.9 * ts;
  return c$5 + "";
}
var c$4 = rgb$1(), pi_1_3$1 = Math.PI / 3, pi_2_3$1 = Math.PI * 2 / 3;
function sinebow$1(t) {
  var x2;
  t = (0.5 - t) * Math.PI;
  c$4.r = 255 * (x2 = Math.sin(t)) * x2;
  c$4.g = 255 * (x2 = Math.sin(t + pi_1_3$1)) * x2;
  c$4.b = 255 * (x2 = Math.sin(t + pi_2_3$1)) * x2;
  return c$4 + "";
}
function turbo$1(t) {
  t = Math.max(0, Math.min(1, t));
  return "rgb(" + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + ", " + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + ", " + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66))))))) + ")";
}
function ramp$2(range2) {
  var n = range2.length;
  return function(t) {
    return range2[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];
  };
}
const viridis$1 = ramp$2(colors$1("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
var magma$1 = ramp$2(colors$1("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));
var inferno$1 = ramp$2(colors$1("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));
var plasma$1 = ramp$2(colors$1("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));
function descending$4(a2, b) {
  return b < a2 ? -1 : b > a2 ? 1 : b >= a2 ? 0 : NaN;
}
function identity$b(d) {
  return d;
}
function pie$1() {
  var value = identity$b, sortValues = descending$4, sort2 = null, startAngle = constant$m(0), endAngle = constant$m(tau$7), padAngle = constant$m(0);
  function pie2(data) {
    var i, n = (data = array$7(data)).length, j, k2, sum2 = 0, index2 = new Array(n), arcs = new Array(n), a0 = +startAngle.apply(this, arguments), da = Math.min(tau$7, Math.max(-tau$7, endAngle.apply(this, arguments) - a0)), a1, p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)), pa = p * (da < 0 ? -1 : 1), v;
    for (i = 0; i < n; ++i) {
      if ((v = arcs[index2[i] = i] = +value(data[i], i, data)) > 0) {
        sum2 += v;
      }
    }
    if (sortValues != null)
      index2.sort(function(i2, j2) {
        return sortValues(arcs[i2], arcs[j2]);
      });
    else if (sort2 != null)
      index2.sort(function(i2, j2) {
        return sort2(data[i2], data[j2]);
      });
    for (i = 0, k2 = sum2 ? (da - n * pa) / sum2 : 0; i < n; ++i, a0 = a1) {
      j = index2[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k2 : 0) + pa, arcs[j] = {
        data: data[j],
        index: i,
        value: v,
        startAngle: a0,
        endAngle: a1,
        padAngle: p
      };
    }
    return arcs;
  }
  pie2.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant$m(+_2), pie2) : value;
  };
  pie2.sortValues = function(_2) {
    return arguments.length ? (sortValues = _2, sort2 = null, pie2) : sortValues;
  };
  pie2.sort = function(_2) {
    return arguments.length ? (sort2 = _2, sortValues = null, pie2) : sort2;
  };
  pie2.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant$m(+_2), pie2) : startAngle;
  };
  pie2.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant$m(+_2), pie2) : endAngle;
  };
  pie2.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant$m(+_2), pie2) : padAngle;
  };
  return pie2;
}
var curveRadialLinear$1 = curveRadial$2(curveLinear$1);
function Radial$1(curve) {
  this._curve = curve;
}
Radial$1.prototype = {
  areaStart: function() {
    this._curve.areaStart();
  },
  areaEnd: function() {
    this._curve.areaEnd();
  },
  lineStart: function() {
    this._curve.lineStart();
  },
  lineEnd: function() {
    this._curve.lineEnd();
  },
  point: function(a2, r) {
    this._curve.point(r * Math.sin(a2), r * -Math.cos(a2));
  }
};
function curveRadial$2(curve) {
  function radial2(context) {
    return new Radial$1(curve(context));
  }
  radial2._curve = curve;
  return radial2;
}
function lineRadial$2(l) {
  var c2 = l.curve;
  l.angle = l.x, delete l.x;
  l.radius = l.y, delete l.y;
  l.curve = function(_2) {
    return arguments.length ? c2(curveRadial$2(_2)) : c2()._curve;
  };
  return l;
}
function lineRadial$3() {
  return lineRadial$2(line$2().curve(curveRadialLinear$1));
}
function areaRadial$1() {
  var a2 = area$2$1().curve(curveRadialLinear$1), c2 = a2.curve, x02 = a2.lineX0, x12 = a2.lineX1, y02 = a2.lineY0, y12 = a2.lineY1;
  a2.angle = a2.x, delete a2.x;
  a2.startAngle = a2.x0, delete a2.x0;
  a2.endAngle = a2.x1, delete a2.x1;
  a2.radius = a2.y, delete a2.y;
  a2.innerRadius = a2.y0, delete a2.y0;
  a2.outerRadius = a2.y1, delete a2.y1;
  a2.lineStartAngle = function() {
    return lineRadial$2(x02());
  }, delete a2.lineX0;
  a2.lineEndAngle = function() {
    return lineRadial$2(x12());
  }, delete a2.lineX1;
  a2.lineInnerRadius = function() {
    return lineRadial$2(y02());
  }, delete a2.lineY0;
  a2.lineOuterRadius = function() {
    return lineRadial$2(y12());
  }, delete a2.lineY1;
  a2.curve = function(_2) {
    return arguments.length ? c2(curveRadial$2(_2)) : c2()._curve;
  };
  return a2;
}
function pointRadial$1(x2, y2) {
  return [(y2 = +y2) * Math.cos(x2 -= Math.PI / 2), y2 * Math.sin(x2)];
}
class Bump {
  constructor(context, x2) {
    this._context = context;
    this._x = x2;
  }
  areaStart() {
    this._line = 0;
  }
  areaEnd() {
    this._line = NaN;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  }
  point(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0: {
        this._point = 1;
        if (this._line)
          this._context.lineTo(x2, y2);
        else
          this._context.moveTo(x2, y2);
        break;
      }
      case 1:
        this._point = 2;
      default: {
        if (this._x)
          this._context.bezierCurveTo(this._x0 = (this._x0 + x2) / 2, this._y0, this._x0, y2, x2, y2);
        else
          this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y2) / 2, x2, this._y0, x2, y2);
        break;
      }
    }
    this._x0 = x2, this._y0 = y2;
  }
}
class BumpRadial {
  constructor(context) {
    this._context = context;
  }
  lineStart() {
    this._point = 0;
  }
  lineEnd() {
  }
  point(x2, y2) {
    x2 = +x2, y2 = +y2;
    if (this._point++ === 0) {
      this._x0 = x2, this._y0 = y2;
    } else {
      const p02 = pointRadial$1(this._x0, this._y0);
      const p1 = pointRadial$1(this._x0, this._y0 = (this._y0 + y2) / 2);
      const p2 = pointRadial$1(x2, this._y0);
      const p3 = pointRadial$1(x2, y2);
      this._context.moveTo(...p02);
      this._context.bezierCurveTo(...p1, ...p2, ...p3);
    }
  }
}
function bumpX(context) {
  return new Bump(context, true);
}
function bumpY(context) {
  return new Bump(context, false);
}
function bumpRadial(context) {
  return new BumpRadial(context);
}
function linkSource$1(d) {
  return d.source;
}
function linkTarget$1(d) {
  return d.target;
}
function link$3(curve) {
  let source = linkSource$1;
  let target = linkTarget$1;
  let x2 = x$5;
  let y2 = y$5;
  let context = null;
  let output = null;
  function link2() {
    let buffer2;
    const argv = slice$a.call(arguments);
    const s2 = source.apply(this, argv);
    const t = target.apply(this, argv);
    if (context == null)
      output = curve(buffer2 = path$1());
    output.lineStart();
    argv[0] = s2, output.point(+x2.apply(this, argv), +y2.apply(this, argv));
    argv[0] = t, output.point(+x2.apply(this, argv), +y2.apply(this, argv));
    output.lineEnd();
    if (buffer2)
      return output = null, buffer2 + "" || null;
  }
  link2.source = function(_2) {
    return arguments.length ? (source = _2, link2) : source;
  };
  link2.target = function(_2) {
    return arguments.length ? (target = _2, link2) : target;
  };
  link2.x = function(_2) {
    return arguments.length ? (x2 = typeof _2 === "function" ? _2 : constant$m(+_2), link2) : x2;
  };
  link2.y = function(_2) {
    return arguments.length ? (y2 = typeof _2 === "function" ? _2 : constant$m(+_2), link2) : y2;
  };
  link2.context = function(_2) {
    return arguments.length ? (_2 == null ? context = output = null : output = curve(context = _2), link2) : context;
  };
  return link2;
}
function linkHorizontal$1() {
  return link$3(bumpX);
}
function linkVertical$1() {
  return link$3(bumpY);
}
function linkRadial$1() {
  const l = link$3(bumpRadial);
  l.angle = l.x, delete l.x;
  l.radius = l.y, delete l.y;
  return l;
}
function none$4(series, order) {
  if (!((n = series.length) > 1))
    return;
  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {
    s0 = s1, s1 = series[order[i]];
    for (j = 0; j < m; ++j) {
      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];
    }
  }
}
function none$3(series) {
  var n = series.length, o = new Array(n);
  while (--n >= 0)
    o[n] = n;
  return o;
}
function stackValue$1(d, key) {
  return d[key];
}
function stackSeries(key) {
  const series = [];
  series.key = key;
  return series;
}
function stack$1() {
  var keys2 = constant$m([]), order = none$3, offset = none$4, value = stackValue$1;
  function stack2(data) {
    var sz = Array.from(keys2.apply(this, arguments), stackSeries), i, n = sz.length, j = -1, oz;
    for (const d of data) {
      for (i = 0, ++j; i < n; ++i) {
        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;
      }
    }
    for (i = 0, oz = array$7(order(sz)); i < n; ++i) {
      sz[oz[i]].index = i;
    }
    offset(sz, oz);
    return sz;
  }
  stack2.keys = function(_2) {
    return arguments.length ? (keys2 = typeof _2 === "function" ? _2 : constant$m(Array.from(_2)), stack2) : keys2;
  };
  stack2.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant$m(+_2), stack2) : value;
  };
  stack2.order = function(_2) {
    return arguments.length ? (order = _2 == null ? none$3 : typeof _2 === "function" ? _2 : constant$m(Array.from(_2)), stack2) : order;
  };
  stack2.offset = function(_2) {
    return arguments.length ? (offset = _2 == null ? none$4 : _2, stack2) : offset;
  };
  return stack2;
}
function expand$1(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var i, n, j = 0, m = series[0].length, y2; j < m; ++j) {
    for (y2 = i = 0; i < n; ++i)
      y2 += series[i][j][1] || 0;
    if (y2)
      for (i = 0; i < n; ++i)
        series[i][j][1] /= y2;
  }
  none$4(series, order);
}
function diverging$2(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {
    for (yp = yn = 0, i = 0; i < n; ++i) {
      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {
        d[0] = yp, d[1] = yp += dy;
      } else if (dy < 0) {
        d[1] = yn, d[0] = yn += dy;
      } else {
        d[0] = 0, d[1] = dy;
      }
    }
  }
}
function silhouette$1(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {
    for (var i = 0, y2 = 0; i < n; ++i)
      y2 += series[i][j][1] || 0;
    s0[j][1] += s0[j][0] = -y2 / 2;
  }
  none$4(series, order);
}
function wiggle$1(series, order) {
  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0))
    return;
  for (var y2 = 0, j = 1, s0, m, n; j < m; ++j) {
    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {
      var si = series[order[i]], sij0 = si[j][1] || 0, sij1 = si[j - 1][1] || 0, s3 = (sij0 - sij1) / 2;
      for (var k2 = 0; k2 < i; ++k2) {
        var sk = series[order[k2]], skj0 = sk[j][1] || 0, skj1 = sk[j - 1][1] || 0;
        s3 += skj0 - skj1;
      }
      s1 += sij0, s2 += s3 * sij0;
    }
    s0[j - 1][1] += s0[j - 1][0] = y2;
    if (s1)
      y2 -= s2 / s1;
  }
  s0[j - 1][1] += s0[j - 1][0] = y2;
  none$4(series, order);
}
function appearance$1(series) {
  var peaks = series.map(peak$1);
  return none$3(series).sort(function(a2, b) {
    return peaks[a2] - peaks[b];
  });
}
function peak$1(series) {
  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;
  while (++i < n)
    if ((vi = +series[i][1]) > vj)
      vj = vi, j = i;
  return j;
}
function ascending$4(series) {
  var sums = series.map(sum$3);
  return none$3(series).sort(function(a2, b) {
    return sums[a2] - sums[b];
  });
}
function sum$3(series) {
  var s2 = 0, i = -1, n = series.length, v;
  while (++i < n)
    if (v = +series[i][1])
      s2 += v;
  return s2;
}
function descending$3(series) {
  return ascending$4(series).reverse();
}
function insideOut$1(series) {
  var n = series.length, i, j, sums = series.map(sum$3), order = appearance$1(series), top2 = 0, bottom2 = 0, tops = [], bottoms = [];
  for (i = 0; i < n; ++i) {
    j = order[i];
    if (top2 < bottom2) {
      top2 += sums[j];
      tops.push(j);
    } else {
      bottom2 += sums[j];
      bottoms.push(j);
    }
  }
  return bottoms.reverse().concat(tops);
}
function reverse$1(series) {
  return none$3(series).reverse();
}
const constant$e = (x2) => () => x2;
function ZoomEvent$1(type2, {
  sourceEvent: sourceEvent2,
  target,
  transform: transform2,
  dispatch: dispatch2
}) {
  Object.defineProperties(this, {
    type: { value: type2, enumerable: true, configurable: true },
    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },
    target: { value: target, enumerable: true, configurable: true },
    transform: { value: transform2, enumerable: true, configurable: true },
    _: { value: dispatch2 }
  });
}
function Transform$1(k2, x2, y2) {
  this.k = k2;
  this.x = x2;
  this.y = y2;
}
Transform$1.prototype = {
  constructor: Transform$1,
  scale: function(k2) {
    return k2 === 1 ? this : new Transform$1(this.k * k2, this.x, this.y);
  },
  translate: function(x2, y2) {
    return x2 === 0 & y2 === 0 ? this : new Transform$1(this.k, this.x + this.k * x2, this.y + this.k * y2);
  },
  apply: function(point2) {
    return [point2[0] * this.k + this.x, point2[1] * this.k + this.y];
  },
  applyX: function(x2) {
    return x2 * this.k + this.x;
  },
  applyY: function(y2) {
    return y2 * this.k + this.y;
  },
  invert: function(location2) {
    return [(location2[0] - this.x) / this.k, (location2[1] - this.y) / this.k];
  },
  invertX: function(x2) {
    return (x2 - this.x) / this.k;
  },
  invertY: function(y2) {
    return (y2 - this.y) / this.k;
  },
  rescaleX: function(x2) {
    return x2.copy().domain(x2.range().map(this.invertX, this).map(x2.invert, x2));
  },
  rescaleY: function(y2) {
    return y2.copy().domain(y2.range().map(this.invertY, this).map(y2.invert, y2));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};
var identity$a = new Transform$1(1, 0, 0);
transform$2.prototype = Transform$1.prototype;
function transform$2(node) {
  while (!node.__zoom)
    if (!(node = node.parentNode))
      return identity$a;
  return node.__zoom;
}
function nopropagation$3(event2) {
  event2.stopImmediatePropagation();
}
function noevent$3(event2) {
  event2.preventDefault();
  event2.stopImmediatePropagation();
}
function defaultFilter$3(event2) {
  return (!event2.ctrlKey || event2.type === "wheel") && !event2.button;
}
function defaultExtent$2() {
  var e = this;
  if (e instanceof SVGElement) {
    e = e.ownerSVGElement || e;
    if (e.hasAttribute("viewBox")) {
      e = e.viewBox.baseVal;
      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];
    }
    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];
  }
  return [[0, 0], [e.clientWidth, e.clientHeight]];
}
function defaultTransform$1() {
  return this.__zoom || identity$a;
}
function defaultWheelDelta$1(event2) {
  return -event2.deltaY * (event2.deltaMode === 1 ? 0.05 : event2.deltaMode ? 1 : 2e-3) * (event2.ctrlKey ? 10 : 1);
}
function defaultTouchable$3() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function defaultConstrain$1(transform2, extent2, translateExtent) {
  var dx0 = transform2.invertX(extent2[0][0]) - translateExtent[0][0], dx1 = transform2.invertX(extent2[1][0]) - translateExtent[1][0], dy0 = transform2.invertY(extent2[0][1]) - translateExtent[0][1], dy1 = transform2.invertY(extent2[1][1]) - translateExtent[1][1];
  return transform2.translate(
    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),
    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)
  );
}
function zoom$1() {
  var filter2 = defaultFilter$3, extent2 = defaultExtent$2, constrain = defaultConstrain$1, wheelDelta = defaultWheelDelta$1, touchable = defaultTouchable$3, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate2 = interpolateZoom$1, listeners = dispatch$1("start", "zoom", "end"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;
  function zoom2(selection2) {
    selection2.property("__zoom", defaultTransform$1).on("wheel.zoom", wheeled, { passive: false }).on("mousedown.zoom", mousedowned).on("dblclick.zoom", dblclicked).filter(touchable).on("touchstart.zoom", touchstarted).on("touchmove.zoom", touchmoved).on("touchend.zoom touchcancel.zoom", touchended).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  zoom2.transform = function(collection, transform2, point2, event2) {
    var selection2 = collection.selection ? collection.selection() : collection;
    selection2.property("__zoom", defaultTransform$1);
    if (collection !== selection2) {
      schedule2(collection, transform2, point2, event2);
    } else {
      selection2.interrupt().each(function() {
        gesture(this, arguments).event(event2).start().zoom(null, typeof transform2 === "function" ? transform2.apply(this, arguments) : transform2).end();
      });
    }
  };
  zoom2.scaleBy = function(selection2, k2, p, event2) {
    zoom2.scaleTo(selection2, function() {
      var k0 = this.__zoom.k, k1 = typeof k2 === "function" ? k2.apply(this, arguments) : k2;
      return k0 * k1;
    }, p, event2);
  };
  zoom2.scaleTo = function(selection2, k2, p, event2) {
    zoom2.transform(selection2, function() {
      var e = extent2.apply(this, arguments), t02 = this.__zoom, p02 = p == null ? centroid2(e) : typeof p === "function" ? p.apply(this, arguments) : p, p1 = t02.invert(p02), k1 = typeof k2 === "function" ? k2.apply(this, arguments) : k2;
      return constrain(translate(scale2(t02, k1), p02, p1), e, translateExtent);
    }, p, event2);
  };
  zoom2.translateBy = function(selection2, x2, y2, event2) {
    zoom2.transform(selection2, function() {
      return constrain(this.__zoom.translate(
        typeof x2 === "function" ? x2.apply(this, arguments) : x2,
        typeof y2 === "function" ? y2.apply(this, arguments) : y2
      ), extent2.apply(this, arguments), translateExtent);
    }, null, event2);
  };
  zoom2.translateTo = function(selection2, x2, y2, p, event2) {
    zoom2.transform(selection2, function() {
      var e = extent2.apply(this, arguments), t = this.__zoom, p02 = p == null ? centroid2(e) : typeof p === "function" ? p.apply(this, arguments) : p;
      return constrain(identity$a.translate(p02[0], p02[1]).scale(t.k).translate(
        typeof x2 === "function" ? -x2.apply(this, arguments) : -x2,
        typeof y2 === "function" ? -y2.apply(this, arguments) : -y2
      ), e, translateExtent);
    }, p, event2);
  };
  function scale2(transform2, k2) {
    k2 = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k2));
    return k2 === transform2.k ? transform2 : new Transform$1(k2, transform2.x, transform2.y);
  }
  function translate(transform2, p02, p1) {
    var x2 = p02[0] - p1[0] * transform2.k, y2 = p02[1] - p1[1] * transform2.k;
    return x2 === transform2.x && y2 === transform2.y ? transform2 : new Transform$1(transform2.k, x2, y2);
  }
  function centroid2(extent3) {
    return [(+extent3[0][0] + +extent3[1][0]) / 2, (+extent3[0][1] + +extent3[1][1]) / 2];
  }
  function schedule2(transition2, transform2, point2, event2) {
    transition2.on("start.zoom", function() {
      gesture(this, arguments).event(event2).start();
    }).on("interrupt.zoom end.zoom", function() {
      gesture(this, arguments).event(event2).end();
    }).tween("zoom", function() {
      var that = this, args = arguments, g = gesture(that, args).event(event2), e = extent2.apply(that, args), p = point2 == null ? centroid2(e) : typeof point2 === "function" ? point2.apply(that, args) : point2, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a2 = that.__zoom, b = typeof transform2 === "function" ? transform2.apply(that, args) : transform2, i = interpolate2(a2.invert(p).concat(w / a2.k), b.invert(p).concat(w / b.k));
      return function(t) {
        if (t === 1)
          t = b;
        else {
          var l = i(t), k2 = w / l[2];
          t = new Transform$1(k2, p[0] - l[0] * k2, p[1] - l[1] * k2);
        }
        g.zoom(null, t);
      };
    });
  }
  function gesture(that, args, clean) {
    return !clean && that.__zooming || new Gesture(that, args);
  }
  function Gesture(that, args) {
    this.that = that;
    this.args = args;
    this.active = 0;
    this.sourceEvent = null;
    this.extent = extent2.apply(that, args);
    this.taps = 0;
  }
  Gesture.prototype = {
    event: function(event2) {
      if (event2)
        this.sourceEvent = event2;
      return this;
    },
    start: function() {
      if (++this.active === 1) {
        this.that.__zooming = this;
        this.emit("start");
      }
      return this;
    },
    zoom: function(key, transform2) {
      if (this.mouse && key !== "mouse")
        this.mouse[1] = transform2.invert(this.mouse[0]);
      if (this.touch0 && key !== "touch")
        this.touch0[1] = transform2.invert(this.touch0[0]);
      if (this.touch1 && key !== "touch")
        this.touch1[1] = transform2.invert(this.touch1[0]);
      this.that.__zoom = transform2;
      this.emit("zoom");
      return this;
    },
    end: function() {
      if (--this.active === 0) {
        delete this.that.__zooming;
        this.emit("end");
      }
      return this;
    },
    emit: function(type2) {
      var d = select$1(this.that).datum();
      listeners.call(
        type2,
        this.that,
        new ZoomEvent$1(type2, {
          sourceEvent: this.sourceEvent,
          target: zoom2,
          type: type2,
          transform: this.that.__zoom,
          dispatch: listeners
        }),
        d
      );
    }
  };
  function wheeled(event2, ...args) {
    if (!filter2.apply(this, arguments))
      return;
    var g = gesture(this, args).event(event2), t = this.__zoom, k2 = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = pointer(event2);
    if (g.wheel) {
      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {
        g.mouse[1] = t.invert(g.mouse[0] = p);
      }
      clearTimeout(g.wheel);
    } else if (t.k === k2)
      return;
    else {
      g.mouse = [p, t.invert(p)];
      interrupt$1(this);
      g.start();
    }
    noevent$3(event2);
    g.wheel = setTimeout(wheelidled, wheelDelay);
    g.zoom("mouse", constrain(translate(scale2(t, k2), g.mouse[0], g.mouse[1]), g.extent, translateExtent));
    function wheelidled() {
      g.wheel = null;
      g.end();
    }
  }
  function mousedowned(event2, ...args) {
    if (touchending || !filter2.apply(this, arguments))
      return;
    var currentTarget = event2.currentTarget, g = gesture(this, args, true).event(event2), v = select$1(event2.view).on("mousemove.zoom", mousemoved, true).on("mouseup.zoom", mouseupped, true), p = pointer(event2, currentTarget), x02 = event2.clientX, y02 = event2.clientY;
    dragDisable$1(event2.view);
    nopropagation$3(event2);
    g.mouse = [p, this.__zoom.invert(p)];
    interrupt$1(this);
    g.start();
    function mousemoved(event3) {
      noevent$3(event3);
      if (!g.moved) {
        var dx = event3.clientX - x02, dy = event3.clientY - y02;
        g.moved = dx * dx + dy * dy > clickDistance2;
      }
      g.event(event3).zoom("mouse", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event3, currentTarget), g.mouse[1]), g.extent, translateExtent));
    }
    function mouseupped(event3) {
      v.on("mousemove.zoom mouseup.zoom", null);
      yesdrag$1(event3.view, g.moved);
      noevent$3(event3);
      g.event(event3).end();
    }
  }
  function dblclicked(event2, ...args) {
    if (!filter2.apply(this, arguments))
      return;
    var t02 = this.__zoom, p02 = pointer(event2.changedTouches ? event2.changedTouches[0] : event2, this), p1 = t02.invert(p02), k1 = t02.k * (event2.shiftKey ? 0.5 : 2), t12 = constrain(translate(scale2(t02, k1), p02, p1), extent2.apply(this, args), translateExtent);
    noevent$3(event2);
    if (duration > 0)
      select$1(this).transition().duration(duration).call(schedule2, t12, p02, event2);
    else
      select$1(this).call(zoom2.transform, t12, p02, event2);
  }
  function touchstarted(event2, ...args) {
    if (!filter2.apply(this, arguments))
      return;
    var touches2 = event2.touches, n = touches2.length, g = gesture(this, args, event2.changedTouches.length === n).event(event2), started, i, t, p;
    nopropagation$3(event2);
    for (i = 0; i < n; ++i) {
      t = touches2[i], p = pointer(t, this);
      p = [p, this.__zoom.invert(p), t.identifier];
      if (!g.touch0)
        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;
      else if (!g.touch1 && g.touch0[2] !== p[2])
        g.touch1 = p, g.taps = 0;
    }
    if (touchstarting)
      touchstarting = clearTimeout(touchstarting);
    if (started) {
      if (g.taps < 2)
        touchfirst = p[0], touchstarting = setTimeout(function() {
          touchstarting = null;
        }, touchDelay);
      interrupt$1(this);
      g.start();
    }
  }
  function touchmoved(event2, ...args) {
    if (!this.__zooming)
      return;
    var g = gesture(this, args).event(event2), touches2 = event2.changedTouches, n = touches2.length, i, t, p, l;
    noevent$3(event2);
    for (i = 0; i < n; ++i) {
      t = touches2[i], p = pointer(t, this);
      if (g.touch0 && g.touch0[2] === t.identifier)
        g.touch0[0] = p;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        g.touch1[0] = p;
    }
    t = g.that.__zoom;
    if (g.touch1) {
      var p02 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p02[0]) * dp + (dp = p1[1] - p02[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;
      t = scale2(t, Math.sqrt(dp / dl));
      p = [(p02[0] + p1[0]) / 2, (p02[1] + p1[1]) / 2];
      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];
    } else if (g.touch0)
      p = g.touch0[0], l = g.touch0[1];
    else
      return;
    g.zoom("touch", constrain(translate(t, p, l), g.extent, translateExtent));
  }
  function touchended(event2, ...args) {
    if (!this.__zooming)
      return;
    var g = gesture(this, args).event(event2), touches2 = event2.changedTouches, n = touches2.length, i, t;
    nopropagation$3(event2);
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, touchDelay);
    for (i = 0; i < n; ++i) {
      t = touches2[i];
      if (g.touch0 && g.touch0[2] === t.identifier)
        delete g.touch0;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        delete g.touch1;
    }
    if (g.touch1 && !g.touch0)
      g.touch0 = g.touch1, delete g.touch1;
    if (g.touch0)
      g.touch0[1] = this.__zoom.invert(g.touch0[0]);
    else {
      g.end();
      if (g.taps === 2) {
        t = pointer(t, this);
        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {
          var p = select$1(this).on("dblclick.zoom");
          if (p)
            p.apply(this, arguments);
        }
      }
    }
  }
  zoom2.wheelDelta = function(_2) {
    return arguments.length ? (wheelDelta = typeof _2 === "function" ? _2 : constant$e(+_2), zoom2) : wheelDelta;
  };
  zoom2.filter = function(_2) {
    return arguments.length ? (filter2 = typeof _2 === "function" ? _2 : constant$e(!!_2), zoom2) : filter2;
  };
  zoom2.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant$e(!!_2), zoom2) : touchable;
  };
  zoom2.extent = function(_2) {
    return arguments.length ? (extent2 = typeof _2 === "function" ? _2 : constant$e([[+_2[0][0], +_2[0][1]], [+_2[1][0], +_2[1][1]]]), zoom2) : extent2;
  };
  zoom2.scaleExtent = function(_2) {
    return arguments.length ? (scaleExtent[0] = +_2[0], scaleExtent[1] = +_2[1], zoom2) : [scaleExtent[0], scaleExtent[1]];
  };
  zoom2.translateExtent = function(_2) {
    return arguments.length ? (translateExtent[0][0] = +_2[0][0], translateExtent[1][0] = +_2[1][0], translateExtent[0][1] = +_2[0][1], translateExtent[1][1] = +_2[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];
  };
  zoom2.constrain = function(_2) {
    return arguments.length ? (constrain = _2, zoom2) : constrain;
  };
  zoom2.duration = function(_2) {
    return arguments.length ? (duration = +_2, zoom2) : duration;
  };
  zoom2.interpolate = function(_2) {
    return arguments.length ? (interpolate2 = _2, zoom2) : interpolate2;
  };
  zoom2.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? zoom2 : value;
  };
  zoom2.clickDistance = function(_2) {
    return arguments.length ? (clickDistance2 = (_2 = +_2) * _2, zoom2) : Math.sqrt(clickDistance2);
  };
  zoom2.tapDistance = function(_2) {
    return arguments.length ? (tapDistance = +_2, zoom2) : tapDistance;
  };
  return zoom2;
}
const src = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  bisect,
  bisectRight: bisectRight$1,
  bisectLeft: bisectLeft$1,
  bisectCenter,
  ascending: ascending$7,
  bisector: bisector$1,
  blur,
  blur2,
  blurImage,
  count: count$1,
  cross: cross$4,
  cumsum,
  descending: descending$5,
  deviation: deviation$1,
  extent: extent$3,
  Adder: Adder$1,
  fsum,
  fcumsum,
  group,
  flatGroup,
  flatRollup,
  groups,
  index: index$4,
  indexes,
  rollup,
  rollups,
  groupSort,
  bin,
  histogram: bin,
  thresholdFreedmanDiaconis,
  thresholdScott,
  thresholdSturges: thresholdSturges$1,
  max: max$5,
  maxIndex,
  mean: mean$1,
  median: median$1,
  medianIndex,
  merge: merge$1,
  min: min$3,
  minIndex,
  mode,
  nice: nice$1,
  pairs: pairs$1,
  permute: permute$1,
  quantile: quantile$1,
  quantileIndex,
  quantileSorted,
  quickselect,
  range: range$2,
  rank,
  least,
  leastIndex,
  greatest,
  greatestIndex,
  scan: scan$1,
  shuffle: shuffle$2,
  shuffler,
  sum: sum$4,
  ticks: ticks$1,
  tickIncrement: tickIncrement$1,
  tickStep: tickStep$1,
  transpose: transpose$1,
  variance: variance$1,
  zip: zip$1,
  every,
  some,
  filter: filter$1,
  map: map$4,
  reduce,
  reverse: reverse$2,
  sort,
  difference,
  disjoint,
  intersection,
  subset,
  superset,
  union,
  InternMap,
  InternSet,
  axisTop: axisTop$1,
  axisRight: axisRight$1,
  axisBottom: axisBottom$1,
  axisLeft: axisLeft$1,
  brush: brush$2,
  brushX: brushX$1,
  brushY: brushY$1,
  brushSelection: brushSelection$1,
  chord: chord$1,
  chordTranspose,
  chordDirected,
  ribbon: ribbon$2,
  ribbonArrow,
  color: color$1,
  rgb: rgb$1,
  hsl: hsl$3,
  lab: lab$2,
  hcl: hcl$3,
  lch: lch$1,
  gray: gray$1,
  cubehelix: cubehelix$5,
  contours: Contours,
  contourDensity: density$1,
  Delaunay,
  Voronoi,
  dispatch: dispatch$1,
  drag: drag$1,
  dragDisable: dragDisable$1,
  dragEnable: yesdrag$1,
  dsvFormat: dsvFormat$1,
  csvParse: csvParse$1,
  csvParseRows: csvParseRows$1,
  csvFormat: csvFormat$1,
  csvFormatBody: csvFormatBody$1,
  csvFormatRows: csvFormatRows$1,
  csvFormatRow: csvFormatRow$1,
  csvFormatValue: csvFormatValue$1,
  tsvParse: tsvParse$1,
  tsvParseRows: tsvParseRows$1,
  tsvFormat: tsvFormat$1,
  tsvFormatBody: tsvFormatBody$1,
  tsvFormatRows: tsvFormatRows$1,
  tsvFormatRow: tsvFormatRow$1,
  tsvFormatValue: tsvFormatValue$1,
  autoType: autoType$1,
  easeLinear: linear$3,
  easeQuad: quadInOut$1,
  easeQuadIn: quadIn$1,
  easeQuadOut: quadOut$1,
  easeQuadInOut: quadInOut$1,
  easeCubic: cubicInOut$1,
  easeCubicIn: cubicIn$1,
  easeCubicOut: cubicOut$1,
  easeCubicInOut: cubicInOut$1,
  easePoly: polyInOut$1,
  easePolyIn: polyIn$1,
  easePolyOut: polyOut$1,
  easePolyInOut: polyInOut$1,
  easeSin: sinInOut$1,
  easeSinIn: sinIn$1,
  easeSinOut: sinOut$1,
  easeSinInOut: sinInOut$1,
  easeExp: expInOut$1,
  easeExpIn: expIn$1,
  easeExpOut: expOut$1,
  easeExpInOut: expInOut$1,
  easeCircle: circleInOut$1,
  easeCircleIn: circleIn$1,
  easeCircleOut: circleOut$1,
  easeCircleInOut: circleInOut$1,
  easeBounce: bounceOut$1,
  easeBounceIn: bounceIn$1,
  easeBounceOut: bounceOut$1,
  easeBounceInOut: bounceInOut$1,
  easeBack: backInOut$1,
  easeBackIn: backIn$1,
  easeBackOut: backOut$1,
  easeBackInOut: backInOut$1,
  easeElastic: elasticOut$1,
  easeElasticIn: elasticIn$1,
  easeElasticOut: elasticOut$1,
  easeElasticInOut: elasticInOut$1,
  blob: blob$1,
  buffer: buffer$1,
  dsv: dsv$1,
  csv: csv$2,
  tsv: tsv$2,
  image: image$1,
  json: json$2,
  text: text$1,
  xml: xml$1,
  html: html$1,
  svg: svg$1,
  forceCenter,
  forceCollide,
  forceLink,
  forceManyBody,
  forceRadial: radial$2,
  forceSimulation,
  forceX,
  forceY,
  formatDefaultLocale: defaultLocale$2,
  get format() {
    return format$1;
  },
  get formatPrefix() {
    return formatPrefix$1;
  },
  formatLocale: formatLocale$2,
  formatSpecifier: formatSpecifier$1,
  FormatSpecifier: FormatSpecifier$1,
  precisionFixed: precisionFixed$1,
  precisionPrefix: precisionPrefix$1,
  precisionRound: precisionRound$1,
  geoArea: geoArea$1,
  geoBounds: geoBounds$1,
  geoCentroid: geoCentroid$1,
  geoCircle,
  geoClipAntimeridian: clipAntimeridian$1,
  geoClipCircle: clipCircle$1,
  geoClipExtent: extent$2,
  geoClipRectangle: clipRectangle$1,
  geoContains: contains$4,
  geoDistance: distance$1,
  geoGraticule: graticule$1,
  geoGraticule10: graticule10$1,
  geoInterpolate: interpolate$2,
  geoLength: length$4,
  geoPath,
  geoAlbers,
  geoAlbersUsa,
  geoAzimuthalEqualArea,
  geoAzimuthalEqualAreaRaw: azimuthalEqualAreaRaw$1,
  geoAzimuthalEquidistant,
  geoAzimuthalEquidistantRaw: azimuthalEquidistantRaw$1,
  geoConicConformal,
  geoConicConformalRaw: conicConformalRaw$1,
  geoConicEqualArea,
  geoConicEqualAreaRaw: conicEqualAreaRaw$1,
  geoConicEquidistant,
  geoConicEquidistantRaw: conicEquidistantRaw$1,
  geoEqualEarth,
  geoEqualEarthRaw: equalEarthRaw$1,
  geoEquirectangular,
  geoEquirectangularRaw: equirectangularRaw$1,
  geoGnomonic,
  geoGnomonicRaw: gnomonicRaw$1,
  geoIdentity,
  geoProjection: projection$1,
  geoProjectionMutator: projectionMutator$1,
  geoMercator,
  geoMercatorRaw: mercatorRaw$1,
  geoNaturalEarth1,
  geoNaturalEarth1Raw: naturalEarth1Raw$1,
  geoOrthographic,
  geoOrthographicRaw: orthographicRaw$1,
  geoStereographic,
  geoStereographicRaw: stereographicRaw$1,
  geoTransverseMercator,
  geoTransverseMercatorRaw: transverseMercatorRaw$1,
  geoRotation: rotation$1,
  geoStream: geoStream$1,
  geoTransform: transform$3,
  cluster: cluster$1,
  hierarchy: hierarchy$1,
  Node: Node$2,
  pack,
  packSiblings: siblings$1,
  packEnclose: enclose$1,
  partition: partition$1,
  stratify: stratify$1,
  tree: tree$1,
  treemap,
  treemapBinary,
  treemapDice: treemapDice$1,
  treemapSlice: treemapSlice$1,
  treemapSliceDice,
  treemapSquarify,
  treemapResquarify,
  interpolate: interpolate$1$1,
  interpolateArray: array$8,
  interpolateBasis: basis$3,
  interpolateBasisClosed: basisClosed$2,
  interpolateDate: date$2,
  interpolateDiscrete: discrete$1,
  interpolateHue: hue$4,
  interpolateNumber: interpolateNumber$1,
  interpolateNumberArray: numberArray$1,
  interpolateObject: object$3,
  interpolateRound: interpolateRound$1,
  interpolateString: interpolateString$1,
  interpolateTransformCss: interpolateTransformCss$1,
  interpolateTransformSvg: interpolateTransformSvg$1,
  interpolateZoom: interpolateZoom$1,
  interpolateRgb: interpolateRgb$1,
  interpolateRgbBasis: rgbBasis$1,
  interpolateRgbBasisClosed: rgbBasisClosed$1,
  interpolateHsl: hsl$4,
  interpolateHslLong: hslLong$1,
  interpolateLab: lab$3,
  interpolateHcl: hcl$4,
  interpolateHclLong: hclLong$1,
  interpolateCubehelix: cubehelix$6,
  interpolateCubehelixLong: cubehelixLong$1,
  piecewise: piecewise$1,
  quantize: quantize$2,
  path: path$1,
  polygonArea: area$4,
  polygonCentroid: centroid$2,
  polygonHull: hull$1,
  polygonContains: contains$3,
  polygonLength: length$3,
  quadtree: quadtree$1,
  randomUniform: uniform$1,
  randomInt: int,
  randomNormal: normal$1,
  randomLogNormal: logNormal$1,
  randomBates: bates$1,
  randomIrwinHall: irwinHall$1,
  randomExponential: exponential$2,
  randomPareto: pareto,
  randomBernoulli: bernoulli,
  randomGeometric: geometric,
  randomBinomial: binomial,
  randomGamma: gamma$1,
  randomBeta: beta,
  randomWeibull: weibull,
  randomCauchy: cauchy,
  randomLogistic: logistic,
  randomPoisson: poisson,
  randomLcg: lcg,
  scaleBand: band$1,
  scalePoint: point$6,
  scaleIdentity: identity$f,
  scaleLinear: linear$4,
  scaleLog: log$2,
  scaleSymlog: symlog$1,
  scaleOrdinal: ordinal$1,
  scaleImplicit: implicit$1,
  scalePow: pow$2,
  scaleSqrt: sqrt$4,
  scaleRadial: radial$1,
  scaleQuantile: quantile$2,
  scaleQuantize: quantize$3,
  scaleThreshold: threshold$2,
  scaleTime: time$1,
  scaleUtc: utcTime$1,
  scaleSequential: sequential$1,
  scaleSequentialLog: sequentialLog$1,
  scaleSequentialPow: sequentialPow$1,
  scaleSequentialSqrt: sequentialSqrt$1,
  scaleSequentialSymlog: sequentialSymlog$1,
  scaleSequentialQuantile: sequentialQuantile$1,
  scaleDiverging: diverging$3,
  scaleDivergingLog: divergingLog$1,
  scaleDivergingPow: divergingPow$1,
  scaleDivergingSqrt: divergingSqrt$1,
  scaleDivergingSymlog: divergingSymlog$1,
  tickFormat: tickFormat$1,
  schemeCategory10: category10$1,
  schemeAccent: Accent$1,
  schemeDark2: Dark2$1,
  schemePaired: Paired$1,
  schemePastel1: Pastel1$1,
  schemePastel2: Pastel2$1,
  schemeSet1: Set1$1,
  schemeSet2: Set2$1,
  schemeSet3: Set3$1,
  schemeTableau10: Tableau10$1,
  interpolateBrBG: BrBG$1,
  schemeBrBG: scheme$R,
  interpolatePRGn: PRGn$1,
  schemePRGn: scheme$Q,
  interpolatePiYG: PiYG$1,
  schemePiYG: scheme$P,
  interpolatePuOr: PuOr$1,
  schemePuOr: scheme$O,
  interpolateRdBu: RdBu$1,
  schemeRdBu: scheme$N,
  interpolateRdGy: RdGy$1,
  schemeRdGy: scheme$M,
  interpolateRdYlBu: RdYlBu$1,
  schemeRdYlBu: scheme$L,
  interpolateRdYlGn: RdYlGn$1,
  schemeRdYlGn: scheme$K,
  interpolateSpectral: Spectral$1,
  schemeSpectral: scheme$J,
  interpolateBuGn: BuGn$1,
  schemeBuGn: scheme$I,
  interpolateBuPu: BuPu$1,
  schemeBuPu: scheme$H,
  interpolateGnBu: GnBu$1,
  schemeGnBu: scheme$G,
  interpolateOrRd: OrRd$1,
  schemeOrRd: scheme$F,
  interpolatePuBuGn: PuBuGn$1,
  schemePuBuGn: scheme$E,
  interpolatePuBu: PuBu$1,
  schemePuBu: scheme$D,
  interpolatePuRd: PuRd$1,
  schemePuRd: scheme$C,
  interpolateRdPu: RdPu$1,
  schemeRdPu: scheme$B,
  interpolateYlGnBu: YlGnBu$1,
  schemeYlGnBu: scheme$A,
  interpolateYlGn: YlGn$1,
  schemeYlGn: scheme$z,
  interpolateYlOrBr: YlOrBr$1,
  schemeYlOrBr: scheme$y,
  interpolateYlOrRd: YlOrRd$1,
  schemeYlOrRd: scheme$x,
  interpolateBlues: Blues$1,
  schemeBlues: scheme$w,
  interpolateGreens: Greens$1,
  schemeGreens: scheme$v,
  interpolateGreys: Greys$1,
  schemeGreys: scheme$u,
  interpolatePurples: Purples$1,
  schemePurples: scheme$t,
  interpolateReds: Reds$1,
  schemeReds: scheme$s,
  interpolateOranges: Oranges$1,
  schemeOranges: scheme$r,
  interpolateCividis: cividis$1,
  interpolateCubehelixDefault: cubehelix$4,
  interpolateRainbow: rainbow$1,
  interpolateWarm: warm$1,
  interpolateCool: cool$1,
  interpolateSinebow: sinebow$1,
  interpolateTurbo: turbo$1,
  interpolateViridis: viridis$1,
  interpolateMagma: magma$1,
  interpolateInferno: inferno$1,
  interpolatePlasma: plasma$1,
  create: create$3,
  creator: creator$1,
  local: local$3,
  matcher: matcher$1,
  namespace: namespace$1,
  namespaces: namespaces$1,
  pointer,
  pointers,
  select: select$1,
  selectAll: selectAll$1,
  selection: selection$1,
  selector: selector$1,
  selectorAll: selectorAll$1,
  style: styleValue$1,
  window: defaultView$1,
  arc: arc$2,
  area: area$2$1,
  line: line$2,
  pie: pie$1,
  areaRadial: areaRadial$1,
  radialArea: areaRadial$1,
  lineRadial: lineRadial$3,
  radialLine: lineRadial$3,
  pointRadial: pointRadial$1,
  link: link$3,
  linkHorizontal: linkHorizontal$1,
  linkVertical: linkVertical$1,
  linkRadial: linkRadial$1,
  symbol: Symbol$1,
  symbolsStroke,
  symbolsFill,
  symbols: symbolsFill,
  symbolAsterisk: asterisk,
  symbolCircle: circle$3,
  symbolCross: cross$5,
  symbolDiamond: diamond$1,
  symbolDiamond2: diamond2,
  symbolPlus: plus,
  symbolSquare: square$2,
  symbolSquare2: square2,
  symbolStar: star$1,
  symbolTriangle: triangle$1,
  symbolTriangle2: triangle2,
  symbolWye: wye$1,
  symbolX: x$6,
  curveBasisClosed,
  curveBasisOpen,
  curveBasis,
  curveBumpX: bumpX,
  curveBumpY: bumpY,
  curveBundle,
  curveCardinalClosed,
  curveCardinalOpen,
  curveCardinal,
  curveCatmullRomClosed,
  curveCatmullRomOpen,
  curveCatmullRom,
  curveLinearClosed,
  curveLinear: curveLinear$1,
  curveMonotoneX: monotoneX$1,
  curveMonotoneY: monotoneY$1,
  curveNatural,
  curveStep,
  curveStepAfter: stepAfter$1,
  curveStepBefore: stepBefore$1,
  stack: stack$1,
  stackOffsetExpand: expand$1,
  stackOffsetDiverging: diverging$2,
  stackOffsetNone: none$4,
  stackOffsetSilhouette: silhouette$1,
  stackOffsetWiggle: wiggle$1,
  stackOrderAppearance: appearance$1,
  stackOrderAscending: ascending$4,
  stackOrderDescending: descending$3,
  stackOrderInsideOut: insideOut$1,
  stackOrderNone: none$3,
  stackOrderReverse: reverse$1,
  timeInterval: newInterval$1,
  timeMillisecond: utcMillisecond$1,
  timeMilliseconds: milliseconds$1,
  utcMillisecond: utcMillisecond$1,
  utcMilliseconds: milliseconds$1,
  timeSecond: utcSecond$1,
  timeSeconds: seconds$1,
  utcSecond: utcSecond$1,
  utcSeconds: seconds$1,
  timeMinute: timeMinute$1,
  timeMinutes: minutes$1,
  timeHour: timeHour$1,
  timeHours: hours$1,
  timeDay: timeDay$1,
  timeDays: days$1,
  timeWeek: sunday$1,
  timeWeeks: sundays$1,
  timeSunday: sunday$1,
  timeSundays: sundays$1,
  timeMonday: monday$1,
  timeMondays: mondays$1,
  timeTuesday: tuesday$1,
  timeTuesdays: tuesdays$1,
  timeWednesday: wednesday$1,
  timeWednesdays: wednesdays$1,
  timeThursday: thursday$1,
  timeThursdays: thursdays$1,
  timeFriday: friday$1,
  timeFridays: fridays$1,
  timeSaturday: saturday$1,
  timeSaturdays: saturdays$1,
  timeMonth: timeMonth$1,
  timeMonths: months$1,
  timeYear: timeYear$1,
  timeYears: years$1,
  utcMinute: utcMinute$2,
  utcMinutes: utcMinutes$1,
  utcHour: utcHour$2,
  utcHours: utcHours$1,
  utcDay: utcDay$2,
  utcDays: utcDays$1,
  utcWeek: utcSunday$1,
  utcWeeks: utcSundays$1,
  utcSunday: utcSunday$1,
  utcSundays: utcSundays$1,
  utcMonday: utcMonday$1,
  utcMondays: utcMondays$1,
  utcTuesday: utcTuesday$1,
  utcTuesdays: utcTuesdays$1,
  utcWednesday: utcWednesday$1,
  utcWednesdays: utcWednesdays$1,
  utcThursday: utcThursday$1,
  utcThursdays: utcThursdays$1,
  utcFriday: utcFriday$1,
  utcFridays: utcFridays$1,
  utcSaturday: utcSaturday$1,
  utcSaturdays: utcSaturdays$1,
  utcMonth: utcMonth$2,
  utcMonths: utcMonths$1,
  utcYear: utcYear$2,
  utcYears: utcYears$1,
  utcTicks,
  utcTickInterval,
  timeTicks,
  timeTickInterval,
  timeFormatDefaultLocale: defaultLocale$3,
  get timeFormat() {
    return timeFormat$1;
  },
  get timeParse() {
    return timeParse$1;
  },
  get utcFormat() {
    return utcFormat$1;
  },
  get utcParse() {
    return utcParse$1;
  },
  timeFormatLocale: formatLocale$3,
  isoFormat: formatIso$3,
  isoParse: parseIso$3,
  now: now$1,
  timer: timer$1,
  timerFlush: timerFlush$1,
  timeout: timeout$2,
  interval: interval$2,
  transition: transition$1,
  active: active$1,
  interrupt: interrupt$1,
  zoom: zoom$1,
  zoomTransform: transform$2,
  zoomIdentity: identity$a,
  ZoomTransform: Transform$1
}, Symbol.toStringTag, { value: "Module" }));
const require$$1 = /* @__PURE__ */ getAugmentedNamespace(src);
function commonjsRequire(path2) {
  throw new Error('Could not dynamically require "' + path2 + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var _listCacheClear;
var hasRequired_listCacheClear;
function require_listCacheClear() {
  if (hasRequired_listCacheClear)
    return _listCacheClear;
  hasRequired_listCacheClear = 1;
  function listCacheClear() {
    this.__data__ = [];
    this.size = 0;
  }
  _listCacheClear = listCacheClear;
  return _listCacheClear;
}
var eq_1;
var hasRequiredEq;
function requireEq() {
  if (hasRequiredEq)
    return eq_1;
  hasRequiredEq = 1;
  function eq(value, other) {
    return value === other || value !== value && other !== other;
  }
  eq_1 = eq;
  return eq_1;
}
var _assocIndexOf;
var hasRequired_assocIndexOf;
function require_assocIndexOf() {
  if (hasRequired_assocIndexOf)
    return _assocIndexOf;
  hasRequired_assocIndexOf = 1;
  var eq = requireEq();
  function assocIndexOf(array2, key) {
    var length2 = array2.length;
    while (length2--) {
      if (eq(array2[length2][0], key)) {
        return length2;
      }
    }
    return -1;
  }
  _assocIndexOf = assocIndexOf;
  return _assocIndexOf;
}
var _listCacheDelete;
var hasRequired_listCacheDelete;
function require_listCacheDelete() {
  if (hasRequired_listCacheDelete)
    return _listCacheDelete;
  hasRequired_listCacheDelete = 1;
  var assocIndexOf = require_assocIndexOf();
  var arrayProto = Array.prototype;
  var splice = arrayProto.splice;
  function listCacheDelete(key) {
    var data = this.__data__, index2 = assocIndexOf(data, key);
    if (index2 < 0) {
      return false;
    }
    var lastIndex = data.length - 1;
    if (index2 == lastIndex) {
      data.pop();
    } else {
      splice.call(data, index2, 1);
    }
    --this.size;
    return true;
  }
  _listCacheDelete = listCacheDelete;
  return _listCacheDelete;
}
var _listCacheGet;
var hasRequired_listCacheGet;
function require_listCacheGet() {
  if (hasRequired_listCacheGet)
    return _listCacheGet;
  hasRequired_listCacheGet = 1;
  var assocIndexOf = require_assocIndexOf();
  function listCacheGet(key) {
    var data = this.__data__, index2 = assocIndexOf(data, key);
    return index2 < 0 ? void 0 : data[index2][1];
  }
  _listCacheGet = listCacheGet;
  return _listCacheGet;
}
var _listCacheHas;
var hasRequired_listCacheHas;
function require_listCacheHas() {
  if (hasRequired_listCacheHas)
    return _listCacheHas;
  hasRequired_listCacheHas = 1;
  var assocIndexOf = require_assocIndexOf();
  function listCacheHas(key) {
    return assocIndexOf(this.__data__, key) > -1;
  }
  _listCacheHas = listCacheHas;
  return _listCacheHas;
}
var _listCacheSet;
var hasRequired_listCacheSet;
function require_listCacheSet() {
  if (hasRequired_listCacheSet)
    return _listCacheSet;
  hasRequired_listCacheSet = 1;
  var assocIndexOf = require_assocIndexOf();
  function listCacheSet(key, value) {
    var data = this.__data__, index2 = assocIndexOf(data, key);
    if (index2 < 0) {
      ++this.size;
      data.push([key, value]);
    } else {
      data[index2][1] = value;
    }
    return this;
  }
  _listCacheSet = listCacheSet;
  return _listCacheSet;
}
var _ListCache;
var hasRequired_ListCache;
function require_ListCache() {
  if (hasRequired_ListCache)
    return _ListCache;
  hasRequired_ListCache = 1;
  var listCacheClear = require_listCacheClear(), listCacheDelete = require_listCacheDelete(), listCacheGet = require_listCacheGet(), listCacheHas = require_listCacheHas(), listCacheSet = require_listCacheSet();
  function ListCache(entries2) {
    var index2 = -1, length2 = entries2 == null ? 0 : entries2.length;
    this.clear();
    while (++index2 < length2) {
      var entry = entries2[index2];
      this.set(entry[0], entry[1]);
    }
  }
  ListCache.prototype.clear = listCacheClear;
  ListCache.prototype["delete"] = listCacheDelete;
  ListCache.prototype.get = listCacheGet;
  ListCache.prototype.has = listCacheHas;
  ListCache.prototype.set = listCacheSet;
  _ListCache = ListCache;
  return _ListCache;
}
var _stackClear;
var hasRequired_stackClear;
function require_stackClear() {
  if (hasRequired_stackClear)
    return _stackClear;
  hasRequired_stackClear = 1;
  var ListCache = require_ListCache();
  function stackClear() {
    this.__data__ = new ListCache();
    this.size = 0;
  }
  _stackClear = stackClear;
  return _stackClear;
}
var _stackDelete;
var hasRequired_stackDelete;
function require_stackDelete() {
  if (hasRequired_stackDelete)
    return _stackDelete;
  hasRequired_stackDelete = 1;
  function stackDelete(key) {
    var data = this.__data__, result = data["delete"](key);
    this.size = data.size;
    return result;
  }
  _stackDelete = stackDelete;
  return _stackDelete;
}
var _stackGet;
var hasRequired_stackGet;
function require_stackGet() {
  if (hasRequired_stackGet)
    return _stackGet;
  hasRequired_stackGet = 1;
  function stackGet(key) {
    return this.__data__.get(key);
  }
  _stackGet = stackGet;
  return _stackGet;
}
var _stackHas;
var hasRequired_stackHas;
function require_stackHas() {
  if (hasRequired_stackHas)
    return _stackHas;
  hasRequired_stackHas = 1;
  function stackHas(key) {
    return this.__data__.has(key);
  }
  _stackHas = stackHas;
  return _stackHas;
}
var _freeGlobal;
var hasRequired_freeGlobal;
function require_freeGlobal() {
  if (hasRequired_freeGlobal)
    return _freeGlobal;
  hasRequired_freeGlobal = 1;
  var freeGlobal = typeof commonjsGlobal == "object" && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;
  _freeGlobal = freeGlobal;
  return _freeGlobal;
}
var _root;
var hasRequired_root;
function require_root() {
  if (hasRequired_root)
    return _root;
  hasRequired_root = 1;
  var freeGlobal = require_freeGlobal();
  var freeSelf = typeof self == "object" && self && self.Object === Object && self;
  var root2 = freeGlobal || freeSelf || Function("return this")();
  _root = root2;
  return _root;
}
var _Symbol;
var hasRequired_Symbol;
function require_Symbol() {
  if (hasRequired_Symbol)
    return _Symbol;
  hasRequired_Symbol = 1;
  var root2 = require_root();
  var Symbol2 = root2.Symbol;
  _Symbol = Symbol2;
  return _Symbol;
}
var _getRawTag;
var hasRequired_getRawTag;
function require_getRawTag() {
  if (hasRequired_getRawTag)
    return _getRawTag;
  hasRequired_getRawTag = 1;
  var Symbol2 = require_Symbol();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var nativeObjectToString = objectProto.toString;
  var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
  function getRawTag(value) {
    var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];
    try {
      value[symToStringTag] = void 0;
      var unmasked = true;
    } catch (e) {
    }
    var result = nativeObjectToString.call(value);
    if (unmasked) {
      if (isOwn) {
        value[symToStringTag] = tag;
      } else {
        delete value[symToStringTag];
      }
    }
    return result;
  }
  _getRawTag = getRawTag;
  return _getRawTag;
}
var _objectToString;
var hasRequired_objectToString;
function require_objectToString() {
  if (hasRequired_objectToString)
    return _objectToString;
  hasRequired_objectToString = 1;
  var objectProto = Object.prototype;
  var nativeObjectToString = objectProto.toString;
  function objectToString(value) {
    return nativeObjectToString.call(value);
  }
  _objectToString = objectToString;
  return _objectToString;
}
var _baseGetTag;
var hasRequired_baseGetTag;
function require_baseGetTag() {
  if (hasRequired_baseGetTag)
    return _baseGetTag;
  hasRequired_baseGetTag = 1;
  var Symbol2 = require_Symbol(), getRawTag = require_getRawTag(), objectToString = require_objectToString();
  var nullTag = "[object Null]", undefinedTag = "[object Undefined]";
  var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
  function baseGetTag(value) {
    if (value == null) {
      return value === void 0 ? undefinedTag : nullTag;
    }
    return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);
  }
  _baseGetTag = baseGetTag;
  return _baseGetTag;
}
var isObject_1;
var hasRequiredIsObject;
function requireIsObject() {
  if (hasRequiredIsObject)
    return isObject_1;
  hasRequiredIsObject = 1;
  function isObject(value) {
    var type2 = typeof value;
    return value != null && (type2 == "object" || type2 == "function");
  }
  isObject_1 = isObject;
  return isObject_1;
}
var isFunction_1;
var hasRequiredIsFunction;
function requireIsFunction() {
  if (hasRequiredIsFunction)
    return isFunction_1;
  hasRequiredIsFunction = 1;
  var baseGetTag = require_baseGetTag(), isObject = requireIsObject();
  var asyncTag = "[object AsyncFunction]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", proxyTag = "[object Proxy]";
  function isFunction(value) {
    if (!isObject(value)) {
      return false;
    }
    var tag = baseGetTag(value);
    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
  }
  isFunction_1 = isFunction;
  return isFunction_1;
}
var _coreJsData;
var hasRequired_coreJsData;
function require_coreJsData() {
  if (hasRequired_coreJsData)
    return _coreJsData;
  hasRequired_coreJsData = 1;
  var root2 = require_root();
  var coreJsData = root2["__core-js_shared__"];
  _coreJsData = coreJsData;
  return _coreJsData;
}
var _isMasked;
var hasRequired_isMasked;
function require_isMasked() {
  if (hasRequired_isMasked)
    return _isMasked;
  hasRequired_isMasked = 1;
  var coreJsData = require_coreJsData();
  var maskSrcKey = function() {
    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
    return uid ? "Symbol(src)_1." + uid : "";
  }();
  function isMasked(func) {
    return !!maskSrcKey && maskSrcKey in func;
  }
  _isMasked = isMasked;
  return _isMasked;
}
var _toSource;
var hasRequired_toSource;
function require_toSource() {
  if (hasRequired_toSource)
    return _toSource;
  hasRequired_toSource = 1;
  var funcProto = Function.prototype;
  var funcToString = funcProto.toString;
  function toSource(func) {
    if (func != null) {
      try {
        return funcToString.call(func);
      } catch (e) {
      }
      try {
        return func + "";
      } catch (e) {
      }
    }
    return "";
  }
  _toSource = toSource;
  return _toSource;
}
var _baseIsNative;
var hasRequired_baseIsNative;
function require_baseIsNative() {
  if (hasRequired_baseIsNative)
    return _baseIsNative;
  hasRequired_baseIsNative = 1;
  var isFunction = requireIsFunction(), isMasked = require_isMasked(), isObject = requireIsObject(), toSource = require_toSource();
  var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
  var reIsHostCtor = /^\[object .+?Constructor\]$/;
  var funcProto = Function.prototype, objectProto = Object.prototype;
  var funcToString = funcProto.toString;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var reIsNative = RegExp(
    "^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
  );
  function baseIsNative(value) {
    if (!isObject(value) || isMasked(value)) {
      return false;
    }
    var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
    return pattern.test(toSource(value));
  }
  _baseIsNative = baseIsNative;
  return _baseIsNative;
}
var _getValue;
var hasRequired_getValue;
function require_getValue() {
  if (hasRequired_getValue)
    return _getValue;
  hasRequired_getValue = 1;
  function getValue(object2, key) {
    return object2 == null ? void 0 : object2[key];
  }
  _getValue = getValue;
  return _getValue;
}
var _getNative;
var hasRequired_getNative;
function require_getNative() {
  if (hasRequired_getNative)
    return _getNative;
  hasRequired_getNative = 1;
  var baseIsNative = require_baseIsNative(), getValue = require_getValue();
  function getNative(object2, key) {
    var value = getValue(object2, key);
    return baseIsNative(value) ? value : void 0;
  }
  _getNative = getNative;
  return _getNative;
}
var _Map;
var hasRequired_Map;
function require_Map() {
  if (hasRequired_Map)
    return _Map;
  hasRequired_Map = 1;
  var getNative = require_getNative(), root2 = require_root();
  var Map2 = getNative(root2, "Map");
  _Map = Map2;
  return _Map;
}
var _nativeCreate;
var hasRequired_nativeCreate;
function require_nativeCreate() {
  if (hasRequired_nativeCreate)
    return _nativeCreate;
  hasRequired_nativeCreate = 1;
  var getNative = require_getNative();
  var nativeCreate = getNative(Object, "create");
  _nativeCreate = nativeCreate;
  return _nativeCreate;
}
var _hashClear;
var hasRequired_hashClear;
function require_hashClear() {
  if (hasRequired_hashClear)
    return _hashClear;
  hasRequired_hashClear = 1;
  var nativeCreate = require_nativeCreate();
  function hashClear() {
    this.__data__ = nativeCreate ? nativeCreate(null) : {};
    this.size = 0;
  }
  _hashClear = hashClear;
  return _hashClear;
}
var _hashDelete;
var hasRequired_hashDelete;
function require_hashDelete() {
  if (hasRequired_hashDelete)
    return _hashDelete;
  hasRequired_hashDelete = 1;
  function hashDelete(key) {
    var result = this.has(key) && delete this.__data__[key];
    this.size -= result ? 1 : 0;
    return result;
  }
  _hashDelete = hashDelete;
  return _hashDelete;
}
var _hashGet;
var hasRequired_hashGet;
function require_hashGet() {
  if (hasRequired_hashGet)
    return _hashGet;
  hasRequired_hashGet = 1;
  var nativeCreate = require_nativeCreate();
  var HASH_UNDEFINED = "__lodash_hash_undefined__";
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function hashGet(key) {
    var data = this.__data__;
    if (nativeCreate) {
      var result = data[key];
      return result === HASH_UNDEFINED ? void 0 : result;
    }
    return hasOwnProperty.call(data, key) ? data[key] : void 0;
  }
  _hashGet = hashGet;
  return _hashGet;
}
var _hashHas;
var hasRequired_hashHas;
function require_hashHas() {
  if (hasRequired_hashHas)
    return _hashHas;
  hasRequired_hashHas = 1;
  var nativeCreate = require_nativeCreate();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function hashHas(key) {
    var data = this.__data__;
    return nativeCreate ? data[key] !== void 0 : hasOwnProperty.call(data, key);
  }
  _hashHas = hashHas;
  return _hashHas;
}
var _hashSet;
var hasRequired_hashSet;
function require_hashSet() {
  if (hasRequired_hashSet)
    return _hashSet;
  hasRequired_hashSet = 1;
  var nativeCreate = require_nativeCreate();
  var HASH_UNDEFINED = "__lodash_hash_undefined__";
  function hashSet(key, value) {
    var data = this.__data__;
    this.size += this.has(key) ? 0 : 1;
    data[key] = nativeCreate && value === void 0 ? HASH_UNDEFINED : value;
    return this;
  }
  _hashSet = hashSet;
  return _hashSet;
}
var _Hash;
var hasRequired_Hash;
function require_Hash() {
  if (hasRequired_Hash)
    return _Hash;
  hasRequired_Hash = 1;
  var hashClear = require_hashClear(), hashDelete = require_hashDelete(), hashGet = require_hashGet(), hashHas = require_hashHas(), hashSet = require_hashSet();
  function Hash(entries2) {
    var index2 = -1, length2 = entries2 == null ? 0 : entries2.length;
    this.clear();
    while (++index2 < length2) {
      var entry = entries2[index2];
      this.set(entry[0], entry[1]);
    }
  }
  Hash.prototype.clear = hashClear;
  Hash.prototype["delete"] = hashDelete;
  Hash.prototype.get = hashGet;
  Hash.prototype.has = hashHas;
  Hash.prototype.set = hashSet;
  _Hash = Hash;
  return _Hash;
}
var _mapCacheClear;
var hasRequired_mapCacheClear;
function require_mapCacheClear() {
  if (hasRequired_mapCacheClear)
    return _mapCacheClear;
  hasRequired_mapCacheClear = 1;
  var Hash = require_Hash(), ListCache = require_ListCache(), Map2 = require_Map();
  function mapCacheClear() {
    this.size = 0;
    this.__data__ = {
      "hash": new Hash(),
      "map": new (Map2 || ListCache)(),
      "string": new Hash()
    };
  }
  _mapCacheClear = mapCacheClear;
  return _mapCacheClear;
}
var _isKeyable;
var hasRequired_isKeyable;
function require_isKeyable() {
  if (hasRequired_isKeyable)
    return _isKeyable;
  hasRequired_isKeyable = 1;
  function isKeyable(value) {
    var type2 = typeof value;
    return type2 == "string" || type2 == "number" || type2 == "symbol" || type2 == "boolean" ? value !== "__proto__" : value === null;
  }
  _isKeyable = isKeyable;
  return _isKeyable;
}
var _getMapData;
var hasRequired_getMapData;
function require_getMapData() {
  if (hasRequired_getMapData)
    return _getMapData;
  hasRequired_getMapData = 1;
  var isKeyable = require_isKeyable();
  function getMapData(map2, key) {
    var data = map2.__data__;
    return isKeyable(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
  }
  _getMapData = getMapData;
  return _getMapData;
}
var _mapCacheDelete;
var hasRequired_mapCacheDelete;
function require_mapCacheDelete() {
  if (hasRequired_mapCacheDelete)
    return _mapCacheDelete;
  hasRequired_mapCacheDelete = 1;
  var getMapData = require_getMapData();
  function mapCacheDelete(key) {
    var result = getMapData(this, key)["delete"](key);
    this.size -= result ? 1 : 0;
    return result;
  }
  _mapCacheDelete = mapCacheDelete;
  return _mapCacheDelete;
}
var _mapCacheGet;
var hasRequired_mapCacheGet;
function require_mapCacheGet() {
  if (hasRequired_mapCacheGet)
    return _mapCacheGet;
  hasRequired_mapCacheGet = 1;
  var getMapData = require_getMapData();
  function mapCacheGet(key) {
    return getMapData(this, key).get(key);
  }
  _mapCacheGet = mapCacheGet;
  return _mapCacheGet;
}
var _mapCacheHas;
var hasRequired_mapCacheHas;
function require_mapCacheHas() {
  if (hasRequired_mapCacheHas)
    return _mapCacheHas;
  hasRequired_mapCacheHas = 1;
  var getMapData = require_getMapData();
  function mapCacheHas(key) {
    return getMapData(this, key).has(key);
  }
  _mapCacheHas = mapCacheHas;
  return _mapCacheHas;
}
var _mapCacheSet;
var hasRequired_mapCacheSet;
function require_mapCacheSet() {
  if (hasRequired_mapCacheSet)
    return _mapCacheSet;
  hasRequired_mapCacheSet = 1;
  var getMapData = require_getMapData();
  function mapCacheSet(key, value) {
    var data = getMapData(this, key), size = data.size;
    data.set(key, value);
    this.size += data.size == size ? 0 : 1;
    return this;
  }
  _mapCacheSet = mapCacheSet;
  return _mapCacheSet;
}
var _MapCache;
var hasRequired_MapCache;
function require_MapCache() {
  if (hasRequired_MapCache)
    return _MapCache;
  hasRequired_MapCache = 1;
  var mapCacheClear = require_mapCacheClear(), mapCacheDelete = require_mapCacheDelete(), mapCacheGet = require_mapCacheGet(), mapCacheHas = require_mapCacheHas(), mapCacheSet = require_mapCacheSet();
  function MapCache(entries2) {
    var index2 = -1, length2 = entries2 == null ? 0 : entries2.length;
    this.clear();
    while (++index2 < length2) {
      var entry = entries2[index2];
      this.set(entry[0], entry[1]);
    }
  }
  MapCache.prototype.clear = mapCacheClear;
  MapCache.prototype["delete"] = mapCacheDelete;
  MapCache.prototype.get = mapCacheGet;
  MapCache.prototype.has = mapCacheHas;
  MapCache.prototype.set = mapCacheSet;
  _MapCache = MapCache;
  return _MapCache;
}
var _stackSet;
var hasRequired_stackSet;
function require_stackSet() {
  if (hasRequired_stackSet)
    return _stackSet;
  hasRequired_stackSet = 1;
  var ListCache = require_ListCache(), Map2 = require_Map(), MapCache = require_MapCache();
  var LARGE_ARRAY_SIZE = 200;
  function stackSet(key, value) {
    var data = this.__data__;
    if (data instanceof ListCache) {
      var pairs2 = data.__data__;
      if (!Map2 || pairs2.length < LARGE_ARRAY_SIZE - 1) {
        pairs2.push([key, value]);
        this.size = ++data.size;
        return this;
      }
      data = this.__data__ = new MapCache(pairs2);
    }
    data.set(key, value);
    this.size = data.size;
    return this;
  }
  _stackSet = stackSet;
  return _stackSet;
}
var _Stack;
var hasRequired_Stack;
function require_Stack() {
  if (hasRequired_Stack)
    return _Stack;
  hasRequired_Stack = 1;
  var ListCache = require_ListCache(), stackClear = require_stackClear(), stackDelete = require_stackDelete(), stackGet = require_stackGet(), stackHas = require_stackHas(), stackSet = require_stackSet();
  function Stack(entries2) {
    var data = this.__data__ = new ListCache(entries2);
    this.size = data.size;
  }
  Stack.prototype.clear = stackClear;
  Stack.prototype["delete"] = stackDelete;
  Stack.prototype.get = stackGet;
  Stack.prototype.has = stackHas;
  Stack.prototype.set = stackSet;
  _Stack = Stack;
  return _Stack;
}
var _arrayEach;
var hasRequired_arrayEach;
function require_arrayEach() {
  if (hasRequired_arrayEach)
    return _arrayEach;
  hasRequired_arrayEach = 1;
  function arrayEach(array2, iteratee) {
    var index2 = -1, length2 = array2 == null ? 0 : array2.length;
    while (++index2 < length2) {
      if (iteratee(array2[index2], index2, array2) === false) {
        break;
      }
    }
    return array2;
  }
  _arrayEach = arrayEach;
  return _arrayEach;
}
var _defineProperty;
var hasRequired_defineProperty;
function require_defineProperty() {
  if (hasRequired_defineProperty)
    return _defineProperty;
  hasRequired_defineProperty = 1;
  var getNative = require_getNative();
  var defineProperty = function() {
    try {
      var func = getNative(Object, "defineProperty");
      func({}, "", {});
      return func;
    } catch (e) {
    }
  }();
  _defineProperty = defineProperty;
  return _defineProperty;
}
var _baseAssignValue;
var hasRequired_baseAssignValue;
function require_baseAssignValue() {
  if (hasRequired_baseAssignValue)
    return _baseAssignValue;
  hasRequired_baseAssignValue = 1;
  var defineProperty = require_defineProperty();
  function baseAssignValue(object2, key, value) {
    if (key == "__proto__" && defineProperty) {
      defineProperty(object2, key, {
        "configurable": true,
        "enumerable": true,
        "value": value,
        "writable": true
      });
    } else {
      object2[key] = value;
    }
  }
  _baseAssignValue = baseAssignValue;
  return _baseAssignValue;
}
var _assignValue;
var hasRequired_assignValue;
function require_assignValue() {
  if (hasRequired_assignValue)
    return _assignValue;
  hasRequired_assignValue = 1;
  var baseAssignValue = require_baseAssignValue(), eq = requireEq();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function assignValue(object2, key, value) {
    var objValue = object2[key];
    if (!(hasOwnProperty.call(object2, key) && eq(objValue, value)) || value === void 0 && !(key in object2)) {
      baseAssignValue(object2, key, value);
    }
  }
  _assignValue = assignValue;
  return _assignValue;
}
var _copyObject;
var hasRequired_copyObject;
function require_copyObject() {
  if (hasRequired_copyObject)
    return _copyObject;
  hasRequired_copyObject = 1;
  var assignValue = require_assignValue(), baseAssignValue = require_baseAssignValue();
  function copyObject(source, props, object2, customizer) {
    var isNew = !object2;
    object2 || (object2 = {});
    var index2 = -1, length2 = props.length;
    while (++index2 < length2) {
      var key = props[index2];
      var newValue = customizer ? customizer(object2[key], source[key], key, object2, source) : void 0;
      if (newValue === void 0) {
        newValue = source[key];
      }
      if (isNew) {
        baseAssignValue(object2, key, newValue);
      } else {
        assignValue(object2, key, newValue);
      }
    }
    return object2;
  }
  _copyObject = copyObject;
  return _copyObject;
}
var _baseTimes;
var hasRequired_baseTimes;
function require_baseTimes() {
  if (hasRequired_baseTimes)
    return _baseTimes;
  hasRequired_baseTimes = 1;
  function baseTimes(n, iteratee) {
    var index2 = -1, result = Array(n);
    while (++index2 < n) {
      result[index2] = iteratee(index2);
    }
    return result;
  }
  _baseTimes = baseTimes;
  return _baseTimes;
}
var isObjectLike_1;
var hasRequiredIsObjectLike;
function requireIsObjectLike() {
  if (hasRequiredIsObjectLike)
    return isObjectLike_1;
  hasRequiredIsObjectLike = 1;
  function isObjectLike(value) {
    return value != null && typeof value == "object";
  }
  isObjectLike_1 = isObjectLike;
  return isObjectLike_1;
}
var _baseIsArguments;
var hasRequired_baseIsArguments;
function require_baseIsArguments() {
  if (hasRequired_baseIsArguments)
    return _baseIsArguments;
  hasRequired_baseIsArguments = 1;
  var baseGetTag = require_baseGetTag(), isObjectLike = requireIsObjectLike();
  var argsTag = "[object Arguments]";
  function baseIsArguments(value) {
    return isObjectLike(value) && baseGetTag(value) == argsTag;
  }
  _baseIsArguments = baseIsArguments;
  return _baseIsArguments;
}
var isArguments_1;
var hasRequiredIsArguments;
function requireIsArguments() {
  if (hasRequiredIsArguments)
    return isArguments_1;
  hasRequiredIsArguments = 1;
  var baseIsArguments = require_baseIsArguments(), isObjectLike = requireIsObjectLike();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var propertyIsEnumerable = objectProto.propertyIsEnumerable;
  var isArguments = baseIsArguments(function() {
    return arguments;
  }()) ? baseIsArguments : function(value) {
    return isObjectLike(value) && hasOwnProperty.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
  };
  isArguments_1 = isArguments;
  return isArguments_1;
}
var isArray_1;
var hasRequiredIsArray;
function requireIsArray() {
  if (hasRequiredIsArray)
    return isArray_1;
  hasRequiredIsArray = 1;
  var isArray = Array.isArray;
  isArray_1 = isArray;
  return isArray_1;
}
var isBuffer = { exports: {} };
var stubFalse_1;
var hasRequiredStubFalse;
function requireStubFalse() {
  if (hasRequiredStubFalse)
    return stubFalse_1;
  hasRequiredStubFalse = 1;
  function stubFalse() {
    return false;
  }
  stubFalse_1 = stubFalse;
  return stubFalse_1;
}
var hasRequiredIsBuffer;
function requireIsBuffer() {
  if (hasRequiredIsBuffer)
    return isBuffer.exports;
  hasRequiredIsBuffer = 1;
  (function(module, exports) {
    var root2 = require_root(), stubFalse = requireStubFalse();
    var freeExports = exports && !exports.nodeType && exports;
    var freeModule = freeExports && true && module && !module.nodeType && module;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var Buffer = moduleExports ? root2.Buffer : void 0;
    var nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0;
    var isBuffer2 = nativeIsBuffer || stubFalse;
    module.exports = isBuffer2;
  })(isBuffer, isBuffer.exports);
  return isBuffer.exports;
}
var _isIndex;
var hasRequired_isIndex;
function require_isIndex() {
  if (hasRequired_isIndex)
    return _isIndex;
  hasRequired_isIndex = 1;
  var MAX_SAFE_INTEGER = 9007199254740991;
  var reIsUint = /^(?:0|[1-9]\d*)$/;
  function isIndex(value, length2) {
    var type2 = typeof value;
    length2 = length2 == null ? MAX_SAFE_INTEGER : length2;
    return !!length2 && (type2 == "number" || type2 != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length2);
  }
  _isIndex = isIndex;
  return _isIndex;
}
var isLength_1;
var hasRequiredIsLength;
function requireIsLength() {
  if (hasRequiredIsLength)
    return isLength_1;
  hasRequiredIsLength = 1;
  var MAX_SAFE_INTEGER = 9007199254740991;
  function isLength(value) {
    return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
  }
  isLength_1 = isLength;
  return isLength_1;
}
var _baseIsTypedArray;
var hasRequired_baseIsTypedArray;
function require_baseIsTypedArray() {
  if (hasRequired_baseIsTypedArray)
    return _baseIsTypedArray;
  hasRequired_baseIsTypedArray = 1;
  var baseGetTag = require_baseGetTag(), isLength = requireIsLength(), isObjectLike = requireIsObjectLike();
  var argsTag = "[object Arguments]", arrayTag = "[object Array]", boolTag = "[object Boolean]", dateTag = "[object Date]", errorTag = "[object Error]", funcTag = "[object Function]", mapTag = "[object Map]", numberTag = "[object Number]", objectTag = "[object Object]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", weakMapTag = "[object WeakMap]";
  var arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", float32Tag = "[object Float32Array]", float64Tag = "[object Float64Array]", int8Tag = "[object Int8Array]", int16Tag = "[object Int16Array]", int32Tag = "[object Int32Array]", uint8Tag = "[object Uint8Array]", uint8ClampedTag = "[object Uint8ClampedArray]", uint16Tag = "[object Uint16Array]", uint32Tag = "[object Uint32Array]";
  var typedArrayTags = {};
  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
  function baseIsTypedArray(value) {
    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
  }
  _baseIsTypedArray = baseIsTypedArray;
  return _baseIsTypedArray;
}
var _baseUnary;
var hasRequired_baseUnary;
function require_baseUnary() {
  if (hasRequired_baseUnary)
    return _baseUnary;
  hasRequired_baseUnary = 1;
  function baseUnary(func) {
    return function(value) {
      return func(value);
    };
  }
  _baseUnary = baseUnary;
  return _baseUnary;
}
var _nodeUtil = { exports: {} };
var hasRequired_nodeUtil;
function require_nodeUtil() {
  if (hasRequired_nodeUtil)
    return _nodeUtil.exports;
  hasRequired_nodeUtil = 1;
  (function(module, exports) {
    var freeGlobal = require_freeGlobal();
    var freeExports = exports && !exports.nodeType && exports;
    var freeModule = freeExports && true && module && !module.nodeType && module;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var freeProcess = moduleExports && freeGlobal.process;
    var nodeUtil = function() {
      try {
        var types = freeModule && freeModule.require && freeModule.require("util").types;
        if (types) {
          return types;
        }
        return freeProcess && freeProcess.binding && freeProcess.binding("util");
      } catch (e) {
      }
    }();
    module.exports = nodeUtil;
  })(_nodeUtil, _nodeUtil.exports);
  return _nodeUtil.exports;
}
var isTypedArray_1;
var hasRequiredIsTypedArray;
function requireIsTypedArray() {
  if (hasRequiredIsTypedArray)
    return isTypedArray_1;
  hasRequiredIsTypedArray = 1;
  var baseIsTypedArray = require_baseIsTypedArray(), baseUnary = require_baseUnary(), nodeUtil = require_nodeUtil();
  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
  isTypedArray_1 = isTypedArray;
  return isTypedArray_1;
}
var _arrayLikeKeys;
var hasRequired_arrayLikeKeys;
function require_arrayLikeKeys() {
  if (hasRequired_arrayLikeKeys)
    return _arrayLikeKeys;
  hasRequired_arrayLikeKeys = 1;
  var baseTimes = require_baseTimes(), isArguments = requireIsArguments(), isArray = requireIsArray(), isBuffer2 = requireIsBuffer(), isIndex = require_isIndex(), isTypedArray = requireIsTypedArray();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function arrayLikeKeys(value, inherited) {
    var isArr = isArray(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer2(value), isType = !isArr && !isArg && !isBuff && isTypedArray(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length2 = result.length;
    for (var key in value) {
      if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == "length" || isBuff && (key == "offset" || key == "parent") || isType && (key == "buffer" || key == "byteLength" || key == "byteOffset") || isIndex(key, length2)))) {
        result.push(key);
      }
    }
    return result;
  }
  _arrayLikeKeys = arrayLikeKeys;
  return _arrayLikeKeys;
}
var _isPrototype;
var hasRequired_isPrototype;
function require_isPrototype() {
  if (hasRequired_isPrototype)
    return _isPrototype;
  hasRequired_isPrototype = 1;
  var objectProto = Object.prototype;
  function isPrototype(value) {
    var Ctor = value && value.constructor, proto2 = typeof Ctor == "function" && Ctor.prototype || objectProto;
    return value === proto2;
  }
  _isPrototype = isPrototype;
  return _isPrototype;
}
var _overArg;
var hasRequired_overArg;
function require_overArg() {
  if (hasRequired_overArg)
    return _overArg;
  hasRequired_overArg = 1;
  function overArg(func, transform2) {
    return function(arg) {
      return func(transform2(arg));
    };
  }
  _overArg = overArg;
  return _overArg;
}
var _nativeKeys;
var hasRequired_nativeKeys;
function require_nativeKeys() {
  if (hasRequired_nativeKeys)
    return _nativeKeys;
  hasRequired_nativeKeys = 1;
  var overArg = require_overArg();
  var nativeKeys = overArg(Object.keys, Object);
  _nativeKeys = nativeKeys;
  return _nativeKeys;
}
var _baseKeys;
var hasRequired_baseKeys;
function require_baseKeys() {
  if (hasRequired_baseKeys)
    return _baseKeys;
  hasRequired_baseKeys = 1;
  var isPrototype = require_isPrototype(), nativeKeys = require_nativeKeys();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function baseKeys(object2) {
    if (!isPrototype(object2)) {
      return nativeKeys(object2);
    }
    var result = [];
    for (var key in Object(object2)) {
      if (hasOwnProperty.call(object2, key) && key != "constructor") {
        result.push(key);
      }
    }
    return result;
  }
  _baseKeys = baseKeys;
  return _baseKeys;
}
var isArrayLike_1;
var hasRequiredIsArrayLike;
function requireIsArrayLike() {
  if (hasRequiredIsArrayLike)
    return isArrayLike_1;
  hasRequiredIsArrayLike = 1;
  var isFunction = requireIsFunction(), isLength = requireIsLength();
  function isArrayLike(value) {
    return value != null && isLength(value.length) && !isFunction(value);
  }
  isArrayLike_1 = isArrayLike;
  return isArrayLike_1;
}
var keys_1;
var hasRequiredKeys;
function requireKeys() {
  if (hasRequiredKeys)
    return keys_1;
  hasRequiredKeys = 1;
  var arrayLikeKeys = require_arrayLikeKeys(), baseKeys = require_baseKeys(), isArrayLike = requireIsArrayLike();
  function keys2(object2) {
    return isArrayLike(object2) ? arrayLikeKeys(object2) : baseKeys(object2);
  }
  keys_1 = keys2;
  return keys_1;
}
var _baseAssign;
var hasRequired_baseAssign;
function require_baseAssign() {
  if (hasRequired_baseAssign)
    return _baseAssign;
  hasRequired_baseAssign = 1;
  var copyObject = require_copyObject(), keys2 = requireKeys();
  function baseAssign(object2, source) {
    return object2 && copyObject(source, keys2(source), object2);
  }
  _baseAssign = baseAssign;
  return _baseAssign;
}
var _nativeKeysIn;
var hasRequired_nativeKeysIn;
function require_nativeKeysIn() {
  if (hasRequired_nativeKeysIn)
    return _nativeKeysIn;
  hasRequired_nativeKeysIn = 1;
  function nativeKeysIn(object2) {
    var result = [];
    if (object2 != null) {
      for (var key in Object(object2)) {
        result.push(key);
      }
    }
    return result;
  }
  _nativeKeysIn = nativeKeysIn;
  return _nativeKeysIn;
}
var _baseKeysIn;
var hasRequired_baseKeysIn;
function require_baseKeysIn() {
  if (hasRequired_baseKeysIn)
    return _baseKeysIn;
  hasRequired_baseKeysIn = 1;
  var isObject = requireIsObject(), isPrototype = require_isPrototype(), nativeKeysIn = require_nativeKeysIn();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function baseKeysIn(object2) {
    if (!isObject(object2)) {
      return nativeKeysIn(object2);
    }
    var isProto = isPrototype(object2), result = [];
    for (var key in object2) {
      if (!(key == "constructor" && (isProto || !hasOwnProperty.call(object2, key)))) {
        result.push(key);
      }
    }
    return result;
  }
  _baseKeysIn = baseKeysIn;
  return _baseKeysIn;
}
var keysIn_1;
var hasRequiredKeysIn;
function requireKeysIn() {
  if (hasRequiredKeysIn)
    return keysIn_1;
  hasRequiredKeysIn = 1;
  var arrayLikeKeys = require_arrayLikeKeys(), baseKeysIn = require_baseKeysIn(), isArrayLike = requireIsArrayLike();
  function keysIn(object2) {
    return isArrayLike(object2) ? arrayLikeKeys(object2, true) : baseKeysIn(object2);
  }
  keysIn_1 = keysIn;
  return keysIn_1;
}
var _baseAssignIn;
var hasRequired_baseAssignIn;
function require_baseAssignIn() {
  if (hasRequired_baseAssignIn)
    return _baseAssignIn;
  hasRequired_baseAssignIn = 1;
  var copyObject = require_copyObject(), keysIn = requireKeysIn();
  function baseAssignIn(object2, source) {
    return object2 && copyObject(source, keysIn(source), object2);
  }
  _baseAssignIn = baseAssignIn;
  return _baseAssignIn;
}
var _cloneBuffer = { exports: {} };
var hasRequired_cloneBuffer;
function require_cloneBuffer() {
  if (hasRequired_cloneBuffer)
    return _cloneBuffer.exports;
  hasRequired_cloneBuffer = 1;
  (function(module, exports) {
    var root2 = require_root();
    var freeExports = exports && !exports.nodeType && exports;
    var freeModule = freeExports && true && module && !module.nodeType && module;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var Buffer = moduleExports ? root2.Buffer : void 0, allocUnsafe = Buffer ? Buffer.allocUnsafe : void 0;
    function cloneBuffer(buffer2, isDeep) {
      if (isDeep) {
        return buffer2.slice();
      }
      var length2 = buffer2.length, result = allocUnsafe ? allocUnsafe(length2) : new buffer2.constructor(length2);
      buffer2.copy(result);
      return result;
    }
    module.exports = cloneBuffer;
  })(_cloneBuffer, _cloneBuffer.exports);
  return _cloneBuffer.exports;
}
var _copyArray;
var hasRequired_copyArray;
function require_copyArray() {
  if (hasRequired_copyArray)
    return _copyArray;
  hasRequired_copyArray = 1;
  function copyArray(source, array2) {
    var index2 = -1, length2 = source.length;
    array2 || (array2 = Array(length2));
    while (++index2 < length2) {
      array2[index2] = source[index2];
    }
    return array2;
  }
  _copyArray = copyArray;
  return _copyArray;
}
var _arrayFilter;
var hasRequired_arrayFilter;
function require_arrayFilter() {
  if (hasRequired_arrayFilter)
    return _arrayFilter;
  hasRequired_arrayFilter = 1;
  function arrayFilter(array2, predicate) {
    var index2 = -1, length2 = array2 == null ? 0 : array2.length, resIndex = 0, result = [];
    while (++index2 < length2) {
      var value = array2[index2];
      if (predicate(value, index2, array2)) {
        result[resIndex++] = value;
      }
    }
    return result;
  }
  _arrayFilter = arrayFilter;
  return _arrayFilter;
}
var stubArray_1;
var hasRequiredStubArray;
function requireStubArray() {
  if (hasRequiredStubArray)
    return stubArray_1;
  hasRequiredStubArray = 1;
  function stubArray() {
    return [];
  }
  stubArray_1 = stubArray;
  return stubArray_1;
}
var _getSymbols;
var hasRequired_getSymbols;
function require_getSymbols() {
  if (hasRequired_getSymbols)
    return _getSymbols;
  hasRequired_getSymbols = 1;
  var arrayFilter = require_arrayFilter(), stubArray = requireStubArray();
  var objectProto = Object.prototype;
  var propertyIsEnumerable = objectProto.propertyIsEnumerable;
  var nativeGetSymbols = Object.getOwnPropertySymbols;
  var getSymbols = !nativeGetSymbols ? stubArray : function(object2) {
    if (object2 == null) {
      return [];
    }
    object2 = Object(object2);
    return arrayFilter(nativeGetSymbols(object2), function(symbol2) {
      return propertyIsEnumerable.call(object2, symbol2);
    });
  };
  _getSymbols = getSymbols;
  return _getSymbols;
}
var _copySymbols;
var hasRequired_copySymbols;
function require_copySymbols() {
  if (hasRequired_copySymbols)
    return _copySymbols;
  hasRequired_copySymbols = 1;
  var copyObject = require_copyObject(), getSymbols = require_getSymbols();
  function copySymbols(source, object2) {
    return copyObject(source, getSymbols(source), object2);
  }
  _copySymbols = copySymbols;
  return _copySymbols;
}
var _arrayPush;
var hasRequired_arrayPush;
function require_arrayPush() {
  if (hasRequired_arrayPush)
    return _arrayPush;
  hasRequired_arrayPush = 1;
  function arrayPush(array2, values2) {
    var index2 = -1, length2 = values2.length, offset = array2.length;
    while (++index2 < length2) {
      array2[offset + index2] = values2[index2];
    }
    return array2;
  }
  _arrayPush = arrayPush;
  return _arrayPush;
}
var _getPrototype;
var hasRequired_getPrototype;
function require_getPrototype() {
  if (hasRequired_getPrototype)
    return _getPrototype;
  hasRequired_getPrototype = 1;
  var overArg = require_overArg();
  var getPrototype = overArg(Object.getPrototypeOf, Object);
  _getPrototype = getPrototype;
  return _getPrototype;
}
var _getSymbolsIn;
var hasRequired_getSymbolsIn;
function require_getSymbolsIn() {
  if (hasRequired_getSymbolsIn)
    return _getSymbolsIn;
  hasRequired_getSymbolsIn = 1;
  var arrayPush = require_arrayPush(), getPrototype = require_getPrototype(), getSymbols = require_getSymbols(), stubArray = requireStubArray();
  var nativeGetSymbols = Object.getOwnPropertySymbols;
  var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object2) {
    var result = [];
    while (object2) {
      arrayPush(result, getSymbols(object2));
      object2 = getPrototype(object2);
    }
    return result;
  };
  _getSymbolsIn = getSymbolsIn;
  return _getSymbolsIn;
}
var _copySymbolsIn;
var hasRequired_copySymbolsIn;
function require_copySymbolsIn() {
  if (hasRequired_copySymbolsIn)
    return _copySymbolsIn;
  hasRequired_copySymbolsIn = 1;
  var copyObject = require_copyObject(), getSymbolsIn = require_getSymbolsIn();
  function copySymbolsIn(source, object2) {
    return copyObject(source, getSymbolsIn(source), object2);
  }
  _copySymbolsIn = copySymbolsIn;
  return _copySymbolsIn;
}
var _baseGetAllKeys;
var hasRequired_baseGetAllKeys;
function require_baseGetAllKeys() {
  if (hasRequired_baseGetAllKeys)
    return _baseGetAllKeys;
  hasRequired_baseGetAllKeys = 1;
  var arrayPush = require_arrayPush(), isArray = requireIsArray();
  function baseGetAllKeys(object2, keysFunc, symbolsFunc) {
    var result = keysFunc(object2);
    return isArray(object2) ? result : arrayPush(result, symbolsFunc(object2));
  }
  _baseGetAllKeys = baseGetAllKeys;
  return _baseGetAllKeys;
}
var _getAllKeys;
var hasRequired_getAllKeys;
function require_getAllKeys() {
  if (hasRequired_getAllKeys)
    return _getAllKeys;
  hasRequired_getAllKeys = 1;
  var baseGetAllKeys = require_baseGetAllKeys(), getSymbols = require_getSymbols(), keys2 = requireKeys();
  function getAllKeys(object2) {
    return baseGetAllKeys(object2, keys2, getSymbols);
  }
  _getAllKeys = getAllKeys;
  return _getAllKeys;
}
var _getAllKeysIn;
var hasRequired_getAllKeysIn;
function require_getAllKeysIn() {
  if (hasRequired_getAllKeysIn)
    return _getAllKeysIn;
  hasRequired_getAllKeysIn = 1;
  var baseGetAllKeys = require_baseGetAllKeys(), getSymbolsIn = require_getSymbolsIn(), keysIn = requireKeysIn();
  function getAllKeysIn(object2) {
    return baseGetAllKeys(object2, keysIn, getSymbolsIn);
  }
  _getAllKeysIn = getAllKeysIn;
  return _getAllKeysIn;
}
var _DataView;
var hasRequired_DataView;
function require_DataView() {
  if (hasRequired_DataView)
    return _DataView;
  hasRequired_DataView = 1;
  var getNative = require_getNative(), root2 = require_root();
  var DataView2 = getNative(root2, "DataView");
  _DataView = DataView2;
  return _DataView;
}
var _Promise;
var hasRequired_Promise;
function require_Promise() {
  if (hasRequired_Promise)
    return _Promise;
  hasRequired_Promise = 1;
  var getNative = require_getNative(), root2 = require_root();
  var Promise2 = getNative(root2, "Promise");
  _Promise = Promise2;
  return _Promise;
}
var _Set;
var hasRequired_Set;
function require_Set() {
  if (hasRequired_Set)
    return _Set;
  hasRequired_Set = 1;
  var getNative = require_getNative(), root2 = require_root();
  var Set4 = getNative(root2, "Set");
  _Set = Set4;
  return _Set;
}
var _WeakMap;
var hasRequired_WeakMap;
function require_WeakMap() {
  if (hasRequired_WeakMap)
    return _WeakMap;
  hasRequired_WeakMap = 1;
  var getNative = require_getNative(), root2 = require_root();
  var WeakMap = getNative(root2, "WeakMap");
  _WeakMap = WeakMap;
  return _WeakMap;
}
var _getTag;
var hasRequired_getTag;
function require_getTag() {
  if (hasRequired_getTag)
    return _getTag;
  hasRequired_getTag = 1;
  var DataView2 = require_DataView(), Map2 = require_Map(), Promise2 = require_Promise(), Set4 = require_Set(), WeakMap = require_WeakMap(), baseGetTag = require_baseGetTag(), toSource = require_toSource();
  var mapTag = "[object Map]", objectTag = "[object Object]", promiseTag = "[object Promise]", setTag = "[object Set]", weakMapTag = "[object WeakMap]";
  var dataViewTag = "[object DataView]";
  var dataViewCtorString = toSource(DataView2), mapCtorString = toSource(Map2), promiseCtorString = toSource(Promise2), setCtorString = toSource(Set4), weakMapCtorString = toSource(WeakMap);
  var getTag = baseGetTag;
  if (DataView2 && getTag(new DataView2(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set4 && getTag(new Set4()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {
    getTag = function(value) {
      var result = baseGetTag(value), Ctor = result == objectTag ? value.constructor : void 0, ctorString = Ctor ? toSource(Ctor) : "";
      if (ctorString) {
        switch (ctorString) {
          case dataViewCtorString:
            return dataViewTag;
          case mapCtorString:
            return mapTag;
          case promiseCtorString:
            return promiseTag;
          case setCtorString:
            return setTag;
          case weakMapCtorString:
            return weakMapTag;
        }
      }
      return result;
    };
  }
  _getTag = getTag;
  return _getTag;
}
var _initCloneArray;
var hasRequired_initCloneArray;
function require_initCloneArray() {
  if (hasRequired_initCloneArray)
    return _initCloneArray;
  hasRequired_initCloneArray = 1;
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function initCloneArray(array2) {
    var length2 = array2.length, result = new array2.constructor(length2);
    if (length2 && typeof array2[0] == "string" && hasOwnProperty.call(array2, "index")) {
      result.index = array2.index;
      result.input = array2.input;
    }
    return result;
  }
  _initCloneArray = initCloneArray;
  return _initCloneArray;
}
var _Uint8Array;
var hasRequired_Uint8Array;
function require_Uint8Array() {
  if (hasRequired_Uint8Array)
    return _Uint8Array;
  hasRequired_Uint8Array = 1;
  var root2 = require_root();
  var Uint8Array = root2.Uint8Array;
  _Uint8Array = Uint8Array;
  return _Uint8Array;
}
var _cloneArrayBuffer;
var hasRequired_cloneArrayBuffer;
function require_cloneArrayBuffer() {
  if (hasRequired_cloneArrayBuffer)
    return _cloneArrayBuffer;
  hasRequired_cloneArrayBuffer = 1;
  var Uint8Array = require_Uint8Array();
  function cloneArrayBuffer(arrayBuffer) {
    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
    new Uint8Array(result).set(new Uint8Array(arrayBuffer));
    return result;
  }
  _cloneArrayBuffer = cloneArrayBuffer;
  return _cloneArrayBuffer;
}
var _cloneDataView;
var hasRequired_cloneDataView;
function require_cloneDataView() {
  if (hasRequired_cloneDataView)
    return _cloneDataView;
  hasRequired_cloneDataView = 1;
  var cloneArrayBuffer = require_cloneArrayBuffer();
  function cloneDataView(dataView, isDeep) {
    var buffer2 = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
    return new dataView.constructor(buffer2, dataView.byteOffset, dataView.byteLength);
  }
  _cloneDataView = cloneDataView;
  return _cloneDataView;
}
var _cloneRegExp;
var hasRequired_cloneRegExp;
function require_cloneRegExp() {
  if (hasRequired_cloneRegExp)
    return _cloneRegExp;
  hasRequired_cloneRegExp = 1;
  var reFlags = /\w*$/;
  function cloneRegExp(regexp) {
    var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
    result.lastIndex = regexp.lastIndex;
    return result;
  }
  _cloneRegExp = cloneRegExp;
  return _cloneRegExp;
}
var _cloneSymbol;
var hasRequired_cloneSymbol;
function require_cloneSymbol() {
  if (hasRequired_cloneSymbol)
    return _cloneSymbol;
  hasRequired_cloneSymbol = 1;
  var Symbol2 = require_Symbol();
  var symbolProto = Symbol2 ? Symbol2.prototype : void 0, symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
  function cloneSymbol(symbol2) {
    return symbolValueOf ? Object(symbolValueOf.call(symbol2)) : {};
  }
  _cloneSymbol = cloneSymbol;
  return _cloneSymbol;
}
var _cloneTypedArray;
var hasRequired_cloneTypedArray;
function require_cloneTypedArray() {
  if (hasRequired_cloneTypedArray)
    return _cloneTypedArray;
  hasRequired_cloneTypedArray = 1;
  var cloneArrayBuffer = require_cloneArrayBuffer();
  function cloneTypedArray(typedArray, isDeep) {
    var buffer2 = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
    return new typedArray.constructor(buffer2, typedArray.byteOffset, typedArray.length);
  }
  _cloneTypedArray = cloneTypedArray;
  return _cloneTypedArray;
}
var _initCloneByTag;
var hasRequired_initCloneByTag;
function require_initCloneByTag() {
  if (hasRequired_initCloneByTag)
    return _initCloneByTag;
  hasRequired_initCloneByTag = 1;
  var cloneArrayBuffer = require_cloneArrayBuffer(), cloneDataView = require_cloneDataView(), cloneRegExp = require_cloneRegExp(), cloneSymbol = require_cloneSymbol(), cloneTypedArray = require_cloneTypedArray();
  var boolTag = "[object Boolean]", dateTag = "[object Date]", mapTag = "[object Map]", numberTag = "[object Number]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", symbolTag = "[object Symbol]";
  var arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", float32Tag = "[object Float32Array]", float64Tag = "[object Float64Array]", int8Tag = "[object Int8Array]", int16Tag = "[object Int16Array]", int32Tag = "[object Int32Array]", uint8Tag = "[object Uint8Array]", uint8ClampedTag = "[object Uint8ClampedArray]", uint16Tag = "[object Uint16Array]", uint32Tag = "[object Uint32Array]";
  function initCloneByTag(object2, tag, isDeep) {
    var Ctor = object2.constructor;
    switch (tag) {
      case arrayBufferTag:
        return cloneArrayBuffer(object2);
      case boolTag:
      case dateTag:
        return new Ctor(+object2);
      case dataViewTag:
        return cloneDataView(object2, isDeep);
      case float32Tag:
      case float64Tag:
      case int8Tag:
      case int16Tag:
      case int32Tag:
      case uint8Tag:
      case uint8ClampedTag:
      case uint16Tag:
      case uint32Tag:
        return cloneTypedArray(object2, isDeep);
      case mapTag:
        return new Ctor();
      case numberTag:
      case stringTag:
        return new Ctor(object2);
      case regexpTag:
        return cloneRegExp(object2);
      case setTag:
        return new Ctor();
      case symbolTag:
        return cloneSymbol(object2);
    }
  }
  _initCloneByTag = initCloneByTag;
  return _initCloneByTag;
}
var _baseCreate;
var hasRequired_baseCreate;
function require_baseCreate() {
  if (hasRequired_baseCreate)
    return _baseCreate;
  hasRequired_baseCreate = 1;
  var isObject = requireIsObject();
  var objectCreate = Object.create;
  var baseCreate = function() {
    function object2() {
    }
    return function(proto2) {
      if (!isObject(proto2)) {
        return {};
      }
      if (objectCreate) {
        return objectCreate(proto2);
      }
      object2.prototype = proto2;
      var result = new object2();
      object2.prototype = void 0;
      return result;
    };
  }();
  _baseCreate = baseCreate;
  return _baseCreate;
}
var _initCloneObject;
var hasRequired_initCloneObject;
function require_initCloneObject() {
  if (hasRequired_initCloneObject)
    return _initCloneObject;
  hasRequired_initCloneObject = 1;
  var baseCreate = require_baseCreate(), getPrototype = require_getPrototype(), isPrototype = require_isPrototype();
  function initCloneObject(object2) {
    return typeof object2.constructor == "function" && !isPrototype(object2) ? baseCreate(getPrototype(object2)) : {};
  }
  _initCloneObject = initCloneObject;
  return _initCloneObject;
}
var _baseIsMap;
var hasRequired_baseIsMap;
function require_baseIsMap() {
  if (hasRequired_baseIsMap)
    return _baseIsMap;
  hasRequired_baseIsMap = 1;
  var getTag = require_getTag(), isObjectLike = requireIsObjectLike();
  var mapTag = "[object Map]";
  function baseIsMap(value) {
    return isObjectLike(value) && getTag(value) == mapTag;
  }
  _baseIsMap = baseIsMap;
  return _baseIsMap;
}
var isMap_1;
var hasRequiredIsMap;
function requireIsMap() {
  if (hasRequiredIsMap)
    return isMap_1;
  hasRequiredIsMap = 1;
  var baseIsMap = require_baseIsMap(), baseUnary = require_baseUnary(), nodeUtil = require_nodeUtil();
  var nodeIsMap = nodeUtil && nodeUtil.isMap;
  var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;
  isMap_1 = isMap;
  return isMap_1;
}
var _baseIsSet;
var hasRequired_baseIsSet;
function require_baseIsSet() {
  if (hasRequired_baseIsSet)
    return _baseIsSet;
  hasRequired_baseIsSet = 1;
  var getTag = require_getTag(), isObjectLike = requireIsObjectLike();
  var setTag = "[object Set]";
  function baseIsSet(value) {
    return isObjectLike(value) && getTag(value) == setTag;
  }
  _baseIsSet = baseIsSet;
  return _baseIsSet;
}
var isSet_1;
var hasRequiredIsSet;
function requireIsSet() {
  if (hasRequiredIsSet)
    return isSet_1;
  hasRequiredIsSet = 1;
  var baseIsSet = require_baseIsSet(), baseUnary = require_baseUnary(), nodeUtil = require_nodeUtil();
  var nodeIsSet = nodeUtil && nodeUtil.isSet;
  var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;
  isSet_1 = isSet;
  return isSet_1;
}
var _baseClone;
var hasRequired_baseClone;
function require_baseClone() {
  if (hasRequired_baseClone)
    return _baseClone;
  hasRequired_baseClone = 1;
  var Stack = require_Stack(), arrayEach = require_arrayEach(), assignValue = require_assignValue(), baseAssign = require_baseAssign(), baseAssignIn = require_baseAssignIn(), cloneBuffer = require_cloneBuffer(), copyArray = require_copyArray(), copySymbols = require_copySymbols(), copySymbolsIn = require_copySymbolsIn(), getAllKeys = require_getAllKeys(), getAllKeysIn = require_getAllKeysIn(), getTag = require_getTag(), initCloneArray = require_initCloneArray(), initCloneByTag = require_initCloneByTag(), initCloneObject = require_initCloneObject(), isArray = requireIsArray(), isBuffer2 = requireIsBuffer(), isMap = requireIsMap(), isObject = requireIsObject(), isSet = requireIsSet(), keys2 = requireKeys(), keysIn = requireKeysIn();
  var CLONE_DEEP_FLAG = 1, CLONE_FLAT_FLAG = 2, CLONE_SYMBOLS_FLAG = 4;
  var argsTag = "[object Arguments]", arrayTag = "[object Array]", boolTag = "[object Boolean]", dateTag = "[object Date]", errorTag = "[object Error]", funcTag = "[object Function]", genTag = "[object GeneratorFunction]", mapTag = "[object Map]", numberTag = "[object Number]", objectTag = "[object Object]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", symbolTag = "[object Symbol]", weakMapTag = "[object WeakMap]";
  var arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]", float32Tag = "[object Float32Array]", float64Tag = "[object Float64Array]", int8Tag = "[object Int8Array]", int16Tag = "[object Int16Array]", int32Tag = "[object Int32Array]", uint8Tag = "[object Uint8Array]", uint8ClampedTag = "[object Uint8ClampedArray]", uint16Tag = "[object Uint16Array]", uint32Tag = "[object Uint32Array]";
  var cloneableTags = {};
  cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
  cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;
  function baseClone(value, bitmask, customizer, key, object2, stack2) {
    var result, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;
    if (customizer) {
      result = object2 ? customizer(value, key, object2, stack2) : customizer(value);
    }
    if (result !== void 0) {
      return result;
    }
    if (!isObject(value)) {
      return value;
    }
    var isArr = isArray(value);
    if (isArr) {
      result = initCloneArray(value);
      if (!isDeep) {
        return copyArray(value, result);
      }
    } else {
      var tag = getTag(value), isFunc = tag == funcTag || tag == genTag;
      if (isBuffer2(value)) {
        return cloneBuffer(value, isDeep);
      }
      if (tag == objectTag || tag == argsTag || isFunc && !object2) {
        result = isFlat || isFunc ? {} : initCloneObject(value);
        if (!isDeep) {
          return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));
        }
      } else {
        if (!cloneableTags[tag]) {
          return object2 ? value : {};
        }
        result = initCloneByTag(value, tag, isDeep);
      }
    }
    stack2 || (stack2 = new Stack());
    var stacked = stack2.get(value);
    if (stacked) {
      return stacked;
    }
    stack2.set(value, result);
    if (isSet(value)) {
      value.forEach(function(subValue) {
        result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack2));
      });
    } else if (isMap(value)) {
      value.forEach(function(subValue, key2) {
        result.set(key2, baseClone(subValue, bitmask, customizer, key2, value, stack2));
      });
    }
    var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys2;
    var props = isArr ? void 0 : keysFunc(value);
    arrayEach(props || value, function(subValue, key2) {
      if (props) {
        key2 = subValue;
        subValue = value[key2];
      }
      assignValue(result, key2, baseClone(subValue, bitmask, customizer, key2, value, stack2));
    });
    return result;
  }
  _baseClone = baseClone;
  return _baseClone;
}
var clone_1;
var hasRequiredClone;
function requireClone() {
  if (hasRequiredClone)
    return clone_1;
  hasRequiredClone = 1;
  var baseClone = require_baseClone();
  var CLONE_SYMBOLS_FLAG = 4;
  function clone(value) {
    return baseClone(value, CLONE_SYMBOLS_FLAG);
  }
  clone_1 = clone;
  return clone_1;
}
var constant_1;
var hasRequiredConstant;
function requireConstant() {
  if (hasRequiredConstant)
    return constant_1;
  hasRequiredConstant = 1;
  function constant2(value) {
    return function() {
      return value;
    };
  }
  constant_1 = constant2;
  return constant_1;
}
var each = { exports: {} };
var _createBaseFor;
var hasRequired_createBaseFor;
function require_createBaseFor() {
  if (hasRequired_createBaseFor)
    return _createBaseFor;
  hasRequired_createBaseFor = 1;
  function createBaseFor(fromRight) {
    return function(object2, iteratee, keysFunc) {
      var index2 = -1, iterable = Object(object2), props = keysFunc(object2), length2 = props.length;
      while (length2--) {
        var key = props[fromRight ? length2 : ++index2];
        if (iteratee(iterable[key], key, iterable) === false) {
          break;
        }
      }
      return object2;
    };
  }
  _createBaseFor = createBaseFor;
  return _createBaseFor;
}
var _baseFor;
var hasRequired_baseFor;
function require_baseFor() {
  if (hasRequired_baseFor)
    return _baseFor;
  hasRequired_baseFor = 1;
  var createBaseFor = require_createBaseFor();
  var baseFor = createBaseFor();
  _baseFor = baseFor;
  return _baseFor;
}
var _baseForOwn;
var hasRequired_baseForOwn;
function require_baseForOwn() {
  if (hasRequired_baseForOwn)
    return _baseForOwn;
  hasRequired_baseForOwn = 1;
  var baseFor = require_baseFor(), keys2 = requireKeys();
  function baseForOwn(object2, iteratee) {
    return object2 && baseFor(object2, iteratee, keys2);
  }
  _baseForOwn = baseForOwn;
  return _baseForOwn;
}
var _createBaseEach;
var hasRequired_createBaseEach;
function require_createBaseEach() {
  if (hasRequired_createBaseEach)
    return _createBaseEach;
  hasRequired_createBaseEach = 1;
  var isArrayLike = requireIsArrayLike();
  function createBaseEach(eachFunc, fromRight) {
    return function(collection, iteratee) {
      if (collection == null) {
        return collection;
      }
      if (!isArrayLike(collection)) {
        return eachFunc(collection, iteratee);
      }
      var length2 = collection.length, index2 = fromRight ? length2 : -1, iterable = Object(collection);
      while (fromRight ? index2-- : ++index2 < length2) {
        if (iteratee(iterable[index2], index2, iterable) === false) {
          break;
        }
      }
      return collection;
    };
  }
  _createBaseEach = createBaseEach;
  return _createBaseEach;
}
var _baseEach;
var hasRequired_baseEach;
function require_baseEach() {
  if (hasRequired_baseEach)
    return _baseEach;
  hasRequired_baseEach = 1;
  var baseForOwn = require_baseForOwn(), createBaseEach = require_createBaseEach();
  var baseEach = createBaseEach(baseForOwn);
  _baseEach = baseEach;
  return _baseEach;
}
var identity_1;
var hasRequiredIdentity;
function requireIdentity() {
  if (hasRequiredIdentity)
    return identity_1;
  hasRequiredIdentity = 1;
  function identity2(value) {
    return value;
  }
  identity_1 = identity2;
  return identity_1;
}
var _castFunction;
var hasRequired_castFunction;
function require_castFunction() {
  if (hasRequired_castFunction)
    return _castFunction;
  hasRequired_castFunction = 1;
  var identity2 = requireIdentity();
  function castFunction(value) {
    return typeof value == "function" ? value : identity2;
  }
  _castFunction = castFunction;
  return _castFunction;
}
var forEach_1;
var hasRequiredForEach;
function requireForEach() {
  if (hasRequiredForEach)
    return forEach_1;
  hasRequiredForEach = 1;
  var arrayEach = require_arrayEach(), baseEach = require_baseEach(), castFunction = require_castFunction(), isArray = requireIsArray();
  function forEach(collection, iteratee) {
    var func = isArray(collection) ? arrayEach : baseEach;
    return func(collection, castFunction(iteratee));
  }
  forEach_1 = forEach;
  return forEach_1;
}
var hasRequiredEach;
function requireEach() {
  if (hasRequiredEach)
    return each.exports;
  hasRequiredEach = 1;
  (function(module) {
    module.exports = requireForEach();
  })(each);
  return each.exports;
}
var _baseFilter;
var hasRequired_baseFilter;
function require_baseFilter() {
  if (hasRequired_baseFilter)
    return _baseFilter;
  hasRequired_baseFilter = 1;
  var baseEach = require_baseEach();
  function baseFilter(collection, predicate) {
    var result = [];
    baseEach(collection, function(value, index2, collection2) {
      if (predicate(value, index2, collection2)) {
        result.push(value);
      }
    });
    return result;
  }
  _baseFilter = baseFilter;
  return _baseFilter;
}
var _setCacheAdd;
var hasRequired_setCacheAdd;
function require_setCacheAdd() {
  if (hasRequired_setCacheAdd)
    return _setCacheAdd;
  hasRequired_setCacheAdd = 1;
  var HASH_UNDEFINED = "__lodash_hash_undefined__";
  function setCacheAdd(value) {
    this.__data__.set(value, HASH_UNDEFINED);
    return this;
  }
  _setCacheAdd = setCacheAdd;
  return _setCacheAdd;
}
var _setCacheHas;
var hasRequired_setCacheHas;
function require_setCacheHas() {
  if (hasRequired_setCacheHas)
    return _setCacheHas;
  hasRequired_setCacheHas = 1;
  function setCacheHas(value) {
    return this.__data__.has(value);
  }
  _setCacheHas = setCacheHas;
  return _setCacheHas;
}
var _SetCache;
var hasRequired_SetCache;
function require_SetCache() {
  if (hasRequired_SetCache)
    return _SetCache;
  hasRequired_SetCache = 1;
  var MapCache = require_MapCache(), setCacheAdd = require_setCacheAdd(), setCacheHas = require_setCacheHas();
  function SetCache(values2) {
    var index2 = -1, length2 = values2 == null ? 0 : values2.length;
    this.__data__ = new MapCache();
    while (++index2 < length2) {
      this.add(values2[index2]);
    }
  }
  SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
  SetCache.prototype.has = setCacheHas;
  _SetCache = SetCache;
  return _SetCache;
}
var _arraySome;
var hasRequired_arraySome;
function require_arraySome() {
  if (hasRequired_arraySome)
    return _arraySome;
  hasRequired_arraySome = 1;
  function arraySome(array2, predicate) {
    var index2 = -1, length2 = array2 == null ? 0 : array2.length;
    while (++index2 < length2) {
      if (predicate(array2[index2], index2, array2)) {
        return true;
      }
    }
    return false;
  }
  _arraySome = arraySome;
  return _arraySome;
}
var _cacheHas;
var hasRequired_cacheHas;
function require_cacheHas() {
  if (hasRequired_cacheHas)
    return _cacheHas;
  hasRequired_cacheHas = 1;
  function cacheHas(cache, key) {
    return cache.has(key);
  }
  _cacheHas = cacheHas;
  return _cacheHas;
}
var _equalArrays;
var hasRequired_equalArrays;
function require_equalArrays() {
  if (hasRequired_equalArrays)
    return _equalArrays;
  hasRequired_equalArrays = 1;
  var SetCache = require_SetCache(), arraySome = require_arraySome(), cacheHas = require_cacheHas();
  var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
  function equalArrays(array2, other, bitmask, customizer, equalFunc, stack2) {
    var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array2.length, othLength = other.length;
    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
      return false;
    }
    var arrStacked = stack2.get(array2);
    var othStacked = stack2.get(other);
    if (arrStacked && othStacked) {
      return arrStacked == other && othStacked == array2;
    }
    var index2 = -1, result = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : void 0;
    stack2.set(array2, other);
    stack2.set(other, array2);
    while (++index2 < arrLength) {
      var arrValue = array2[index2], othValue = other[index2];
      if (customizer) {
        var compared = isPartial ? customizer(othValue, arrValue, index2, other, array2, stack2) : customizer(arrValue, othValue, index2, array2, other, stack2);
      }
      if (compared !== void 0) {
        if (compared) {
          continue;
        }
        result = false;
        break;
      }
      if (seen) {
        if (!arraySome(other, function(othValue2, othIndex) {
          if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack2))) {
            return seen.push(othIndex);
          }
        })) {
          result = false;
          break;
        }
      } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack2))) {
        result = false;
        break;
      }
    }
    stack2["delete"](array2);
    stack2["delete"](other);
    return result;
  }
  _equalArrays = equalArrays;
  return _equalArrays;
}
var _mapToArray;
var hasRequired_mapToArray;
function require_mapToArray() {
  if (hasRequired_mapToArray)
    return _mapToArray;
  hasRequired_mapToArray = 1;
  function mapToArray(map2) {
    var index2 = -1, result = Array(map2.size);
    map2.forEach(function(value, key) {
      result[++index2] = [key, value];
    });
    return result;
  }
  _mapToArray = mapToArray;
  return _mapToArray;
}
var _setToArray;
var hasRequired_setToArray;
function require_setToArray() {
  if (hasRequired_setToArray)
    return _setToArray;
  hasRequired_setToArray = 1;
  function setToArray(set2) {
    var index2 = -1, result = Array(set2.size);
    set2.forEach(function(value) {
      result[++index2] = value;
    });
    return result;
  }
  _setToArray = setToArray;
  return _setToArray;
}
var _equalByTag;
var hasRequired_equalByTag;
function require_equalByTag() {
  if (hasRequired_equalByTag)
    return _equalByTag;
  hasRequired_equalByTag = 1;
  var Symbol2 = require_Symbol(), Uint8Array = require_Uint8Array(), eq = requireEq(), equalArrays = require_equalArrays(), mapToArray = require_mapToArray(), setToArray = require_setToArray();
  var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
  var boolTag = "[object Boolean]", dateTag = "[object Date]", errorTag = "[object Error]", mapTag = "[object Map]", numberTag = "[object Number]", regexpTag = "[object RegExp]", setTag = "[object Set]", stringTag = "[object String]", symbolTag = "[object Symbol]";
  var arrayBufferTag = "[object ArrayBuffer]", dataViewTag = "[object DataView]";
  var symbolProto = Symbol2 ? Symbol2.prototype : void 0, symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
  function equalByTag(object2, other, tag, bitmask, customizer, equalFunc, stack2) {
    switch (tag) {
      case dataViewTag:
        if (object2.byteLength != other.byteLength || object2.byteOffset != other.byteOffset) {
          return false;
        }
        object2 = object2.buffer;
        other = other.buffer;
      case arrayBufferTag:
        if (object2.byteLength != other.byteLength || !equalFunc(new Uint8Array(object2), new Uint8Array(other))) {
          return false;
        }
        return true;
      case boolTag:
      case dateTag:
      case numberTag:
        return eq(+object2, +other);
      case errorTag:
        return object2.name == other.name && object2.message == other.message;
      case regexpTag:
      case stringTag:
        return object2 == other + "";
      case mapTag:
        var convert = mapToArray;
      case setTag:
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
        convert || (convert = setToArray);
        if (object2.size != other.size && !isPartial) {
          return false;
        }
        var stacked = stack2.get(object2);
        if (stacked) {
          return stacked == other;
        }
        bitmask |= COMPARE_UNORDERED_FLAG;
        stack2.set(object2, other);
        var result = equalArrays(convert(object2), convert(other), bitmask, customizer, equalFunc, stack2);
        stack2["delete"](object2);
        return result;
      case symbolTag:
        if (symbolValueOf) {
          return symbolValueOf.call(object2) == symbolValueOf.call(other);
        }
    }
    return false;
  }
  _equalByTag = equalByTag;
  return _equalByTag;
}
var _equalObjects;
var hasRequired_equalObjects;
function require_equalObjects() {
  if (hasRequired_equalObjects)
    return _equalObjects;
  hasRequired_equalObjects = 1;
  var getAllKeys = require_getAllKeys();
  var COMPARE_PARTIAL_FLAG = 1;
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function equalObjects(object2, other, bitmask, customizer, equalFunc, stack2) {
    var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object2), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;
    if (objLength != othLength && !isPartial) {
      return false;
    }
    var index2 = objLength;
    while (index2--) {
      var key = objProps[index2];
      if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
        return false;
      }
    }
    var objStacked = stack2.get(object2);
    var othStacked = stack2.get(other);
    if (objStacked && othStacked) {
      return objStacked == other && othStacked == object2;
    }
    var result = true;
    stack2.set(object2, other);
    stack2.set(other, object2);
    var skipCtor = isPartial;
    while (++index2 < objLength) {
      key = objProps[index2];
      var objValue = object2[key], othValue = other[key];
      if (customizer) {
        var compared = isPartial ? customizer(othValue, objValue, key, other, object2, stack2) : customizer(objValue, othValue, key, object2, other, stack2);
      }
      if (!(compared === void 0 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack2) : compared)) {
        result = false;
        break;
      }
      skipCtor || (skipCtor = key == "constructor");
    }
    if (result && !skipCtor) {
      var objCtor = object2.constructor, othCtor = other.constructor;
      if (objCtor != othCtor && ("constructor" in object2 && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
        result = false;
      }
    }
    stack2["delete"](object2);
    stack2["delete"](other);
    return result;
  }
  _equalObjects = equalObjects;
  return _equalObjects;
}
var _baseIsEqualDeep;
var hasRequired_baseIsEqualDeep;
function require_baseIsEqualDeep() {
  if (hasRequired_baseIsEqualDeep)
    return _baseIsEqualDeep;
  hasRequired_baseIsEqualDeep = 1;
  var Stack = require_Stack(), equalArrays = require_equalArrays(), equalByTag = require_equalByTag(), equalObjects = require_equalObjects(), getTag = require_getTag(), isArray = requireIsArray(), isBuffer2 = requireIsBuffer(), isTypedArray = requireIsTypedArray();
  var COMPARE_PARTIAL_FLAG = 1;
  var argsTag = "[object Arguments]", arrayTag = "[object Array]", objectTag = "[object Object]";
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function baseIsEqualDeep(object2, other, bitmask, customizer, equalFunc, stack2) {
    var objIsArr = isArray(object2), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object2), othTag = othIsArr ? arrayTag : getTag(other);
    objTag = objTag == argsTag ? objectTag : objTag;
    othTag = othTag == argsTag ? objectTag : othTag;
    var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;
    if (isSameTag && isBuffer2(object2)) {
      if (!isBuffer2(other)) {
        return false;
      }
      objIsArr = true;
      objIsObj = false;
    }
    if (isSameTag && !objIsObj) {
      stack2 || (stack2 = new Stack());
      return objIsArr || isTypedArray(object2) ? equalArrays(object2, other, bitmask, customizer, equalFunc, stack2) : equalByTag(object2, other, objTag, bitmask, customizer, equalFunc, stack2);
    }
    if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
      var objIsWrapped = objIsObj && hasOwnProperty.call(object2, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty.call(other, "__wrapped__");
      if (objIsWrapped || othIsWrapped) {
        var objUnwrapped = objIsWrapped ? object2.value() : object2, othUnwrapped = othIsWrapped ? other.value() : other;
        stack2 || (stack2 = new Stack());
        return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack2);
      }
    }
    if (!isSameTag) {
      return false;
    }
    stack2 || (stack2 = new Stack());
    return equalObjects(object2, other, bitmask, customizer, equalFunc, stack2);
  }
  _baseIsEqualDeep = baseIsEqualDeep;
  return _baseIsEqualDeep;
}
var _baseIsEqual;
var hasRequired_baseIsEqual;
function require_baseIsEqual() {
  if (hasRequired_baseIsEqual)
    return _baseIsEqual;
  hasRequired_baseIsEqual = 1;
  var baseIsEqualDeep = require_baseIsEqualDeep(), isObjectLike = requireIsObjectLike();
  function baseIsEqual(value, other, bitmask, customizer, stack2) {
    if (value === other) {
      return true;
    }
    if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
      return value !== value && other !== other;
    }
    return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack2);
  }
  _baseIsEqual = baseIsEqual;
  return _baseIsEqual;
}
var _baseIsMatch;
var hasRequired_baseIsMatch;
function require_baseIsMatch() {
  if (hasRequired_baseIsMatch)
    return _baseIsMatch;
  hasRequired_baseIsMatch = 1;
  var Stack = require_Stack(), baseIsEqual = require_baseIsEqual();
  var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
  function baseIsMatch(object2, source, matchData, customizer) {
    var index2 = matchData.length, length2 = index2, noCustomizer = !customizer;
    if (object2 == null) {
      return !length2;
    }
    object2 = Object(object2);
    while (index2--) {
      var data = matchData[index2];
      if (noCustomizer && data[2] ? data[1] !== object2[data[0]] : !(data[0] in object2)) {
        return false;
      }
    }
    while (++index2 < length2) {
      data = matchData[index2];
      var key = data[0], objValue = object2[key], srcValue = data[1];
      if (noCustomizer && data[2]) {
        if (objValue === void 0 && !(key in object2)) {
          return false;
        }
      } else {
        var stack2 = new Stack();
        if (customizer) {
          var result = customizer(objValue, srcValue, key, object2, source, stack2);
        }
        if (!(result === void 0 ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack2) : result)) {
          return false;
        }
      }
    }
    return true;
  }
  _baseIsMatch = baseIsMatch;
  return _baseIsMatch;
}
var _isStrictComparable;
var hasRequired_isStrictComparable;
function require_isStrictComparable() {
  if (hasRequired_isStrictComparable)
    return _isStrictComparable;
  hasRequired_isStrictComparable = 1;
  var isObject = requireIsObject();
  function isStrictComparable(value) {
    return value === value && !isObject(value);
  }
  _isStrictComparable = isStrictComparable;
  return _isStrictComparable;
}
var _getMatchData;
var hasRequired_getMatchData;
function require_getMatchData() {
  if (hasRequired_getMatchData)
    return _getMatchData;
  hasRequired_getMatchData = 1;
  var isStrictComparable = require_isStrictComparable(), keys2 = requireKeys();
  function getMatchData(object2) {
    var result = keys2(object2), length2 = result.length;
    while (length2--) {
      var key = result[length2], value = object2[key];
      result[length2] = [key, value, isStrictComparable(value)];
    }
    return result;
  }
  _getMatchData = getMatchData;
  return _getMatchData;
}
var _matchesStrictComparable;
var hasRequired_matchesStrictComparable;
function require_matchesStrictComparable() {
  if (hasRequired_matchesStrictComparable)
    return _matchesStrictComparable;
  hasRequired_matchesStrictComparable = 1;
  function matchesStrictComparable(key, srcValue) {
    return function(object2) {
      if (object2 == null) {
        return false;
      }
      return object2[key] === srcValue && (srcValue !== void 0 || key in Object(object2));
    };
  }
  _matchesStrictComparable = matchesStrictComparable;
  return _matchesStrictComparable;
}
var _baseMatches;
var hasRequired_baseMatches;
function require_baseMatches() {
  if (hasRequired_baseMatches)
    return _baseMatches;
  hasRequired_baseMatches = 1;
  var baseIsMatch = require_baseIsMatch(), getMatchData = require_getMatchData(), matchesStrictComparable = require_matchesStrictComparable();
  function baseMatches(source) {
    var matchData = getMatchData(source);
    if (matchData.length == 1 && matchData[0][2]) {
      return matchesStrictComparable(matchData[0][0], matchData[0][1]);
    }
    return function(object2) {
      return object2 === source || baseIsMatch(object2, source, matchData);
    };
  }
  _baseMatches = baseMatches;
  return _baseMatches;
}
var isSymbol_1;
var hasRequiredIsSymbol;
function requireIsSymbol() {
  if (hasRequiredIsSymbol)
    return isSymbol_1;
  hasRequiredIsSymbol = 1;
  var baseGetTag = require_baseGetTag(), isObjectLike = requireIsObjectLike();
  var symbolTag = "[object Symbol]";
  function isSymbol(value) {
    return typeof value == "symbol" || isObjectLike(value) && baseGetTag(value) == symbolTag;
  }
  isSymbol_1 = isSymbol;
  return isSymbol_1;
}
var _isKey;
var hasRequired_isKey;
function require_isKey() {
  if (hasRequired_isKey)
    return _isKey;
  hasRequired_isKey = 1;
  var isArray = requireIsArray(), isSymbol = requireIsSymbol();
  var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, reIsPlainProp = /^\w*$/;
  function isKey(value, object2) {
    if (isArray(value)) {
      return false;
    }
    var type2 = typeof value;
    if (type2 == "number" || type2 == "symbol" || type2 == "boolean" || value == null || isSymbol(value)) {
      return true;
    }
    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object2 != null && value in Object(object2);
  }
  _isKey = isKey;
  return _isKey;
}
var memoize_1;
var hasRequiredMemoize;
function requireMemoize() {
  if (hasRequiredMemoize)
    return memoize_1;
  hasRequiredMemoize = 1;
  var MapCache = require_MapCache();
  var FUNC_ERROR_TEXT = "Expected a function";
  function memoize(func, resolver) {
    if (typeof func != "function" || resolver != null && typeof resolver != "function") {
      throw new TypeError(FUNC_ERROR_TEXT);
    }
    var memoized = function() {
      var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
      if (cache.has(key)) {
        return cache.get(key);
      }
      var result = func.apply(this, args);
      memoized.cache = cache.set(key, result) || cache;
      return result;
    };
    memoized.cache = new (memoize.Cache || MapCache)();
    return memoized;
  }
  memoize.Cache = MapCache;
  memoize_1 = memoize;
  return memoize_1;
}
var _memoizeCapped;
var hasRequired_memoizeCapped;
function require_memoizeCapped() {
  if (hasRequired_memoizeCapped)
    return _memoizeCapped;
  hasRequired_memoizeCapped = 1;
  var memoize = requireMemoize();
  var MAX_MEMOIZE_SIZE = 500;
  function memoizeCapped(func) {
    var result = memoize(func, function(key) {
      if (cache.size === MAX_MEMOIZE_SIZE) {
        cache.clear();
      }
      return key;
    });
    var cache = result.cache;
    return result;
  }
  _memoizeCapped = memoizeCapped;
  return _memoizeCapped;
}
var _stringToPath;
var hasRequired_stringToPath;
function require_stringToPath() {
  if (hasRequired_stringToPath)
    return _stringToPath;
  hasRequired_stringToPath = 1;
  var memoizeCapped = require_memoizeCapped();
  var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
  var reEscapeChar = /\\(\\)?/g;
  var stringToPath = memoizeCapped(function(string) {
    var result = [];
    if (string.charCodeAt(0) === 46) {
      result.push("");
    }
    string.replace(rePropName, function(match, number3, quote, subString) {
      result.push(quote ? subString.replace(reEscapeChar, "$1") : number3 || match);
    });
    return result;
  });
  _stringToPath = stringToPath;
  return _stringToPath;
}
var _arrayMap;
var hasRequired_arrayMap;
function require_arrayMap() {
  if (hasRequired_arrayMap)
    return _arrayMap;
  hasRequired_arrayMap = 1;
  function arrayMap(array2, iteratee) {
    var index2 = -1, length2 = array2 == null ? 0 : array2.length, result = Array(length2);
    while (++index2 < length2) {
      result[index2] = iteratee(array2[index2], index2, array2);
    }
    return result;
  }
  _arrayMap = arrayMap;
  return _arrayMap;
}
var _baseToString;
var hasRequired_baseToString;
function require_baseToString() {
  if (hasRequired_baseToString)
    return _baseToString;
  hasRequired_baseToString = 1;
  var Symbol2 = require_Symbol(), arrayMap = require_arrayMap(), isArray = requireIsArray(), isSymbol = requireIsSymbol();
  var INFINITY = 1 / 0;
  var symbolProto = Symbol2 ? Symbol2.prototype : void 0, symbolToString = symbolProto ? symbolProto.toString : void 0;
  function baseToString(value) {
    if (typeof value == "string") {
      return value;
    }
    if (isArray(value)) {
      return arrayMap(value, baseToString) + "";
    }
    if (isSymbol(value)) {
      return symbolToString ? symbolToString.call(value) : "";
    }
    var result = value + "";
    return result == "0" && 1 / value == -INFINITY ? "-0" : result;
  }
  _baseToString = baseToString;
  return _baseToString;
}
var toString_1;
var hasRequiredToString;
function requireToString() {
  if (hasRequiredToString)
    return toString_1;
  hasRequiredToString = 1;
  var baseToString = require_baseToString();
  function toString(value) {
    return value == null ? "" : baseToString(value);
  }
  toString_1 = toString;
  return toString_1;
}
var _castPath;
var hasRequired_castPath;
function require_castPath() {
  if (hasRequired_castPath)
    return _castPath;
  hasRequired_castPath = 1;
  var isArray = requireIsArray(), isKey = require_isKey(), stringToPath = require_stringToPath(), toString = requireToString();
  function castPath(value, object2) {
    if (isArray(value)) {
      return value;
    }
    return isKey(value, object2) ? [value] : stringToPath(toString(value));
  }
  _castPath = castPath;
  return _castPath;
}
var _toKey;
var hasRequired_toKey;
function require_toKey() {
  if (hasRequired_toKey)
    return _toKey;
  hasRequired_toKey = 1;
  var isSymbol = requireIsSymbol();
  var INFINITY = 1 / 0;
  function toKey(value) {
    if (typeof value == "string" || isSymbol(value)) {
      return value;
    }
    var result = value + "";
    return result == "0" && 1 / value == -INFINITY ? "-0" : result;
  }
  _toKey = toKey;
  return _toKey;
}
var _baseGet;
var hasRequired_baseGet;
function require_baseGet() {
  if (hasRequired_baseGet)
    return _baseGet;
  hasRequired_baseGet = 1;
  var castPath = require_castPath(), toKey = require_toKey();
  function baseGet(object2, path2) {
    path2 = castPath(path2, object2);
    var index2 = 0, length2 = path2.length;
    while (object2 != null && index2 < length2) {
      object2 = object2[toKey(path2[index2++])];
    }
    return index2 && index2 == length2 ? object2 : void 0;
  }
  _baseGet = baseGet;
  return _baseGet;
}
var get_1;
var hasRequiredGet;
function requireGet() {
  if (hasRequiredGet)
    return get_1;
  hasRequiredGet = 1;
  var baseGet = require_baseGet();
  function get2(object2, path2, defaultValue) {
    var result = object2 == null ? void 0 : baseGet(object2, path2);
    return result === void 0 ? defaultValue : result;
  }
  get_1 = get2;
  return get_1;
}
var _baseHasIn;
var hasRequired_baseHasIn;
function require_baseHasIn() {
  if (hasRequired_baseHasIn)
    return _baseHasIn;
  hasRequired_baseHasIn = 1;
  function baseHasIn(object2, key) {
    return object2 != null && key in Object(object2);
  }
  _baseHasIn = baseHasIn;
  return _baseHasIn;
}
var _hasPath;
var hasRequired_hasPath;
function require_hasPath() {
  if (hasRequired_hasPath)
    return _hasPath;
  hasRequired_hasPath = 1;
  var castPath = require_castPath(), isArguments = requireIsArguments(), isArray = requireIsArray(), isIndex = require_isIndex(), isLength = requireIsLength(), toKey = require_toKey();
  function hasPath(object2, path2, hasFunc) {
    path2 = castPath(path2, object2);
    var index2 = -1, length2 = path2.length, result = false;
    while (++index2 < length2) {
      var key = toKey(path2[index2]);
      if (!(result = object2 != null && hasFunc(object2, key))) {
        break;
      }
      object2 = object2[key];
    }
    if (result || ++index2 != length2) {
      return result;
    }
    length2 = object2 == null ? 0 : object2.length;
    return !!length2 && isLength(length2) && isIndex(key, length2) && (isArray(object2) || isArguments(object2));
  }
  _hasPath = hasPath;
  return _hasPath;
}
var hasIn_1;
var hasRequiredHasIn;
function requireHasIn() {
  if (hasRequiredHasIn)
    return hasIn_1;
  hasRequiredHasIn = 1;
  var baseHasIn = require_baseHasIn(), hasPath = require_hasPath();
  function hasIn(object2, path2) {
    return object2 != null && hasPath(object2, path2, baseHasIn);
  }
  hasIn_1 = hasIn;
  return hasIn_1;
}
var _baseMatchesProperty;
var hasRequired_baseMatchesProperty;
function require_baseMatchesProperty() {
  if (hasRequired_baseMatchesProperty)
    return _baseMatchesProperty;
  hasRequired_baseMatchesProperty = 1;
  var baseIsEqual = require_baseIsEqual(), get2 = requireGet(), hasIn = requireHasIn(), isKey = require_isKey(), isStrictComparable = require_isStrictComparable(), matchesStrictComparable = require_matchesStrictComparable(), toKey = require_toKey();
  var COMPARE_PARTIAL_FLAG = 1, COMPARE_UNORDERED_FLAG = 2;
  function baseMatchesProperty(path2, srcValue) {
    if (isKey(path2) && isStrictComparable(srcValue)) {
      return matchesStrictComparable(toKey(path2), srcValue);
    }
    return function(object2) {
      var objValue = get2(object2, path2);
      return objValue === void 0 && objValue === srcValue ? hasIn(object2, path2) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
    };
  }
  _baseMatchesProperty = baseMatchesProperty;
  return _baseMatchesProperty;
}
var _baseProperty;
var hasRequired_baseProperty;
function require_baseProperty() {
  if (hasRequired_baseProperty)
    return _baseProperty;
  hasRequired_baseProperty = 1;
  function baseProperty(key) {
    return function(object2) {
      return object2 == null ? void 0 : object2[key];
    };
  }
  _baseProperty = baseProperty;
  return _baseProperty;
}
var _basePropertyDeep;
var hasRequired_basePropertyDeep;
function require_basePropertyDeep() {
  if (hasRequired_basePropertyDeep)
    return _basePropertyDeep;
  hasRequired_basePropertyDeep = 1;
  var baseGet = require_baseGet();
  function basePropertyDeep(path2) {
    return function(object2) {
      return baseGet(object2, path2);
    };
  }
  _basePropertyDeep = basePropertyDeep;
  return _basePropertyDeep;
}
var property_1;
var hasRequiredProperty;
function requireProperty() {
  if (hasRequiredProperty)
    return property_1;
  hasRequiredProperty = 1;
  var baseProperty = require_baseProperty(), basePropertyDeep = require_basePropertyDeep(), isKey = require_isKey(), toKey = require_toKey();
  function property(path2) {
    return isKey(path2) ? baseProperty(toKey(path2)) : basePropertyDeep(path2);
  }
  property_1 = property;
  return property_1;
}
var _baseIteratee;
var hasRequired_baseIteratee;
function require_baseIteratee() {
  if (hasRequired_baseIteratee)
    return _baseIteratee;
  hasRequired_baseIteratee = 1;
  var baseMatches = require_baseMatches(), baseMatchesProperty = require_baseMatchesProperty(), identity2 = requireIdentity(), isArray = requireIsArray(), property = requireProperty();
  function baseIteratee(value) {
    if (typeof value == "function") {
      return value;
    }
    if (value == null) {
      return identity2;
    }
    if (typeof value == "object") {
      return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);
    }
    return property(value);
  }
  _baseIteratee = baseIteratee;
  return _baseIteratee;
}
var filter_1;
var hasRequiredFilter;
function requireFilter() {
  if (hasRequiredFilter)
    return filter_1;
  hasRequiredFilter = 1;
  var arrayFilter = require_arrayFilter(), baseFilter = require_baseFilter(), baseIteratee = require_baseIteratee(), isArray = requireIsArray();
  function filter2(collection, predicate) {
    var func = isArray(collection) ? arrayFilter : baseFilter;
    return func(collection, baseIteratee(predicate, 3));
  }
  filter_1 = filter2;
  return filter_1;
}
var _baseHas;
var hasRequired_baseHas;
function require_baseHas() {
  if (hasRequired_baseHas)
    return _baseHas;
  hasRequired_baseHas = 1;
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function baseHas(object2, key) {
    return object2 != null && hasOwnProperty.call(object2, key);
  }
  _baseHas = baseHas;
  return _baseHas;
}
var has_1;
var hasRequiredHas;
function requireHas() {
  if (hasRequiredHas)
    return has_1;
  hasRequiredHas = 1;
  var baseHas = require_baseHas(), hasPath = require_hasPath();
  function has(object2, path2) {
    return object2 != null && hasPath(object2, path2, baseHas);
  }
  has_1 = has;
  return has_1;
}
var isEmpty_1;
var hasRequiredIsEmpty;
function requireIsEmpty() {
  if (hasRequiredIsEmpty)
    return isEmpty_1;
  hasRequiredIsEmpty = 1;
  var baseKeys = require_baseKeys(), getTag = require_getTag(), isArguments = requireIsArguments(), isArray = requireIsArray(), isArrayLike = requireIsArrayLike(), isBuffer2 = requireIsBuffer(), isPrototype = require_isPrototype(), isTypedArray = requireIsTypedArray();
  var mapTag = "[object Map]", setTag = "[object Set]";
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  function isEmpty(value) {
    if (value == null) {
      return true;
    }
    if (isArrayLike(value) && (isArray(value) || typeof value == "string" || typeof value.splice == "function" || isBuffer2(value) || isTypedArray(value) || isArguments(value))) {
      return !value.length;
    }
    var tag = getTag(value);
    if (tag == mapTag || tag == setTag) {
      return !value.size;
    }
    if (isPrototype(value)) {
      return !baseKeys(value).length;
    }
    for (var key in value) {
      if (hasOwnProperty.call(value, key)) {
        return false;
      }
    }
    return true;
  }
  isEmpty_1 = isEmpty;
  return isEmpty_1;
}
var isUndefined_1;
var hasRequiredIsUndefined;
function requireIsUndefined() {
  if (hasRequiredIsUndefined)
    return isUndefined_1;
  hasRequiredIsUndefined = 1;
  function isUndefined(value) {
    return value === void 0;
  }
  isUndefined_1 = isUndefined;
  return isUndefined_1;
}
var _baseMap;
var hasRequired_baseMap;
function require_baseMap() {
  if (hasRequired_baseMap)
    return _baseMap;
  hasRequired_baseMap = 1;
  var baseEach = require_baseEach(), isArrayLike = requireIsArrayLike();
  function baseMap(collection, iteratee) {
    var index2 = -1, result = isArrayLike(collection) ? Array(collection.length) : [];
    baseEach(collection, function(value, key, collection2) {
      result[++index2] = iteratee(value, key, collection2);
    });
    return result;
  }
  _baseMap = baseMap;
  return _baseMap;
}
var map_1;
var hasRequiredMap;
function requireMap() {
  if (hasRequiredMap)
    return map_1;
  hasRequiredMap = 1;
  var arrayMap = require_arrayMap(), baseIteratee = require_baseIteratee(), baseMap = require_baseMap(), isArray = requireIsArray();
  function map2(collection, iteratee) {
    var func = isArray(collection) ? arrayMap : baseMap;
    return func(collection, baseIteratee(iteratee, 3));
  }
  map_1 = map2;
  return map_1;
}
var _arrayReduce;
var hasRequired_arrayReduce;
function require_arrayReduce() {
  if (hasRequired_arrayReduce)
    return _arrayReduce;
  hasRequired_arrayReduce = 1;
  function arrayReduce(array2, iteratee, accumulator, initAccum) {
    var index2 = -1, length2 = array2 == null ? 0 : array2.length;
    if (initAccum && length2) {
      accumulator = array2[++index2];
    }
    while (++index2 < length2) {
      accumulator = iteratee(accumulator, array2[index2], index2, array2);
    }
    return accumulator;
  }
  _arrayReduce = arrayReduce;
  return _arrayReduce;
}
var _baseReduce;
var hasRequired_baseReduce;
function require_baseReduce() {
  if (hasRequired_baseReduce)
    return _baseReduce;
  hasRequired_baseReduce = 1;
  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {
    eachFunc(collection, function(value, index2, collection2) {
      accumulator = initAccum ? (initAccum = false, value) : iteratee(accumulator, value, index2, collection2);
    });
    return accumulator;
  }
  _baseReduce = baseReduce;
  return _baseReduce;
}
var reduce_1;
var hasRequiredReduce;
function requireReduce() {
  if (hasRequiredReduce)
    return reduce_1;
  hasRequiredReduce = 1;
  var arrayReduce = require_arrayReduce(), baseEach = require_baseEach(), baseIteratee = require_baseIteratee(), baseReduce = require_baseReduce(), isArray = requireIsArray();
  function reduce2(collection, iteratee, accumulator) {
    var func = isArray(collection) ? arrayReduce : baseReduce, initAccum = arguments.length < 3;
    return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);
  }
  reduce_1 = reduce2;
  return reduce_1;
}
var isString_1;
var hasRequiredIsString;
function requireIsString() {
  if (hasRequiredIsString)
    return isString_1;
  hasRequiredIsString = 1;
  var baseGetTag = require_baseGetTag(), isArray = requireIsArray(), isObjectLike = requireIsObjectLike();
  var stringTag = "[object String]";
  function isString(value) {
    return typeof value == "string" || !isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag;
  }
  isString_1 = isString;
  return isString_1;
}
var _asciiSize;
var hasRequired_asciiSize;
function require_asciiSize() {
  if (hasRequired_asciiSize)
    return _asciiSize;
  hasRequired_asciiSize = 1;
  var baseProperty = require_baseProperty();
  var asciiSize = baseProperty("length");
  _asciiSize = asciiSize;
  return _asciiSize;
}
var _hasUnicode;
var hasRequired_hasUnicode;
function require_hasUnicode() {
  if (hasRequired_hasUnicode)
    return _hasUnicode;
  hasRequired_hasUnicode = 1;
  var rsAstralRange = "\\ud800-\\udfff", rsComboMarksRange = "\\u0300-\\u036f", reComboHalfMarksRange = "\\ufe20-\\ufe2f", rsComboSymbolsRange = "\\u20d0-\\u20ff", rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange, rsVarRange = "\\ufe0e\\ufe0f";
  var rsZWJ = "\\u200d";
  var reHasUnicode = RegExp("[" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + "]");
  function hasUnicode(string) {
    return reHasUnicode.test(string);
  }
  _hasUnicode = hasUnicode;
  return _hasUnicode;
}
var _unicodeSize;
var hasRequired_unicodeSize;
function require_unicodeSize() {
  if (hasRequired_unicodeSize)
    return _unicodeSize;
  hasRequired_unicodeSize = 1;
  var rsAstralRange = "\\ud800-\\udfff", rsComboMarksRange = "\\u0300-\\u036f", reComboHalfMarksRange = "\\ufe20-\\ufe2f", rsComboSymbolsRange = "\\u20d0-\\u20ff", rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange, rsVarRange = "\\ufe0e\\ufe0f";
  var rsAstral = "[" + rsAstralRange + "]", rsCombo = "[" + rsComboRange + "]", rsFitz = "\\ud83c[\\udffb-\\udfff]", rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")", rsNonAstral = "[^" + rsAstralRange + "]", rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}", rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]", rsZWJ = "\\u200d";
  var reOptMod = rsModifier + "?", rsOptVar = "[" + rsVarRange + "]?", rsOptJoin = "(?:" + rsZWJ + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*", rsSeq = rsOptVar + reOptMod + rsOptJoin, rsSymbol = "(?:" + [rsNonAstral + rsCombo + "?", rsCombo, rsRegional, rsSurrPair, rsAstral].join("|") + ")";
  var reUnicode = RegExp(rsFitz + "(?=" + rsFitz + ")|" + rsSymbol + rsSeq, "g");
  function unicodeSize(string) {
    var result = reUnicode.lastIndex = 0;
    while (reUnicode.test(string)) {
      ++result;
    }
    return result;
  }
  _unicodeSize = unicodeSize;
  return _unicodeSize;
}
var _stringSize;
var hasRequired_stringSize;
function require_stringSize() {
  if (hasRequired_stringSize)
    return _stringSize;
  hasRequired_stringSize = 1;
  var asciiSize = require_asciiSize(), hasUnicode = require_hasUnicode(), unicodeSize = require_unicodeSize();
  function stringSize(string) {
    return hasUnicode(string) ? unicodeSize(string) : asciiSize(string);
  }
  _stringSize = stringSize;
  return _stringSize;
}
var size_1;
var hasRequiredSize;
function requireSize() {
  if (hasRequiredSize)
    return size_1;
  hasRequiredSize = 1;
  var baseKeys = require_baseKeys(), getTag = require_getTag(), isArrayLike = requireIsArrayLike(), isString = requireIsString(), stringSize = require_stringSize();
  var mapTag = "[object Map]", setTag = "[object Set]";
  function size(collection) {
    if (collection == null) {
      return 0;
    }
    if (isArrayLike(collection)) {
      return isString(collection) ? stringSize(collection) : collection.length;
    }
    var tag = getTag(collection);
    if (tag == mapTag || tag == setTag) {
      return collection.size;
    }
    return baseKeys(collection).length;
  }
  size_1 = size;
  return size_1;
}
var transform_1;
var hasRequiredTransform;
function requireTransform() {
  if (hasRequiredTransform)
    return transform_1;
  hasRequiredTransform = 1;
  var arrayEach = require_arrayEach(), baseCreate = require_baseCreate(), baseForOwn = require_baseForOwn(), baseIteratee = require_baseIteratee(), getPrototype = require_getPrototype(), isArray = requireIsArray(), isBuffer2 = requireIsBuffer(), isFunction = requireIsFunction(), isObject = requireIsObject(), isTypedArray = requireIsTypedArray();
  function transform2(object2, iteratee, accumulator) {
    var isArr = isArray(object2), isArrLike = isArr || isBuffer2(object2) || isTypedArray(object2);
    iteratee = baseIteratee(iteratee, 4);
    if (accumulator == null) {
      var Ctor = object2 && object2.constructor;
      if (isArrLike) {
        accumulator = isArr ? new Ctor() : [];
      } else if (isObject(object2)) {
        accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object2)) : {};
      } else {
        accumulator = {};
      }
    }
    (isArrLike ? arrayEach : baseForOwn)(object2, function(value, index2, object3) {
      return iteratee(accumulator, value, index2, object3);
    });
    return accumulator;
  }
  transform_1 = transform2;
  return transform_1;
}
var _isFlattenable;
var hasRequired_isFlattenable;
function require_isFlattenable() {
  if (hasRequired_isFlattenable)
    return _isFlattenable;
  hasRequired_isFlattenable = 1;
  var Symbol2 = require_Symbol(), isArguments = requireIsArguments(), isArray = requireIsArray();
  var spreadableSymbol = Symbol2 ? Symbol2.isConcatSpreadable : void 0;
  function isFlattenable(value) {
    return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);
  }
  _isFlattenable = isFlattenable;
  return _isFlattenable;
}
var _baseFlatten;
var hasRequired_baseFlatten;
function require_baseFlatten() {
  if (hasRequired_baseFlatten)
    return _baseFlatten;
  hasRequired_baseFlatten = 1;
  var arrayPush = require_arrayPush(), isFlattenable = require_isFlattenable();
  function baseFlatten(array2, depth, predicate, isStrict, result) {
    var index2 = -1, length2 = array2.length;
    predicate || (predicate = isFlattenable);
    result || (result = []);
    while (++index2 < length2) {
      var value = array2[index2];
      if (depth > 0 && predicate(value)) {
        if (depth > 1) {
          baseFlatten(value, depth - 1, predicate, isStrict, result);
        } else {
          arrayPush(result, value);
        }
      } else if (!isStrict) {
        result[result.length] = value;
      }
    }
    return result;
  }
  _baseFlatten = baseFlatten;
  return _baseFlatten;
}
var _apply;
var hasRequired_apply;
function require_apply() {
  if (hasRequired_apply)
    return _apply;
  hasRequired_apply = 1;
  function apply(func, thisArg, args) {
    switch (args.length) {
      case 0:
        return func.call(thisArg);
      case 1:
        return func.call(thisArg, args[0]);
      case 2:
        return func.call(thisArg, args[0], args[1]);
      case 3:
        return func.call(thisArg, args[0], args[1], args[2]);
    }
    return func.apply(thisArg, args);
  }
  _apply = apply;
  return _apply;
}
var _overRest;
var hasRequired_overRest;
function require_overRest() {
  if (hasRequired_overRest)
    return _overRest;
  hasRequired_overRest = 1;
  var apply = require_apply();
  var nativeMax = Math.max;
  function overRest(func, start2, transform2) {
    start2 = nativeMax(start2 === void 0 ? func.length - 1 : start2, 0);
    return function() {
      var args = arguments, index2 = -1, length2 = nativeMax(args.length - start2, 0), array2 = Array(length2);
      while (++index2 < length2) {
        array2[index2] = args[start2 + index2];
      }
      index2 = -1;
      var otherArgs = Array(start2 + 1);
      while (++index2 < start2) {
        otherArgs[index2] = args[index2];
      }
      otherArgs[start2] = transform2(array2);
      return apply(func, this, otherArgs);
    };
  }
  _overRest = overRest;
  return _overRest;
}
var _baseSetToString;
var hasRequired_baseSetToString;
function require_baseSetToString() {
  if (hasRequired_baseSetToString)
    return _baseSetToString;
  hasRequired_baseSetToString = 1;
  var constant2 = requireConstant(), defineProperty = require_defineProperty(), identity2 = requireIdentity();
  var baseSetToString = !defineProperty ? identity2 : function(func, string) {
    return defineProperty(func, "toString", {
      "configurable": true,
      "enumerable": false,
      "value": constant2(string),
      "writable": true
    });
  };
  _baseSetToString = baseSetToString;
  return _baseSetToString;
}
var _shortOut;
var hasRequired_shortOut;
function require_shortOut() {
  if (hasRequired_shortOut)
    return _shortOut;
  hasRequired_shortOut = 1;
  var HOT_COUNT = 800, HOT_SPAN = 16;
  var nativeNow = Date.now;
  function shortOut(func) {
    var count2 = 0, lastCalled = 0;
    return function() {
      var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);
      lastCalled = stamp;
      if (remaining > 0) {
        if (++count2 >= HOT_COUNT) {
          return arguments[0];
        }
      } else {
        count2 = 0;
      }
      return func.apply(void 0, arguments);
    };
  }
  _shortOut = shortOut;
  return _shortOut;
}
var _setToString;
var hasRequired_setToString;
function require_setToString() {
  if (hasRequired_setToString)
    return _setToString;
  hasRequired_setToString = 1;
  var baseSetToString = require_baseSetToString(), shortOut = require_shortOut();
  var setToString = shortOut(baseSetToString);
  _setToString = setToString;
  return _setToString;
}
var _baseRest;
var hasRequired_baseRest;
function require_baseRest() {
  if (hasRequired_baseRest)
    return _baseRest;
  hasRequired_baseRest = 1;
  var identity2 = requireIdentity(), overRest = require_overRest(), setToString = require_setToString();
  function baseRest(func, start2) {
    return setToString(overRest(func, start2, identity2), func + "");
  }
  _baseRest = baseRest;
  return _baseRest;
}
var _baseFindIndex;
var hasRequired_baseFindIndex;
function require_baseFindIndex() {
  if (hasRequired_baseFindIndex)
    return _baseFindIndex;
  hasRequired_baseFindIndex = 1;
  function baseFindIndex(array2, predicate, fromIndex, fromRight) {
    var length2 = array2.length, index2 = fromIndex + (fromRight ? 1 : -1);
    while (fromRight ? index2-- : ++index2 < length2) {
      if (predicate(array2[index2], index2, array2)) {
        return index2;
      }
    }
    return -1;
  }
  _baseFindIndex = baseFindIndex;
  return _baseFindIndex;
}
var _baseIsNaN;
var hasRequired_baseIsNaN;
function require_baseIsNaN() {
  if (hasRequired_baseIsNaN)
    return _baseIsNaN;
  hasRequired_baseIsNaN = 1;
  function baseIsNaN(value) {
    return value !== value;
  }
  _baseIsNaN = baseIsNaN;
  return _baseIsNaN;
}
var _strictIndexOf;
var hasRequired_strictIndexOf;
function require_strictIndexOf() {
  if (hasRequired_strictIndexOf)
    return _strictIndexOf;
  hasRequired_strictIndexOf = 1;
  function strictIndexOf(array2, value, fromIndex) {
    var index2 = fromIndex - 1, length2 = array2.length;
    while (++index2 < length2) {
      if (array2[index2] === value) {
        return index2;
      }
    }
    return -1;
  }
  _strictIndexOf = strictIndexOf;
  return _strictIndexOf;
}
var _baseIndexOf;
var hasRequired_baseIndexOf;
function require_baseIndexOf() {
  if (hasRequired_baseIndexOf)
    return _baseIndexOf;
  hasRequired_baseIndexOf = 1;
  var baseFindIndex = require_baseFindIndex(), baseIsNaN = require_baseIsNaN(), strictIndexOf = require_strictIndexOf();
  function baseIndexOf(array2, value, fromIndex) {
    return value === value ? strictIndexOf(array2, value, fromIndex) : baseFindIndex(array2, baseIsNaN, fromIndex);
  }
  _baseIndexOf = baseIndexOf;
  return _baseIndexOf;
}
var _arrayIncludes;
var hasRequired_arrayIncludes;
function require_arrayIncludes() {
  if (hasRequired_arrayIncludes)
    return _arrayIncludes;
  hasRequired_arrayIncludes = 1;
  var baseIndexOf = require_baseIndexOf();
  function arrayIncludes(array2, value) {
    var length2 = array2 == null ? 0 : array2.length;
    return !!length2 && baseIndexOf(array2, value, 0) > -1;
  }
  _arrayIncludes = arrayIncludes;
  return _arrayIncludes;
}
var _arrayIncludesWith;
var hasRequired_arrayIncludesWith;
function require_arrayIncludesWith() {
  if (hasRequired_arrayIncludesWith)
    return _arrayIncludesWith;
  hasRequired_arrayIncludesWith = 1;
  function arrayIncludesWith(array2, value, comparator) {
    var index2 = -1, length2 = array2 == null ? 0 : array2.length;
    while (++index2 < length2) {
      if (comparator(value, array2[index2])) {
        return true;
      }
    }
    return false;
  }
  _arrayIncludesWith = arrayIncludesWith;
  return _arrayIncludesWith;
}
var noop_1;
var hasRequiredNoop;
function requireNoop() {
  if (hasRequiredNoop)
    return noop_1;
  hasRequiredNoop = 1;
  function noop2() {
  }
  noop_1 = noop2;
  return noop_1;
}
var _createSet;
var hasRequired_createSet;
function require_createSet() {
  if (hasRequired_createSet)
    return _createSet;
  hasRequired_createSet = 1;
  var Set4 = require_Set(), noop2 = requireNoop(), setToArray = require_setToArray();
  var INFINITY = 1 / 0;
  var createSet = !(Set4 && 1 / setToArray(new Set4([, -0]))[1] == INFINITY) ? noop2 : function(values2) {
    return new Set4(values2);
  };
  _createSet = createSet;
  return _createSet;
}
var _baseUniq;
var hasRequired_baseUniq;
function require_baseUniq() {
  if (hasRequired_baseUniq)
    return _baseUniq;
  hasRequired_baseUniq = 1;
  var SetCache = require_SetCache(), arrayIncludes = require_arrayIncludes(), arrayIncludesWith = require_arrayIncludesWith(), cacheHas = require_cacheHas(), createSet = require_createSet(), setToArray = require_setToArray();
  var LARGE_ARRAY_SIZE = 200;
  function baseUniq(array2, iteratee, comparator) {
    var index2 = -1, includes = arrayIncludes, length2 = array2.length, isCommon = true, result = [], seen = result;
    if (comparator) {
      isCommon = false;
      includes = arrayIncludesWith;
    } else if (length2 >= LARGE_ARRAY_SIZE) {
      var set2 = iteratee ? null : createSet(array2);
      if (set2) {
        return setToArray(set2);
      }
      isCommon = false;
      includes = cacheHas;
      seen = new SetCache();
    } else {
      seen = iteratee ? [] : result;
    }
    outer:
      while (++index2 < length2) {
        var value = array2[index2], computed = iteratee ? iteratee(value) : value;
        value = comparator || value !== 0 ? value : 0;
        if (isCommon && computed === computed) {
          var seenIndex = seen.length;
          while (seenIndex--) {
            if (seen[seenIndex] === computed) {
              continue outer;
            }
          }
          if (iteratee) {
            seen.push(computed);
          }
          result.push(value);
        } else if (!includes(seen, computed, comparator)) {
          if (seen !== result) {
            seen.push(computed);
          }
          result.push(value);
        }
      }
    return result;
  }
  _baseUniq = baseUniq;
  return _baseUniq;
}
var isArrayLikeObject_1;
var hasRequiredIsArrayLikeObject;
function requireIsArrayLikeObject() {
  if (hasRequiredIsArrayLikeObject)
    return isArrayLikeObject_1;
  hasRequiredIsArrayLikeObject = 1;
  var isArrayLike = requireIsArrayLike(), isObjectLike = requireIsObjectLike();
  function isArrayLikeObject(value) {
    return isObjectLike(value) && isArrayLike(value);
  }
  isArrayLikeObject_1 = isArrayLikeObject;
  return isArrayLikeObject_1;
}
var union_1;
var hasRequiredUnion;
function requireUnion() {
  if (hasRequiredUnion)
    return union_1;
  hasRequiredUnion = 1;
  var baseFlatten = require_baseFlatten(), baseRest = require_baseRest(), baseUniq = require_baseUniq(), isArrayLikeObject = requireIsArrayLikeObject();
  var union2 = baseRest(function(arrays) {
    return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));
  });
  union_1 = union2;
  return union_1;
}
var _baseValues;
var hasRequired_baseValues;
function require_baseValues() {
  if (hasRequired_baseValues)
    return _baseValues;
  hasRequired_baseValues = 1;
  var arrayMap = require_arrayMap();
  function baseValues(object2, props) {
    return arrayMap(props, function(key) {
      return object2[key];
    });
  }
  _baseValues = baseValues;
  return _baseValues;
}
var values_1;
var hasRequiredValues;
function requireValues() {
  if (hasRequiredValues)
    return values_1;
  hasRequiredValues = 1;
  var baseValues = require_baseValues(), keys2 = requireKeys();
  function values2(object2) {
    return object2 == null ? [] : baseValues(object2, keys2(object2));
  }
  values_1 = values2;
  return values_1;
}
var lodash_1$2;
var hasRequiredLodash$2;
function requireLodash$2() {
  if (hasRequiredLodash$2)
    return lodash_1$2;
  hasRequiredLodash$2 = 1;
  var lodash;
  if (typeof commonjsRequire === "function") {
    try {
      lodash = {
        clone: requireClone(),
        constant: requireConstant(),
        each: requireEach(),
        filter: requireFilter(),
        has: requireHas(),
        isArray: requireIsArray(),
        isEmpty: requireIsEmpty(),
        isFunction: requireIsFunction(),
        isUndefined: requireIsUndefined(),
        keys: requireKeys(),
        map: requireMap(),
        reduce: requireReduce(),
        size: requireSize(),
        transform: requireTransform(),
        union: requireUnion(),
        values: requireValues()
      };
    } catch (e) {
    }
  }
  if (!lodash) {
    lodash = window._;
  }
  lodash_1$2 = lodash;
  return lodash_1$2;
}
var graph;
var hasRequiredGraph;
function requireGraph() {
  if (hasRequiredGraph)
    return graph;
  hasRequiredGraph = 1;
  var _2 = requireLodash$2();
  graph = Graph;
  var DEFAULT_EDGE_NAME = "\0";
  var GRAPH_NODE = "\0";
  var EDGE_KEY_DELIM = "";
  function Graph(opts) {
    this._isDirected = _2.has(opts, "directed") ? opts.directed : true;
    this._isMultigraph = _2.has(opts, "multigraph") ? opts.multigraph : false;
    this._isCompound = _2.has(opts, "compound") ? opts.compound : false;
    this._label = void 0;
    this._defaultNodeLabelFn = _2.constant(void 0);
    this._defaultEdgeLabelFn = _2.constant(void 0);
    this._nodes = {};
    if (this._isCompound) {
      this._parent = {};
      this._children = {};
      this._children[GRAPH_NODE] = {};
    }
    this._in = {};
    this._preds = {};
    this._out = {};
    this._sucs = {};
    this._edgeObjs = {};
    this._edgeLabels = {};
  }
  Graph.prototype._nodeCount = 0;
  Graph.prototype._edgeCount = 0;
  Graph.prototype.isDirected = function() {
    return this._isDirected;
  };
  Graph.prototype.isMultigraph = function() {
    return this._isMultigraph;
  };
  Graph.prototype.isCompound = function() {
    return this._isCompound;
  };
  Graph.prototype.setGraph = function(label) {
    this._label = label;
    return this;
  };
  Graph.prototype.graph = function() {
    return this._label;
  };
  Graph.prototype.setDefaultNodeLabel = function(newDefault) {
    if (!_2.isFunction(newDefault)) {
      newDefault = _2.constant(newDefault);
    }
    this._defaultNodeLabelFn = newDefault;
    return this;
  };
  Graph.prototype.nodeCount = function() {
    return this._nodeCount;
  };
  Graph.prototype.nodes = function() {
    return _2.keys(this._nodes);
  };
  Graph.prototype.sources = function() {
    var self2 = this;
    return _2.filter(this.nodes(), function(v) {
      return _2.isEmpty(self2._in[v]);
    });
  };
  Graph.prototype.sinks = function() {
    var self2 = this;
    return _2.filter(this.nodes(), function(v) {
      return _2.isEmpty(self2._out[v]);
    });
  };
  Graph.prototype.setNodes = function(vs, value) {
    var args = arguments;
    var self2 = this;
    _2.each(vs, function(v) {
      if (args.length > 1) {
        self2.setNode(v, value);
      } else {
        self2.setNode(v);
      }
    });
    return this;
  };
  Graph.prototype.setNode = function(v, value) {
    if (_2.has(this._nodes, v)) {
      if (arguments.length > 1) {
        this._nodes[v] = value;
      }
      return this;
    }
    this._nodes[v] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v);
    if (this._isCompound) {
      this._parent[v] = GRAPH_NODE;
      this._children[v] = {};
      this._children[GRAPH_NODE][v] = true;
    }
    this._in[v] = {};
    this._preds[v] = {};
    this._out[v] = {};
    this._sucs[v] = {};
    ++this._nodeCount;
    return this;
  };
  Graph.prototype.node = function(v) {
    return this._nodes[v];
  };
  Graph.prototype.hasNode = function(v) {
    return _2.has(this._nodes, v);
  };
  Graph.prototype.removeNode = function(v) {
    var self2 = this;
    if (_2.has(this._nodes, v)) {
      var removeEdge = function(e) {
        self2.removeEdge(self2._edgeObjs[e]);
      };
      delete this._nodes[v];
      if (this._isCompound) {
        this._removeFromParentsChildList(v);
        delete this._parent[v];
        _2.each(this.children(v), function(child) {
          self2.setParent(child);
        });
        delete this._children[v];
      }
      _2.each(_2.keys(this._in[v]), removeEdge);
      delete this._in[v];
      delete this._preds[v];
      _2.each(_2.keys(this._out[v]), removeEdge);
      delete this._out[v];
      delete this._sucs[v];
      --this._nodeCount;
    }
    return this;
  };
  Graph.prototype.setParent = function(v, parent) {
    if (!this._isCompound) {
      throw new Error("Cannot set parent in a non-compound graph");
    }
    if (_2.isUndefined(parent)) {
      parent = GRAPH_NODE;
    } else {
      parent += "";
      for (var ancestor = parent; !_2.isUndefined(ancestor); ancestor = this.parent(ancestor)) {
        if (ancestor === v) {
          throw new Error("Setting " + parent + " as parent of " + v + " would create a cycle");
        }
      }
      this.setNode(parent);
    }
    this.setNode(v);
    this._removeFromParentsChildList(v);
    this._parent[v] = parent;
    this._children[parent][v] = true;
    return this;
  };
  Graph.prototype._removeFromParentsChildList = function(v) {
    delete this._children[this._parent[v]][v];
  };
  Graph.prototype.parent = function(v) {
    if (this._isCompound) {
      var parent = this._parent[v];
      if (parent !== GRAPH_NODE) {
        return parent;
      }
    }
  };
  Graph.prototype.children = function(v) {
    if (_2.isUndefined(v)) {
      v = GRAPH_NODE;
    }
    if (this._isCompound) {
      var children2 = this._children[v];
      if (children2) {
        return _2.keys(children2);
      }
    } else if (v === GRAPH_NODE) {
      return this.nodes();
    } else if (this.hasNode(v)) {
      return [];
    }
  };
  Graph.prototype.predecessors = function(v) {
    var predsV = this._preds[v];
    if (predsV) {
      return _2.keys(predsV);
    }
  };
  Graph.prototype.successors = function(v) {
    var sucsV = this._sucs[v];
    if (sucsV) {
      return _2.keys(sucsV);
    }
  };
  Graph.prototype.neighbors = function(v) {
    var preds = this.predecessors(v);
    if (preds) {
      return _2.union(preds, this.successors(v));
    }
  };
  Graph.prototype.isLeaf = function(v) {
    var neighbors;
    if (this.isDirected()) {
      neighbors = this.successors(v);
    } else {
      neighbors = this.neighbors(v);
    }
    return neighbors.length === 0;
  };
  Graph.prototype.filterNodes = function(filter2) {
    var copy2 = new this.constructor({
      directed: this._isDirected,
      multigraph: this._isMultigraph,
      compound: this._isCompound
    });
    copy2.setGraph(this.graph());
    var self2 = this;
    _2.each(this._nodes, function(value, v) {
      if (filter2(v)) {
        copy2.setNode(v, value);
      }
    });
    _2.each(this._edgeObjs, function(e) {
      if (copy2.hasNode(e.v) && copy2.hasNode(e.w)) {
        copy2.setEdge(e, self2.edge(e));
      }
    });
    var parents = {};
    function findParent(v) {
      var parent = self2.parent(v);
      if (parent === void 0 || copy2.hasNode(parent)) {
        parents[v] = parent;
        return parent;
      } else if (parent in parents) {
        return parents[parent];
      } else {
        return findParent(parent);
      }
    }
    if (this._isCompound) {
      _2.each(copy2.nodes(), function(v) {
        copy2.setParent(v, findParent(v));
      });
    }
    return copy2;
  };
  Graph.prototype.setDefaultEdgeLabel = function(newDefault) {
    if (!_2.isFunction(newDefault)) {
      newDefault = _2.constant(newDefault);
    }
    this._defaultEdgeLabelFn = newDefault;
    return this;
  };
  Graph.prototype.edgeCount = function() {
    return this._edgeCount;
  };
  Graph.prototype.edges = function() {
    return _2.values(this._edgeObjs);
  };
  Graph.prototype.setPath = function(vs, value) {
    var self2 = this;
    var args = arguments;
    _2.reduce(vs, function(v, w) {
      if (args.length > 1) {
        self2.setEdge(v, w, value);
      } else {
        self2.setEdge(v, w);
      }
      return w;
    });
    return this;
  };
  Graph.prototype.setEdge = function() {
    var v, w, name, value;
    var valueSpecified = false;
    var arg0 = arguments[0];
    if (typeof arg0 === "object" && arg0 !== null && "v" in arg0) {
      v = arg0.v;
      w = arg0.w;
      name = arg0.name;
      if (arguments.length === 2) {
        value = arguments[1];
        valueSpecified = true;
      }
    } else {
      v = arg0;
      w = arguments[1];
      name = arguments[3];
      if (arguments.length > 2) {
        value = arguments[2];
        valueSpecified = true;
      }
    }
    v = "" + v;
    w = "" + w;
    if (!_2.isUndefined(name)) {
      name = "" + name;
    }
    var e = edgeArgsToId(this._isDirected, v, w, name);
    if (_2.has(this._edgeLabels, e)) {
      if (valueSpecified) {
        this._edgeLabels[e] = value;
      }
      return this;
    }
    if (!_2.isUndefined(name) && !this._isMultigraph) {
      throw new Error("Cannot set a named edge when isMultigraph = false");
    }
    this.setNode(v);
    this.setNode(w);
    this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v, w, name);
    var edgeObj = edgeArgsToObj(this._isDirected, v, w, name);
    v = edgeObj.v;
    w = edgeObj.w;
    Object.freeze(edgeObj);
    this._edgeObjs[e] = edgeObj;
    incrementOrInitEntry(this._preds[w], v);
    incrementOrInitEntry(this._sucs[v], w);
    this._in[w][e] = edgeObj;
    this._out[v][e] = edgeObj;
    this._edgeCount++;
    return this;
  };
  Graph.prototype.edge = function(v, w, name) {
    var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v, w, name);
    return this._edgeLabels[e];
  };
  Graph.prototype.hasEdge = function(v, w, name) {
    var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v, w, name);
    return _2.has(this._edgeLabels, e);
  };
  Graph.prototype.removeEdge = function(v, w, name) {
    var e = arguments.length === 1 ? edgeObjToId(this._isDirected, arguments[0]) : edgeArgsToId(this._isDirected, v, w, name);
    var edge = this._edgeObjs[e];
    if (edge) {
      v = edge.v;
      w = edge.w;
      delete this._edgeLabels[e];
      delete this._edgeObjs[e];
      decrementOrRemoveEntry(this._preds[w], v);
      decrementOrRemoveEntry(this._sucs[v], w);
      delete this._in[w][e];
      delete this._out[v][e];
      this._edgeCount--;
    }
    return this;
  };
  Graph.prototype.inEdges = function(v, u) {
    var inV = this._in[v];
    if (inV) {
      var edges2 = _2.values(inV);
      if (!u) {
        return edges2;
      }
      return _2.filter(edges2, function(edge) {
        return edge.v === u;
      });
    }
  };
  Graph.prototype.outEdges = function(v, w) {
    var outV = this._out[v];
    if (outV) {
      var edges2 = _2.values(outV);
      if (!w) {
        return edges2;
      }
      return _2.filter(edges2, function(edge) {
        return edge.w === w;
      });
    }
  };
  Graph.prototype.nodeEdges = function(v, w) {
    var inEdges = this.inEdges(v, w);
    if (inEdges) {
      return inEdges.concat(this.outEdges(v, w));
    }
  };
  function incrementOrInitEntry(map2, k2) {
    if (map2[k2]) {
      map2[k2]++;
    } else {
      map2[k2] = 1;
    }
  }
  function decrementOrRemoveEntry(map2, k2) {
    if (!--map2[k2]) {
      delete map2[k2];
    }
  }
  function edgeArgsToId(isDirected, v_, w_, name) {
    var v = "" + v_;
    var w = "" + w_;
    if (!isDirected && v > w) {
      var tmp = v;
      v = w;
      w = tmp;
    }
    return v + EDGE_KEY_DELIM + w + EDGE_KEY_DELIM + (_2.isUndefined(name) ? DEFAULT_EDGE_NAME : name);
  }
  function edgeArgsToObj(isDirected, v_, w_, name) {
    var v = "" + v_;
    var w = "" + w_;
    if (!isDirected && v > w) {
      var tmp = v;
      v = w;
      w = tmp;
    }
    var edgeObj = { v, w };
    if (name) {
      edgeObj.name = name;
    }
    return edgeObj;
  }
  function edgeObjToId(isDirected, edgeObj) {
    return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);
  }
  return graph;
}
var version$3;
var hasRequiredVersion$2;
function requireVersion$2() {
  if (hasRequiredVersion$2)
    return version$3;
  hasRequiredVersion$2 = 1;
  version$3 = "2.1.8";
  return version$3;
}
var lib;
var hasRequiredLib;
function requireLib() {
  if (hasRequiredLib)
    return lib;
  hasRequiredLib = 1;
  lib = {
    Graph: requireGraph(),
    version: requireVersion$2()
  };
  return lib;
}
var json$1;
var hasRequiredJson;
function requireJson() {
  if (hasRequiredJson)
    return json$1;
  hasRequiredJson = 1;
  var _2 = requireLodash$2();
  var Graph = requireGraph();
  json$1 = {
    write,
    read
  };
  function write(g) {
    var json2 = {
      options: {
        directed: g.isDirected(),
        multigraph: g.isMultigraph(),
        compound: g.isCompound()
      },
      nodes: writeNodes(g),
      edges: writeEdges(g)
    };
    if (!_2.isUndefined(g.graph())) {
      json2.value = _2.clone(g.graph());
    }
    return json2;
  }
  function writeNodes(g) {
    return _2.map(g.nodes(), function(v) {
      var nodeValue = g.node(v);
      var parent = g.parent(v);
      var node = { v };
      if (!_2.isUndefined(nodeValue)) {
        node.value = nodeValue;
      }
      if (!_2.isUndefined(parent)) {
        node.parent = parent;
      }
      return node;
    });
  }
  function writeEdges(g) {
    return _2.map(g.edges(), function(e) {
      var edgeValue = g.edge(e);
      var edge = { v: e.v, w: e.w };
      if (!_2.isUndefined(e.name)) {
        edge.name = e.name;
      }
      if (!_2.isUndefined(edgeValue)) {
        edge.value = edgeValue;
      }
      return edge;
    });
  }
  function read(json2) {
    var g = new Graph(json2.options).setGraph(json2.value);
    _2.each(json2.nodes, function(entry) {
      g.setNode(entry.v, entry.value);
      if (entry.parent) {
        g.setParent(entry.v, entry.parent);
      }
    });
    _2.each(json2.edges, function(entry) {
      g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);
    });
    return g;
  }
  return json$1;
}
var components_1;
var hasRequiredComponents;
function requireComponents() {
  if (hasRequiredComponents)
    return components_1;
  hasRequiredComponents = 1;
  var _2 = requireLodash$2();
  components_1 = components;
  function components(g) {
    var visited = {};
    var cmpts = [];
    var cmpt;
    function dfs(v) {
      if (_2.has(visited, v))
        return;
      visited[v] = true;
      cmpt.push(v);
      _2.each(g.successors(v), dfs);
      _2.each(g.predecessors(v), dfs);
    }
    _2.each(g.nodes(), function(v) {
      cmpt = [];
      dfs(v);
      if (cmpt.length) {
        cmpts.push(cmpt);
      }
    });
    return cmpts;
  }
  return components_1;
}
var priorityQueue;
var hasRequiredPriorityQueue;
function requirePriorityQueue() {
  if (hasRequiredPriorityQueue)
    return priorityQueue;
  hasRequiredPriorityQueue = 1;
  var _2 = requireLodash$2();
  priorityQueue = PriorityQueue;
  function PriorityQueue() {
    this._arr = [];
    this._keyIndices = {};
  }
  PriorityQueue.prototype.size = function() {
    return this._arr.length;
  };
  PriorityQueue.prototype.keys = function() {
    return this._arr.map(function(x2) {
      return x2.key;
    });
  };
  PriorityQueue.prototype.has = function(key) {
    return _2.has(this._keyIndices, key);
  };
  PriorityQueue.prototype.priority = function(key) {
    var index2 = this._keyIndices[key];
    if (index2 !== void 0) {
      return this._arr[index2].priority;
    }
  };
  PriorityQueue.prototype.min = function() {
    if (this.size() === 0) {
      throw new Error("Queue underflow");
    }
    return this._arr[0].key;
  };
  PriorityQueue.prototype.add = function(key, priority) {
    var keyIndices = this._keyIndices;
    key = String(key);
    if (!_2.has(keyIndices, key)) {
      var arr = this._arr;
      var index2 = arr.length;
      keyIndices[key] = index2;
      arr.push({ key, priority });
      this._decrease(index2);
      return true;
    }
    return false;
  };
  PriorityQueue.prototype.removeMin = function() {
    this._swap(0, this._arr.length - 1);
    var min2 = this._arr.pop();
    delete this._keyIndices[min2.key];
    this._heapify(0);
    return min2.key;
  };
  PriorityQueue.prototype.decrease = function(key, priority) {
    var index2 = this._keyIndices[key];
    if (priority > this._arr[index2].priority) {
      throw new Error("New priority is greater than current priority. Key: " + key + " Old: " + this._arr[index2].priority + " New: " + priority);
    }
    this._arr[index2].priority = priority;
    this._decrease(index2);
  };
  PriorityQueue.prototype._heapify = function(i) {
    var arr = this._arr;
    var l = 2 * i;
    var r = l + 1;
    var largest = i;
    if (l < arr.length) {
      largest = arr[l].priority < arr[largest].priority ? l : largest;
      if (r < arr.length) {
        largest = arr[r].priority < arr[largest].priority ? r : largest;
      }
      if (largest !== i) {
        this._swap(i, largest);
        this._heapify(largest);
      }
    }
  };
  PriorityQueue.prototype._decrease = function(index2) {
    var arr = this._arr;
    var priority = arr[index2].priority;
    var parent;
    while (index2 !== 0) {
      parent = index2 >> 1;
      if (arr[parent].priority < priority) {
        break;
      }
      this._swap(index2, parent);
      index2 = parent;
    }
  };
  PriorityQueue.prototype._swap = function(i, j) {
    var arr = this._arr;
    var keyIndices = this._keyIndices;
    var origArrI = arr[i];
    var origArrJ = arr[j];
    arr[i] = origArrJ;
    arr[j] = origArrI;
    keyIndices[origArrJ.key] = i;
    keyIndices[origArrI.key] = j;
  };
  return priorityQueue;
}
var dijkstra_1;
var hasRequiredDijkstra;
function requireDijkstra() {
  if (hasRequiredDijkstra)
    return dijkstra_1;
  hasRequiredDijkstra = 1;
  var _2 = requireLodash$2();
  var PriorityQueue = requirePriorityQueue();
  dijkstra_1 = dijkstra;
  var DEFAULT_WEIGHT_FUNC = _2.constant(1);
  function dijkstra(g, source, weightFn, edgeFn) {
    return runDijkstra(
      g,
      String(source),
      weightFn || DEFAULT_WEIGHT_FUNC,
      edgeFn || function(v) {
        return g.outEdges(v);
      }
    );
  }
  function runDijkstra(g, source, weightFn, edgeFn) {
    var results = {};
    var pq = new PriorityQueue();
    var v, vEntry;
    var updateNeighbors = function(edge) {
      var w = edge.v !== v ? edge.v : edge.w;
      var wEntry = results[w];
      var weight = weightFn(edge);
      var distance2 = vEntry.distance + weight;
      if (weight < 0) {
        throw new Error("dijkstra does not allow negative edge weights. Bad edge: " + edge + " Weight: " + weight);
      }
      if (distance2 < wEntry.distance) {
        wEntry.distance = distance2;
        wEntry.predecessor = v;
        pq.decrease(w, distance2);
      }
    };
    g.nodes().forEach(function(v2) {
      var distance2 = v2 === source ? 0 : Number.POSITIVE_INFINITY;
      results[v2] = { distance: distance2 };
      pq.add(v2, distance2);
    });
    while (pq.size() > 0) {
      v = pq.removeMin();
      vEntry = results[v];
      if (vEntry.distance === Number.POSITIVE_INFINITY) {
        break;
      }
      edgeFn(v).forEach(updateNeighbors);
    }
    return results;
  }
  return dijkstra_1;
}
var dijkstraAll_1;
var hasRequiredDijkstraAll;
function requireDijkstraAll() {
  if (hasRequiredDijkstraAll)
    return dijkstraAll_1;
  hasRequiredDijkstraAll = 1;
  var dijkstra = requireDijkstra();
  var _2 = requireLodash$2();
  dijkstraAll_1 = dijkstraAll;
  function dijkstraAll(g, weightFunc, edgeFunc) {
    return _2.transform(g.nodes(), function(acc, v) {
      acc[v] = dijkstra(g, v, weightFunc, edgeFunc);
    }, {});
  }
  return dijkstraAll_1;
}
var tarjan_1;
var hasRequiredTarjan;
function requireTarjan() {
  if (hasRequiredTarjan)
    return tarjan_1;
  hasRequiredTarjan = 1;
  var _2 = requireLodash$2();
  tarjan_1 = tarjan;
  function tarjan(g) {
    var index2 = 0;
    var stack2 = [];
    var visited = {};
    var results = [];
    function dfs(v) {
      var entry = visited[v] = {
        onStack: true,
        lowlink: index2,
        index: index2++
      };
      stack2.push(v);
      g.successors(v).forEach(function(w2) {
        if (!_2.has(visited, w2)) {
          dfs(w2);
          entry.lowlink = Math.min(entry.lowlink, visited[w2].lowlink);
        } else if (visited[w2].onStack) {
          entry.lowlink = Math.min(entry.lowlink, visited[w2].index);
        }
      });
      if (entry.lowlink === entry.index) {
        var cmpt = [];
        var w;
        do {
          w = stack2.pop();
          visited[w].onStack = false;
          cmpt.push(w);
        } while (v !== w);
        results.push(cmpt);
      }
    }
    g.nodes().forEach(function(v) {
      if (!_2.has(visited, v)) {
        dfs(v);
      }
    });
    return results;
  }
  return tarjan_1;
}
var findCycles_1;
var hasRequiredFindCycles;
function requireFindCycles() {
  if (hasRequiredFindCycles)
    return findCycles_1;
  hasRequiredFindCycles = 1;
  var _2 = requireLodash$2();
  var tarjan = requireTarjan();
  findCycles_1 = findCycles;
  function findCycles(g) {
    return _2.filter(tarjan(g), function(cmpt) {
      return cmpt.length > 1 || cmpt.length === 1 && g.hasEdge(cmpt[0], cmpt[0]);
    });
  }
  return findCycles_1;
}
var floydWarshall_1;
var hasRequiredFloydWarshall;
function requireFloydWarshall() {
  if (hasRequiredFloydWarshall)
    return floydWarshall_1;
  hasRequiredFloydWarshall = 1;
  var _2 = requireLodash$2();
  floydWarshall_1 = floydWarshall;
  var DEFAULT_WEIGHT_FUNC = _2.constant(1);
  function floydWarshall(g, weightFn, edgeFn) {
    return runFloydWarshall(
      g,
      weightFn || DEFAULT_WEIGHT_FUNC,
      edgeFn || function(v) {
        return g.outEdges(v);
      }
    );
  }
  function runFloydWarshall(g, weightFn, edgeFn) {
    var results = {};
    var nodes = g.nodes();
    nodes.forEach(function(v) {
      results[v] = {};
      results[v][v] = { distance: 0 };
      nodes.forEach(function(w) {
        if (v !== w) {
          results[v][w] = { distance: Number.POSITIVE_INFINITY };
        }
      });
      edgeFn(v).forEach(function(edge) {
        var w = edge.v === v ? edge.w : edge.v;
        var d = weightFn(edge);
        results[v][w] = { distance: d, predecessor: v };
      });
    });
    nodes.forEach(function(k2) {
      var rowK = results[k2];
      nodes.forEach(function(i) {
        var rowI = results[i];
        nodes.forEach(function(j) {
          var ik = rowI[k2];
          var kj = rowK[j];
          var ij = rowI[j];
          var altDistance = ik.distance + kj.distance;
          if (altDistance < ij.distance) {
            ij.distance = altDistance;
            ij.predecessor = kj.predecessor;
          }
        });
      });
    });
    return results;
  }
  return floydWarshall_1;
}
var topsort_1;
var hasRequiredTopsort;
function requireTopsort() {
  if (hasRequiredTopsort)
    return topsort_1;
  hasRequiredTopsort = 1;
  var _2 = requireLodash$2();
  topsort_1 = topsort;
  topsort.CycleException = CycleException;
  function topsort(g) {
    var visited = {};
    var stack2 = {};
    var results = [];
    function visit(node) {
      if (_2.has(stack2, node)) {
        throw new CycleException();
      }
      if (!_2.has(visited, node)) {
        stack2[node] = true;
        visited[node] = true;
        _2.each(g.predecessors(node), visit);
        delete stack2[node];
        results.push(node);
      }
    }
    _2.each(g.sinks(), visit);
    if (_2.size(visited) !== g.nodeCount()) {
      throw new CycleException();
    }
    return results;
  }
  function CycleException() {
  }
  CycleException.prototype = new Error();
  return topsort_1;
}
var isAcyclic_1;
var hasRequiredIsAcyclic;
function requireIsAcyclic() {
  if (hasRequiredIsAcyclic)
    return isAcyclic_1;
  hasRequiredIsAcyclic = 1;
  var topsort = requireTopsort();
  isAcyclic_1 = isAcyclic;
  function isAcyclic(g) {
    try {
      topsort(g);
    } catch (e) {
      if (e instanceof topsort.CycleException) {
        return false;
      }
      throw e;
    }
    return true;
  }
  return isAcyclic_1;
}
var dfs_1;
var hasRequiredDfs;
function requireDfs() {
  if (hasRequiredDfs)
    return dfs_1;
  hasRequiredDfs = 1;
  var _2 = requireLodash$2();
  dfs_1 = dfs;
  function dfs(g, vs, order) {
    if (!_2.isArray(vs)) {
      vs = [vs];
    }
    var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);
    var acc = [];
    var visited = {};
    _2.each(vs, function(v) {
      if (!g.hasNode(v)) {
        throw new Error("Graph does not have node: " + v);
      }
      doDfs(g, v, order === "post", visited, navigation, acc);
    });
    return acc;
  }
  function doDfs(g, v, postorder, visited, navigation, acc) {
    if (!_2.has(visited, v)) {
      visited[v] = true;
      if (!postorder) {
        acc.push(v);
      }
      _2.each(navigation(v), function(w) {
        doDfs(g, w, postorder, visited, navigation, acc);
      });
      if (postorder) {
        acc.push(v);
      }
    }
  }
  return dfs_1;
}
var postorder_1;
var hasRequiredPostorder;
function requirePostorder() {
  if (hasRequiredPostorder)
    return postorder_1;
  hasRequiredPostorder = 1;
  var dfs = requireDfs();
  postorder_1 = postorder;
  function postorder(g, vs) {
    return dfs(g, vs, "post");
  }
  return postorder_1;
}
var preorder_1;
var hasRequiredPreorder;
function requirePreorder() {
  if (hasRequiredPreorder)
    return preorder_1;
  hasRequiredPreorder = 1;
  var dfs = requireDfs();
  preorder_1 = preorder;
  function preorder(g, vs) {
    return dfs(g, vs, "pre");
  }
  return preorder_1;
}
var prim_1;
var hasRequiredPrim;
function requirePrim() {
  if (hasRequiredPrim)
    return prim_1;
  hasRequiredPrim = 1;
  var _2 = requireLodash$2();
  var Graph = requireGraph();
  var PriorityQueue = requirePriorityQueue();
  prim_1 = prim;
  function prim(g, weightFunc) {
    var result = new Graph();
    var parents = {};
    var pq = new PriorityQueue();
    var v;
    function updateNeighbors(edge) {
      var w = edge.v === v ? edge.w : edge.v;
      var pri = pq.priority(w);
      if (pri !== void 0) {
        var edgeWeight = weightFunc(edge);
        if (edgeWeight < pri) {
          parents[w] = v;
          pq.decrease(w, edgeWeight);
        }
      }
    }
    if (g.nodeCount() === 0) {
      return result;
    }
    _2.each(g.nodes(), function(v2) {
      pq.add(v2, Number.POSITIVE_INFINITY);
      result.setNode(v2);
    });
    pq.decrease(g.nodes()[0], 0);
    var init2 = false;
    while (pq.size() > 0) {
      v = pq.removeMin();
      if (_2.has(parents, v)) {
        result.setEdge(v, parents[v]);
      } else if (init2) {
        throw new Error("Input graph is not connected: " + g);
      } else {
        init2 = true;
      }
      g.nodeEdges(v).forEach(updateNeighbors);
    }
    return result;
  }
  return prim_1;
}
var alg;
var hasRequiredAlg;
function requireAlg() {
  if (hasRequiredAlg)
    return alg;
  hasRequiredAlg = 1;
  alg = {
    components: requireComponents(),
    dijkstra: requireDijkstra(),
    dijkstraAll: requireDijkstraAll(),
    findCycles: requireFindCycles(),
    floydWarshall: requireFloydWarshall(),
    isAcyclic: requireIsAcyclic(),
    postorder: requirePostorder(),
    preorder: requirePreorder(),
    prim: requirePrim(),
    tarjan: requireTarjan(),
    topsort: requireTopsort()
  };
  return alg;
}
var graphlib;
var hasRequiredGraphlib$2;
function requireGraphlib$2() {
  if (hasRequiredGraphlib$2)
    return graphlib;
  hasRequiredGraphlib$2 = 1;
  var lib2 = requireLib();
  graphlib = {
    Graph: lib2.Graph,
    json: requireJson(),
    alg: requireAlg(),
    version: lib2.version
  };
  return graphlib;
}
var graphlib_1$1;
var hasRequiredGraphlib$1;
function requireGraphlib$1() {
  if (hasRequiredGraphlib$1)
    return graphlib_1$1;
  hasRequiredGraphlib$1 = 1;
  var graphlib2;
  if (typeof commonjsRequire === "function") {
    try {
      graphlib2 = requireGraphlib$2();
    } catch (e) {
    }
  }
  if (!graphlib2) {
    graphlib2 = window.graphlib;
  }
  graphlib_1$1 = graphlib2;
  return graphlib_1$1;
}
var cloneDeep_1;
var hasRequiredCloneDeep;
function requireCloneDeep() {
  if (hasRequiredCloneDeep)
    return cloneDeep_1;
  hasRequiredCloneDeep = 1;
  var baseClone = require_baseClone();
  var CLONE_DEEP_FLAG = 1, CLONE_SYMBOLS_FLAG = 4;
  function cloneDeep(value) {
    return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
  }
  cloneDeep_1 = cloneDeep;
  return cloneDeep_1;
}
var _isIterateeCall;
var hasRequired_isIterateeCall;
function require_isIterateeCall() {
  if (hasRequired_isIterateeCall)
    return _isIterateeCall;
  hasRequired_isIterateeCall = 1;
  var eq = requireEq(), isArrayLike = requireIsArrayLike(), isIndex = require_isIndex(), isObject = requireIsObject();
  function isIterateeCall(value, index2, object2) {
    if (!isObject(object2)) {
      return false;
    }
    var type2 = typeof index2;
    if (type2 == "number" ? isArrayLike(object2) && isIndex(index2, object2.length) : type2 == "string" && index2 in object2) {
      return eq(object2[index2], value);
    }
    return false;
  }
  _isIterateeCall = isIterateeCall;
  return _isIterateeCall;
}
var defaults_1;
var hasRequiredDefaults;
function requireDefaults() {
  if (hasRequiredDefaults)
    return defaults_1;
  hasRequiredDefaults = 1;
  var baseRest = require_baseRest(), eq = requireEq(), isIterateeCall = require_isIterateeCall(), keysIn = requireKeysIn();
  var objectProto = Object.prototype;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var defaults = baseRest(function(object2, sources) {
    object2 = Object(object2);
    var index2 = -1;
    var length2 = sources.length;
    var guard = length2 > 2 ? sources[2] : void 0;
    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      length2 = 1;
    }
    while (++index2 < length2) {
      var source = sources[index2];
      var props = keysIn(source);
      var propsIndex = -1;
      var propsLength = props.length;
      while (++propsIndex < propsLength) {
        var key = props[propsIndex];
        var value = object2[key];
        if (value === void 0 || eq(value, objectProto[key]) && !hasOwnProperty.call(object2, key)) {
          object2[key] = source[key];
        }
      }
    }
    return object2;
  });
  defaults_1 = defaults;
  return defaults_1;
}
var _createFind;
var hasRequired_createFind;
function require_createFind() {
  if (hasRequired_createFind)
    return _createFind;
  hasRequired_createFind = 1;
  var baseIteratee = require_baseIteratee(), isArrayLike = requireIsArrayLike(), keys2 = requireKeys();
  function createFind(findIndexFunc) {
    return function(collection, predicate, fromIndex) {
      var iterable = Object(collection);
      if (!isArrayLike(collection)) {
        var iteratee = baseIteratee(predicate, 3);
        collection = keys2(collection);
        predicate = function(key) {
          return iteratee(iterable[key], key, iterable);
        };
      }
      var index2 = findIndexFunc(collection, predicate, fromIndex);
      return index2 > -1 ? iterable[iteratee ? collection[index2] : index2] : void 0;
    };
  }
  _createFind = createFind;
  return _createFind;
}
var _trimmedEndIndex;
var hasRequired_trimmedEndIndex;
function require_trimmedEndIndex() {
  if (hasRequired_trimmedEndIndex)
    return _trimmedEndIndex;
  hasRequired_trimmedEndIndex = 1;
  var reWhitespace = /\s/;
  function trimmedEndIndex(string) {
    var index2 = string.length;
    while (index2-- && reWhitespace.test(string.charAt(index2))) {
    }
    return index2;
  }
  _trimmedEndIndex = trimmedEndIndex;
  return _trimmedEndIndex;
}
var _baseTrim;
var hasRequired_baseTrim;
function require_baseTrim() {
  if (hasRequired_baseTrim)
    return _baseTrim;
  hasRequired_baseTrim = 1;
  var trimmedEndIndex = require_trimmedEndIndex();
  var reTrimStart = /^\s+/;
  function baseTrim(string) {
    return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, "") : string;
  }
  _baseTrim = baseTrim;
  return _baseTrim;
}
var toNumber_1;
var hasRequiredToNumber;
function requireToNumber() {
  if (hasRequiredToNumber)
    return toNumber_1;
  hasRequiredToNumber = 1;
  var baseTrim = require_baseTrim(), isObject = requireIsObject(), isSymbol = requireIsSymbol();
  var NAN = 0 / 0;
  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;
  var reIsBinary = /^0b[01]+$/i;
  var reIsOctal = /^0o[0-7]+$/i;
  var freeParseInt = parseInt;
  function toNumber(value) {
    if (typeof value == "number") {
      return value;
    }
    if (isSymbol(value)) {
      return NAN;
    }
    if (isObject(value)) {
      var other = typeof value.valueOf == "function" ? value.valueOf() : value;
      value = isObject(other) ? other + "" : other;
    }
    if (typeof value != "string") {
      return value === 0 ? value : +value;
    }
    value = baseTrim(value);
    var isBinary = reIsBinary.test(value);
    return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
  }
  toNumber_1 = toNumber;
  return toNumber_1;
}
var toFinite_1;
var hasRequiredToFinite;
function requireToFinite() {
  if (hasRequiredToFinite)
    return toFinite_1;
  hasRequiredToFinite = 1;
  var toNumber = requireToNumber();
  var INFINITY = 1 / 0, MAX_INTEGER = 17976931348623157e292;
  function toFinite(value) {
    if (!value) {
      return value === 0 ? value : 0;
    }
    value = toNumber(value);
    if (value === INFINITY || value === -INFINITY) {
      var sign2 = value < 0 ? -1 : 1;
      return sign2 * MAX_INTEGER;
    }
    return value === value ? value : 0;
  }
  toFinite_1 = toFinite;
  return toFinite_1;
}
var toInteger_1;
var hasRequiredToInteger;
function requireToInteger() {
  if (hasRequiredToInteger)
    return toInteger_1;
  hasRequiredToInteger = 1;
  var toFinite = requireToFinite();
  function toInteger(value) {
    var result = toFinite(value), remainder = result % 1;
    return result === result ? remainder ? result - remainder : result : 0;
  }
  toInteger_1 = toInteger;
  return toInteger_1;
}
var findIndex_1;
var hasRequiredFindIndex;
function requireFindIndex() {
  if (hasRequiredFindIndex)
    return findIndex_1;
  hasRequiredFindIndex = 1;
  var baseFindIndex = require_baseFindIndex(), baseIteratee = require_baseIteratee(), toInteger = requireToInteger();
  var nativeMax = Math.max;
  function findIndex(array2, predicate, fromIndex) {
    var length2 = array2 == null ? 0 : array2.length;
    if (!length2) {
      return -1;
    }
    var index2 = fromIndex == null ? 0 : toInteger(fromIndex);
    if (index2 < 0) {
      index2 = nativeMax(length2 + index2, 0);
    }
    return baseFindIndex(array2, baseIteratee(predicate, 3), index2);
  }
  findIndex_1 = findIndex;
  return findIndex_1;
}
var find_1;
var hasRequiredFind;
function requireFind() {
  if (hasRequiredFind)
    return find_1;
  hasRequiredFind = 1;
  var createFind = require_createFind(), findIndex = requireFindIndex();
  var find2 = createFind(findIndex);
  find_1 = find2;
  return find_1;
}
var flatten_1;
var hasRequiredFlatten;
function requireFlatten() {
  if (hasRequiredFlatten)
    return flatten_1;
  hasRequiredFlatten = 1;
  var baseFlatten = require_baseFlatten();
  function flatten2(array2) {
    var length2 = array2 == null ? 0 : array2.length;
    return length2 ? baseFlatten(array2, 1) : [];
  }
  flatten_1 = flatten2;
  return flatten_1;
}
var forIn_1;
var hasRequiredForIn;
function requireForIn() {
  if (hasRequiredForIn)
    return forIn_1;
  hasRequiredForIn = 1;
  var baseFor = require_baseFor(), castFunction = require_castFunction(), keysIn = requireKeysIn();
  function forIn(object2, iteratee) {
    return object2 == null ? object2 : baseFor(object2, castFunction(iteratee), keysIn);
  }
  forIn_1 = forIn;
  return forIn_1;
}
var last_1;
var hasRequiredLast;
function requireLast() {
  if (hasRequiredLast)
    return last_1;
  hasRequiredLast = 1;
  function last(array2) {
    var length2 = array2 == null ? 0 : array2.length;
    return length2 ? array2[length2 - 1] : void 0;
  }
  last_1 = last;
  return last_1;
}
var mapValues_1;
var hasRequiredMapValues;
function requireMapValues() {
  if (hasRequiredMapValues)
    return mapValues_1;
  hasRequiredMapValues = 1;
  var baseAssignValue = require_baseAssignValue(), baseForOwn = require_baseForOwn(), baseIteratee = require_baseIteratee();
  function mapValues(object2, iteratee) {
    var result = {};
    iteratee = baseIteratee(iteratee, 3);
    baseForOwn(object2, function(value, key, object3) {
      baseAssignValue(result, key, iteratee(value, key, object3));
    });
    return result;
  }
  mapValues_1 = mapValues;
  return mapValues_1;
}
var _baseExtremum;
var hasRequired_baseExtremum;
function require_baseExtremum() {
  if (hasRequired_baseExtremum)
    return _baseExtremum;
  hasRequired_baseExtremum = 1;
  var isSymbol = requireIsSymbol();
  function baseExtremum(array2, iteratee, comparator) {
    var index2 = -1, length2 = array2.length;
    while (++index2 < length2) {
      var value = array2[index2], current = iteratee(value);
      if (current != null && (computed === void 0 ? current === current && !isSymbol(current) : comparator(current, computed))) {
        var computed = current, result = value;
      }
    }
    return result;
  }
  _baseExtremum = baseExtremum;
  return _baseExtremum;
}
var _baseGt;
var hasRequired_baseGt;
function require_baseGt() {
  if (hasRequired_baseGt)
    return _baseGt;
  hasRequired_baseGt = 1;
  function baseGt(value, other) {
    return value > other;
  }
  _baseGt = baseGt;
  return _baseGt;
}
var max_1;
var hasRequiredMax;
function requireMax() {
  if (hasRequiredMax)
    return max_1;
  hasRequiredMax = 1;
  var baseExtremum = require_baseExtremum(), baseGt = require_baseGt(), identity2 = requireIdentity();
  function max2(array2) {
    return array2 && array2.length ? baseExtremum(array2, identity2, baseGt) : void 0;
  }
  max_1 = max2;
  return max_1;
}
var _assignMergeValue;
var hasRequired_assignMergeValue;
function require_assignMergeValue() {
  if (hasRequired_assignMergeValue)
    return _assignMergeValue;
  hasRequired_assignMergeValue = 1;
  var baseAssignValue = require_baseAssignValue(), eq = requireEq();
  function assignMergeValue(object2, key, value) {
    if (value !== void 0 && !eq(object2[key], value) || value === void 0 && !(key in object2)) {
      baseAssignValue(object2, key, value);
    }
  }
  _assignMergeValue = assignMergeValue;
  return _assignMergeValue;
}
var isPlainObject_1;
var hasRequiredIsPlainObject;
function requireIsPlainObject() {
  if (hasRequiredIsPlainObject)
    return isPlainObject_1;
  hasRequiredIsPlainObject = 1;
  var baseGetTag = require_baseGetTag(), getPrototype = require_getPrototype(), isObjectLike = requireIsObjectLike();
  var objectTag = "[object Object]";
  var funcProto = Function.prototype, objectProto = Object.prototype;
  var funcToString = funcProto.toString;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var objectCtorString = funcToString.call(Object);
  function isPlainObject(value) {
    if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
      return false;
    }
    var proto2 = getPrototype(value);
    if (proto2 === null) {
      return true;
    }
    var Ctor = hasOwnProperty.call(proto2, "constructor") && proto2.constructor;
    return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
  }
  isPlainObject_1 = isPlainObject;
  return isPlainObject_1;
}
var _safeGet;
var hasRequired_safeGet;
function require_safeGet() {
  if (hasRequired_safeGet)
    return _safeGet;
  hasRequired_safeGet = 1;
  function safeGet(object2, key) {
    if (key === "constructor" && typeof object2[key] === "function") {
      return;
    }
    if (key == "__proto__") {
      return;
    }
    return object2[key];
  }
  _safeGet = safeGet;
  return _safeGet;
}
var toPlainObject_1;
var hasRequiredToPlainObject;
function requireToPlainObject() {
  if (hasRequiredToPlainObject)
    return toPlainObject_1;
  hasRequiredToPlainObject = 1;
  var copyObject = require_copyObject(), keysIn = requireKeysIn();
  function toPlainObject(value) {
    return copyObject(value, keysIn(value));
  }
  toPlainObject_1 = toPlainObject;
  return toPlainObject_1;
}
var _baseMergeDeep;
var hasRequired_baseMergeDeep;
function require_baseMergeDeep() {
  if (hasRequired_baseMergeDeep)
    return _baseMergeDeep;
  hasRequired_baseMergeDeep = 1;
  var assignMergeValue = require_assignMergeValue(), cloneBuffer = require_cloneBuffer(), cloneTypedArray = require_cloneTypedArray(), copyArray = require_copyArray(), initCloneObject = require_initCloneObject(), isArguments = requireIsArguments(), isArray = requireIsArray(), isArrayLikeObject = requireIsArrayLikeObject(), isBuffer2 = requireIsBuffer(), isFunction = requireIsFunction(), isObject = requireIsObject(), isPlainObject = requireIsPlainObject(), isTypedArray = requireIsTypedArray(), safeGet = require_safeGet(), toPlainObject = requireToPlainObject();
  function baseMergeDeep(object2, source, key, srcIndex, mergeFunc, customizer, stack2) {
    var objValue = safeGet(object2, key), srcValue = safeGet(source, key), stacked = stack2.get(srcValue);
    if (stacked) {
      assignMergeValue(object2, key, stacked);
      return;
    }
    var newValue = customizer ? customizer(objValue, srcValue, key + "", object2, source, stack2) : void 0;
    var isCommon = newValue === void 0;
    if (isCommon) {
      var isArr = isArray(srcValue), isBuff = !isArr && isBuffer2(srcValue), isTyped = !isArr && !isBuff && isTypedArray(srcValue);
      newValue = srcValue;
      if (isArr || isBuff || isTyped) {
        if (isArray(objValue)) {
          newValue = objValue;
        } else if (isArrayLikeObject(objValue)) {
          newValue = copyArray(objValue);
        } else if (isBuff) {
          isCommon = false;
          newValue = cloneBuffer(srcValue, true);
        } else if (isTyped) {
          isCommon = false;
          newValue = cloneTypedArray(srcValue, true);
        } else {
          newValue = [];
        }
      } else if (isPlainObject(srcValue) || isArguments(srcValue)) {
        newValue = objValue;
        if (isArguments(objValue)) {
          newValue = toPlainObject(objValue);
        } else if (!isObject(objValue) || isFunction(objValue)) {
          newValue = initCloneObject(srcValue);
        }
      } else {
        isCommon = false;
      }
    }
    if (isCommon) {
      stack2.set(srcValue, newValue);
      mergeFunc(newValue, srcValue, srcIndex, customizer, stack2);
      stack2["delete"](srcValue);
    }
    assignMergeValue(object2, key, newValue);
  }
  _baseMergeDeep = baseMergeDeep;
  return _baseMergeDeep;
}
var _baseMerge;
var hasRequired_baseMerge;
function require_baseMerge() {
  if (hasRequired_baseMerge)
    return _baseMerge;
  hasRequired_baseMerge = 1;
  var Stack = require_Stack(), assignMergeValue = require_assignMergeValue(), baseFor = require_baseFor(), baseMergeDeep = require_baseMergeDeep(), isObject = requireIsObject(), keysIn = requireKeysIn(), safeGet = require_safeGet();
  function baseMerge(object2, source, srcIndex, customizer, stack2) {
    if (object2 === source) {
      return;
    }
    baseFor(source, function(srcValue, key) {
      stack2 || (stack2 = new Stack());
      if (isObject(srcValue)) {
        baseMergeDeep(object2, source, key, srcIndex, baseMerge, customizer, stack2);
      } else {
        var newValue = customizer ? customizer(safeGet(object2, key), srcValue, key + "", object2, source, stack2) : void 0;
        if (newValue === void 0) {
          newValue = srcValue;
        }
        assignMergeValue(object2, key, newValue);
      }
    }, keysIn);
  }
  _baseMerge = baseMerge;
  return _baseMerge;
}
var _createAssigner;
var hasRequired_createAssigner;
function require_createAssigner() {
  if (hasRequired_createAssigner)
    return _createAssigner;
  hasRequired_createAssigner = 1;
  var baseRest = require_baseRest(), isIterateeCall = require_isIterateeCall();
  function createAssigner(assigner) {
    return baseRest(function(object2, sources) {
      var index2 = -1, length2 = sources.length, customizer = length2 > 1 ? sources[length2 - 1] : void 0, guard = length2 > 2 ? sources[2] : void 0;
      customizer = assigner.length > 3 && typeof customizer == "function" ? (length2--, customizer) : void 0;
      if (guard && isIterateeCall(sources[0], sources[1], guard)) {
        customizer = length2 < 3 ? void 0 : customizer;
        length2 = 1;
      }
      object2 = Object(object2);
      while (++index2 < length2) {
        var source = sources[index2];
        if (source) {
          assigner(object2, source, index2, customizer);
        }
      }
      return object2;
    });
  }
  _createAssigner = createAssigner;
  return _createAssigner;
}
var merge_1;
var hasRequiredMerge;
function requireMerge() {
  if (hasRequiredMerge)
    return merge_1;
  hasRequiredMerge = 1;
  var baseMerge = require_baseMerge(), createAssigner = require_createAssigner();
  var merge2 = createAssigner(function(object2, source, srcIndex) {
    baseMerge(object2, source, srcIndex);
  });
  merge_1 = merge2;
  return merge_1;
}
var _baseLt;
var hasRequired_baseLt;
function require_baseLt() {
  if (hasRequired_baseLt)
    return _baseLt;
  hasRequired_baseLt = 1;
  function baseLt(value, other) {
    return value < other;
  }
  _baseLt = baseLt;
  return _baseLt;
}
var min_1;
var hasRequiredMin;
function requireMin() {
  if (hasRequiredMin)
    return min_1;
  hasRequiredMin = 1;
  var baseExtremum = require_baseExtremum(), baseLt = require_baseLt(), identity2 = requireIdentity();
  function min2(array2) {
    return array2 && array2.length ? baseExtremum(array2, identity2, baseLt) : void 0;
  }
  min_1 = min2;
  return min_1;
}
var minBy_1;
var hasRequiredMinBy;
function requireMinBy() {
  if (hasRequiredMinBy)
    return minBy_1;
  hasRequiredMinBy = 1;
  var baseExtremum = require_baseExtremum(), baseIteratee = require_baseIteratee(), baseLt = require_baseLt();
  function minBy(array2, iteratee) {
    return array2 && array2.length ? baseExtremum(array2, baseIteratee(iteratee, 2), baseLt) : void 0;
  }
  minBy_1 = minBy;
  return minBy_1;
}
var now_1;
var hasRequiredNow;
function requireNow() {
  if (hasRequiredNow)
    return now_1;
  hasRequiredNow = 1;
  var root2 = require_root();
  var now2 = function() {
    return root2.Date.now();
  };
  now_1 = now2;
  return now_1;
}
var _baseSet;
var hasRequired_baseSet;
function require_baseSet() {
  if (hasRequired_baseSet)
    return _baseSet;
  hasRequired_baseSet = 1;
  var assignValue = require_assignValue(), castPath = require_castPath(), isIndex = require_isIndex(), isObject = requireIsObject(), toKey = require_toKey();
  function baseSet(object2, path2, value, customizer) {
    if (!isObject(object2)) {
      return object2;
    }
    path2 = castPath(path2, object2);
    var index2 = -1, length2 = path2.length, lastIndex = length2 - 1, nested = object2;
    while (nested != null && ++index2 < length2) {
      var key = toKey(path2[index2]), newValue = value;
      if (key === "__proto__" || key === "constructor" || key === "prototype") {
        return object2;
      }
      if (index2 != lastIndex) {
        var objValue = nested[key];
        newValue = customizer ? customizer(objValue, key, nested) : void 0;
        if (newValue === void 0) {
          newValue = isObject(objValue) ? objValue : isIndex(path2[index2 + 1]) ? [] : {};
        }
      }
      assignValue(nested, key, newValue);
      nested = nested[key];
    }
    return object2;
  }
  _baseSet = baseSet;
  return _baseSet;
}
var _basePickBy;
var hasRequired_basePickBy;
function require_basePickBy() {
  if (hasRequired_basePickBy)
    return _basePickBy;
  hasRequired_basePickBy = 1;
  var baseGet = require_baseGet(), baseSet = require_baseSet(), castPath = require_castPath();
  function basePickBy(object2, paths, predicate) {
    var index2 = -1, length2 = paths.length, result = {};
    while (++index2 < length2) {
      var path2 = paths[index2], value = baseGet(object2, path2);
      if (predicate(value, path2)) {
        baseSet(result, castPath(path2, object2), value);
      }
    }
    return result;
  }
  _basePickBy = basePickBy;
  return _basePickBy;
}
var _basePick;
var hasRequired_basePick;
function require_basePick() {
  if (hasRequired_basePick)
    return _basePick;
  hasRequired_basePick = 1;
  var basePickBy = require_basePickBy(), hasIn = requireHasIn();
  function basePick(object2, paths) {
    return basePickBy(object2, paths, function(value, path2) {
      return hasIn(object2, path2);
    });
  }
  _basePick = basePick;
  return _basePick;
}
var _flatRest;
var hasRequired_flatRest;
function require_flatRest() {
  if (hasRequired_flatRest)
    return _flatRest;
  hasRequired_flatRest = 1;
  var flatten2 = requireFlatten(), overRest = require_overRest(), setToString = require_setToString();
  function flatRest(func) {
    return setToString(overRest(func, void 0, flatten2), func + "");
  }
  _flatRest = flatRest;
  return _flatRest;
}
var pick_1;
var hasRequiredPick;
function requirePick() {
  if (hasRequiredPick)
    return pick_1;
  hasRequiredPick = 1;
  var basePick = require_basePick(), flatRest = require_flatRest();
  var pick = flatRest(function(object2, paths) {
    return object2 == null ? {} : basePick(object2, paths);
  });
  pick_1 = pick;
  return pick_1;
}
var _baseRange;
var hasRequired_baseRange;
function require_baseRange() {
  if (hasRequired_baseRange)
    return _baseRange;
  hasRequired_baseRange = 1;
  var nativeCeil = Math.ceil, nativeMax = Math.max;
  function baseRange(start2, end, step2, fromRight) {
    var index2 = -1, length2 = nativeMax(nativeCeil((end - start2) / (step2 || 1)), 0), result = Array(length2);
    while (length2--) {
      result[fromRight ? length2 : ++index2] = start2;
      start2 += step2;
    }
    return result;
  }
  _baseRange = baseRange;
  return _baseRange;
}
var _createRange;
var hasRequired_createRange;
function require_createRange() {
  if (hasRequired_createRange)
    return _createRange;
  hasRequired_createRange = 1;
  var baseRange = require_baseRange(), isIterateeCall = require_isIterateeCall(), toFinite = requireToFinite();
  function createRange(fromRight) {
    return function(start2, end, step2) {
      if (step2 && typeof step2 != "number" && isIterateeCall(start2, end, step2)) {
        end = step2 = void 0;
      }
      start2 = toFinite(start2);
      if (end === void 0) {
        end = start2;
        start2 = 0;
      } else {
        end = toFinite(end);
      }
      step2 = step2 === void 0 ? start2 < end ? 1 : -1 : toFinite(step2);
      return baseRange(start2, end, step2, fromRight);
    };
  }
  _createRange = createRange;
  return _createRange;
}
var range_1;
var hasRequiredRange;
function requireRange() {
  if (hasRequiredRange)
    return range_1;
  hasRequiredRange = 1;
  var createRange = require_createRange();
  var range2 = createRange();
  range_1 = range2;
  return range_1;
}
var _baseSortBy;
var hasRequired_baseSortBy;
function require_baseSortBy() {
  if (hasRequired_baseSortBy)
    return _baseSortBy;
  hasRequired_baseSortBy = 1;
  function baseSortBy(array2, comparer) {
    var length2 = array2.length;
    array2.sort(comparer);
    while (length2--) {
      array2[length2] = array2[length2].value;
    }
    return array2;
  }
  _baseSortBy = baseSortBy;
  return _baseSortBy;
}
var _compareAscending;
var hasRequired_compareAscending;
function require_compareAscending() {
  if (hasRequired_compareAscending)
    return _compareAscending;
  hasRequired_compareAscending = 1;
  var isSymbol = requireIsSymbol();
  function compareAscending(value, other) {
    if (value !== other) {
      var valIsDefined = value !== void 0, valIsNull = value === null, valIsReflexive = value === value, valIsSymbol = isSymbol(value);
      var othIsDefined = other !== void 0, othIsNull = other === null, othIsReflexive = other === other, othIsSymbol = isSymbol(other);
      if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {
        return 1;
      }
      if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {
        return -1;
      }
    }
    return 0;
  }
  _compareAscending = compareAscending;
  return _compareAscending;
}
var _compareMultiple;
var hasRequired_compareMultiple;
function require_compareMultiple() {
  if (hasRequired_compareMultiple)
    return _compareMultiple;
  hasRequired_compareMultiple = 1;
  var compareAscending = require_compareAscending();
  function compareMultiple(object2, other, orders) {
    var index2 = -1, objCriteria = object2.criteria, othCriteria = other.criteria, length2 = objCriteria.length, ordersLength = orders.length;
    while (++index2 < length2) {
      var result = compareAscending(objCriteria[index2], othCriteria[index2]);
      if (result) {
        if (index2 >= ordersLength) {
          return result;
        }
        var order = orders[index2];
        return result * (order == "desc" ? -1 : 1);
      }
    }
    return object2.index - other.index;
  }
  _compareMultiple = compareMultiple;
  return _compareMultiple;
}
var _baseOrderBy;
var hasRequired_baseOrderBy;
function require_baseOrderBy() {
  if (hasRequired_baseOrderBy)
    return _baseOrderBy;
  hasRequired_baseOrderBy = 1;
  var arrayMap = require_arrayMap(), baseGet = require_baseGet(), baseIteratee = require_baseIteratee(), baseMap = require_baseMap(), baseSortBy = require_baseSortBy(), baseUnary = require_baseUnary(), compareMultiple = require_compareMultiple(), identity2 = requireIdentity(), isArray = requireIsArray();
  function baseOrderBy(collection, iteratees, orders) {
    if (iteratees.length) {
      iteratees = arrayMap(iteratees, function(iteratee) {
        if (isArray(iteratee)) {
          return function(value) {
            return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);
          };
        }
        return iteratee;
      });
    } else {
      iteratees = [identity2];
    }
    var index2 = -1;
    iteratees = arrayMap(iteratees, baseUnary(baseIteratee));
    var result = baseMap(collection, function(value, key, collection2) {
      var criteria = arrayMap(iteratees, function(iteratee) {
        return iteratee(value);
      });
      return { "criteria": criteria, "index": ++index2, "value": value };
    });
    return baseSortBy(result, function(object2, other) {
      return compareMultiple(object2, other, orders);
    });
  }
  _baseOrderBy = baseOrderBy;
  return _baseOrderBy;
}
var sortBy_1;
var hasRequiredSortBy;
function requireSortBy() {
  if (hasRequiredSortBy)
    return sortBy_1;
  hasRequiredSortBy = 1;
  var baseFlatten = require_baseFlatten(), baseOrderBy = require_baseOrderBy(), baseRest = require_baseRest(), isIterateeCall = require_isIterateeCall();
  var sortBy = baseRest(function(collection, iteratees) {
    if (collection == null) {
      return [];
    }
    var length2 = iteratees.length;
    if (length2 > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {
      iteratees = [];
    } else if (length2 > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {
      iteratees = [iteratees[0]];
    }
    return baseOrderBy(collection, baseFlatten(iteratees, 1), []);
  });
  sortBy_1 = sortBy;
  return sortBy_1;
}
var uniqueId_1;
var hasRequiredUniqueId;
function requireUniqueId() {
  if (hasRequiredUniqueId)
    return uniqueId_1;
  hasRequiredUniqueId = 1;
  var toString = requireToString();
  var idCounter = 0;
  function uniqueId(prefix2) {
    var id2 = ++idCounter;
    return toString(prefix2) + id2;
  }
  uniqueId_1 = uniqueId;
  return uniqueId_1;
}
var _baseZipObject;
var hasRequired_baseZipObject;
function require_baseZipObject() {
  if (hasRequired_baseZipObject)
    return _baseZipObject;
  hasRequired_baseZipObject = 1;
  function baseZipObject(props, values2, assignFunc) {
    var index2 = -1, length2 = props.length, valsLength = values2.length, result = {};
    while (++index2 < length2) {
      var value = index2 < valsLength ? values2[index2] : void 0;
      assignFunc(result, props[index2], value);
    }
    return result;
  }
  _baseZipObject = baseZipObject;
  return _baseZipObject;
}
var zipObject_1;
var hasRequiredZipObject;
function requireZipObject() {
  if (hasRequiredZipObject)
    return zipObject_1;
  hasRequiredZipObject = 1;
  var assignValue = require_assignValue(), baseZipObject = require_baseZipObject();
  function zipObject(props, values2) {
    return baseZipObject(props || [], values2 || [], assignValue);
  }
  zipObject_1 = zipObject;
  return zipObject_1;
}
var lodash_1$1;
var hasRequiredLodash$1;
function requireLodash$1() {
  if (hasRequiredLodash$1)
    return lodash_1$1;
  hasRequiredLodash$1 = 1;
  var lodash;
  if (typeof commonjsRequire === "function") {
    try {
      lodash = {
        cloneDeep: requireCloneDeep(),
        constant: requireConstant(),
        defaults: requireDefaults(),
        each: requireEach(),
        filter: requireFilter(),
        find: requireFind(),
        flatten: requireFlatten(),
        forEach: requireForEach(),
        forIn: requireForIn(),
        has: requireHas(),
        isUndefined: requireIsUndefined(),
        last: requireLast(),
        map: requireMap(),
        mapValues: requireMapValues(),
        max: requireMax(),
        merge: requireMerge(),
        min: requireMin(),
        minBy: requireMinBy(),
        now: requireNow(),
        pick: requirePick(),
        range: requireRange(),
        reduce: requireReduce(),
        sortBy: requireSortBy(),
        uniqueId: requireUniqueId(),
        values: requireValues(),
        zipObject: requireZipObject()
      };
    } catch (e) {
    }
  }
  if (!lodash) {
    lodash = window._;
  }
  lodash_1$1 = lodash;
  return lodash_1$1;
}
var list;
var hasRequiredList;
function requireList() {
  if (hasRequiredList)
    return list;
  hasRequiredList = 1;
  list = List;
  function List() {
    var sentinel = {};
    sentinel._next = sentinel._prev = sentinel;
    this._sentinel = sentinel;
  }
  List.prototype.dequeue = function() {
    var sentinel = this._sentinel;
    var entry = sentinel._prev;
    if (entry !== sentinel) {
      unlink(entry);
      return entry;
    }
  };
  List.prototype.enqueue = function(entry) {
    var sentinel = this._sentinel;
    if (entry._prev && entry._next) {
      unlink(entry);
    }
    entry._next = sentinel._next;
    sentinel._next._prev = entry;
    sentinel._next = entry;
    entry._prev = sentinel;
  };
  List.prototype.toString = function() {
    var strs = [];
    var sentinel = this._sentinel;
    var curr = sentinel._prev;
    while (curr !== sentinel) {
      strs.push(JSON.stringify(curr, filterOutLinks));
      curr = curr._prev;
    }
    return "[" + strs.join(", ") + "]";
  };
  function unlink(entry) {
    entry._prev._next = entry._next;
    entry._next._prev = entry._prev;
    delete entry._next;
    delete entry._prev;
  }
  function filterOutLinks(k2, v) {
    if (k2 !== "_next" && k2 !== "_prev") {
      return v;
    }
  }
  return list;
}
var greedyFas;
var hasRequiredGreedyFas;
function requireGreedyFas() {
  if (hasRequiredGreedyFas)
    return greedyFas;
  hasRequiredGreedyFas = 1;
  var _2 = requireLodash$1();
  var Graph = requireGraphlib$1().Graph;
  var List = requireList();
  greedyFas = greedyFAS;
  var DEFAULT_WEIGHT_FN = _2.constant(1);
  function greedyFAS(g, weightFn) {
    if (g.nodeCount() <= 1) {
      return [];
    }
    var state = buildState(g, weightFn || DEFAULT_WEIGHT_FN);
    var results = doGreedyFAS(state.graph, state.buckets, state.zeroIdx);
    return _2.flatten(_2.map(results, function(e) {
      return g.outEdges(e.v, e.w);
    }), true);
  }
  function doGreedyFAS(g, buckets, zeroIdx) {
    var results = [];
    var sources = buckets[buckets.length - 1];
    var sinks = buckets[0];
    var entry;
    while (g.nodeCount()) {
      while (entry = sinks.dequeue()) {
        removeNode(g, buckets, zeroIdx, entry);
      }
      while (entry = sources.dequeue()) {
        removeNode(g, buckets, zeroIdx, entry);
      }
      if (g.nodeCount()) {
        for (var i = buckets.length - 2; i > 0; --i) {
          entry = buckets[i].dequeue();
          if (entry) {
            results = results.concat(removeNode(g, buckets, zeroIdx, entry, true));
            break;
          }
        }
      }
    }
    return results;
  }
  function removeNode(g, buckets, zeroIdx, entry, collectPredecessors) {
    var results = collectPredecessors ? [] : void 0;
    _2.forEach(g.inEdges(entry.v), function(edge) {
      var weight = g.edge(edge);
      var uEntry = g.node(edge.v);
      if (collectPredecessors) {
        results.push({ v: edge.v, w: edge.w });
      }
      uEntry.out -= weight;
      assignBucket(buckets, zeroIdx, uEntry);
    });
    _2.forEach(g.outEdges(entry.v), function(edge) {
      var weight = g.edge(edge);
      var w = edge.w;
      var wEntry = g.node(w);
      wEntry["in"] -= weight;
      assignBucket(buckets, zeroIdx, wEntry);
    });
    g.removeNode(entry.v);
    return results;
  }
  function buildState(g, weightFn) {
    var fasGraph = new Graph();
    var maxIn = 0;
    var maxOut = 0;
    _2.forEach(g.nodes(), function(v) {
      fasGraph.setNode(v, { v, "in": 0, out: 0 });
    });
    _2.forEach(g.edges(), function(e) {
      var prevWeight = fasGraph.edge(e.v, e.w) || 0;
      var weight = weightFn(e);
      var edgeWeight = prevWeight + weight;
      fasGraph.setEdge(e.v, e.w, edgeWeight);
      maxOut = Math.max(maxOut, fasGraph.node(e.v).out += weight);
      maxIn = Math.max(maxIn, fasGraph.node(e.w)["in"] += weight);
    });
    var buckets = _2.range(maxOut + maxIn + 3).map(function() {
      return new List();
    });
    var zeroIdx = maxIn + 1;
    _2.forEach(fasGraph.nodes(), function(v) {
      assignBucket(buckets, zeroIdx, fasGraph.node(v));
    });
    return { graph: fasGraph, buckets, zeroIdx };
  }
  function assignBucket(buckets, zeroIdx, entry) {
    if (!entry.out) {
      buckets[0].enqueue(entry);
    } else if (!entry["in"]) {
      buckets[buckets.length - 1].enqueue(entry);
    } else {
      buckets[entry.out - entry["in"] + zeroIdx].enqueue(entry);
    }
  }
  return greedyFas;
}
var acyclic;
var hasRequiredAcyclic;
function requireAcyclic() {
  if (hasRequiredAcyclic)
    return acyclic;
  hasRequiredAcyclic = 1;
  var _2 = requireLodash$1();
  var greedyFAS = requireGreedyFas();
  acyclic = {
    run,
    undo
  };
  function run(g) {
    var fas = g.graph().acyclicer === "greedy" ? greedyFAS(g, weightFn(g)) : dfsFAS(g);
    _2.forEach(fas, function(e) {
      var label = g.edge(e);
      g.removeEdge(e);
      label.forwardName = e.name;
      label.reversed = true;
      g.setEdge(e.w, e.v, label, _2.uniqueId("rev"));
    });
    function weightFn(g2) {
      return function(e) {
        return g2.edge(e).weight;
      };
    }
  }
  function dfsFAS(g) {
    var fas = [];
    var stack2 = {};
    var visited = {};
    function dfs(v) {
      if (_2.has(visited, v)) {
        return;
      }
      visited[v] = true;
      stack2[v] = true;
      _2.forEach(g.outEdges(v), function(e) {
        if (_2.has(stack2, e.w)) {
          fas.push(e);
        } else {
          dfs(e.w);
        }
      });
      delete stack2[v];
    }
    _2.forEach(g.nodes(), dfs);
    return fas;
  }
  function undo(g) {
    _2.forEach(g.edges(), function(e) {
      var label = g.edge(e);
      if (label.reversed) {
        g.removeEdge(e);
        var forwardName = label.forwardName;
        delete label.reversed;
        delete label.forwardName;
        g.setEdge(e.w, e.v, label, forwardName);
      }
    });
  }
  return acyclic;
}
var util$2;
var hasRequiredUtil$2;
function requireUtil$2() {
  if (hasRequiredUtil$2)
    return util$2;
  hasRequiredUtil$2 = 1;
  var _2 = requireLodash$1();
  var Graph = requireGraphlib$1().Graph;
  util$2 = {
    addDummyNode,
    simplify,
    asNonCompoundGraph,
    successorWeights,
    predecessorWeights,
    intersectRect,
    buildLayerMatrix,
    normalizeRanks,
    removeEmptyRanks,
    addBorderNode,
    maxRank,
    partition: partition2,
    time: time2,
    notime
  };
  function addDummyNode(g, type2, attrs, name) {
    var v;
    do {
      v = _2.uniqueId(name);
    } while (g.hasNode(v));
    attrs.dummy = type2;
    g.setNode(v, attrs);
    return v;
  }
  function simplify(g) {
    var simplified = new Graph().setGraph(g.graph());
    _2.forEach(g.nodes(), function(v) {
      simplified.setNode(v, g.node(v));
    });
    _2.forEach(g.edges(), function(e) {
      var simpleLabel = simplified.edge(e.v, e.w) || { weight: 0, minlen: 1 };
      var label = g.edge(e);
      simplified.setEdge(e.v, e.w, {
        weight: simpleLabel.weight + label.weight,
        minlen: Math.max(simpleLabel.minlen, label.minlen)
      });
    });
    return simplified;
  }
  function asNonCompoundGraph(g) {
    var simplified = new Graph({ multigraph: g.isMultigraph() }).setGraph(g.graph());
    _2.forEach(g.nodes(), function(v) {
      if (!g.children(v).length) {
        simplified.setNode(v, g.node(v));
      }
    });
    _2.forEach(g.edges(), function(e) {
      simplified.setEdge(e, g.edge(e));
    });
    return simplified;
  }
  function successorWeights(g) {
    var weightMap = _2.map(g.nodes(), function(v) {
      var sucs = {};
      _2.forEach(g.outEdges(v), function(e) {
        sucs[e.w] = (sucs[e.w] || 0) + g.edge(e).weight;
      });
      return sucs;
    });
    return _2.zipObject(g.nodes(), weightMap);
  }
  function predecessorWeights(g) {
    var weightMap = _2.map(g.nodes(), function(v) {
      var preds = {};
      _2.forEach(g.inEdges(v), function(e) {
        preds[e.v] = (preds[e.v] || 0) + g.edge(e).weight;
      });
      return preds;
    });
    return _2.zipObject(g.nodes(), weightMap);
  }
  function intersectRect(rect, point2) {
    var x2 = rect.x;
    var y2 = rect.y;
    var dx = point2.x - x2;
    var dy = point2.y - y2;
    var w = rect.width / 2;
    var h = rect.height / 2;
    if (!dx && !dy) {
      throw new Error("Not possible to find intersection inside of the rectangle");
    }
    var sx, sy;
    if (Math.abs(dy) * w > Math.abs(dx) * h) {
      if (dy < 0) {
        h = -h;
      }
      sx = h * dx / dy;
      sy = h;
    } else {
      if (dx < 0) {
        w = -w;
      }
      sx = w;
      sy = w * dy / dx;
    }
    return { x: x2 + sx, y: y2 + sy };
  }
  function buildLayerMatrix(g) {
    var layering = _2.map(_2.range(maxRank(g) + 1), function() {
      return [];
    });
    _2.forEach(g.nodes(), function(v) {
      var node = g.node(v);
      var rank2 = node.rank;
      if (!_2.isUndefined(rank2)) {
        layering[rank2][node.order] = v;
      }
    });
    return layering;
  }
  function normalizeRanks(g) {
    var min2 = _2.min(_2.map(g.nodes(), function(v) {
      return g.node(v).rank;
    }));
    _2.forEach(g.nodes(), function(v) {
      var node = g.node(v);
      if (_2.has(node, "rank")) {
        node.rank -= min2;
      }
    });
  }
  function removeEmptyRanks(g) {
    var offset = _2.min(_2.map(g.nodes(), function(v) {
      return g.node(v).rank;
    }));
    var layers = [];
    _2.forEach(g.nodes(), function(v) {
      var rank2 = g.node(v).rank - offset;
      if (!layers[rank2]) {
        layers[rank2] = [];
      }
      layers[rank2].push(v);
    });
    var delta = 0;
    var nodeRankFactor = g.graph().nodeRankFactor;
    _2.forEach(layers, function(vs, i) {
      if (_2.isUndefined(vs) && i % nodeRankFactor !== 0) {
        --delta;
      } else if (delta) {
        _2.forEach(vs, function(v) {
          g.node(v).rank += delta;
        });
      }
    });
  }
  function addBorderNode(g, prefix2, rank2, order) {
    var node = {
      width: 0,
      height: 0
    };
    if (arguments.length >= 4) {
      node.rank = rank2;
      node.order = order;
    }
    return addDummyNode(g, "border", node, prefix2);
  }
  function maxRank(g) {
    return _2.max(_2.map(g.nodes(), function(v) {
      var rank2 = g.node(v).rank;
      if (!_2.isUndefined(rank2)) {
        return rank2;
      }
    }));
  }
  function partition2(collection, fn) {
    var result = { lhs: [], rhs: [] };
    _2.forEach(collection, function(value) {
      if (fn(value)) {
        result.lhs.push(value);
      } else {
        result.rhs.push(value);
      }
    });
    return result;
  }
  function time2(name, fn) {
    var start2 = _2.now();
    try {
      return fn();
    } finally {
      console.log(name + " time: " + (_2.now() - start2) + "ms");
    }
  }
  function notime(name, fn) {
    return fn();
  }
  return util$2;
}
var normalize$1;
var hasRequiredNormalize;
function requireNormalize() {
  if (hasRequiredNormalize)
    return normalize$1;
  hasRequiredNormalize = 1;
  var _2 = requireLodash$1();
  var util2 = requireUtil$2();
  normalize$1 = {
    run,
    undo
  };
  function run(g) {
    g.graph().dummyChains = [];
    _2.forEach(g.edges(), function(edge) {
      normalizeEdge(g, edge);
    });
  }
  function normalizeEdge(g, e) {
    var v = e.v;
    var vRank = g.node(v).rank;
    var w = e.w;
    var wRank = g.node(w).rank;
    var name = e.name;
    var edgeLabel = g.edge(e);
    var labelRank = edgeLabel.labelRank;
    if (wRank === vRank + 1)
      return;
    g.removeEdge(e);
    var dummy, attrs, i;
    for (i = 0, ++vRank; vRank < wRank; ++i, ++vRank) {
      edgeLabel.points = [];
      attrs = {
        width: 0,
        height: 0,
        edgeLabel,
        edgeObj: e,
        rank: vRank
      };
      dummy = util2.addDummyNode(g, "edge", attrs, "_d");
      if (vRank === labelRank) {
        attrs.width = edgeLabel.width;
        attrs.height = edgeLabel.height;
        attrs.dummy = "edge-label";
        attrs.labelpos = edgeLabel.labelpos;
      }
      g.setEdge(v, dummy, { weight: edgeLabel.weight }, name);
      if (i === 0) {
        g.graph().dummyChains.push(dummy);
      }
      v = dummy;
    }
    g.setEdge(v, w, { weight: edgeLabel.weight }, name);
  }
  function undo(g) {
    _2.forEach(g.graph().dummyChains, function(v) {
      var node = g.node(v);
      var origLabel = node.edgeLabel;
      var w;
      g.setEdge(node.edgeObj, origLabel);
      while (node.dummy) {
        w = g.successors(v)[0];
        g.removeNode(v);
        origLabel.points.push({ x: node.x, y: node.y });
        if (node.dummy === "edge-label") {
          origLabel.x = node.x;
          origLabel.y = node.y;
          origLabel.width = node.width;
          origLabel.height = node.height;
        }
        v = w;
        node = g.node(v);
      }
    });
  }
  return normalize$1;
}
var util$1;
var hasRequiredUtil$1;
function requireUtil$1() {
  if (hasRequiredUtil$1)
    return util$1;
  hasRequiredUtil$1 = 1;
  var _2 = requireLodash$1();
  util$1 = {
    longestPath,
    slack
  };
  function longestPath(g) {
    var visited = {};
    function dfs(v) {
      var label = g.node(v);
      if (_2.has(visited, v)) {
        return label.rank;
      }
      visited[v] = true;
      var rank2 = _2.min(_2.map(g.outEdges(v), function(e) {
        return dfs(e.w) - g.edge(e).minlen;
      }));
      if (rank2 === Number.POSITIVE_INFINITY || rank2 === void 0 || rank2 === null) {
        rank2 = 0;
      }
      return label.rank = rank2;
    }
    _2.forEach(g.sources(), dfs);
  }
  function slack(g, e) {
    return g.node(e.w).rank - g.node(e.v).rank - g.edge(e).minlen;
  }
  return util$1;
}
var feasibleTree_1;
var hasRequiredFeasibleTree;
function requireFeasibleTree() {
  if (hasRequiredFeasibleTree)
    return feasibleTree_1;
  hasRequiredFeasibleTree = 1;
  var _2 = requireLodash$1();
  var Graph = requireGraphlib$1().Graph;
  var slack = requireUtil$1().slack;
  feasibleTree_1 = feasibleTree;
  function feasibleTree(g) {
    var t = new Graph({ directed: false });
    var start2 = g.nodes()[0];
    var size = g.nodeCount();
    t.setNode(start2, {});
    var edge, delta;
    while (tightTree(t, g) < size) {
      edge = findMinSlackEdge(t, g);
      delta = t.hasNode(edge.v) ? slack(g, edge) : -slack(g, edge);
      shiftRanks(t, g, delta);
    }
    return t;
  }
  function tightTree(t, g) {
    function dfs(v) {
      _2.forEach(g.nodeEdges(v), function(e) {
        var edgeV = e.v, w = v === edgeV ? e.w : edgeV;
        if (!t.hasNode(w) && !slack(g, e)) {
          t.setNode(w, {});
          t.setEdge(v, w, {});
          dfs(w);
        }
      });
    }
    _2.forEach(t.nodes(), dfs);
    return t.nodeCount();
  }
  function findMinSlackEdge(t, g) {
    return _2.minBy(g.edges(), function(e) {
      if (t.hasNode(e.v) !== t.hasNode(e.w)) {
        return slack(g, e);
      }
    });
  }
  function shiftRanks(t, g, delta) {
    _2.forEach(t.nodes(), function(v) {
      g.node(v).rank += delta;
    });
  }
  return feasibleTree_1;
}
var networkSimplex_1;
var hasRequiredNetworkSimplex;
function requireNetworkSimplex() {
  if (hasRequiredNetworkSimplex)
    return networkSimplex_1;
  hasRequiredNetworkSimplex = 1;
  var _2 = requireLodash$1();
  var feasibleTree = requireFeasibleTree();
  var slack = requireUtil$1().slack;
  var initRank = requireUtil$1().longestPath;
  var preorder = requireGraphlib$1().alg.preorder;
  var postorder = requireGraphlib$1().alg.postorder;
  var simplify = requireUtil$2().simplify;
  networkSimplex_1 = networkSimplex;
  networkSimplex.initLowLimValues = initLowLimValues;
  networkSimplex.initCutValues = initCutValues;
  networkSimplex.calcCutValue = calcCutValue;
  networkSimplex.leaveEdge = leaveEdge;
  networkSimplex.enterEdge = enterEdge;
  networkSimplex.exchangeEdges = exchangeEdges;
  function networkSimplex(g) {
    g = simplify(g);
    initRank(g);
    var t = feasibleTree(g);
    initLowLimValues(t);
    initCutValues(t, g);
    var e, f;
    while (e = leaveEdge(t)) {
      f = enterEdge(t, g, e);
      exchangeEdges(t, g, e, f);
    }
  }
  function initCutValues(t, g) {
    var vs = postorder(t, t.nodes());
    vs = vs.slice(0, vs.length - 1);
    _2.forEach(vs, function(v) {
      assignCutValue(t, g, v);
    });
  }
  function assignCutValue(t, g, child) {
    var childLab = t.node(child);
    var parent = childLab.parent;
    t.edge(child, parent).cutvalue = calcCutValue(t, g, child);
  }
  function calcCutValue(t, g, child) {
    var childLab = t.node(child);
    var parent = childLab.parent;
    var childIsTail = true;
    var graphEdge = g.edge(child, parent);
    var cutValue = 0;
    if (!graphEdge) {
      childIsTail = false;
      graphEdge = g.edge(parent, child);
    }
    cutValue = graphEdge.weight;
    _2.forEach(g.nodeEdges(child), function(e) {
      var isOutEdge = e.v === child, other = isOutEdge ? e.w : e.v;
      if (other !== parent) {
        var pointsToHead = isOutEdge === childIsTail, otherWeight = g.edge(e).weight;
        cutValue += pointsToHead ? otherWeight : -otherWeight;
        if (isTreeEdge(t, child, other)) {
          var otherCutValue = t.edge(child, other).cutvalue;
          cutValue += pointsToHead ? -otherCutValue : otherCutValue;
        }
      }
    });
    return cutValue;
  }
  function initLowLimValues(tree2, root2) {
    if (arguments.length < 2) {
      root2 = tree2.nodes()[0];
    }
    dfsAssignLowLim(tree2, {}, 1, root2);
  }
  function dfsAssignLowLim(tree2, visited, nextLim, v, parent) {
    var low = nextLim;
    var label = tree2.node(v);
    visited[v] = true;
    _2.forEach(tree2.neighbors(v), function(w) {
      if (!_2.has(visited, w)) {
        nextLim = dfsAssignLowLim(tree2, visited, nextLim, w, v);
      }
    });
    label.low = low;
    label.lim = nextLim++;
    if (parent) {
      label.parent = parent;
    } else {
      delete label.parent;
    }
    return nextLim;
  }
  function leaveEdge(tree2) {
    return _2.find(tree2.edges(), function(e) {
      return tree2.edge(e).cutvalue < 0;
    });
  }
  function enterEdge(t, g, edge) {
    var v = edge.v;
    var w = edge.w;
    if (!g.hasEdge(v, w)) {
      v = edge.w;
      w = edge.v;
    }
    var vLabel = t.node(v);
    var wLabel = t.node(w);
    var tailLabel = vLabel;
    var flip = false;
    if (vLabel.lim > wLabel.lim) {
      tailLabel = wLabel;
      flip = true;
    }
    var candidates = _2.filter(g.edges(), function(edge2) {
      return flip === isDescendant(t, t.node(edge2.v), tailLabel) && flip !== isDescendant(t, t.node(edge2.w), tailLabel);
    });
    return _2.minBy(candidates, function(edge2) {
      return slack(g, edge2);
    });
  }
  function exchangeEdges(t, g, e, f) {
    var v = e.v;
    var w = e.w;
    t.removeEdge(v, w);
    t.setEdge(f.v, f.w, {});
    initLowLimValues(t);
    initCutValues(t, g);
    updateRanks(t, g);
  }
  function updateRanks(t, g) {
    var root2 = _2.find(t.nodes(), function(v) {
      return !g.node(v).parent;
    });
    var vs = preorder(t, root2);
    vs = vs.slice(1);
    _2.forEach(vs, function(v) {
      var parent = t.node(v).parent, edge = g.edge(v, parent), flipped = false;
      if (!edge) {
        edge = g.edge(parent, v);
        flipped = true;
      }
      g.node(v).rank = g.node(parent).rank + (flipped ? edge.minlen : -edge.minlen);
    });
  }
  function isTreeEdge(tree2, u, v) {
    return tree2.hasEdge(u, v);
  }
  function isDescendant(tree2, vLabel, rootLabel) {
    return rootLabel.low <= vLabel.lim && vLabel.lim <= rootLabel.lim;
  }
  return networkSimplex_1;
}
var rank_1;
var hasRequiredRank;
function requireRank() {
  if (hasRequiredRank)
    return rank_1;
  hasRequiredRank = 1;
  var rankUtil = requireUtil$1();
  var longestPath = rankUtil.longestPath;
  var feasibleTree = requireFeasibleTree();
  var networkSimplex = requireNetworkSimplex();
  rank_1 = rank2;
  function rank2(g) {
    switch (g.graph().ranker) {
      case "network-simplex":
        networkSimplexRanker(g);
        break;
      case "tight-tree":
        tightTreeRanker(g);
        break;
      case "longest-path":
        longestPathRanker(g);
        break;
      default:
        networkSimplexRanker(g);
    }
  }
  var longestPathRanker = longestPath;
  function tightTreeRanker(g) {
    longestPath(g);
    feasibleTree(g);
  }
  function networkSimplexRanker(g) {
    networkSimplex(g);
  }
  return rank_1;
}
var parentDummyChains_1;
var hasRequiredParentDummyChains;
function requireParentDummyChains() {
  if (hasRequiredParentDummyChains)
    return parentDummyChains_1;
  hasRequiredParentDummyChains = 1;
  var _2 = requireLodash$1();
  parentDummyChains_1 = parentDummyChains;
  function parentDummyChains(g) {
    var postorderNums = postorder(g);
    _2.forEach(g.graph().dummyChains, function(v) {
      var node = g.node(v);
      var edgeObj = node.edgeObj;
      var pathData = findPath(g, postorderNums, edgeObj.v, edgeObj.w);
      var path2 = pathData.path;
      var lca = pathData.lca;
      var pathIdx = 0;
      var pathV = path2[pathIdx];
      var ascending2 = true;
      while (v !== edgeObj.w) {
        node = g.node(v);
        if (ascending2) {
          while ((pathV = path2[pathIdx]) !== lca && g.node(pathV).maxRank < node.rank) {
            pathIdx++;
          }
          if (pathV === lca) {
            ascending2 = false;
          }
        }
        if (!ascending2) {
          while (pathIdx < path2.length - 1 && g.node(pathV = path2[pathIdx + 1]).minRank <= node.rank) {
            pathIdx++;
          }
          pathV = path2[pathIdx];
        }
        g.setParent(v, pathV);
        v = g.successors(v)[0];
      }
    });
  }
  function findPath(g, postorderNums, v, w) {
    var vPath = [];
    var wPath = [];
    var low = Math.min(postorderNums[v].low, postorderNums[w].low);
    var lim = Math.max(postorderNums[v].lim, postorderNums[w].lim);
    var parent;
    var lca;
    parent = v;
    do {
      parent = g.parent(parent);
      vPath.push(parent);
    } while (parent && (postorderNums[parent].low > low || lim > postorderNums[parent].lim));
    lca = parent;
    parent = w;
    while ((parent = g.parent(parent)) !== lca) {
      wPath.push(parent);
    }
    return { path: vPath.concat(wPath.reverse()), lca };
  }
  function postorder(g) {
    var result = {};
    var lim = 0;
    function dfs(v) {
      var low = lim;
      _2.forEach(g.children(v), dfs);
      result[v] = { low, lim: lim++ };
    }
    _2.forEach(g.children(), dfs);
    return result;
  }
  return parentDummyChains_1;
}
var nestingGraph;
var hasRequiredNestingGraph;
function requireNestingGraph() {
  if (hasRequiredNestingGraph)
    return nestingGraph;
  hasRequiredNestingGraph = 1;
  var _2 = requireLodash$1();
  var util2 = requireUtil$2();
  nestingGraph = {
    run,
    cleanup
  };
  function run(g) {
    var root2 = util2.addDummyNode(g, "root", {}, "_root");
    var depths = treeDepths(g);
    var height = _2.max(_2.values(depths)) - 1;
    var nodeSep = 2 * height + 1;
    g.graph().nestingRoot = root2;
    _2.forEach(g.edges(), function(e) {
      g.edge(e).minlen *= nodeSep;
    });
    var weight = sumWeights(g) + 1;
    _2.forEach(g.children(), function(child) {
      dfs(g, root2, nodeSep, weight, height, depths, child);
    });
    g.graph().nodeRankFactor = nodeSep;
  }
  function dfs(g, root2, nodeSep, weight, height, depths, v) {
    var children2 = g.children(v);
    if (!children2.length) {
      if (v !== root2) {
        g.setEdge(root2, v, { weight: 0, minlen: nodeSep });
      }
      return;
    }
    var top2 = util2.addBorderNode(g, "_bt");
    var bottom2 = util2.addBorderNode(g, "_bb");
    var label = g.node(v);
    g.setParent(top2, v);
    label.borderTop = top2;
    g.setParent(bottom2, v);
    label.borderBottom = bottom2;
    _2.forEach(children2, function(child) {
      dfs(g, root2, nodeSep, weight, height, depths, child);
      var childNode = g.node(child);
      var childTop = childNode.borderTop ? childNode.borderTop : child;
      var childBottom = childNode.borderBottom ? childNode.borderBottom : child;
      var thisWeight = childNode.borderTop ? weight : 2 * weight;
      var minlen = childTop !== childBottom ? 1 : height - depths[v] + 1;
      g.setEdge(top2, childTop, {
        weight: thisWeight,
        minlen,
        nestingEdge: true
      });
      g.setEdge(childBottom, bottom2, {
        weight: thisWeight,
        minlen,
        nestingEdge: true
      });
    });
    if (!g.parent(v)) {
      g.setEdge(root2, top2, { weight: 0, minlen: height + depths[v] });
    }
  }
  function treeDepths(g) {
    var depths = {};
    function dfs2(v, depth) {
      var children2 = g.children(v);
      if (children2 && children2.length) {
        _2.forEach(children2, function(child) {
          dfs2(child, depth + 1);
        });
      }
      depths[v] = depth;
    }
    _2.forEach(g.children(), function(v) {
      dfs2(v, 1);
    });
    return depths;
  }
  function sumWeights(g) {
    return _2.reduce(g.edges(), function(acc, e) {
      return acc + g.edge(e).weight;
    }, 0);
  }
  function cleanup(g) {
    var graphLabel = g.graph();
    g.removeNode(graphLabel.nestingRoot);
    delete graphLabel.nestingRoot;
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      if (edge.nestingEdge) {
        g.removeEdge(e);
      }
    });
  }
  return nestingGraph;
}
var addBorderSegments_1;
var hasRequiredAddBorderSegments;
function requireAddBorderSegments() {
  if (hasRequiredAddBorderSegments)
    return addBorderSegments_1;
  hasRequiredAddBorderSegments = 1;
  var _2 = requireLodash$1();
  var util2 = requireUtil$2();
  addBorderSegments_1 = addBorderSegments;
  function addBorderSegments(g) {
    function dfs(v) {
      var children2 = g.children(v);
      var node = g.node(v);
      if (children2.length) {
        _2.forEach(children2, dfs);
      }
      if (_2.has(node, "minRank")) {
        node.borderLeft = [];
        node.borderRight = [];
        for (var rank2 = node.minRank, maxRank = node.maxRank + 1; rank2 < maxRank; ++rank2) {
          addBorderNode(g, "borderLeft", "_bl", v, node, rank2);
          addBorderNode(g, "borderRight", "_br", v, node, rank2);
        }
      }
    }
    _2.forEach(g.children(), dfs);
  }
  function addBorderNode(g, prop, prefix2, sg, sgNode, rank2) {
    var label = { width: 0, height: 0, rank: rank2, borderType: prop };
    var prev = sgNode[prop][rank2 - 1];
    var curr = util2.addDummyNode(g, "border", label, prefix2);
    sgNode[prop][rank2] = curr;
    g.setParent(curr, sg);
    if (prev) {
      g.setEdge(prev, curr, { weight: 1 });
    }
  }
  return addBorderSegments_1;
}
var coordinateSystem;
var hasRequiredCoordinateSystem;
function requireCoordinateSystem() {
  if (hasRequiredCoordinateSystem)
    return coordinateSystem;
  hasRequiredCoordinateSystem = 1;
  var _2 = requireLodash$1();
  coordinateSystem = {
    adjust: adjust2,
    undo
  };
  function adjust2(g) {
    var rankDir = g.graph().rankdir.toLowerCase();
    if (rankDir === "lr" || rankDir === "rl") {
      swapWidthHeight(g);
    }
  }
  function undo(g) {
    var rankDir = g.graph().rankdir.toLowerCase();
    if (rankDir === "bt" || rankDir === "rl") {
      reverseY(g);
    }
    if (rankDir === "lr" || rankDir === "rl") {
      swapXY(g);
      swapWidthHeight(g);
    }
  }
  function swapWidthHeight(g) {
    _2.forEach(g.nodes(), function(v) {
      swapWidthHeightOne(g.node(v));
    });
    _2.forEach(g.edges(), function(e) {
      swapWidthHeightOne(g.edge(e));
    });
  }
  function swapWidthHeightOne(attrs) {
    var w = attrs.width;
    attrs.width = attrs.height;
    attrs.height = w;
  }
  function reverseY(g) {
    _2.forEach(g.nodes(), function(v) {
      reverseYOne(g.node(v));
    });
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      _2.forEach(edge.points, reverseYOne);
      if (_2.has(edge, "y")) {
        reverseYOne(edge);
      }
    });
  }
  function reverseYOne(attrs) {
    attrs.y = -attrs.y;
  }
  function swapXY(g) {
    _2.forEach(g.nodes(), function(v) {
      swapXYOne(g.node(v));
    });
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      _2.forEach(edge.points, swapXYOne);
      if (_2.has(edge, "x")) {
        swapXYOne(edge);
      }
    });
  }
  function swapXYOne(attrs) {
    var x2 = attrs.x;
    attrs.x = attrs.y;
    attrs.y = x2;
  }
  return coordinateSystem;
}
var initOrder_1;
var hasRequiredInitOrder;
function requireInitOrder() {
  if (hasRequiredInitOrder)
    return initOrder_1;
  hasRequiredInitOrder = 1;
  var _2 = requireLodash$1();
  initOrder_1 = initOrder;
  function initOrder(g) {
    var visited = {};
    var simpleNodes = _2.filter(g.nodes(), function(v) {
      return !g.children(v).length;
    });
    var maxRank = _2.max(_2.map(simpleNodes, function(v) {
      return g.node(v).rank;
    }));
    var layers = _2.map(_2.range(maxRank + 1), function() {
      return [];
    });
    function dfs(v) {
      if (_2.has(visited, v))
        return;
      visited[v] = true;
      var node = g.node(v);
      layers[node.rank].push(v);
      _2.forEach(g.successors(v), dfs);
    }
    var orderedVs = _2.sortBy(simpleNodes, function(v) {
      return g.node(v).rank;
    });
    _2.forEach(orderedVs, dfs);
    return layers;
  }
  return initOrder_1;
}
var crossCount_1;
var hasRequiredCrossCount;
function requireCrossCount() {
  if (hasRequiredCrossCount)
    return crossCount_1;
  hasRequiredCrossCount = 1;
  var _2 = requireLodash$1();
  crossCount_1 = crossCount;
  function crossCount(g, layering) {
    var cc = 0;
    for (var i = 1; i < layering.length; ++i) {
      cc += twoLayerCrossCount(g, layering[i - 1], layering[i]);
    }
    return cc;
  }
  function twoLayerCrossCount(g, northLayer, southLayer) {
    var southPos = _2.zipObject(
      southLayer,
      _2.map(southLayer, function(v, i) {
        return i;
      })
    );
    var southEntries = _2.flatten(_2.map(northLayer, function(v) {
      return _2.sortBy(_2.map(g.outEdges(v), function(e) {
        return { pos: southPos[e.w], weight: g.edge(e).weight };
      }), "pos");
    }), true);
    var firstIndex = 1;
    while (firstIndex < southLayer.length)
      firstIndex <<= 1;
    var treeSize = 2 * firstIndex - 1;
    firstIndex -= 1;
    var tree2 = _2.map(new Array(treeSize), function() {
      return 0;
    });
    var cc = 0;
    _2.forEach(southEntries.forEach(function(entry) {
      var index2 = entry.pos + firstIndex;
      tree2[index2] += entry.weight;
      var weightSum = 0;
      while (index2 > 0) {
        if (index2 % 2) {
          weightSum += tree2[index2 + 1];
        }
        index2 = index2 - 1 >> 1;
        tree2[index2] += entry.weight;
      }
      cc += entry.weight * weightSum;
    }));
    return cc;
  }
  return crossCount_1;
}
var barycenter_1;
var hasRequiredBarycenter;
function requireBarycenter() {
  if (hasRequiredBarycenter)
    return barycenter_1;
  hasRequiredBarycenter = 1;
  var _2 = requireLodash$1();
  barycenter_1 = barycenter;
  function barycenter(g, movable) {
    return _2.map(movable, function(v) {
      var inV = g.inEdges(v);
      if (!inV.length) {
        return { v };
      } else {
        var result = _2.reduce(inV, function(acc, e) {
          var edge = g.edge(e), nodeU = g.node(e.v);
          return {
            sum: acc.sum + edge.weight * nodeU.order,
            weight: acc.weight + edge.weight
          };
        }, { sum: 0, weight: 0 });
        return {
          v,
          barycenter: result.sum / result.weight,
          weight: result.weight
        };
      }
    });
  }
  return barycenter_1;
}
var resolveConflicts_1;
var hasRequiredResolveConflicts;
function requireResolveConflicts() {
  if (hasRequiredResolveConflicts)
    return resolveConflicts_1;
  hasRequiredResolveConflicts = 1;
  var _2 = requireLodash$1();
  resolveConflicts_1 = resolveConflicts;
  function resolveConflicts(entries2, cg) {
    var mappedEntries = {};
    _2.forEach(entries2, function(entry, i) {
      var tmp = mappedEntries[entry.v] = {
        indegree: 0,
        "in": [],
        out: [],
        vs: [entry.v],
        i
      };
      if (!_2.isUndefined(entry.barycenter)) {
        tmp.barycenter = entry.barycenter;
        tmp.weight = entry.weight;
      }
    });
    _2.forEach(cg.edges(), function(e) {
      var entryV = mappedEntries[e.v];
      var entryW = mappedEntries[e.w];
      if (!_2.isUndefined(entryV) && !_2.isUndefined(entryW)) {
        entryW.indegree++;
        entryV.out.push(mappedEntries[e.w]);
      }
    });
    var sourceSet = _2.filter(mappedEntries, function(entry) {
      return !entry.indegree;
    });
    return doResolveConflicts(sourceSet);
  }
  function doResolveConflicts(sourceSet) {
    var entries2 = [];
    function handleIn(vEntry) {
      return function(uEntry) {
        if (uEntry.merged) {
          return;
        }
        if (_2.isUndefined(uEntry.barycenter) || _2.isUndefined(vEntry.barycenter) || uEntry.barycenter >= vEntry.barycenter) {
          mergeEntries(vEntry, uEntry);
        }
      };
    }
    function handleOut(vEntry) {
      return function(wEntry) {
        wEntry["in"].push(vEntry);
        if (--wEntry.indegree === 0) {
          sourceSet.push(wEntry);
        }
      };
    }
    while (sourceSet.length) {
      var entry = sourceSet.pop();
      entries2.push(entry);
      _2.forEach(entry["in"].reverse(), handleIn(entry));
      _2.forEach(entry.out, handleOut(entry));
    }
    return _2.map(
      _2.filter(entries2, function(entry2) {
        return !entry2.merged;
      }),
      function(entry2) {
        return _2.pick(entry2, ["vs", "i", "barycenter", "weight"]);
      }
    );
  }
  function mergeEntries(target, source) {
    var sum2 = 0;
    var weight = 0;
    if (target.weight) {
      sum2 += target.barycenter * target.weight;
      weight += target.weight;
    }
    if (source.weight) {
      sum2 += source.barycenter * source.weight;
      weight += source.weight;
    }
    target.vs = source.vs.concat(target.vs);
    target.barycenter = sum2 / weight;
    target.weight = weight;
    target.i = Math.min(source.i, target.i);
    source.merged = true;
  }
  return resolveConflicts_1;
}
var sort_1;
var hasRequiredSort;
function requireSort() {
  if (hasRequiredSort)
    return sort_1;
  hasRequiredSort = 1;
  var _2 = requireLodash$1();
  var util2 = requireUtil$2();
  sort_1 = sort2;
  function sort2(entries2, biasRight) {
    var parts = util2.partition(entries2, function(entry) {
      return _2.has(entry, "barycenter");
    });
    var sortable = parts.lhs, unsortable = _2.sortBy(parts.rhs, function(entry) {
      return -entry.i;
    }), vs = [], sum2 = 0, weight = 0, vsIndex = 0;
    sortable.sort(compareWithBias(!!biasRight));
    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);
    _2.forEach(sortable, function(entry) {
      vsIndex += entry.vs.length;
      vs.push(entry.vs);
      sum2 += entry.barycenter * entry.weight;
      weight += entry.weight;
      vsIndex = consumeUnsortable(vs, unsortable, vsIndex);
    });
    var result = { vs: _2.flatten(vs, true) };
    if (weight) {
      result.barycenter = sum2 / weight;
      result.weight = weight;
    }
    return result;
  }
  function consumeUnsortable(vs, unsortable, index2) {
    var last;
    while (unsortable.length && (last = _2.last(unsortable)).i <= index2) {
      unsortable.pop();
      vs.push(last.vs);
      index2++;
    }
    return index2;
  }
  function compareWithBias(bias) {
    return function(entryV, entryW) {
      if (entryV.barycenter < entryW.barycenter) {
        return -1;
      } else if (entryV.barycenter > entryW.barycenter) {
        return 1;
      }
      return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;
    };
  }
  return sort_1;
}
var sortSubgraph_1;
var hasRequiredSortSubgraph;
function requireSortSubgraph() {
  if (hasRequiredSortSubgraph)
    return sortSubgraph_1;
  hasRequiredSortSubgraph = 1;
  var _2 = requireLodash$1();
  var barycenter = requireBarycenter();
  var resolveConflicts = requireResolveConflicts();
  var sort2 = requireSort();
  sortSubgraph_1 = sortSubgraph;
  function sortSubgraph(g, v, cg, biasRight) {
    var movable = g.children(v);
    var node = g.node(v);
    var bl = node ? node.borderLeft : void 0;
    var br = node ? node.borderRight : void 0;
    var subgraphs = {};
    if (bl) {
      movable = _2.filter(movable, function(w) {
        return w !== bl && w !== br;
      });
    }
    var barycenters = barycenter(g, movable);
    _2.forEach(barycenters, function(entry) {
      if (g.children(entry.v).length) {
        var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);
        subgraphs[entry.v] = subgraphResult;
        if (_2.has(subgraphResult, "barycenter")) {
          mergeBarycenters(entry, subgraphResult);
        }
      }
    });
    var entries2 = resolveConflicts(barycenters, cg);
    expandSubgraphs(entries2, subgraphs);
    var result = sort2(entries2, biasRight);
    if (bl) {
      result.vs = _2.flatten([bl, result.vs, br], true);
      if (g.predecessors(bl).length) {
        var blPred = g.node(g.predecessors(bl)[0]), brPred = g.node(g.predecessors(br)[0]);
        if (!_2.has(result, "barycenter")) {
          result.barycenter = 0;
          result.weight = 0;
        }
        result.barycenter = (result.barycenter * result.weight + blPred.order + brPred.order) / (result.weight + 2);
        result.weight += 2;
      }
    }
    return result;
  }
  function expandSubgraphs(entries2, subgraphs) {
    _2.forEach(entries2, function(entry) {
      entry.vs = _2.flatten(entry.vs.map(function(v) {
        if (subgraphs[v]) {
          return subgraphs[v].vs;
        }
        return v;
      }), true);
    });
  }
  function mergeBarycenters(target, other) {
    if (!_2.isUndefined(target.barycenter)) {
      target.barycenter = (target.barycenter * target.weight + other.barycenter * other.weight) / (target.weight + other.weight);
      target.weight += other.weight;
    } else {
      target.barycenter = other.barycenter;
      target.weight = other.weight;
    }
  }
  return sortSubgraph_1;
}
var buildLayerGraph_1;
var hasRequiredBuildLayerGraph;
function requireBuildLayerGraph() {
  if (hasRequiredBuildLayerGraph)
    return buildLayerGraph_1;
  hasRequiredBuildLayerGraph = 1;
  var _2 = requireLodash$1();
  var Graph = requireGraphlib$1().Graph;
  buildLayerGraph_1 = buildLayerGraph;
  function buildLayerGraph(g, rank2, relationship) {
    var root2 = createRootNode(g), result = new Graph({ compound: true }).setGraph({ root: root2 }).setDefaultNodeLabel(function(v) {
      return g.node(v);
    });
    _2.forEach(g.nodes(), function(v) {
      var node = g.node(v), parent = g.parent(v);
      if (node.rank === rank2 || node.minRank <= rank2 && rank2 <= node.maxRank) {
        result.setNode(v);
        result.setParent(v, parent || root2);
        _2.forEach(g[relationship](v), function(e) {
          var u = e.v === v ? e.w : e.v, edge = result.edge(u, v), weight = !_2.isUndefined(edge) ? edge.weight : 0;
          result.setEdge(u, v, { weight: g.edge(e).weight + weight });
        });
        if (_2.has(node, "minRank")) {
          result.setNode(v, {
            borderLeft: node.borderLeft[rank2],
            borderRight: node.borderRight[rank2]
          });
        }
      }
    });
    return result;
  }
  function createRootNode(g) {
    var v;
    while (g.hasNode(v = _2.uniqueId("_root")))
      ;
    return v;
  }
  return buildLayerGraph_1;
}
var addSubgraphConstraints_1;
var hasRequiredAddSubgraphConstraints;
function requireAddSubgraphConstraints() {
  if (hasRequiredAddSubgraphConstraints)
    return addSubgraphConstraints_1;
  hasRequiredAddSubgraphConstraints = 1;
  var _2 = requireLodash$1();
  addSubgraphConstraints_1 = addSubgraphConstraints;
  function addSubgraphConstraints(g, cg, vs) {
    var prev = {}, rootPrev;
    _2.forEach(vs, function(v) {
      var child = g.parent(v), parent, prevChild;
      while (child) {
        parent = g.parent(child);
        if (parent) {
          prevChild = prev[parent];
          prev[parent] = child;
        } else {
          prevChild = rootPrev;
          rootPrev = child;
        }
        if (prevChild && prevChild !== child) {
          cg.setEdge(prevChild, child);
          return;
        }
        child = parent;
      }
    });
  }
  return addSubgraphConstraints_1;
}
var order_1;
var hasRequiredOrder;
function requireOrder() {
  if (hasRequiredOrder)
    return order_1;
  hasRequiredOrder = 1;
  var _2 = requireLodash$1();
  var initOrder = requireInitOrder();
  var crossCount = requireCrossCount();
  var sortSubgraph = requireSortSubgraph();
  var buildLayerGraph = requireBuildLayerGraph();
  var addSubgraphConstraints = requireAddSubgraphConstraints();
  var Graph = requireGraphlib$1().Graph;
  var util2 = requireUtil$2();
  order_1 = order;
  function order(g) {
    var maxRank = util2.maxRank(g), downLayerGraphs = buildLayerGraphs(g, _2.range(1, maxRank + 1), "inEdges"), upLayerGraphs = buildLayerGraphs(g, _2.range(maxRank - 1, -1, -1), "outEdges");
    var layering = initOrder(g);
    assignOrder(g, layering);
    var bestCC = Number.POSITIVE_INFINITY, best;
    for (var i = 0, lastBest = 0; lastBest < 4; ++i, ++lastBest) {
      sweepLayerGraphs(i % 2 ? downLayerGraphs : upLayerGraphs, i % 4 >= 2);
      layering = util2.buildLayerMatrix(g);
      var cc = crossCount(g, layering);
      if (cc < bestCC) {
        lastBest = 0;
        best = _2.cloneDeep(layering);
        bestCC = cc;
      }
    }
    assignOrder(g, best);
  }
  function buildLayerGraphs(g, ranks, relationship) {
    return _2.map(ranks, function(rank2) {
      return buildLayerGraph(g, rank2, relationship);
    });
  }
  function sweepLayerGraphs(layerGraphs, biasRight) {
    var cg = new Graph();
    _2.forEach(layerGraphs, function(lg) {
      var root2 = lg.graph().root;
      var sorted = sortSubgraph(lg, root2, cg, biasRight);
      _2.forEach(sorted.vs, function(v, i) {
        lg.node(v).order = i;
      });
      addSubgraphConstraints(lg, cg, sorted.vs);
    });
  }
  function assignOrder(g, layering) {
    _2.forEach(layering, function(layer) {
      _2.forEach(layer, function(v, i) {
        g.node(v).order = i;
      });
    });
  }
  return order_1;
}
var bk;
var hasRequiredBk;
function requireBk() {
  if (hasRequiredBk)
    return bk;
  hasRequiredBk = 1;
  var _2 = requireLodash$1();
  var Graph = requireGraphlib$1().Graph;
  var util2 = requireUtil$2();
  bk = {
    positionX,
    findType1Conflicts,
    findType2Conflicts,
    addConflict,
    hasConflict,
    verticalAlignment,
    horizontalCompaction,
    alignCoordinates,
    findSmallestWidthAlignment,
    balance
  };
  function findType1Conflicts(g, layering) {
    var conflicts = {};
    function visitLayer(prevLayer, layer) {
      var k0 = 0, scanPos = 0, prevLayerLength = prevLayer.length, lastNode = _2.last(layer);
      _2.forEach(layer, function(v, i) {
        var w = findOtherInnerSegmentNode(g, v), k1 = w ? g.node(w).order : prevLayerLength;
        if (w || v === lastNode) {
          _2.forEach(layer.slice(scanPos, i + 1), function(scanNode) {
            _2.forEach(g.predecessors(scanNode), function(u) {
              var uLabel = g.node(u), uPos = uLabel.order;
              if ((uPos < k0 || k1 < uPos) && !(uLabel.dummy && g.node(scanNode).dummy)) {
                addConflict(conflicts, u, scanNode);
              }
            });
          });
          scanPos = i + 1;
          k0 = k1;
        }
      });
      return layer;
    }
    _2.reduce(layering, visitLayer);
    return conflicts;
  }
  function findType2Conflicts(g, layering) {
    var conflicts = {};
    function scan2(south, southPos, southEnd, prevNorthBorder, nextNorthBorder) {
      var v;
      _2.forEach(_2.range(southPos, southEnd), function(i) {
        v = south[i];
        if (g.node(v).dummy) {
          _2.forEach(g.predecessors(v), function(u) {
            var uNode = g.node(u);
            if (uNode.dummy && (uNode.order < prevNorthBorder || uNode.order > nextNorthBorder)) {
              addConflict(conflicts, u, v);
            }
          });
        }
      });
    }
    function visitLayer(north, south) {
      var prevNorthPos = -1, nextNorthPos, southPos = 0;
      _2.forEach(south, function(v, southLookahead) {
        if (g.node(v).dummy === "border") {
          var predecessors = g.predecessors(v);
          if (predecessors.length) {
            nextNorthPos = g.node(predecessors[0]).order;
            scan2(south, southPos, southLookahead, prevNorthPos, nextNorthPos);
            southPos = southLookahead;
            prevNorthPos = nextNorthPos;
          }
        }
        scan2(south, southPos, south.length, nextNorthPos, north.length);
      });
      return south;
    }
    _2.reduce(layering, visitLayer);
    return conflicts;
  }
  function findOtherInnerSegmentNode(g, v) {
    if (g.node(v).dummy) {
      return _2.find(g.predecessors(v), function(u) {
        return g.node(u).dummy;
      });
    }
  }
  function addConflict(conflicts, v, w) {
    if (v > w) {
      var tmp = v;
      v = w;
      w = tmp;
    }
    var conflictsV = conflicts[v];
    if (!conflictsV) {
      conflicts[v] = conflictsV = {};
    }
    conflictsV[w] = true;
  }
  function hasConflict(conflicts, v, w) {
    if (v > w) {
      var tmp = v;
      v = w;
      w = tmp;
    }
    return _2.has(conflicts[v], w);
  }
  function verticalAlignment(g, layering, conflicts, neighborFn) {
    var root2 = {}, align = {}, pos = {};
    _2.forEach(layering, function(layer) {
      _2.forEach(layer, function(v, order) {
        root2[v] = v;
        align[v] = v;
        pos[v] = order;
      });
    });
    _2.forEach(layering, function(layer) {
      var prevIdx = -1;
      _2.forEach(layer, function(v) {
        var ws = neighborFn(v);
        if (ws.length) {
          ws = _2.sortBy(ws, function(w2) {
            return pos[w2];
          });
          var mp = (ws.length - 1) / 2;
          for (var i = Math.floor(mp), il = Math.ceil(mp); i <= il; ++i) {
            var w = ws[i];
            if (align[v] === v && prevIdx < pos[w] && !hasConflict(conflicts, v, w)) {
              align[w] = v;
              align[v] = root2[v] = root2[w];
              prevIdx = pos[w];
            }
          }
        }
      });
    });
    return { root: root2, align };
  }
  function horizontalCompaction(g, layering, root2, align, reverseSep) {
    var xs = {}, blockG = buildBlockGraph(g, layering, root2, reverseSep), borderType = reverseSep ? "borderLeft" : "borderRight";
    function iterate(setXsFunc, nextNodesFunc) {
      var stack2 = blockG.nodes();
      var elem = stack2.pop();
      var visited = {};
      while (elem) {
        if (visited[elem]) {
          setXsFunc(elem);
        } else {
          visited[elem] = true;
          stack2.push(elem);
          stack2 = stack2.concat(nextNodesFunc(elem));
        }
        elem = stack2.pop();
      }
    }
    function pass1(elem) {
      xs[elem] = blockG.inEdges(elem).reduce(function(acc, e) {
        return Math.max(acc, xs[e.v] + blockG.edge(e));
      }, 0);
    }
    function pass2(elem) {
      var min2 = blockG.outEdges(elem).reduce(function(acc, e) {
        return Math.min(acc, xs[e.w] - blockG.edge(e));
      }, Number.POSITIVE_INFINITY);
      var node = g.node(elem);
      if (min2 !== Number.POSITIVE_INFINITY && node.borderType !== borderType) {
        xs[elem] = Math.max(xs[elem], min2);
      }
    }
    iterate(pass1, blockG.predecessors.bind(blockG));
    iterate(pass2, blockG.successors.bind(blockG));
    _2.forEach(align, function(v) {
      xs[v] = xs[root2[v]];
    });
    return xs;
  }
  function buildBlockGraph(g, layering, root2, reverseSep) {
    var blockGraph = new Graph(), graphLabel = g.graph(), sepFn = sep(graphLabel.nodesep, graphLabel.edgesep, reverseSep);
    _2.forEach(layering, function(layer) {
      var u;
      _2.forEach(layer, function(v) {
        var vRoot = root2[v];
        blockGraph.setNode(vRoot);
        if (u) {
          var uRoot = root2[u], prevMax = blockGraph.edge(uRoot, vRoot);
          blockGraph.setEdge(uRoot, vRoot, Math.max(sepFn(g, v, u), prevMax || 0));
        }
        u = v;
      });
    });
    return blockGraph;
  }
  function findSmallestWidthAlignment(g, xss) {
    return _2.minBy(_2.values(xss), function(xs) {
      var max2 = Number.NEGATIVE_INFINITY;
      var min2 = Number.POSITIVE_INFINITY;
      _2.forIn(xs, function(x2, v) {
        var halfWidth = width(g, v) / 2;
        max2 = Math.max(x2 + halfWidth, max2);
        min2 = Math.min(x2 - halfWidth, min2);
      });
      return max2 - min2;
    });
  }
  function alignCoordinates(xss, alignTo) {
    var alignToVals = _2.values(alignTo), alignToMin = _2.min(alignToVals), alignToMax = _2.max(alignToVals);
    _2.forEach(["u", "d"], function(vert) {
      _2.forEach(["l", "r"], function(horiz) {
        var alignment = vert + horiz, xs = xss[alignment], delta;
        if (xs === alignTo)
          return;
        var xsVals = _2.values(xs);
        delta = horiz === "l" ? alignToMin - _2.min(xsVals) : alignToMax - _2.max(xsVals);
        if (delta) {
          xss[alignment] = _2.mapValues(xs, function(x2) {
            return x2 + delta;
          });
        }
      });
    });
  }
  function balance(xss, align) {
    return _2.mapValues(xss.ul, function(ignore, v) {
      if (align) {
        return xss[align.toLowerCase()][v];
      } else {
        var xs = _2.sortBy(_2.map(xss, v));
        return (xs[1] + xs[2]) / 2;
      }
    });
  }
  function positionX(g) {
    var layering = util2.buildLayerMatrix(g);
    var conflicts = _2.merge(
      findType1Conflicts(g, layering),
      findType2Conflicts(g, layering)
    );
    var xss = {};
    var adjustedLayering;
    _2.forEach(["u", "d"], function(vert) {
      adjustedLayering = vert === "u" ? layering : _2.values(layering).reverse();
      _2.forEach(["l", "r"], function(horiz) {
        if (horiz === "r") {
          adjustedLayering = _2.map(adjustedLayering, function(inner) {
            return _2.values(inner).reverse();
          });
        }
        var neighborFn = (vert === "u" ? g.predecessors : g.successors).bind(g);
        var align = verticalAlignment(g, adjustedLayering, conflicts, neighborFn);
        var xs = horizontalCompaction(
          g,
          adjustedLayering,
          align.root,
          align.align,
          horiz === "r"
        );
        if (horiz === "r") {
          xs = _2.mapValues(xs, function(x2) {
            return -x2;
          });
        }
        xss[vert + horiz] = xs;
      });
    });
    var smallestWidth = findSmallestWidthAlignment(g, xss);
    alignCoordinates(xss, smallestWidth);
    return balance(xss, g.graph().align);
  }
  function sep(nodeSep, edgeSep, reverseSep) {
    return function(g, v, w) {
      var vLabel = g.node(v);
      var wLabel = g.node(w);
      var sum2 = 0;
      var delta;
      sum2 += vLabel.width / 2;
      if (_2.has(vLabel, "labelpos")) {
        switch (vLabel.labelpos.toLowerCase()) {
          case "l":
            delta = -vLabel.width / 2;
            break;
          case "r":
            delta = vLabel.width / 2;
            break;
        }
      }
      if (delta) {
        sum2 += reverseSep ? delta : -delta;
      }
      delta = 0;
      sum2 += (vLabel.dummy ? edgeSep : nodeSep) / 2;
      sum2 += (wLabel.dummy ? edgeSep : nodeSep) / 2;
      sum2 += wLabel.width / 2;
      if (_2.has(wLabel, "labelpos")) {
        switch (wLabel.labelpos.toLowerCase()) {
          case "l":
            delta = wLabel.width / 2;
            break;
          case "r":
            delta = -wLabel.width / 2;
            break;
        }
      }
      if (delta) {
        sum2 += reverseSep ? delta : -delta;
      }
      delta = 0;
      return sum2;
    };
  }
  function width(g, v) {
    return g.node(v).width;
  }
  return bk;
}
var position_1;
var hasRequiredPosition;
function requirePosition() {
  if (hasRequiredPosition)
    return position_1;
  hasRequiredPosition = 1;
  var _2 = requireLodash$1();
  var util2 = requireUtil$2();
  var positionX = requireBk().positionX;
  position_1 = position;
  function position(g) {
    g = util2.asNonCompoundGraph(g);
    positionY(g);
    _2.forEach(positionX(g), function(x2, v) {
      g.node(v).x = x2;
    });
  }
  function positionY(g) {
    var layering = util2.buildLayerMatrix(g);
    var rankSep = g.graph().ranksep;
    var prevY = 0;
    _2.forEach(layering, function(layer) {
      var maxHeight = _2.max(_2.map(layer, function(v) {
        return g.node(v).height;
      }));
      _2.forEach(layer, function(v) {
        g.node(v).y = prevY + maxHeight / 2;
      });
      prevY += maxHeight + rankSep;
    });
  }
  return position_1;
}
var layout_1;
var hasRequiredLayout;
function requireLayout() {
  if (hasRequiredLayout)
    return layout_1;
  hasRequiredLayout = 1;
  var _2 = requireLodash$1();
  var acyclic2 = requireAcyclic();
  var normalize2 = requireNormalize();
  var rank2 = requireRank();
  var normalizeRanks = requireUtil$2().normalizeRanks;
  var parentDummyChains = requireParentDummyChains();
  var removeEmptyRanks = requireUtil$2().removeEmptyRanks;
  var nestingGraph2 = requireNestingGraph();
  var addBorderSegments = requireAddBorderSegments();
  var coordinateSystem2 = requireCoordinateSystem();
  var order = requireOrder();
  var position = requirePosition();
  var util2 = requireUtil$2();
  var Graph = requireGraphlib$1().Graph;
  layout_1 = layout;
  function layout(g, opts) {
    var time2 = opts && opts.debugTiming ? util2.time : util2.notime;
    time2("layout", function() {
      var layoutGraph = time2("  buildLayoutGraph", function() {
        return buildLayoutGraph(g);
      });
      time2("  runLayout", function() {
        runLayout(layoutGraph, time2);
      });
      time2("  updateInputGraph", function() {
        updateInputGraph(g, layoutGraph);
      });
    });
  }
  function runLayout(g, time2) {
    time2("    makeSpaceForEdgeLabels", function() {
      makeSpaceForEdgeLabels(g);
    });
    time2("    removeSelfEdges", function() {
      removeSelfEdges(g);
    });
    time2("    acyclic", function() {
      acyclic2.run(g);
    });
    time2("    nestingGraph.run", function() {
      nestingGraph2.run(g);
    });
    time2("    rank", function() {
      rank2(util2.asNonCompoundGraph(g));
    });
    time2("    injectEdgeLabelProxies", function() {
      injectEdgeLabelProxies(g);
    });
    time2("    removeEmptyRanks", function() {
      removeEmptyRanks(g);
    });
    time2("    nestingGraph.cleanup", function() {
      nestingGraph2.cleanup(g);
    });
    time2("    normalizeRanks", function() {
      normalizeRanks(g);
    });
    time2("    assignRankMinMax", function() {
      assignRankMinMax(g);
    });
    time2("    removeEdgeLabelProxies", function() {
      removeEdgeLabelProxies(g);
    });
    time2("    normalize.run", function() {
      normalize2.run(g);
    });
    time2("    parentDummyChains", function() {
      parentDummyChains(g);
    });
    time2("    addBorderSegments", function() {
      addBorderSegments(g);
    });
    time2("    order", function() {
      order(g);
    });
    time2("    insertSelfEdges", function() {
      insertSelfEdges(g);
    });
    time2("    adjustCoordinateSystem", function() {
      coordinateSystem2.adjust(g);
    });
    time2("    position", function() {
      position(g);
    });
    time2("    positionSelfEdges", function() {
      positionSelfEdges(g);
    });
    time2("    removeBorderNodes", function() {
      removeBorderNodes(g);
    });
    time2("    normalize.undo", function() {
      normalize2.undo(g);
    });
    time2("    fixupEdgeLabelCoords", function() {
      fixupEdgeLabelCoords(g);
    });
    time2("    undoCoordinateSystem", function() {
      coordinateSystem2.undo(g);
    });
    time2("    translateGraph", function() {
      translateGraph(g);
    });
    time2("    assignNodeIntersects", function() {
      assignNodeIntersects(g);
    });
    time2("    reversePoints", function() {
      reversePointsForReversedEdges(g);
    });
    time2("    acyclic.undo", function() {
      acyclic2.undo(g);
    });
  }
  function updateInputGraph(inputGraph, layoutGraph) {
    _2.forEach(inputGraph.nodes(), function(v) {
      var inputLabel = inputGraph.node(v);
      var layoutLabel = layoutGraph.node(v);
      if (inputLabel) {
        inputLabel.x = layoutLabel.x;
        inputLabel.y = layoutLabel.y;
        if (layoutGraph.children(v).length) {
          inputLabel.width = layoutLabel.width;
          inputLabel.height = layoutLabel.height;
        }
      }
    });
    _2.forEach(inputGraph.edges(), function(e) {
      var inputLabel = inputGraph.edge(e);
      var layoutLabel = layoutGraph.edge(e);
      inputLabel.points = layoutLabel.points;
      if (_2.has(layoutLabel, "x")) {
        inputLabel.x = layoutLabel.x;
        inputLabel.y = layoutLabel.y;
      }
    });
    inputGraph.graph().width = layoutGraph.graph().width;
    inputGraph.graph().height = layoutGraph.graph().height;
  }
  var graphNumAttrs = ["nodesep", "edgesep", "ranksep", "marginx", "marginy"];
  var graphDefaults = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: "tb" };
  var graphAttrs = ["acyclicer", "ranker", "rankdir", "align"];
  var nodeNumAttrs = ["width", "height"];
  var nodeDefaults = { width: 0, height: 0 };
  var edgeNumAttrs = ["minlen", "weight", "width", "height", "labeloffset"];
  var edgeDefaults = {
    minlen: 1,
    weight: 1,
    width: 0,
    height: 0,
    labeloffset: 10,
    labelpos: "r"
  };
  var edgeAttrs = ["labelpos"];
  function buildLayoutGraph(inputGraph) {
    var g = new Graph({ multigraph: true, compound: true });
    var graph2 = canonicalize(inputGraph.graph());
    g.setGraph(_2.merge(
      {},
      graphDefaults,
      selectNumberAttrs(graph2, graphNumAttrs),
      _2.pick(graph2, graphAttrs)
    ));
    _2.forEach(inputGraph.nodes(), function(v) {
      var node = canonicalize(inputGraph.node(v));
      g.setNode(v, _2.defaults(selectNumberAttrs(node, nodeNumAttrs), nodeDefaults));
      g.setParent(v, inputGraph.parent(v));
    });
    _2.forEach(inputGraph.edges(), function(e) {
      var edge = canonicalize(inputGraph.edge(e));
      g.setEdge(e, _2.merge(
        {},
        edgeDefaults,
        selectNumberAttrs(edge, edgeNumAttrs),
        _2.pick(edge, edgeAttrs)
      ));
    });
    return g;
  }
  function makeSpaceForEdgeLabels(g) {
    var graph2 = g.graph();
    graph2.ranksep /= 2;
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      edge.minlen *= 2;
      if (edge.labelpos.toLowerCase() !== "c") {
        if (graph2.rankdir === "TB" || graph2.rankdir === "BT") {
          edge.width += edge.labeloffset;
        } else {
          edge.height += edge.labeloffset;
        }
      }
    });
  }
  function injectEdgeLabelProxies(g) {
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      if (edge.width && edge.height) {
        var v = g.node(e.v);
        var w = g.node(e.w);
        var label = { rank: (w.rank - v.rank) / 2 + v.rank, e };
        util2.addDummyNode(g, "edge-proxy", label, "_ep");
      }
    });
  }
  function assignRankMinMax(g) {
    var maxRank = 0;
    _2.forEach(g.nodes(), function(v) {
      var node = g.node(v);
      if (node.borderTop) {
        node.minRank = g.node(node.borderTop).rank;
        node.maxRank = g.node(node.borderBottom).rank;
        maxRank = _2.max(maxRank, node.maxRank);
      }
    });
    g.graph().maxRank = maxRank;
  }
  function removeEdgeLabelProxies(g) {
    _2.forEach(g.nodes(), function(v) {
      var node = g.node(v);
      if (node.dummy === "edge-proxy") {
        g.edge(node.e).labelRank = node.rank;
        g.removeNode(v);
      }
    });
  }
  function translateGraph(g) {
    var minX = Number.POSITIVE_INFINITY;
    var maxX = 0;
    var minY = Number.POSITIVE_INFINITY;
    var maxY2 = 0;
    var graphLabel = g.graph();
    var marginX = graphLabel.marginx || 0;
    var marginY = graphLabel.marginy || 0;
    function getExtremes(attrs) {
      var x2 = attrs.x;
      var y2 = attrs.y;
      var w = attrs.width;
      var h = attrs.height;
      minX = Math.min(minX, x2 - w / 2);
      maxX = Math.max(maxX, x2 + w / 2);
      minY = Math.min(minY, y2 - h / 2);
      maxY2 = Math.max(maxY2, y2 + h / 2);
    }
    _2.forEach(g.nodes(), function(v) {
      getExtremes(g.node(v));
    });
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      if (_2.has(edge, "x")) {
        getExtremes(edge);
      }
    });
    minX -= marginX;
    minY -= marginY;
    _2.forEach(g.nodes(), function(v) {
      var node = g.node(v);
      node.x -= minX;
      node.y -= minY;
    });
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      _2.forEach(edge.points, function(p) {
        p.x -= minX;
        p.y -= minY;
      });
      if (_2.has(edge, "x")) {
        edge.x -= minX;
      }
      if (_2.has(edge, "y")) {
        edge.y -= minY;
      }
    });
    graphLabel.width = maxX - minX + marginX;
    graphLabel.height = maxY2 - minY + marginY;
  }
  function assignNodeIntersects(g) {
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      var nodeV = g.node(e.v);
      var nodeW = g.node(e.w);
      var p1, p2;
      if (!edge.points) {
        edge.points = [];
        p1 = nodeW;
        p2 = nodeV;
      } else {
        p1 = edge.points[0];
        p2 = edge.points[edge.points.length - 1];
      }
      edge.points.unshift(util2.intersectRect(nodeV, p1));
      edge.points.push(util2.intersectRect(nodeW, p2));
    });
  }
  function fixupEdgeLabelCoords(g) {
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      if (_2.has(edge, "x")) {
        if (edge.labelpos === "l" || edge.labelpos === "r") {
          edge.width -= edge.labeloffset;
        }
        switch (edge.labelpos) {
          case "l":
            edge.x -= edge.width / 2 + edge.labeloffset;
            break;
          case "r":
            edge.x += edge.width / 2 + edge.labeloffset;
            break;
        }
      }
    });
  }
  function reversePointsForReversedEdges(g) {
    _2.forEach(g.edges(), function(e) {
      var edge = g.edge(e);
      if (edge.reversed) {
        edge.points.reverse();
      }
    });
  }
  function removeBorderNodes(g) {
    _2.forEach(g.nodes(), function(v) {
      if (g.children(v).length) {
        var node = g.node(v);
        var t = g.node(node.borderTop);
        var b = g.node(node.borderBottom);
        var l = g.node(_2.last(node.borderLeft));
        var r = g.node(_2.last(node.borderRight));
        node.width = Math.abs(r.x - l.x);
        node.height = Math.abs(b.y - t.y);
        node.x = l.x + node.width / 2;
        node.y = t.y + node.height / 2;
      }
    });
    _2.forEach(g.nodes(), function(v) {
      if (g.node(v).dummy === "border") {
        g.removeNode(v);
      }
    });
  }
  function removeSelfEdges(g) {
    _2.forEach(g.edges(), function(e) {
      if (e.v === e.w) {
        var node = g.node(e.v);
        if (!node.selfEdges) {
          node.selfEdges = [];
        }
        node.selfEdges.push({ e, label: g.edge(e) });
        g.removeEdge(e);
      }
    });
  }
  function insertSelfEdges(g) {
    var layers = util2.buildLayerMatrix(g);
    _2.forEach(layers, function(layer) {
      var orderShift = 0;
      _2.forEach(layer, function(v, i) {
        var node = g.node(v);
        node.order = i + orderShift;
        _2.forEach(node.selfEdges, function(selfEdge) {
          util2.addDummyNode(g, "selfedge", {
            width: selfEdge.label.width,
            height: selfEdge.label.height,
            rank: node.rank,
            order: i + ++orderShift,
            e: selfEdge.e,
            label: selfEdge.label
          }, "_se");
        });
        delete node.selfEdges;
      });
    });
  }
  function positionSelfEdges(g) {
    _2.forEach(g.nodes(), function(v) {
      var node = g.node(v);
      if (node.dummy === "selfedge") {
        var selfNode = g.node(node.e.v);
        var x2 = selfNode.x + selfNode.width / 2;
        var y2 = selfNode.y;
        var dx = node.x - x2;
        var dy = selfNode.height / 2;
        g.setEdge(node.e, node.label);
        g.removeNode(v);
        node.label.points = [
          { x: x2 + 2 * dx / 3, y: y2 - dy },
          { x: x2 + 5 * dx / 6, y: y2 - dy },
          { x: x2 + dx, y: y2 },
          { x: x2 + 5 * dx / 6, y: y2 + dy },
          { x: x2 + 2 * dx / 3, y: y2 + dy }
        ];
        node.label.x = node.x;
        node.label.y = node.y;
      }
    });
  }
  function selectNumberAttrs(obj, attrs) {
    return _2.mapValues(_2.pick(obj, attrs), Number);
  }
  function canonicalize(attrs) {
    var newAttrs = {};
    _2.forEach(attrs, function(v, k2) {
      newAttrs[k2.toLowerCase()] = v;
    });
    return newAttrs;
  }
  return layout_1;
}
var debug;
var hasRequiredDebug;
function requireDebug() {
  if (hasRequiredDebug)
    return debug;
  hasRequiredDebug = 1;
  var _2 = requireLodash$1();
  var util2 = requireUtil$2();
  var Graph = requireGraphlib$1().Graph;
  debug = {
    debugOrdering
  };
  function debugOrdering(g) {
    var layerMatrix = util2.buildLayerMatrix(g);
    var h = new Graph({ compound: true, multigraph: true }).setGraph({});
    _2.forEach(g.nodes(), function(v) {
      h.setNode(v, { label: v });
      h.setParent(v, "layer" + g.node(v).rank);
    });
    _2.forEach(g.edges(), function(e) {
      h.setEdge(e.v, e.w, {}, e.name);
    });
    _2.forEach(layerMatrix, function(layer, i) {
      var layerV = "layer" + i;
      h.setNode(layerV, { rank: "same" });
      _2.reduce(layer, function(u, v) {
        h.setEdge(u, v, { style: "invis" });
        return v;
      });
    });
    return h;
  }
  return debug;
}
var version$2;
var hasRequiredVersion$1;
function requireVersion$1() {
  if (hasRequiredVersion$1)
    return version$2;
  hasRequiredVersion$1 = 1;
  version$2 = "0.8.5";
  return version$2;
}
var dagre;
var hasRequiredDagre$1;
function requireDagre$1() {
  if (hasRequiredDagre$1)
    return dagre;
  hasRequiredDagre$1 = 1;
  dagre = {
    graphlib: requireGraphlib$1(),
    layout: requireLayout(),
    debug: requireDebug(),
    util: {
      time: requireUtil$2().time,
      notime: requireUtil$2().notime
    },
    version: requireVersion$1()
  };
  return dagre;
}
var graphlib_1;
var hasRequiredGraphlib;
function requireGraphlib() {
  if (hasRequiredGraphlib)
    return graphlib_1;
  hasRequiredGraphlib = 1;
  var graphlib2;
  if (typeof commonjsRequire === "function") {
    try {
      graphlib2 = requireGraphlib$2();
    } catch (e) {
    }
  }
  if (!graphlib2) {
    graphlib2 = window.graphlib;
  }
  graphlib_1 = graphlib2;
  return graphlib_1;
}
var dagre_1;
var hasRequiredDagre;
function requireDagre() {
  if (hasRequiredDagre)
    return dagre_1;
  hasRequiredDagre = 1;
  var dagre2;
  if (typeof commonjsRequire === "function") {
    try {
      dagre2 = requireDagre$1();
    } catch (e) {
    }
  }
  if (!dagre2) {
    dagre2 = window.dagre;
  }
  dagre_1 = dagre2;
  return dagre_1;
}
var intersectNode_1;
var hasRequiredIntersectNode;
function requireIntersectNode() {
  if (hasRequiredIntersectNode)
    return intersectNode_1;
  hasRequiredIntersectNode = 1;
  intersectNode_1 = intersectNode;
  function intersectNode(node, point2) {
    return node.intersect(point2);
  }
  return intersectNode_1;
}
var intersectEllipse_1;
var hasRequiredIntersectEllipse;
function requireIntersectEllipse() {
  if (hasRequiredIntersectEllipse)
    return intersectEllipse_1;
  hasRequiredIntersectEllipse = 1;
  intersectEllipse_1 = intersectEllipse;
  function intersectEllipse(node, rx, ry, point2) {
    var cx = node.x;
    var cy = node.y;
    var px = cx - point2.x;
    var py = cy - point2.y;
    var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);
    var dx = Math.abs(rx * ry * px / det);
    if (point2.x < cx) {
      dx = -dx;
    }
    var dy = Math.abs(rx * ry * py / det);
    if (point2.y < cy) {
      dy = -dy;
    }
    return { x: cx + dx, y: cy + dy };
  }
  return intersectEllipse_1;
}
var intersectCircle_1;
var hasRequiredIntersectCircle;
function requireIntersectCircle() {
  if (hasRequiredIntersectCircle)
    return intersectCircle_1;
  hasRequiredIntersectCircle = 1;
  var intersectEllipse = requireIntersectEllipse();
  intersectCircle_1 = intersectCircle;
  function intersectCircle(node, rx, point2) {
    return intersectEllipse(node, rx, rx, point2);
  }
  return intersectCircle_1;
}
var intersectLine_1;
var hasRequiredIntersectLine;
function requireIntersectLine() {
  if (hasRequiredIntersectLine)
    return intersectLine_1;
  hasRequiredIntersectLine = 1;
  intersectLine_1 = intersectLine;
  function intersectLine(p1, p2, q1, q2) {
    var a1, a2, b12, b22, c1, c2;
    var r1, r2, r3, r4;
    var denom, offset, num;
    var x2, y2;
    a1 = p2.y - p1.y;
    b12 = p1.x - p2.x;
    c1 = p2.x * p1.y - p1.x * p2.y;
    r3 = a1 * q1.x + b12 * q1.y + c1;
    r4 = a1 * q2.x + b12 * q2.y + c1;
    if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {
      return;
    }
    a2 = q2.y - q1.y;
    b22 = q1.x - q2.x;
    c2 = q2.x * q1.y - q1.x * q2.y;
    r1 = a2 * p1.x + b22 * p1.y + c2;
    r2 = a2 * p2.x + b22 * p2.y + c2;
    if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {
      return;
    }
    denom = a1 * b22 - a2 * b12;
    if (denom === 0) {
      return;
    }
    offset = Math.abs(denom / 2);
    num = b12 * c2 - b22 * c1;
    x2 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
    num = a2 * c1 - a1 * c2;
    y2 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
    return { x: x2, y: y2 };
  }
  function sameSign(r1, r2) {
    return r1 * r2 > 0;
  }
  return intersectLine_1;
}
var intersectPolygon_1;
var hasRequiredIntersectPolygon;
function requireIntersectPolygon() {
  if (hasRequiredIntersectPolygon)
    return intersectPolygon_1;
  hasRequiredIntersectPolygon = 1;
  var intersectLine = requireIntersectLine();
  intersectPolygon_1 = intersectPolygon;
  function intersectPolygon(node, polyPoints, point2) {
    var x12 = node.x;
    var y12 = node.y;
    var intersections = [];
    var minX = Number.POSITIVE_INFINITY;
    var minY = Number.POSITIVE_INFINITY;
    polyPoints.forEach(function(entry) {
      minX = Math.min(minX, entry.x);
      minY = Math.min(minY, entry.y);
    });
    var left2 = x12 - node.width / 2 - minX;
    var top2 = y12 - node.height / 2 - minY;
    for (var i = 0; i < polyPoints.length; i++) {
      var p1 = polyPoints[i];
      var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];
      var intersect2 = intersectLine(
        node,
        point2,
        { x: left2 + p1.x, y: top2 + p1.y },
        { x: left2 + p2.x, y: top2 + p2.y }
      );
      if (intersect2) {
        intersections.push(intersect2);
      }
    }
    if (!intersections.length) {
      console.log("NO INTERSECTION FOUND, RETURN NODE CENTER", node);
      return node;
    }
    if (intersections.length > 1) {
      intersections.sort(function(p, q) {
        var pdx = p.x - point2.x;
        var pdy = p.y - point2.y;
        var distp = Math.sqrt(pdx * pdx + pdy * pdy);
        var qdx = q.x - point2.x;
        var qdy = q.y - point2.y;
        var distq = Math.sqrt(qdx * qdx + qdy * qdy);
        return distp < distq ? -1 : distp === distq ? 0 : 1;
      });
    }
    return intersections[0];
  }
  return intersectPolygon_1;
}
var intersectRect_1;
var hasRequiredIntersectRect;
function requireIntersectRect() {
  if (hasRequiredIntersectRect)
    return intersectRect_1;
  hasRequiredIntersectRect = 1;
  intersectRect_1 = intersectRect;
  function intersectRect(node, point2) {
    var x2 = node.x;
    var y2 = node.y;
    var dx = point2.x - x2;
    var dy = point2.y - y2;
    var w = node.width / 2;
    var h = node.height / 2;
    var sx, sy;
    if (Math.abs(dy) * w > Math.abs(dx) * h) {
      if (dy < 0) {
        h = -h;
      }
      sx = dy === 0 ? 0 : h * dx / dy;
      sy = h;
    } else {
      if (dx < 0) {
        w = -w;
      }
      sx = w;
      sy = dx === 0 ? 0 : w * dy / dx;
    }
    return { x: x2 + sx, y: y2 + sy };
  }
  return intersectRect_1;
}
var intersect$1;
var hasRequiredIntersect;
function requireIntersect() {
  if (hasRequiredIntersect)
    return intersect$1;
  hasRequiredIntersect = 1;
  intersect$1 = {
    node: requireIntersectNode(),
    circle: requireIntersectCircle(),
    ellipse: requireIntersectEllipse(),
    polygon: requireIntersectPolygon(),
    rect: requireIntersectRect()
  };
  return intersect$1;
}
var lodash_1;
var hasRequiredLodash;
function requireLodash() {
  if (hasRequiredLodash)
    return lodash_1;
  hasRequiredLodash = 1;
  var lodash;
  if (typeof commonjsRequire === "function") {
    try {
      lodash = {
        defaults: requireDefaults(),
        each: requireEach(),
        isFunction: requireIsFunction(),
        isPlainObject: requireIsPlainObject(),
        pick: requirePick(),
        has: requireHas(),
        range: requireRange(),
        uniqueId: requireUniqueId()
      };
    } catch (e) {
    }
  }
  if (!lodash) {
    lodash = window._;
  }
  lodash_1 = lodash;
  return lodash_1;
}
var version$1 = "5.16.0";
function ascending$3(a2, b) {
  return a2 < b ? -1 : a2 > b ? 1 : a2 >= b ? 0 : NaN;
}
function bisector(compare) {
  if (compare.length === 1)
    compare = ascendingComparator(compare);
  return {
    left: function(a2, x2, lo, hi) {
      if (lo == null)
        lo = 0;
      if (hi == null)
        hi = a2.length;
      while (lo < hi) {
        var mid = lo + hi >>> 1;
        if (compare(a2[mid], x2) < 0)
          lo = mid + 1;
        else
          hi = mid;
      }
      return lo;
    },
    right: function(a2, x2, lo, hi) {
      if (lo == null)
        lo = 0;
      if (hi == null)
        hi = a2.length;
      while (lo < hi) {
        var mid = lo + hi >>> 1;
        if (compare(a2[mid], x2) > 0)
          hi = mid;
        else
          lo = mid + 1;
      }
      return lo;
    }
  };
}
function ascendingComparator(f) {
  return function(d, x2) {
    return ascending$3(f(d), x2);
  };
}
var ascendingBisect = bisector(ascending$3);
var bisectRight = ascendingBisect.right;
var bisectLeft = ascendingBisect.left;
function pairs(array2, f) {
  if (f == null)
    f = pair;
  var i = 0, n = array2.length - 1, p = array2[0], pairs2 = new Array(n < 0 ? 0 : n);
  while (i < n)
    pairs2[i] = f(p, p = array2[++i]);
  return pairs2;
}
function pair(a2, b) {
  return [a2, b];
}
function cross$2(values0, values1, reduce2) {
  var n0 = values0.length, n1 = values1.length, values2 = new Array(n0 * n1), i0, i1, i, value0;
  if (reduce2 == null)
    reduce2 = pair;
  for (i0 = i = 0; i0 < n0; ++i0) {
    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {
      values2[i] = reduce2(value0, values1[i1]);
    }
  }
  return values2;
}
function descending$2(a2, b) {
  return b < a2 ? -1 : b > a2 ? 1 : b >= a2 ? 0 : NaN;
}
function number$3(x2) {
  return x2 === null ? NaN : +x2;
}
function variance(values2, valueof) {
  var n = values2.length, m = 0, i = -1, mean2 = 0, value, delta, sum2 = 0;
  if (valueof == null) {
    while (++i < n) {
      if (!isNaN(value = number$3(values2[i]))) {
        delta = value - mean2;
        mean2 += delta / ++m;
        sum2 += delta * (value - mean2);
      }
    }
  } else {
    while (++i < n) {
      if (!isNaN(value = number$3(valueof(values2[i], i, values2)))) {
        delta = value - mean2;
        mean2 += delta / ++m;
        sum2 += delta * (value - mean2);
      }
    }
  }
  if (m > 1)
    return sum2 / (m - 1);
}
function deviation(array2, f) {
  var v = variance(array2, f);
  return v ? Math.sqrt(v) : v;
}
function extent$1(values2, valueof) {
  var n = values2.length, i = -1, value, min2, max2;
  if (valueof == null) {
    while (++i < n) {
      if ((value = values2[i]) != null && value >= value) {
        min2 = max2 = value;
        while (++i < n) {
          if ((value = values2[i]) != null) {
            if (min2 > value)
              min2 = value;
            if (max2 < value)
              max2 = value;
          }
        }
      }
    }
  } else {
    while (++i < n) {
      if ((value = valueof(values2[i], i, values2)) != null && value >= value) {
        min2 = max2 = value;
        while (++i < n) {
          if ((value = valueof(values2[i], i, values2)) != null) {
            if (min2 > value)
              min2 = value;
            if (max2 < value)
              max2 = value;
          }
        }
      }
    }
  }
  return [min2, max2];
}
var array$3 = Array.prototype;
var slice$6 = array$3.slice;
var map$3 = array$3.map;
function constant$d(x2) {
  return function() {
    return x2;
  };
}
function identity$9(x2) {
  return x2;
}
function sequence(start2, stop, step2) {
  start2 = +start2, stop = +stop, step2 = (n = arguments.length) < 2 ? (stop = start2, start2 = 0, 1) : n < 3 ? 1 : +step2;
  var i = -1, n = Math.max(0, Math.ceil((stop - start2) / step2)) | 0, range2 = new Array(n);
  while (++i < n) {
    range2[i] = start2 + i * step2;
  }
  return range2;
}
var e10 = Math.sqrt(50), e5 = Math.sqrt(10), e2 = Math.sqrt(2);
function ticks(start2, stop, count2) {
  var reverse2, i = -1, n, ticks2, step2;
  stop = +stop, start2 = +start2, count2 = +count2;
  if (start2 === stop && count2 > 0)
    return [start2];
  if (reverse2 = stop < start2)
    n = start2, start2 = stop, stop = n;
  if ((step2 = tickIncrement(start2, stop, count2)) === 0 || !isFinite(step2))
    return [];
  if (step2 > 0) {
    start2 = Math.ceil(start2 / step2);
    stop = Math.floor(stop / step2);
    ticks2 = new Array(n = Math.ceil(stop - start2 + 1));
    while (++i < n)
      ticks2[i] = (start2 + i) * step2;
  } else {
    start2 = Math.floor(start2 * step2);
    stop = Math.ceil(stop * step2);
    ticks2 = new Array(n = Math.ceil(start2 - stop + 1));
    while (++i < n)
      ticks2[i] = (start2 - i) / step2;
  }
  if (reverse2)
    ticks2.reverse();
  return ticks2;
}
function tickIncrement(start2, stop, count2) {
  var step2 = (stop - start2) / Math.max(0, count2), power = Math.floor(Math.log(step2) / Math.LN10), error = step2 / Math.pow(10, power);
  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);
}
function tickStep(start2, stop, count2) {
  var step0 = Math.abs(stop - start2) / Math.max(0, count2), step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)), error = step0 / step1;
  if (error >= e10)
    step1 *= 10;
  else if (error >= e5)
    step1 *= 5;
  else if (error >= e2)
    step1 *= 2;
  return stop < start2 ? -step1 : step1;
}
function thresholdSturges(values2) {
  return Math.ceil(Math.log(values2.length) / Math.LN2) + 1;
}
function histogram() {
  var value = identity$9, domain = extent$1, threshold2 = thresholdSturges;
  function histogram2(data) {
    var i, n = data.length, x2, values2 = new Array(n);
    for (i = 0; i < n; ++i) {
      values2[i] = value(data[i], i, data);
    }
    var xz = domain(values2), x02 = xz[0], x12 = xz[1], tz = threshold2(values2, x02, x12);
    if (!Array.isArray(tz)) {
      tz = tickStep(x02, x12, tz);
      tz = sequence(Math.ceil(x02 / tz) * tz, x12, tz);
    }
    var m = tz.length;
    while (tz[0] <= x02)
      tz.shift(), --m;
    while (tz[m - 1] > x12)
      tz.pop(), --m;
    var bins = new Array(m + 1), bin2;
    for (i = 0; i <= m; ++i) {
      bin2 = bins[i] = [];
      bin2.x0 = i > 0 ? tz[i - 1] : x02;
      bin2.x1 = i < m ? tz[i] : x12;
    }
    for (i = 0; i < n; ++i) {
      x2 = values2[i];
      if (x02 <= x2 && x2 <= x12) {
        bins[bisectRight(tz, x2, 0, m)].push(data[i]);
      }
    }
    return bins;
  }
  histogram2.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant$d(_2), histogram2) : value;
  };
  histogram2.domain = function(_2) {
    return arguments.length ? (domain = typeof _2 === "function" ? _2 : constant$d([_2[0], _2[1]]), histogram2) : domain;
  };
  histogram2.thresholds = function(_2) {
    return arguments.length ? (threshold2 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant$d(slice$6.call(_2)) : constant$d(_2), histogram2) : threshold2;
  };
  return histogram2;
}
function threshold$1(values2, p, valueof) {
  if (valueof == null)
    valueof = number$3;
  if (!(n = values2.length))
    return;
  if ((p = +p) <= 0 || n < 2)
    return +valueof(values2[0], 0, values2);
  if (p >= 1)
    return +valueof(values2[n - 1], n - 1, values2);
  var n, i = (n - 1) * p, i0 = Math.floor(i), value0 = +valueof(values2[i0], i0, values2), value1 = +valueof(values2[i0 + 1], i0 + 1, values2);
  return value0 + (value1 - value0) * (i - i0);
}
function freedmanDiaconis(values2, min2, max2) {
  values2 = map$3.call(values2, number$3).sort(ascending$3);
  return Math.ceil((max2 - min2) / (2 * (threshold$1(values2, 0.75) - threshold$1(values2, 0.25)) * Math.pow(values2.length, -1 / 3)));
}
function scott(values2, min2, max2) {
  return Math.ceil((max2 - min2) / (3.5 * deviation(values2) * Math.pow(values2.length, -1 / 3)));
}
function max$2(values2, valueof) {
  var n = values2.length, i = -1, value, max2;
  if (valueof == null) {
    while (++i < n) {
      if ((value = values2[i]) != null && value >= value) {
        max2 = value;
        while (++i < n) {
          if ((value = values2[i]) != null && value > max2) {
            max2 = value;
          }
        }
      }
    }
  } else {
    while (++i < n) {
      if ((value = valueof(values2[i], i, values2)) != null && value >= value) {
        max2 = value;
        while (++i < n) {
          if ((value = valueof(values2[i], i, values2)) != null && value > max2) {
            max2 = value;
          }
        }
      }
    }
  }
  return max2;
}
function mean(values2, valueof) {
  var n = values2.length, m = n, i = -1, value, sum2 = 0;
  if (valueof == null) {
    while (++i < n) {
      if (!isNaN(value = number$3(values2[i])))
        sum2 += value;
      else
        --m;
    }
  } else {
    while (++i < n) {
      if (!isNaN(value = number$3(valueof(values2[i], i, values2))))
        sum2 += value;
      else
        --m;
    }
  }
  if (m)
    return sum2 / m;
}
function median(values2, valueof) {
  var n = values2.length, i = -1, value, numbers = [];
  if (valueof == null) {
    while (++i < n) {
      if (!isNaN(value = number$3(values2[i]))) {
        numbers.push(value);
      }
    }
  } else {
    while (++i < n) {
      if (!isNaN(value = number$3(valueof(values2[i], i, values2)))) {
        numbers.push(value);
      }
    }
  }
  return threshold$1(numbers.sort(ascending$3), 0.5);
}
function merge(arrays) {
  var n = arrays.length, m, i = -1, j = 0, merged, array2;
  while (++i < n)
    j += arrays[i].length;
  merged = new Array(j);
  while (--n >= 0) {
    array2 = arrays[n];
    m = array2.length;
    while (--m >= 0) {
      merged[--j] = array2[m];
    }
  }
  return merged;
}
function min$1(values2, valueof) {
  var n = values2.length, i = -1, value, min2;
  if (valueof == null) {
    while (++i < n) {
      if ((value = values2[i]) != null && value >= value) {
        min2 = value;
        while (++i < n) {
          if ((value = values2[i]) != null && min2 > value) {
            min2 = value;
          }
        }
      }
    }
  } else {
    while (++i < n) {
      if ((value = valueof(values2[i], i, values2)) != null && value >= value) {
        min2 = value;
        while (++i < n) {
          if ((value = valueof(values2[i], i, values2)) != null && min2 > value) {
            min2 = value;
          }
        }
      }
    }
  }
  return min2;
}
function permute(array2, indexes2) {
  var i = indexes2.length, permutes = new Array(i);
  while (i--)
    permutes[i] = array2[indexes2[i]];
  return permutes;
}
function scan(values2, compare) {
  if (!(n = values2.length))
    return;
  var n, i = 0, j = 0, xi, xj = values2[j];
  if (compare == null)
    compare = ascending$3;
  while (++i < n) {
    if (compare(xi = values2[i], xj) < 0 || compare(xj, xj) !== 0) {
      xj = xi, j = i;
    }
  }
  if (compare(xj, xj) === 0)
    return j;
}
function shuffle$1(array2, i0, i1) {
  var m = (i1 == null ? array2.length : i1) - (i0 = i0 == null ? 0 : +i0), t, i;
  while (m) {
    i = Math.random() * m-- | 0;
    t = array2[m + i0];
    array2[m + i0] = array2[i + i0];
    array2[i + i0] = t;
  }
  return array2;
}
function sum$2(values2, valueof) {
  var n = values2.length, i = -1, value, sum2 = 0;
  if (valueof == null) {
    while (++i < n) {
      if (value = +values2[i])
        sum2 += value;
    }
  } else {
    while (++i < n) {
      if (value = +valueof(values2[i], i, values2))
        sum2 += value;
    }
  }
  return sum2;
}
function transpose(matrix) {
  if (!(n = matrix.length))
    return [];
  for (var i = -1, m = min$1(matrix, length$2), transpose2 = new Array(m); ++i < m; ) {
    for (var j = -1, n, row = transpose2[i] = new Array(n); ++j < n; ) {
      row[j] = matrix[j][i];
    }
  }
  return transpose2;
}
function length$2(d) {
  return d.length;
}
function zip() {
  return transpose(arguments);
}
var slice$5 = Array.prototype.slice;
function identity$8(x2) {
  return x2;
}
var top = 1, right = 2, bottom = 3, left = 4, epsilon$4 = 1e-6;
function translateX(x2) {
  return "translate(" + (x2 + 0.5) + ",0)";
}
function translateY(y2) {
  return "translate(0," + (y2 + 0.5) + ")";
}
function number$2(scale2) {
  return function(d) {
    return +scale2(d);
  };
}
function center$1(scale2) {
  var offset = Math.max(0, scale2.bandwidth() - 1) / 2;
  if (scale2.round())
    offset = Math.round(offset);
  return function(d) {
    return +scale2(d) + offset;
  };
}
function entering() {
  return !this.__axis;
}
function axis(orient, scale2) {
  var tickArguments = [], tickValues = null, tickFormat2 = null, tickSizeInner = 6, tickSizeOuter = 6, tickPadding = 3, k2 = orient === top || orient === left ? -1 : 1, x2 = orient === left || orient === right ? "x" : "y", transform2 = orient === top || orient === bottom ? translateX : translateY;
  function axis2(context) {
    var values2 = tickValues == null ? scale2.ticks ? scale2.ticks.apply(scale2, tickArguments) : scale2.domain() : tickValues, format2 = tickFormat2 == null ? scale2.tickFormat ? scale2.tickFormat.apply(scale2, tickArguments) : identity$8 : tickFormat2, spacing = Math.max(tickSizeInner, 0) + tickPadding, range2 = scale2.range(), range0 = +range2[0] + 0.5, range1 = +range2[range2.length - 1] + 0.5, position = (scale2.bandwidth ? center$1 : number$2)(scale2.copy()), selection2 = context.selection ? context.selection() : context, path2 = selection2.selectAll(".domain").data([null]), tick = selection2.selectAll(".tick").data(values2, scale2).order(), tickExit = tick.exit(), tickEnter = tick.enter().append("g").attr("class", "tick"), line2 = tick.select("line"), text2 = tick.select("text");
    path2 = path2.merge(path2.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor"));
    tick = tick.merge(tickEnter);
    line2 = line2.merge(tickEnter.append("line").attr("stroke", "currentColor").attr(x2 + "2", k2 * tickSizeInner));
    text2 = text2.merge(tickEnter.append("text").attr("fill", "currentColor").attr(x2, k2 * spacing).attr("dy", orient === top ? "0em" : orient === bottom ? "0.71em" : "0.32em"));
    if (context !== selection2) {
      path2 = path2.transition(context);
      tick = tick.transition(context);
      line2 = line2.transition(context);
      text2 = text2.transition(context);
      tickExit = tickExit.transition(context).attr("opacity", epsilon$4).attr("transform", function(d) {
        return isFinite(d = position(d)) ? transform2(d) : this.getAttribute("transform");
      });
      tickEnter.attr("opacity", epsilon$4).attr("transform", function(d) {
        var p = this.parentNode.__axis;
        return transform2(p && isFinite(p = p(d)) ? p : position(d));
      });
    }
    tickExit.remove();
    path2.attr("d", orient === left || orient == right ? tickSizeOuter ? "M" + k2 * tickSizeOuter + "," + range0 + "H0.5V" + range1 + "H" + k2 * tickSizeOuter : "M0.5," + range0 + "V" + range1 : tickSizeOuter ? "M" + range0 + "," + k2 * tickSizeOuter + "V0.5H" + range1 + "V" + k2 * tickSizeOuter : "M" + range0 + ",0.5H" + range1);
    tick.attr("opacity", 1).attr("transform", function(d) {
      return transform2(position(d));
    });
    line2.attr(x2 + "2", k2 * tickSizeInner);
    text2.attr(x2, k2 * spacing).text(format2);
    selection2.filter(entering).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", orient === right ? "start" : orient === left ? "end" : "middle");
    selection2.each(function() {
      this.__axis = position;
    });
  }
  axis2.scale = function(_2) {
    return arguments.length ? (scale2 = _2, axis2) : scale2;
  };
  axis2.ticks = function() {
    return tickArguments = slice$5.call(arguments), axis2;
  };
  axis2.tickArguments = function(_2) {
    return arguments.length ? (tickArguments = _2 == null ? [] : slice$5.call(_2), axis2) : tickArguments.slice();
  };
  axis2.tickValues = function(_2) {
    return arguments.length ? (tickValues = _2 == null ? null : slice$5.call(_2), axis2) : tickValues && tickValues.slice();
  };
  axis2.tickFormat = function(_2) {
    return arguments.length ? (tickFormat2 = _2, axis2) : tickFormat2;
  };
  axis2.tickSize = function(_2) {
    return arguments.length ? (tickSizeInner = tickSizeOuter = +_2, axis2) : tickSizeInner;
  };
  axis2.tickSizeInner = function(_2) {
    return arguments.length ? (tickSizeInner = +_2, axis2) : tickSizeInner;
  };
  axis2.tickSizeOuter = function(_2) {
    return arguments.length ? (tickSizeOuter = +_2, axis2) : tickSizeOuter;
  };
  axis2.tickPadding = function(_2) {
    return arguments.length ? (tickPadding = +_2, axis2) : tickPadding;
  };
  return axis2;
}
function axisTop(scale2) {
  return axis(top, scale2);
}
function axisRight(scale2) {
  return axis(right, scale2);
}
function axisBottom(scale2) {
  return axis(bottom, scale2);
}
function axisLeft(scale2) {
  return axis(left, scale2);
}
var noop$3 = { value: function() {
} };
function dispatch() {
  for (var i = 0, n = arguments.length, _2 = {}, t; i < n; ++i) {
    if (!(t = arguments[i] + "") || t in _2 || /[\s.]/.test(t))
      throw new Error("illegal type: " + t);
    _2[t] = [];
  }
  return new Dispatch(_2);
}
function Dispatch(_2) {
  this._ = _2;
}
function parseTypenames$1(typenames, types) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0)
      name = t.slice(i + 1), t = t.slice(0, i);
    if (t && !types.hasOwnProperty(t))
      throw new Error("unknown type: " + t);
    return { type: t, name };
  });
}
Dispatch.prototype = dispatch.prototype = {
  constructor: Dispatch,
  on: function(typename, callback) {
    var _2 = this._, T = parseTypenames$1(typename + "", _2), t, i = -1, n = T.length;
    if (arguments.length < 2) {
      while (++i < n)
        if ((t = (typename = T[i]).type) && (t = get$1(_2[t], typename.name)))
          return t;
      return;
    }
    if (callback != null && typeof callback !== "function")
      throw new Error("invalid callback: " + callback);
    while (++i < n) {
      if (t = (typename = T[i]).type)
        _2[t] = set$2(_2[t], typename.name, callback);
      else if (callback == null)
        for (t in _2)
          _2[t] = set$2(_2[t], typename.name, null);
    }
    return this;
  },
  copy: function() {
    var copy2 = {}, _2 = this._;
    for (var t in _2)
      copy2[t] = _2[t].slice();
    return new Dispatch(copy2);
  },
  call: function(type2, that) {
    if ((n = arguments.length - 2) > 0)
      for (var args = new Array(n), i = 0, n, t; i < n; ++i)
        args[i] = arguments[i + 2];
    if (!this._.hasOwnProperty(type2))
      throw new Error("unknown type: " + type2);
    for (t = this._[type2], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  },
  apply: function(type2, that, args) {
    if (!this._.hasOwnProperty(type2))
      throw new Error("unknown type: " + type2);
    for (var t = this._[type2], i = 0, n = t.length; i < n; ++i)
      t[i].value.apply(that, args);
  }
};
function get$1(type2, name) {
  for (var i = 0, n = type2.length, c2; i < n; ++i) {
    if ((c2 = type2[i]).name === name) {
      return c2.value;
    }
  }
}
function set$2(type2, name, callback) {
  for (var i = 0, n = type2.length; i < n; ++i) {
    if (type2[i].name === name) {
      type2[i] = noop$3, type2 = type2.slice(0, i).concat(type2.slice(i + 1));
      break;
    }
  }
  if (callback != null)
    type2.push({ name, value: callback });
  return type2;
}
var xhtml = "http://www.w3.org/1999/xhtml";
const namespaces = {
  svg: "http://www.w3.org/2000/svg",
  xhtml,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};
function namespace(name) {
  var prefix2 = name += "", i = prefix2.indexOf(":");
  if (i >= 0 && (prefix2 = name.slice(0, i)) !== "xmlns")
    name = name.slice(i + 1);
  return namespaces.hasOwnProperty(prefix2) ? { space: namespaces[prefix2], local: name } : name;
}
function creatorInherit(name) {
  return function() {
    var document2 = this.ownerDocument, uri = this.namespaceURI;
    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);
  };
}
function creatorFixed(fullname) {
  return function() {
    return this.ownerDocument.createElementNS(fullname.space, fullname.local);
  };
}
function creator(name) {
  var fullname = namespace(name);
  return (fullname.local ? creatorFixed : creatorInherit)(fullname);
}
function none$2() {
}
function selector(selector2) {
  return selector2 == null ? none$2 : function() {
    return this.querySelector(selector2);
  };
}
function selection_select(select2) {
  if (typeof select2 !== "function")
    select2 = selector(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group2[i]) && (subnode = select2.call(node, node.__data__, i, group2))) {
        if ("__data__" in node)
          subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
      }
    }
  }
  return new Selection$1(subgroups, this._parents);
}
function empty$1() {
  return [];
}
function selectorAll(selector2) {
  return selector2 == null ? empty$1 : function() {
    return this.querySelectorAll(selector2);
  };
}
function selection_selectAll(select2) {
  if (typeof select2 !== "function")
    select2 = selectorAll(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        subgroups.push(select2.call(node, node.__data__, i, group2));
        parents.push(node);
      }
    }
  }
  return new Selection$1(subgroups, parents);
}
function matcher(selector2) {
  return function() {
    return this.matches(selector2);
  };
}
function selection_filter(match) {
  if (typeof match !== "function")
    match = matcher(match);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group2[i]) && match.call(node, node.__data__, i, group2)) {
        subgroup.push(node);
      }
    }
  }
  return new Selection$1(subgroups, this._parents);
}
function sparse(update) {
  return new Array(update.length);
}
function selection_enter() {
  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);
}
function EnterNode(parent, datum2) {
  this.ownerDocument = parent.ownerDocument;
  this.namespaceURI = parent.namespaceURI;
  this._next = null;
  this._parent = parent;
  this.__data__ = datum2;
}
EnterNode.prototype = {
  constructor: EnterNode,
  appendChild: function(child) {
    return this._parent.insertBefore(child, this._next);
  },
  insertBefore: function(child, next) {
    return this._parent.insertBefore(child, next);
  },
  querySelector: function(selector2) {
    return this._parent.querySelector(selector2);
  },
  querySelectorAll: function(selector2) {
    return this._parent.querySelectorAll(selector2);
  }
};
function constant$c(x2) {
  return function() {
    return x2;
  };
}
var keyPrefix$1 = "$";
function bindIndex(parent, group2, enter, update, exit, data) {
  var i = 0, node, groupLength = group2.length, dataLength = data.length;
  for (; i < dataLength; ++i) {
    if (node = group2[i]) {
      node.__data__ = data[i];
      update[i] = node;
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (; i < groupLength; ++i) {
    if (node = group2[i]) {
      exit[i] = node;
    }
  }
}
function bindKey(parent, group2, enter, update, exit, data, key) {
  var i, node, nodeByKeyValue = {}, groupLength = group2.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;
  for (i = 0; i < groupLength; ++i) {
    if (node = group2[i]) {
      keyValues[i] = keyValue = keyPrefix$1 + key.call(node, node.__data__, i, group2);
      if (keyValue in nodeByKeyValue) {
        exit[i] = node;
      } else {
        nodeByKeyValue[keyValue] = node;
      }
    }
  }
  for (i = 0; i < dataLength; ++i) {
    keyValue = keyPrefix$1 + key.call(parent, data[i], i, data);
    if (node = nodeByKeyValue[keyValue]) {
      update[i] = node;
      node.__data__ = data[i];
      nodeByKeyValue[keyValue] = null;
    } else {
      enter[i] = new EnterNode(parent, data[i]);
    }
  }
  for (i = 0; i < groupLength; ++i) {
    if ((node = group2[i]) && nodeByKeyValue[keyValues[i]] === node) {
      exit[i] = node;
    }
  }
}
function selection_data(value, key) {
  if (!value) {
    data = new Array(this.size()), j = -1;
    this.each(function(d) {
      data[++j] = d;
    });
    return data;
  }
  var bind = key ? bindKey : bindIndex, parents = this._parents, groups2 = this._groups;
  if (typeof value !== "function")
    value = constant$c(value);
  for (var m = groups2.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {
    var parent = parents[j], group2 = groups2[j], groupLength = group2.length, data = value.call(parent, parent && parent.__data__, j, parents), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);
    bind(parent, group2, enterGroup, updateGroup, exitGroup, data, key);
    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {
      if (previous = enterGroup[i0]) {
        if (i0 >= i1)
          i1 = i0 + 1;
        while (!(next = updateGroup[i1]) && ++i1 < dataLength)
          ;
        previous._next = next || null;
      }
    }
  }
  update = new Selection$1(update, parents);
  update._enter = enter;
  update._exit = exit;
  return update;
}
function selection_exit() {
  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);
}
function selection_join(onenter, onupdate, onexit) {
  var enter = this.enter(), update = this, exit = this.exit();
  enter = typeof onenter === "function" ? onenter(enter) : enter.append(onenter + "");
  if (onupdate != null)
    update = onupdate(update);
  if (onexit == null)
    exit.remove();
  else
    onexit(exit);
  return enter && update ? enter.merge(update).order() : update;
}
function selection_merge(selection2) {
  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge2 = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge2[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Selection$1(merges, this._parents);
}
function selection_order() {
  for (var groups2 = this._groups, j = -1, m = groups2.length; ++j < m; ) {
    for (var group2 = groups2[j], i = group2.length - 1, next = group2[i], node; --i >= 0; ) {
      if (node = group2[i]) {
        if (next && node.compareDocumentPosition(next) ^ 4)
          next.parentNode.insertBefore(node, next);
        next = node;
      }
    }
  }
  return this;
}
function selection_sort(compare) {
  if (!compare)
    compare = ascending$2;
  function compareNode(a2, b) {
    return a2 && b ? compare(a2.__data__, b.__data__) : !a2 - !b;
  }
  for (var groups2 = this._groups, m = groups2.length, sortgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        sortgroup[i] = node;
      }
    }
    sortgroup.sort(compareNode);
  }
  return new Selection$1(sortgroups, this._parents).order();
}
function ascending$2(a2, b) {
  return a2 < b ? -1 : a2 > b ? 1 : a2 >= b ? 0 : NaN;
}
function selection_call() {
  var callback = arguments[0];
  arguments[0] = this;
  callback.apply(null, arguments);
  return this;
}
function selection_nodes() {
  var nodes = new Array(this.size()), i = -1;
  this.each(function() {
    nodes[++i] = this;
  });
  return nodes;
}
function selection_node() {
  for (var groups2 = this._groups, j = 0, m = groups2.length; j < m; ++j) {
    for (var group2 = groups2[j], i = 0, n = group2.length; i < n; ++i) {
      var node = group2[i];
      if (node)
        return node;
    }
  }
  return null;
}
function selection_size() {
  var size = 0;
  this.each(function() {
    ++size;
  });
  return size;
}
function selection_empty() {
  return !this.node();
}
function selection_each(callback) {
  for (var groups2 = this._groups, j = 0, m = groups2.length; j < m; ++j) {
    for (var group2 = groups2[j], i = 0, n = group2.length, node; i < n; ++i) {
      if (node = group2[i])
        callback.call(node, node.__data__, i, group2);
    }
  }
  return this;
}
function attrRemove$1(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS$1(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant$1(name, value) {
  return function() {
    this.setAttribute(name, value);
  };
}
function attrConstantNS$1(fullname, value) {
  return function() {
    this.setAttributeNS(fullname.space, fullname.local, value);
  };
}
function attrFunction$1(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.removeAttribute(name);
    else
      this.setAttribute(name, v);
  };
}
function attrFunctionNS$1(fullname, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.removeAttributeNS(fullname.space, fullname.local);
    else
      this.setAttributeNS(fullname.space, fullname.local, v);
  };
}
function selection_attr(name, value) {
  var fullname = namespace(name);
  if (arguments.length < 2) {
    var node = this.node();
    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);
  }
  return this.each((value == null ? fullname.local ? attrRemoveNS$1 : attrRemove$1 : typeof value === "function" ? fullname.local ? attrFunctionNS$1 : attrFunction$1 : fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, value));
}
function defaultView(node) {
  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;
}
function styleRemove$1(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant$1(name, value, priority) {
  return function() {
    this.style.setProperty(name, value, priority);
  };
}
function styleFunction$1(name, value, priority) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      this.style.removeProperty(name);
    else
      this.style.setProperty(name, v, priority);
  };
}
function selection_style(name, value, priority) {
  return arguments.length > 1 ? this.each((value == null ? styleRemove$1 : typeof value === "function" ? styleFunction$1 : styleConstant$1)(name, value, priority == null ? "" : priority)) : styleValue(this.node(), name);
}
function styleValue(node, name) {
  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);
}
function propertyRemove(name) {
  return function() {
    delete this[name];
  };
}
function propertyConstant(name, value) {
  return function() {
    this[name] = value;
  };
}
function propertyFunction(name, value) {
  return function() {
    var v = value.apply(this, arguments);
    if (v == null)
      delete this[name];
    else
      this[name] = v;
  };
}
function selection_property(name, value) {
  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === "function" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];
}
function classArray(string) {
  return string.trim().split(/^|\s+/);
}
function classList(node) {
  return node.classList || new ClassList(node);
}
function ClassList(node) {
  this._node = node;
  this._names = classArray(node.getAttribute("class") || "");
}
ClassList.prototype = {
  add: function(name) {
    var i = this._names.indexOf(name);
    if (i < 0) {
      this._names.push(name);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  remove: function(name) {
    var i = this._names.indexOf(name);
    if (i >= 0) {
      this._names.splice(i, 1);
      this._node.setAttribute("class", this._names.join(" "));
    }
  },
  contains: function(name) {
    return this._names.indexOf(name) >= 0;
  }
};
function classedAdd(node, names) {
  var list2 = classList(node), i = -1, n = names.length;
  while (++i < n)
    list2.add(names[i]);
}
function classedRemove(node, names) {
  var list2 = classList(node), i = -1, n = names.length;
  while (++i < n)
    list2.remove(names[i]);
}
function classedTrue(names) {
  return function() {
    classedAdd(this, names);
  };
}
function classedFalse(names) {
  return function() {
    classedRemove(this, names);
  };
}
function classedFunction(names, value) {
  return function() {
    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);
  };
}
function selection_classed(name, value) {
  var names = classArray(name + "");
  if (arguments.length < 2) {
    var list2 = classList(this.node()), i = -1, n = names.length;
    while (++i < n)
      if (!list2.contains(names[i]))
        return false;
    return true;
  }
  return this.each((typeof value === "function" ? classedFunction : value ? classedTrue : classedFalse)(names, value));
}
function textRemove() {
  this.textContent = "";
}
function textConstant$1(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction$1(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.textContent = v == null ? "" : v;
  };
}
function selection_text(value) {
  return arguments.length ? this.each(value == null ? textRemove : (typeof value === "function" ? textFunction$1 : textConstant$1)(value)) : this.node().textContent;
}
function htmlRemove() {
  this.innerHTML = "";
}
function htmlConstant(value) {
  return function() {
    this.innerHTML = value;
  };
}
function htmlFunction(value) {
  return function() {
    var v = value.apply(this, arguments);
    this.innerHTML = v == null ? "" : v;
  };
}
function selection_html(value) {
  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === "function" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;
}
function raise() {
  if (this.nextSibling)
    this.parentNode.appendChild(this);
}
function selection_raise() {
  return this.each(raise);
}
function lower() {
  if (this.previousSibling)
    this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function selection_lower() {
  return this.each(lower);
}
function selection_append(name) {
  var create2 = typeof name === "function" ? name : creator(name);
  return this.select(function() {
    return this.appendChild(create2.apply(this, arguments));
  });
}
function constantNull() {
  return null;
}
function selection_insert(name, before) {
  var create2 = typeof name === "function" ? name : creator(name), select2 = before == null ? constantNull : typeof before === "function" ? before : selector(before);
  return this.select(function() {
    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);
  });
}
function remove() {
  var parent = this.parentNode;
  if (parent)
    parent.removeChild(this);
}
function selection_remove() {
  return this.each(remove);
}
function selection_cloneShallow() {
  var clone = this.cloneNode(false), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function selection_cloneDeep() {
  var clone = this.cloneNode(true), parent = this.parentNode;
  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;
}
function selection_clone(deep) {
  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);
}
function selection_datum(value) {
  return arguments.length ? this.property("__data__", value) : this.node().__data__;
}
var filterEvents = {};
var event = null;
if (typeof document !== "undefined") {
  var element = document.documentElement;
  if (!("onmouseenter" in element)) {
    filterEvents = { mouseenter: "mouseover", mouseleave: "mouseout" };
  }
}
function filterContextListener(listener, index2, group2) {
  listener = contextListener(listener, index2, group2);
  return function(event2) {
    var related = event2.relatedTarget;
    if (!related || related !== this && !(related.compareDocumentPosition(this) & 8)) {
      listener.call(this, event2);
    }
  };
}
function contextListener(listener, index2, group2) {
  return function(event1) {
    var event0 = event;
    event = event1;
    try {
      listener.call(this, this.__data__, index2, group2);
    } finally {
      event = event0;
    }
  };
}
function parseTypenames(typenames) {
  return typenames.trim().split(/^|\s+/).map(function(t) {
    var name = "", i = t.indexOf(".");
    if (i >= 0)
      name = t.slice(i + 1), t = t.slice(0, i);
    return { type: t, name };
  });
}
function onRemove(typename) {
  return function() {
    var on = this.__on;
    if (!on)
      return;
    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {
      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {
        this.removeEventListener(o.type, o.listener, o.capture);
      } else {
        on[++i] = o;
      }
    }
    if (++i)
      on.length = i;
    else
      delete this.__on;
  };
}
function onAdd(typename, value, capture) {
  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;
  return function(d, i, group2) {
    var on = this.__on, o, listener = wrap(value, i, group2);
    if (on)
      for (var j = 0, m = on.length; j < m; ++j) {
        if ((o = on[j]).type === typename.type && o.name === typename.name) {
          this.removeEventListener(o.type, o.listener, o.capture);
          this.addEventListener(o.type, o.listener = listener, o.capture = capture);
          o.value = value;
          return;
        }
      }
    this.addEventListener(typename.type, listener, capture);
    o = { type: typename.type, name: typename.name, value, listener, capture };
    if (!on)
      this.__on = [o];
    else
      on.push(o);
  };
}
function selection_on(typename, value, capture) {
  var typenames = parseTypenames(typename + ""), i, n = typenames.length, t;
  if (arguments.length < 2) {
    var on = this.node().__on;
    if (on)
      for (var j = 0, m = on.length, o; j < m; ++j) {
        for (i = 0, o = on[j]; i < n; ++i) {
          if ((t = typenames[i]).type === o.type && t.name === o.name) {
            return o.value;
          }
        }
      }
    return;
  }
  on = value ? onAdd : onRemove;
  if (capture == null)
    capture = false;
  for (i = 0; i < n; ++i)
    this.each(on(typenames[i], value, capture));
  return this;
}
function customEvent(event1, listener, that, args) {
  var event0 = event;
  event1.sourceEvent = event;
  event = event1;
  try {
    return listener.apply(that, args);
  } finally {
    event = event0;
  }
}
function dispatchEvent(node, type2, params) {
  var window2 = defaultView(node), event2 = window2.CustomEvent;
  if (typeof event2 === "function") {
    event2 = new event2(type2, params);
  } else {
    event2 = window2.document.createEvent("Event");
    if (params)
      event2.initEvent(type2, params.bubbles, params.cancelable), event2.detail = params.detail;
    else
      event2.initEvent(type2, false, false);
  }
  node.dispatchEvent(event2);
}
function dispatchConstant(type2, params) {
  return function() {
    return dispatchEvent(this, type2, params);
  };
}
function dispatchFunction(type2, params) {
  return function() {
    return dispatchEvent(this, type2, params.apply(this, arguments));
  };
}
function selection_dispatch(type2, params) {
  return this.each((typeof params === "function" ? dispatchFunction : dispatchConstant)(type2, params));
}
var root$1 = [null];
function Selection$1(groups2, parents) {
  this._groups = groups2;
  this._parents = parents;
}
function selection() {
  return new Selection$1([[document.documentElement]], root$1);
}
Selection$1.prototype = selection.prototype = {
  constructor: Selection$1,
  select: selection_select,
  selectAll: selection_selectAll,
  filter: selection_filter,
  data: selection_data,
  enter: selection_enter,
  exit: selection_exit,
  join: selection_join,
  merge: selection_merge,
  order: selection_order,
  sort: selection_sort,
  call: selection_call,
  nodes: selection_nodes,
  node: selection_node,
  size: selection_size,
  empty: selection_empty,
  each: selection_each,
  attr: selection_attr,
  style: selection_style,
  property: selection_property,
  classed: selection_classed,
  text: selection_text,
  html: selection_html,
  raise: selection_raise,
  lower: selection_lower,
  append: selection_append,
  insert: selection_insert,
  remove: selection_remove,
  clone: selection_clone,
  datum: selection_datum,
  on: selection_on,
  dispatch: selection_dispatch
};
function select(selector2) {
  return typeof selector2 === "string" ? new Selection$1([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$1([[selector2]], root$1);
}
function create$1(name) {
  return select(creator(name).call(document.documentElement));
}
var nextId = 0;
function local$1() {
  return new Local();
}
function Local() {
  this._ = "@" + (++nextId).toString(36);
}
Local.prototype = local$1.prototype = {
  constructor: Local,
  get: function(node) {
    var id2 = this._;
    while (!(id2 in node))
      if (!(node = node.parentNode))
        return;
    return node[id2];
  },
  set: function(node, value) {
    return node[this._] = value;
  },
  remove: function(node) {
    return this._ in node && delete node[this._];
  },
  toString: function() {
    return this._;
  }
};
function sourceEvent() {
  var current = event, source;
  while (source = current.sourceEvent)
    current = source;
  return current;
}
function point$5(node, event2) {
  var svg2 = node.ownerSVGElement || node;
  if (svg2.createSVGPoint) {
    var point2 = svg2.createSVGPoint();
    point2.x = event2.clientX, point2.y = event2.clientY;
    point2 = point2.matrixTransform(node.getScreenCTM().inverse());
    return [point2.x, point2.y];
  }
  var rect = node.getBoundingClientRect();
  return [event2.clientX - rect.left - node.clientLeft, event2.clientY - rect.top - node.clientTop];
}
function mouse(node) {
  var event2 = sourceEvent();
  if (event2.changedTouches)
    event2 = event2.changedTouches[0];
  return point$5(node, event2);
}
function selectAll(selector2) {
  return typeof selector2 === "string" ? new Selection$1([document.querySelectorAll(selector2)], [document.documentElement]) : new Selection$1([selector2 == null ? [] : selector2], root$1);
}
function touch(node, touches2, identifier) {
  if (arguments.length < 3)
    identifier = touches2, touches2 = sourceEvent().changedTouches;
  for (var i = 0, n = touches2 ? touches2.length : 0, touch2; i < n; ++i) {
    if ((touch2 = touches2[i]).identifier === identifier) {
      return point$5(node, touch2);
    }
  }
  return null;
}
function touches(node, touches2) {
  if (touches2 == null)
    touches2 = sourceEvent().touches;
  for (var i = 0, n = touches2 ? touches2.length : 0, points = new Array(n); i < n; ++i) {
    points[i] = point$5(node, touches2[i]);
  }
  return points;
}
function nopropagation$2() {
  event.stopImmediatePropagation();
}
function noevent$2() {
  event.preventDefault();
  event.stopImmediatePropagation();
}
function dragDisable(view) {
  var root2 = view.document.documentElement, selection2 = select(view).on("dragstart.drag", noevent$2, true);
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", noevent$2, true);
  } else {
    root2.__noselect = root2.style.MozUserSelect;
    root2.style.MozUserSelect = "none";
  }
}
function yesdrag(view, noclick) {
  var root2 = view.document.documentElement, selection2 = select(view).on("dragstart.drag", null);
  if (noclick) {
    selection2.on("click.drag", noevent$2, true);
    setTimeout(function() {
      selection2.on("click.drag", null);
    }, 0);
  }
  if ("onselectstart" in root2) {
    selection2.on("selectstart.drag", null);
  } else {
    root2.style.MozUserSelect = root2.__noselect;
    delete root2.__noselect;
  }
}
function constant$b(x2) {
  return function() {
    return x2;
  };
}
function DragEvent(target, type2, subject, id2, active2, x2, y2, dx, dy, dispatch2) {
  this.target = target;
  this.type = type2;
  this.subject = subject;
  this.identifier = id2;
  this.active = active2;
  this.x = x2;
  this.y = y2;
  this.dx = dx;
  this.dy = dy;
  this._ = dispatch2;
}
DragEvent.prototype.on = function() {
  var value = this._.on.apply(this._, arguments);
  return value === this._ ? this : value;
};
function defaultFilter$2() {
  return !event.ctrlKey && !event.button;
}
function defaultContainer() {
  return this.parentNode;
}
function defaultSubject(d) {
  return d == null ? { x: event.x, y: event.y } : d;
}
function defaultTouchable$2() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function drag() {
  var filter2 = defaultFilter$2, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable$2, gestures = {}, listeners = dispatch("start", "drag", "end"), active2 = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;
  function drag2(selection2) {
    selection2.on("mousedown.drag", mousedowned).filter(touchable).on("touchstart.drag", touchstarted).on("touchmove.drag", touchmoved).on("touchend.drag touchcancel.drag", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  function mousedowned() {
    if (touchending || !filter2.apply(this, arguments))
      return;
    var gesture = beforestart("mouse", container.apply(this, arguments), mouse, this, arguments);
    if (!gesture)
      return;
    select(event.view).on("mousemove.drag", mousemoved, true).on("mouseup.drag", mouseupped, true);
    dragDisable(event.view);
    nopropagation$2();
    mousemoving = false;
    mousedownx = event.clientX;
    mousedowny = event.clientY;
    gesture("start");
  }
  function mousemoved() {
    noevent$2();
    if (!mousemoving) {
      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;
      mousemoving = dx * dx + dy * dy > clickDistance2;
    }
    gestures.mouse("drag");
  }
  function mouseupped() {
    select(event.view).on("mousemove.drag mouseup.drag", null);
    yesdrag(event.view, mousemoving);
    noevent$2();
    gestures.mouse("end");
  }
  function touchstarted() {
    if (!filter2.apply(this, arguments))
      return;
    var touches2 = event.changedTouches, c2 = container.apply(this, arguments), n = touches2.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = beforestart(touches2[i].identifier, c2, touch, this, arguments)) {
        nopropagation$2();
        gesture("start");
      }
    }
  }
  function touchmoved() {
    var touches2 = event.changedTouches, n = touches2.length, i, gesture;
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches2[i].identifier]) {
        noevent$2();
        gesture("drag");
      }
    }
  }
  function touchended() {
    var touches2 = event.changedTouches, n = touches2.length, i, gesture;
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, 500);
    for (i = 0; i < n; ++i) {
      if (gesture = gestures[touches2[i].identifier]) {
        nopropagation$2();
        gesture("end");
      }
    }
  }
  function beforestart(id2, container2, point2, that, args) {
    var p = point2(container2, id2), s2, dx, dy, sublisteners = listeners.copy();
    if (!customEvent(new DragEvent(drag2, "beforestart", s2, id2, active2, p[0], p[1], 0, 0, sublisteners), function() {
      if ((event.subject = s2 = subject.apply(that, args)) == null)
        return false;
      dx = s2.x - p[0] || 0;
      dy = s2.y - p[1] || 0;
      return true;
    }))
      return;
    return function gesture(type2) {
      var p02 = p, n;
      switch (type2) {
        case "start":
          gestures[id2] = gesture, n = active2++;
          break;
        case "end":
          delete gestures[id2], --active2;
        case "drag":
          p = point2(container2, id2), n = active2;
          break;
      }
      customEvent(new DragEvent(drag2, type2, s2, id2, n, p[0] + dx, p[1] + dy, p[0] - p02[0], p[1] - p02[1], sublisteners), sublisteners.apply, sublisteners, [type2, that, args]);
    };
  }
  drag2.filter = function(_2) {
    return arguments.length ? (filter2 = typeof _2 === "function" ? _2 : constant$b(!!_2), drag2) : filter2;
  };
  drag2.container = function(_2) {
    return arguments.length ? (container = typeof _2 === "function" ? _2 : constant$b(_2), drag2) : container;
  };
  drag2.subject = function(_2) {
    return arguments.length ? (subject = typeof _2 === "function" ? _2 : constant$b(_2), drag2) : subject;
  };
  drag2.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant$b(!!_2), drag2) : touchable;
  };
  drag2.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? drag2 : value;
  };
  drag2.clickDistance = function(_2) {
    return arguments.length ? (clickDistance2 = (_2 = +_2) * _2, drag2) : Math.sqrt(clickDistance2);
  };
  return drag2;
}
function define(constructor, factory, prototype) {
  constructor.prototype = factory.prototype = prototype;
  prototype.constructor = constructor;
}
function extend(parent, definition) {
  var prototype = Object.create(parent.prototype);
  for (var key in definition)
    prototype[key] = definition[key];
  return prototype;
}
function Color$2() {
}
var darker = 0.7;
var brighter = 1 / darker;
var reI = "\\s*([+-]?\\d+)\\s*", reN = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*", reP = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp("^rgb\\(" + [reI, reI, reI] + "\\)$"), reRgbPercent = new RegExp("^rgb\\(" + [reP, reP, reP] + "\\)$"), reRgbaInteger = new RegExp("^rgba\\(" + [reI, reI, reI, reN] + "\\)$"), reRgbaPercent = new RegExp("^rgba\\(" + [reP, reP, reP, reN] + "\\)$"), reHslPercent = new RegExp("^hsl\\(" + [reN, reP, reP] + "\\)$"), reHslaPercent = new RegExp("^hsla\\(" + [reN, reP, reP, reN] + "\\)$");
var named = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
define(Color$2, color, {
  copy: function(channels2) {
    return Object.assign(new this.constructor(), this, channels2);
  },
  displayable: function() {
    return this.rgb().displayable();
  },
  hex: color_formatHex,
  formatHex: color_formatHex,
  formatHsl: color_formatHsl,
  formatRgb: color_formatRgb,
  toString: color_formatRgb
});
function color_formatHex() {
  return this.rgb().formatHex();
}
function color_formatHsl() {
  return hslConvert(this).formatHsl();
}
function color_formatRgb() {
  return this.rgb().formatRgb();
}
function color(format2) {
  var m, l;
  format2 = (format2 + "").trim().toLowerCase();
  return (m = reHex.exec(format2)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba$2(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba$2(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format2)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format2)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format2)) ? rgba$2(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format2)) ? rgba$2(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format2)) ? hsla$2(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format2)) ? hsla$2(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format2) ? rgbn(named[format2]) : format2 === "transparent" ? new Rgb(NaN, NaN, NaN, 0) : null;
}
function rgbn(n) {
  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);
}
function rgba$2(r, g, b, a2) {
  if (a2 <= 0)
    r = g = b = NaN;
  return new Rgb(r, g, b, a2);
}
function rgbConvert(o) {
  if (!(o instanceof Color$2))
    o = color(o);
  if (!o)
    return new Rgb();
  o = o.rgb();
  return new Rgb(o.r, o.g, o.b, o.opacity);
}
function rgb(r, g, b, opacity) {
  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);
}
function Rgb(r, g, b, opacity) {
  this.r = +r;
  this.g = +g;
  this.b = +b;
  this.opacity = +opacity;
}
define(Rgb, rgb, extend(Color$2, {
  brighter: function(k2) {
    k2 = k2 == null ? brighter : Math.pow(brighter, k2);
    return new Rgb(this.r * k2, this.g * k2, this.b * k2, this.opacity);
  },
  darker: function(k2) {
    k2 = k2 == null ? darker : Math.pow(darker, k2);
    return new Rgb(this.r * k2, this.g * k2, this.b * k2, this.opacity);
  },
  rgb: function() {
    return this;
  },
  displayable: function() {
    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);
  },
  hex: rgb_formatHex,
  formatHex: rgb_formatHex,
  formatRgb: rgb_formatRgb,
  toString: rgb_formatRgb
}));
function rgb_formatHex() {
  return "#" + hex(this.r) + hex(this.g) + hex(this.b);
}
function rgb_formatRgb() {
  var a2 = this.opacity;
  a2 = isNaN(a2) ? 1 : Math.max(0, Math.min(1, a2));
  return (a2 === 1 ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (a2 === 1 ? ")" : ", " + a2 + ")");
}
function hex(value) {
  value = Math.max(0, Math.min(255, Math.round(value) || 0));
  return (value < 16 ? "0" : "") + value.toString(16);
}
function hsla$2(h, s2, l, a2) {
  if (a2 <= 0)
    h = s2 = l = NaN;
  else if (l <= 0 || l >= 1)
    h = s2 = NaN;
  else if (s2 <= 0)
    h = NaN;
  return new Hsl(h, s2, l, a2);
}
function hslConvert(o) {
  if (o instanceof Hsl)
    return new Hsl(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Color$2))
    o = color(o);
  if (!o)
    return new Hsl();
  if (o instanceof Hsl)
    return o;
  o = o.rgb();
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min2 = Math.min(r, g, b), max2 = Math.max(r, g, b), h = NaN, s2 = max2 - min2, l = (max2 + min2) / 2;
  if (s2) {
    if (r === max2)
      h = (g - b) / s2 + (g < b) * 6;
    else if (g === max2)
      h = (b - r) / s2 + 2;
    else
      h = (r - g) / s2 + 4;
    s2 /= l < 0.5 ? max2 + min2 : 2 - max2 - min2;
    h *= 60;
  } else {
    s2 = l > 0 && l < 1 ? 0 : h;
  }
  return new Hsl(h, s2, l, o.opacity);
}
function hsl$2(h, s2, l, opacity) {
  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s2, l, opacity == null ? 1 : opacity);
}
function Hsl(h, s2, l, opacity) {
  this.h = +h;
  this.s = +s2;
  this.l = +l;
  this.opacity = +opacity;
}
define(Hsl, hsl$2, extend(Color$2, {
  brighter: function(k2) {
    k2 = k2 == null ? brighter : Math.pow(brighter, k2);
    return new Hsl(this.h, this.s, this.l * k2, this.opacity);
  },
  darker: function(k2) {
    k2 = k2 == null ? darker : Math.pow(darker, k2);
    return new Hsl(this.h, this.s, this.l * k2, this.opacity);
  },
  rgb: function() {
    var h = this.h % 360 + (this.h < 0) * 360, s2 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s2, m1 = 2 * l - m2;
    return new Rgb(
      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),
      hsl2rgb(h, m1, m2),
      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),
      this.opacity
    );
  },
  displayable: function() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);
  },
  formatHsl: function() {
    var a2 = this.opacity;
    a2 = isNaN(a2) ? 1 : Math.max(0, Math.min(1, a2));
    return (a2 === 1 ? "hsl(" : "hsla(") + (this.h || 0) + ", " + (this.s || 0) * 100 + "%, " + (this.l || 0) * 100 + "%" + (a2 === 1 ? ")" : ", " + a2 + ")");
  }
}));
function hsl2rgb(h, m1, m2) {
  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;
}
var deg2rad = Math.PI / 180;
var rad2deg = 180 / Math.PI;
var K = 18, Xn = 0.96422, Yn = 1, Zn = 0.82521, t0$1 = 4 / 29, t1$1 = 6 / 29, t2 = 3 * t1$1 * t1$1, t3 = t1$1 * t1$1 * t1$1;
function labConvert(o) {
  if (o instanceof Lab)
    return new Lab(o.l, o.a, o.b, o.opacity);
  if (o instanceof Hcl)
    return hcl2lab(o);
  if (!(o instanceof Rgb))
    o = rgbConvert(o);
  var r = rgb2lrgb(o.r), g = rgb2lrgb(o.g), b = rgb2lrgb(o.b), y2 = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x2, z;
  if (r === g && g === b)
    x2 = z = y2;
  else {
    x2 = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);
    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);
  }
  return new Lab(116 * y2 - 16, 500 * (x2 - y2), 200 * (y2 - z), o.opacity);
}
function gray(l, opacity) {
  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);
}
function lab$1(l, a2, b, opacity) {
  return arguments.length === 1 ? labConvert(l) : new Lab(l, a2, b, opacity == null ? 1 : opacity);
}
function Lab(l, a2, b, opacity) {
  this.l = +l;
  this.a = +a2;
  this.b = +b;
  this.opacity = +opacity;
}
define(Lab, lab$1, extend(Color$2, {
  brighter: function(k2) {
    return new Lab(this.l + K * (k2 == null ? 1 : k2), this.a, this.b, this.opacity);
  },
  darker: function(k2) {
    return new Lab(this.l - K * (k2 == null ? 1 : k2), this.a, this.b, this.opacity);
  },
  rgb: function() {
    var y2 = (this.l + 16) / 116, x2 = isNaN(this.a) ? y2 : y2 + this.a / 500, z = isNaN(this.b) ? y2 : y2 - this.b / 200;
    x2 = Xn * lab2xyz(x2);
    y2 = Yn * lab2xyz(y2);
    z = Zn * lab2xyz(z);
    return new Rgb(
      lrgb2rgb(3.1338561 * x2 - 1.6168667 * y2 - 0.4906146 * z),
      lrgb2rgb(-0.9787684 * x2 + 1.9161415 * y2 + 0.033454 * z),
      lrgb2rgb(0.0719453 * x2 - 0.2289914 * y2 + 1.4052427 * z),
      this.opacity
    );
  }
}));
function xyz2lab(t) {
  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0$1;
}
function lab2xyz(t) {
  return t > t1$1 ? t * t * t : t2 * (t - t0$1);
}
function lrgb2rgb(x2) {
  return 255 * (x2 <= 31308e-7 ? 12.92 * x2 : 1.055 * Math.pow(x2, 1 / 2.4) - 0.055);
}
function rgb2lrgb(x2) {
  return (x2 /= 255) <= 0.04045 ? x2 / 12.92 : Math.pow((x2 + 0.055) / 1.055, 2.4);
}
function hclConvert(o) {
  if (o instanceof Hcl)
    return new Hcl(o.h, o.c, o.l, o.opacity);
  if (!(o instanceof Lab))
    o = labConvert(o);
  if (o.a === 0 && o.b === 0)
    return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);
  var h = Math.atan2(o.b, o.a) * rad2deg;
  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);
}
function lch(l, c2, h, opacity) {
  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c2, l, opacity == null ? 1 : opacity);
}
function hcl$2(h, c2, l, opacity) {
  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c2, l, opacity == null ? 1 : opacity);
}
function Hcl(h, c2, l, opacity) {
  this.h = +h;
  this.c = +c2;
  this.l = +l;
  this.opacity = +opacity;
}
function hcl2lab(o) {
  if (isNaN(o.h))
    return new Lab(o.l, 0, 0, o.opacity);
  var h = o.h * deg2rad;
  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);
}
define(Hcl, hcl$2, extend(Color$2, {
  brighter: function(k2) {
    return new Hcl(this.h, this.c, this.l + K * (k2 == null ? 1 : k2), this.opacity);
  },
  darker: function(k2) {
    return new Hcl(this.h, this.c, this.l - K * (k2 == null ? 1 : k2), this.opacity);
  },
  rgb: function() {
    return hcl2lab(this).rgb();
  }
}));
var A = -0.14861, B = 1.78277, C = -0.29227, D = -0.90649, E = 1.97294, ED = E * D, EB = E * B, BC_DA = B * C - D * A;
function cubehelixConvert(o) {
  if (o instanceof Cubehelix)
    return new Cubehelix(o.h, o.s, o.l, o.opacity);
  if (!(o instanceof Rgb))
    o = rgbConvert(o);
  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB), bl = b - l, k2 = (E * (g - l) - C * bl) / D, s2 = Math.sqrt(k2 * k2 + bl * bl) / (E * l * (1 - l)), h = s2 ? Math.atan2(k2, bl) * rad2deg - 120 : NaN;
  return new Cubehelix(h < 0 ? h + 360 : h, s2, l, o.opacity);
}
function cubehelix$3(h, s2, l, opacity) {
  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s2, l, opacity == null ? 1 : opacity);
}
function Cubehelix(h, s2, l, opacity) {
  this.h = +h;
  this.s = +s2;
  this.l = +l;
  this.opacity = +opacity;
}
define(Cubehelix, cubehelix$3, extend(Color$2, {
  brighter: function(k2) {
    k2 = k2 == null ? brighter : Math.pow(brighter, k2);
    return new Cubehelix(this.h, this.s, this.l * k2, this.opacity);
  },
  darker: function(k2) {
    k2 = k2 == null ? darker : Math.pow(darker, k2);
    return new Cubehelix(this.h, this.s, this.l * k2, this.opacity);
  },
  rgb: function() {
    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad, l = +this.l, a2 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh2 = Math.cos(h), sinh2 = Math.sin(h);
    return new Rgb(
      255 * (l + a2 * (A * cosh2 + B * sinh2)),
      255 * (l + a2 * (C * cosh2 + D * sinh2)),
      255 * (l + a2 * (E * cosh2)),
      this.opacity
    );
  }
}));
function basis$1(t12, v0, v1, v2, v3) {
  var t22 = t12 * t12, t32 = t22 * t12;
  return ((1 - 3 * t12 + 3 * t22 - t32) * v0 + (4 - 6 * t22 + 3 * t32) * v1 + (1 + 3 * t12 + 3 * t22 - 3 * t32) * v2 + t32 * v3) / 6;
}
function basis$2(values2) {
  var n = values2.length - 1;
  return function(t) {
    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values2[i], v2 = values2[i + 1], v0 = i > 0 ? values2[i - 1] : 2 * v1 - v2, v3 = i < n - 1 ? values2[i + 2] : 2 * v2 - v1;
    return basis$1((t - i / n) * n, v0, v1, v2, v3);
  };
}
function basisClosed$1(values2) {
  var n = values2.length;
  return function(t) {
    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values2[(i + n - 1) % n], v1 = values2[i % n], v2 = values2[(i + 1) % n], v3 = values2[(i + 2) % n];
    return basis$1((t - i / n) * n, v0, v1, v2, v3);
  };
}
function constant$a(x2) {
  return function() {
    return x2;
  };
}
function linear$2(a2, d) {
  return function(t) {
    return a2 + t * d;
  };
}
function exponential$1(a2, b, y2) {
  return a2 = Math.pow(a2, y2), b = Math.pow(b, y2) - a2, y2 = 1 / y2, function(t) {
    return Math.pow(a2 + t * b, y2);
  };
}
function hue$3(a2, b) {
  var d = b - a2;
  return d ? linear$2(a2, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant$a(isNaN(a2) ? b : a2);
}
function gamma(y2) {
  return (y2 = +y2) === 1 ? nogamma : function(a2, b) {
    return b - a2 ? exponential$1(a2, b, y2) : constant$a(isNaN(a2) ? b : a2);
  };
}
function nogamma(a2, b) {
  var d = b - a2;
  return d ? linear$2(a2, d) : constant$a(isNaN(a2) ? b : a2);
}
const interpolateRgb = function rgbGamma(y2) {
  var color2 = gamma(y2);
  function rgb$12(start2, end) {
    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);
    return function(t) {
      start2.r = r(t);
      start2.g = g(t);
      start2.b = b(t);
      start2.opacity = opacity(t);
      return start2 + "";
    };
  }
  rgb$12.gamma = rgbGamma;
  return rgb$12;
}(1);
function rgbSpline(spline) {
  return function(colors2) {
    var n = colors2.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color2;
    for (i = 0; i < n; ++i) {
      color2 = rgb(colors2[i]);
      r[i] = color2.r || 0;
      g[i] = color2.g || 0;
      b[i] = color2.b || 0;
    }
    r = spline(r);
    g = spline(g);
    b = spline(b);
    color2.opacity = 1;
    return function(t) {
      color2.r = r(t);
      color2.g = g(t);
      color2.b = b(t);
      return color2 + "";
    };
  };
}
var rgbBasis = rgbSpline(basis$2);
var rgbBasisClosed = rgbSpline(basisClosed$1);
function numberArray(a2, b) {
  if (!b)
    b = [];
  var n = a2 ? Math.min(b.length, a2.length) : 0, c2 = b.slice(), i;
  return function(t) {
    for (i = 0; i < n; ++i)
      c2[i] = a2[i] * (1 - t) + b[i] * t;
    return c2;
  };
}
function isNumberArray(x2) {
  return ArrayBuffer.isView(x2) && !(x2 instanceof DataView);
}
function array$2(a2, b) {
  return (isNumberArray(b) ? numberArray : genericArray)(a2, b);
}
function genericArray(a2, b) {
  var nb = b ? b.length : 0, na = a2 ? Math.min(nb, a2.length) : 0, x2 = new Array(na), c2 = new Array(nb), i;
  for (i = 0; i < na; ++i)
    x2[i] = interpolateValue(a2[i], b[i]);
  for (; i < nb; ++i)
    c2[i] = b[i];
  return function(t) {
    for (i = 0; i < na; ++i)
      c2[i] = x2[i](t);
    return c2;
  };
}
function date$1(a2, b) {
  var d = new Date();
  return a2 = +a2, b = +b, function(t) {
    return d.setTime(a2 * (1 - t) + b * t), d;
  };
}
function interpolateNumber(a2, b) {
  return a2 = +a2, b = +b, function(t) {
    return a2 * (1 - t) + b * t;
  };
}
function object$1(a2, b) {
  var i = {}, c2 = {}, k2;
  if (a2 === null || typeof a2 !== "object")
    a2 = {};
  if (b === null || typeof b !== "object")
    b = {};
  for (k2 in b) {
    if (k2 in a2) {
      i[k2] = interpolateValue(a2[k2], b[k2]);
    } else {
      c2[k2] = b[k2];
    }
  }
  return function(t) {
    for (k2 in i)
      c2[k2] = i[k2](t);
    return c2;
  };
}
var reA = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, reB = new RegExp(reA.source, "g");
function zero(b) {
  return function() {
    return b;
  };
}
function one(b) {
  return function(t) {
    return b(t) + "";
  };
}
function interpolateString(a2, b) {
  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s2 = [], q = [];
  a2 = a2 + "", b = b + "";
  while ((am = reA.exec(a2)) && (bm = reB.exec(b))) {
    if ((bs = bm.index) > bi) {
      bs = b.slice(bi, bs);
      if (s2[i])
        s2[i] += bs;
      else
        s2[++i] = bs;
    }
    if ((am = am[0]) === (bm = bm[0])) {
      if (s2[i])
        s2[i] += bm;
      else
        s2[++i] = bm;
    } else {
      s2[++i] = null;
      q.push({ i, x: interpolateNumber(am, bm) });
    }
    bi = reB.lastIndex;
  }
  if (bi < b.length) {
    bs = b.slice(bi);
    if (s2[i])
      s2[i] += bs;
    else
      s2[++i] = bs;
  }
  return s2.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {
    for (var i2 = 0, o; i2 < b; ++i2)
      s2[(o = q[i2]).i] = o.x(t);
    return s2.join("");
  });
}
function interpolateValue(a2, b) {
  var t = typeof b, c2;
  return b == null || t === "boolean" ? constant$a(b) : (t === "number" ? interpolateNumber : t === "string" ? (c2 = color(b)) ? (b = c2, interpolateRgb) : interpolateString : b instanceof color ? interpolateRgb : b instanceof Date ? date$1 : isNumberArray(b) ? numberArray : Array.isArray(b) ? genericArray : typeof b.valueOf !== "function" && typeof b.toString !== "function" || isNaN(b) ? object$1 : interpolateNumber)(a2, b);
}
function discrete(range2) {
  var n = range2.length;
  return function(t) {
    return range2[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];
  };
}
function hue$2(a2, b) {
  var i = hue$3(+a2, +b);
  return function(t) {
    var x2 = i(t);
    return x2 - 360 * Math.floor(x2 / 360);
  };
}
function interpolateRound(a2, b) {
  return a2 = +a2, b = +b, function(t) {
    return Math.round(a2 * (1 - t) + b * t);
  };
}
var degrees$1 = 180 / Math.PI;
var identity$7 = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function decompose(a2, b, c2, d, e, f) {
  var scaleX, scaleY, skewX;
  if (scaleX = Math.sqrt(a2 * a2 + b * b))
    a2 /= scaleX, b /= scaleX;
  if (skewX = a2 * c2 + b * d)
    c2 -= a2 * skewX, d -= b * skewX;
  if (scaleY = Math.sqrt(c2 * c2 + d * d))
    c2 /= scaleY, d /= scaleY, skewX /= scaleY;
  if (a2 * d < b * c2)
    a2 = -a2, b = -b, skewX = -skewX, scaleX = -scaleX;
  return {
    translateX: e,
    translateY: f,
    rotate: Math.atan2(b, a2) * degrees$1,
    skewX: Math.atan(skewX) * degrees$1,
    scaleX,
    scaleY
  };
}
var cssNode, cssRoot, cssView, svgNode;
function parseCss(value) {
  if (value === "none")
    return identity$7;
  if (!cssNode)
    cssNode = document.createElement("DIV"), cssRoot = document.documentElement, cssView = document.defaultView;
  cssNode.style.transform = value;
  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue("transform");
  cssRoot.removeChild(cssNode);
  value = value.slice(7, -1).split(",");
  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);
}
function parseSvg(value) {
  if (value == null)
    return identity$7;
  if (!svgNode)
    svgNode = document.createElementNS("http://www.w3.org/2000/svg", "g");
  svgNode.setAttribute("transform", value);
  if (!(value = svgNode.transform.baseVal.consolidate()))
    return identity$7;
  value = value.matrix;
  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);
}
function interpolateTransform(parse, pxComma, pxParen, degParen) {
  function pop(s2) {
    return s2.length ? s2.pop() + " " : "";
  }
  function translate(xa, ya, xb, yb, s2, q) {
    if (xa !== xb || ya !== yb) {
      var i = s2.push("translate(", null, pxComma, null, pxParen);
      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });
    } else if (xb || yb) {
      s2.push("translate(" + xb + pxComma + yb + pxParen);
    }
  }
  function rotate(a2, b, s2, q) {
    if (a2 !== b) {
      if (a2 - b > 180)
        b += 360;
      else if (b - a2 > 180)
        a2 += 360;
      q.push({ i: s2.push(pop(s2) + "rotate(", null, degParen) - 2, x: interpolateNumber(a2, b) });
    } else if (b) {
      s2.push(pop(s2) + "rotate(" + b + degParen);
    }
  }
  function skewX(a2, b, s2, q) {
    if (a2 !== b) {
      q.push({ i: s2.push(pop(s2) + "skewX(", null, degParen) - 2, x: interpolateNumber(a2, b) });
    } else if (b) {
      s2.push(pop(s2) + "skewX(" + b + degParen);
    }
  }
  function scale2(xa, ya, xb, yb, s2, q) {
    if (xa !== xb || ya !== yb) {
      var i = s2.push(pop(s2) + "scale(", null, ",", null, ")");
      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });
    } else if (xb !== 1 || yb !== 1) {
      s2.push(pop(s2) + "scale(" + xb + "," + yb + ")");
    }
  }
  return function(a2, b) {
    var s2 = [], q = [];
    a2 = parse(a2), b = parse(b);
    translate(a2.translateX, a2.translateY, b.translateX, b.translateY, s2, q);
    rotate(a2.rotate, b.rotate, s2, q);
    skewX(a2.skewX, b.skewX, s2, q);
    scale2(a2.scaleX, a2.scaleY, b.scaleX, b.scaleY, s2, q);
    a2 = b = null;
    return function(t) {
      var i = -1, n = q.length, o;
      while (++i < n)
        s2[(o = q[i]).i] = o.x(t);
      return s2.join("");
    };
  };
}
var interpolateTransformCss = interpolateTransform(parseCss, "px, ", "px)", "deg)");
var interpolateTransformSvg = interpolateTransform(parseSvg, ", ", ")", ")");
var rho = Math.SQRT2, rho2 = 2, rho4 = 4, epsilon2$2 = 1e-12;
function cosh(x2) {
  return ((x2 = Math.exp(x2)) + 1 / x2) / 2;
}
function sinh(x2) {
  return ((x2 = Math.exp(x2)) - 1 / x2) / 2;
}
function tanh(x2) {
  return ((x2 = Math.exp(2 * x2)) - 1) / (x2 + 1);
}
function interpolateZoom(p02, p1) {
  var ux0 = p02[0], uy0 = p02[1], w0 = p02[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;
  if (d2 < epsilon2$2) {
    S = Math.log(w1 / w0) / rho;
    i = function(t) {
      return [
        ux0 + t * dx,
        uy0 + t * dy,
        w0 * Math.exp(rho * t * S)
      ];
    };
  } else {
    var d1 = Math.sqrt(d2), b02 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b12 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b02 * b02 + 1) - b02), r1 = Math.log(Math.sqrt(b12 * b12 + 1) - b12);
    S = (r1 - r0) / rho;
    i = function(t) {
      var s2 = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s2 + r0) - sinh(r0));
      return [
        ux0 + u * dx,
        uy0 + u * dy,
        w0 * coshr0 / cosh(rho * s2 + r0)
      ];
    };
  }
  i.duration = S * 1e3;
  return i;
}
function hsl(hue2) {
  return function(start2, end) {
    var h = hue2((start2 = hsl$2(start2)).h, (end = hsl$2(end)).h), s2 = nogamma(start2.s, end.s), l = nogamma(start2.l, end.l), opacity = nogamma(start2.opacity, end.opacity);
    return function(t) {
      start2.h = h(t);
      start2.s = s2(t);
      start2.l = l(t);
      start2.opacity = opacity(t);
      return start2 + "";
    };
  };
}
const hsl$1 = hsl(hue$3);
var hslLong = hsl(nogamma);
function lab(start2, end) {
  var l = nogamma((start2 = lab$1(start2)).l, (end = lab$1(end)).l), a2 = nogamma(start2.a, end.a), b = nogamma(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);
  return function(t) {
    start2.l = l(t);
    start2.a = a2(t);
    start2.b = b(t);
    start2.opacity = opacity(t);
    return start2 + "";
  };
}
function hcl(hue2) {
  return function(start2, end) {
    var h = hue2((start2 = hcl$2(start2)).h, (end = hcl$2(end)).h), c2 = nogamma(start2.c, end.c), l = nogamma(start2.l, end.l), opacity = nogamma(start2.opacity, end.opacity);
    return function(t) {
      start2.h = h(t);
      start2.c = c2(t);
      start2.l = l(t);
      start2.opacity = opacity(t);
      return start2 + "";
    };
  };
}
const hcl$1 = hcl(hue$3);
var hclLong = hcl(nogamma);
function cubehelix$1(hue2) {
  return function cubehelixGamma(y2) {
    y2 = +y2;
    function cubehelix2(start2, end) {
      var h = hue2((start2 = cubehelix$3(start2)).h, (end = cubehelix$3(end)).h), s2 = nogamma(start2.s, end.s), l = nogamma(start2.l, end.l), opacity = nogamma(start2.opacity, end.opacity);
      return function(t) {
        start2.h = h(t);
        start2.s = s2(t);
        start2.l = l(Math.pow(t, y2));
        start2.opacity = opacity(t);
        return start2 + "";
      };
    }
    cubehelix2.gamma = cubehelixGamma;
    return cubehelix2;
  }(1);
}
const cubehelix$2 = cubehelix$1(hue$3);
var cubehelixLong = cubehelix$1(nogamma);
function piecewise(interpolate2, values2) {
  var i = 0, n = values2.length - 1, v = values2[0], I = new Array(n < 0 ? 0 : n);
  while (i < n)
    I[i] = interpolate2(v, v = values2[++i]);
  return function(t) {
    var i2 = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));
    return I[i2](t - i2);
  };
}
function quantize$1(interpolator, n) {
  var samples = new Array(n);
  for (var i = 0; i < n; ++i)
    samples[i] = interpolator(i / (n - 1));
  return samples;
}
var frame = 0, timeout$1 = 0, interval$1 = 0, pokeDelay = 1e3, taskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === "object" && performance.now ? performance : Date, setFrame = typeof window === "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {
  setTimeout(f, 17);
};
function now() {
  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);
}
function clearNow() {
  clockNow = 0;
}
function Timer() {
  this._call = this._time = this._next = null;
}
Timer.prototype = timer.prototype = {
  constructor: Timer,
  restart: function(callback, delay, time2) {
    if (typeof callback !== "function")
      throw new TypeError("callback is not a function");
    time2 = (time2 == null ? now() : +time2) + (delay == null ? 0 : +delay);
    if (!this._next && taskTail !== this) {
      if (taskTail)
        taskTail._next = this;
      else
        taskHead = this;
      taskTail = this;
    }
    this._call = callback;
    this._time = time2;
    sleep();
  },
  stop: function() {
    if (this._call) {
      this._call = null;
      this._time = Infinity;
      sleep();
    }
  }
};
function timer(callback, delay, time2) {
  var t = new Timer();
  t.restart(callback, delay, time2);
  return t;
}
function timerFlush() {
  now();
  ++frame;
  var t = taskHead, e;
  while (t) {
    if ((e = clockNow - t._time) >= 0)
      t._call.call(null, e);
    t = t._next;
  }
  --frame;
}
function wake() {
  clockNow = (clockLast = clock.now()) + clockSkew;
  frame = timeout$1 = 0;
  try {
    timerFlush();
  } finally {
    frame = 0;
    nap();
    clockNow = 0;
  }
}
function poke() {
  var now2 = clock.now(), delay = now2 - clockLast;
  if (delay > pokeDelay)
    clockSkew -= delay, clockLast = now2;
}
function nap() {
  var t02, t12 = taskHead, t22, time2 = Infinity;
  while (t12) {
    if (t12._call) {
      if (time2 > t12._time)
        time2 = t12._time;
      t02 = t12, t12 = t12._next;
    } else {
      t22 = t12._next, t12._next = null;
      t12 = t02 ? t02._next = t22 : taskHead = t22;
    }
  }
  taskTail = t02;
  sleep(time2);
}
function sleep(time2) {
  if (frame)
    return;
  if (timeout$1)
    timeout$1 = clearTimeout(timeout$1);
  var delay = time2 - clockNow;
  if (delay > 24) {
    if (time2 < Infinity)
      timeout$1 = setTimeout(wake, time2 - clock.now() - clockSkew);
    if (interval$1)
      interval$1 = clearInterval(interval$1);
  } else {
    if (!interval$1)
      clockLast = clock.now(), interval$1 = setInterval(poke, pokeDelay);
    frame = 1, setFrame(wake);
  }
}
function timeout(callback, delay, time2) {
  var t = new Timer();
  delay = delay == null ? 0 : +delay;
  t.restart(function(elapsed) {
    t.stop();
    callback(elapsed + delay);
  }, delay, time2);
  return t;
}
function interval(callback, delay, time2) {
  var t = new Timer(), total = delay;
  if (delay == null)
    return t.restart(callback, delay, time2), t;
  delay = +delay, time2 = time2 == null ? now() : +time2;
  t.restart(function tick(elapsed) {
    elapsed += total;
    t.restart(tick, total += delay, time2);
    callback(elapsed);
  }, delay, time2);
  return t;
}
var emptyOn = dispatch("start", "end", "cancel", "interrupt");
var emptyTween = [];
var CREATED = 0;
var SCHEDULED = 1;
var STARTING = 2;
var STARTED = 3;
var RUNNING = 4;
var ENDING = 5;
var ENDED = 6;
function schedule(node, name, id2, index2, group2, timing) {
  var schedules = node.__transition;
  if (!schedules)
    node.__transition = {};
  else if (id2 in schedules)
    return;
  create(node, id2, {
    name,
    index: index2,
    group: group2,
    on: emptyOn,
    tween: emptyTween,
    time: timing.time,
    delay: timing.delay,
    duration: timing.duration,
    ease: timing.ease,
    timer: null,
    state: CREATED
  });
}
function init(node, id2) {
  var schedule2 = get(node, id2);
  if (schedule2.state > CREATED)
    throw new Error("too late; already scheduled");
  return schedule2;
}
function set$1(node, id2) {
  var schedule2 = get(node, id2);
  if (schedule2.state > STARTED)
    throw new Error("too late; already running");
  return schedule2;
}
function get(node, id2) {
  var schedule2 = node.__transition;
  if (!schedule2 || !(schedule2 = schedule2[id2]))
    throw new Error("transition not found");
  return schedule2;
}
function create(node, id2, self2) {
  var schedules = node.__transition, tween;
  schedules[id2] = self2;
  self2.timer = timer(schedule2, 0, self2.time);
  function schedule2(elapsed) {
    self2.state = SCHEDULED;
    self2.timer.restart(start2, self2.delay, self2.time);
    if (self2.delay <= elapsed)
      start2(elapsed - self2.delay);
  }
  function start2(elapsed) {
    var i, j, n, o;
    if (self2.state !== SCHEDULED)
      return stop();
    for (i in schedules) {
      o = schedules[i];
      if (o.name !== self2.name)
        continue;
      if (o.state === STARTED)
        return timeout(start2);
      if (o.state === RUNNING) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("interrupt", node, node.__data__, o.index, o.group);
        delete schedules[i];
      } else if (+i < id2) {
        o.state = ENDED;
        o.timer.stop();
        o.on.call("cancel", node, node.__data__, o.index, o.group);
        delete schedules[i];
      }
    }
    timeout(function() {
      if (self2.state === STARTED) {
        self2.state = RUNNING;
        self2.timer.restart(tick, self2.delay, self2.time);
        tick(elapsed);
      }
    });
    self2.state = STARTING;
    self2.on.call("start", node, node.__data__, self2.index, self2.group);
    if (self2.state !== STARTING)
      return;
    self2.state = STARTED;
    tween = new Array(n = self2.tween.length);
    for (i = 0, j = -1; i < n; ++i) {
      if (o = self2.tween[i].value.call(node, node.__data__, self2.index, self2.group)) {
        tween[++j] = o;
      }
    }
    tween.length = j + 1;
  }
  function tick(elapsed) {
    var t = elapsed < self2.duration ? self2.ease.call(null, elapsed / self2.duration) : (self2.timer.restart(stop), self2.state = ENDING, 1), i = -1, n = tween.length;
    while (++i < n) {
      tween[i].call(node, t);
    }
    if (self2.state === ENDING) {
      self2.on.call("end", node, node.__data__, self2.index, self2.group);
      stop();
    }
  }
  function stop() {
    self2.state = ENDED;
    self2.timer.stop();
    delete schedules[id2];
    for (var i in schedules)
      return;
    delete node.__transition;
  }
}
function interrupt(node, name) {
  var schedules = node.__transition, schedule2, active2, empty2 = true, i;
  if (!schedules)
    return;
  name = name == null ? null : name + "";
  for (i in schedules) {
    if ((schedule2 = schedules[i]).name !== name) {
      empty2 = false;
      continue;
    }
    active2 = schedule2.state > STARTING && schedule2.state < ENDING;
    schedule2.state = ENDED;
    schedule2.timer.stop();
    schedule2.on.call(active2 ? "interrupt" : "cancel", node, node.__data__, schedule2.index, schedule2.group);
    delete schedules[i];
  }
  if (empty2)
    delete node.__transition;
}
function selection_interrupt(name) {
  return this.each(function() {
    interrupt(this, name);
  });
}
function tweenRemove(id2, name) {
  var tween0, tween1;
  return function() {
    var schedule2 = set$1(this, id2), tween = schedule2.tween;
    if (tween !== tween0) {
      tween1 = tween0 = tween;
      for (var i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1 = tween1.slice();
          tween1.splice(i, 1);
          break;
        }
      }
    }
    schedule2.tween = tween1;
  };
}
function tweenFunction(id2, name, value) {
  var tween0, tween1;
  if (typeof value !== "function")
    throw new Error();
  return function() {
    var schedule2 = set$1(this, id2), tween = schedule2.tween;
    if (tween !== tween0) {
      tween1 = (tween0 = tween).slice();
      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {
        if (tween1[i].name === name) {
          tween1[i] = t;
          break;
        }
      }
      if (i === n)
        tween1.push(t);
    }
    schedule2.tween = tween1;
  };
}
function transition_tween(name, value) {
  var id2 = this._id;
  name += "";
  if (arguments.length < 2) {
    var tween = get(this.node(), id2).tween;
    for (var i = 0, n = tween.length, t; i < n; ++i) {
      if ((t = tween[i]).name === name) {
        return t.value;
      }
    }
    return null;
  }
  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));
}
function tweenValue(transition2, name, value) {
  var id2 = transition2._id;
  transition2.each(function() {
    var schedule2 = set$1(this, id2);
    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);
  });
  return function(node) {
    return get(node, id2).value[name];
  };
}
function interpolate$1(a2, b) {
  var c2;
  return (typeof b === "number" ? interpolateNumber : b instanceof color ? interpolateRgb : (c2 = color(b)) ? (b = c2, interpolateRgb) : interpolateString)(a2, b);
}
function attrRemove(name) {
  return function() {
    this.removeAttribute(name);
  };
}
function attrRemoveNS(fullname) {
  return function() {
    this.removeAttributeNS(fullname.space, fullname.local);
  };
}
function attrConstant(name, interpolate2, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttribute(name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);
  };
}
function attrConstantNS(fullname, interpolate2, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = this.getAttributeNS(fullname.space, fullname.local);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);
  };
}
function attrFunction(name, interpolate2, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttribute(name);
    string0 = this.getAttribute(name);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));
  };
}
function attrFunctionNS(fullname, interpolate2, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0, value1 = value(this), string1;
    if (value1 == null)
      return void this.removeAttributeNS(fullname.space, fullname.local);
    string0 = this.getAttributeNS(fullname.space, fullname.local);
    string1 = value1 + "";
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));
  };
}
function transition_attr(name, value) {
  var fullname = namespace(name), i = fullname === "transform" ? interpolateTransformSvg : interpolate$1;
  return this.attrTween(name, typeof value === "function" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, "attr." + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));
}
function attrInterpolate(name, i) {
  return function(t) {
    this.setAttribute(name, i.call(this, t));
  };
}
function attrInterpolateNS(fullname, i) {
  return function(t) {
    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));
  };
}
function attrTweenNS(fullname, value) {
  var t02, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t02 = (i0 = i) && attrInterpolateNS(fullname, i);
    return t02;
  }
  tween._value = value;
  return tween;
}
function attrTween(name, value) {
  var t02, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t02 = (i0 = i) && attrInterpolate(name, i);
    return t02;
  }
  tween._value = value;
  return tween;
}
function transition_attrTween(name, value) {
  var key = "attr." + name;
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  var fullname = namespace(name);
  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));
}
function delayFunction(id2, value) {
  return function() {
    init(this, id2).delay = +value.apply(this, arguments);
  };
}
function delayConstant(id2, value) {
  return value = +value, function() {
    init(this, id2).delay = value;
  };
}
function transition_delay(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? delayFunction : delayConstant)(id2, value)) : get(this.node(), id2).delay;
}
function durationFunction(id2, value) {
  return function() {
    set$1(this, id2).duration = +value.apply(this, arguments);
  };
}
function durationConstant(id2, value) {
  return value = +value, function() {
    set$1(this, id2).duration = value;
  };
}
function transition_duration(value) {
  var id2 = this._id;
  return arguments.length ? this.each((typeof value === "function" ? durationFunction : durationConstant)(id2, value)) : get(this.node(), id2).duration;
}
function easeConstant(id2, value) {
  if (typeof value !== "function")
    throw new Error();
  return function() {
    set$1(this, id2).ease = value;
  };
}
function transition_ease(value) {
  var id2 = this._id;
  return arguments.length ? this.each(easeConstant(id2, value)) : get(this.node(), id2).ease;
}
function transition_filter(match) {
  if (typeof match !== "function")
    match = matcher(match);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {
      if ((node = group2[i]) && match.call(node, node.__data__, i, group2)) {
        subgroup.push(node);
      }
    }
  }
  return new Transition(subgroups, this._parents, this._name, this._id);
}
function transition_merge(transition2) {
  if (transition2._id !== this._id)
    throw new Error();
  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {
    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge2 = merges[j] = new Array(n), node, i = 0; i < n; ++i) {
      if (node = group0[i] || group1[i]) {
        merge2[i] = node;
      }
    }
  }
  for (; j < m0; ++j) {
    merges[j] = groups0[j];
  }
  return new Transition(merges, this._parents, this._name, this._id);
}
function start(name) {
  return (name + "").trim().split(/^|\s+/).every(function(t) {
    var i = t.indexOf(".");
    if (i >= 0)
      t = t.slice(0, i);
    return !t || t === "start";
  });
}
function onFunction(id2, name, listener) {
  var on0, on1, sit = start(name) ? init : set$1;
  return function() {
    var schedule2 = sit(this, id2), on = schedule2.on;
    if (on !== on0)
      (on1 = (on0 = on).copy()).on(name, listener);
    schedule2.on = on1;
  };
}
function transition_on(name, listener) {
  var id2 = this._id;
  return arguments.length < 2 ? get(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));
}
function removeFunction(id2) {
  return function() {
    var parent = this.parentNode;
    for (var i in this.__transition)
      if (+i !== id2)
        return;
    if (parent)
      parent.removeChild(this);
  };
}
function transition_remove() {
  return this.on("end.remove", removeFunction(this._id));
}
function transition_select(select2) {
  var name = this._name, id2 = this._id;
  if (typeof select2 !== "function")
    select2 = selector(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = new Array(m), j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {
      if ((node = group2[i]) && (subnode = select2.call(node, node.__data__, i, group2))) {
        if ("__data__" in node)
          subnode.__data__ = node.__data__;
        subgroup[i] = subnode;
        schedule(subgroup[i], name, id2, i, subgroup, get(node, id2));
      }
    }
  }
  return new Transition(subgroups, this._parents, name, id2);
}
function transition_selectAll(select2) {
  var name = this._name, id2 = this._id;
  if (typeof select2 !== "function")
    select2 = selectorAll(select2);
  for (var groups2 = this._groups, m = groups2.length, subgroups = [], parents = [], j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        for (var children2 = select2.call(node, node.__data__, i, group2), child, inherit2 = get(node, id2), k2 = 0, l = children2.length; k2 < l; ++k2) {
          if (child = children2[k2]) {
            schedule(child, name, id2, k2, children2, inherit2);
          }
        }
        subgroups.push(children2);
        parents.push(node);
      }
    }
  }
  return new Transition(subgroups, parents, name, id2);
}
var Selection = selection.prototype.constructor;
function transition_selection() {
  return new Selection(this._groups, this._parents);
}
function styleNull(name, interpolate2) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);
  };
}
function styleRemove(name) {
  return function() {
    this.style.removeProperty(name);
  };
}
function styleConstant(name, interpolate2, value1) {
  var string00, string1 = value1 + "", interpolate0;
  return function() {
    var string0 = styleValue(this, name);
    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);
  };
}
function styleFunction(name, interpolate2, value) {
  var string00, string10, interpolate0;
  return function() {
    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + "";
    if (value1 == null)
      string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));
    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));
  };
}
function styleMaybeRemove(id2, name) {
  var on0, on1, listener0, key = "style." + name, event2 = "end." + key, remove2;
  return function() {
    var schedule2 = set$1(this, id2), on = schedule2.on, listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove(name)) : void 0;
    if (on !== on0 || listener0 !== listener)
      (on1 = (on0 = on).copy()).on(event2, listener0 = listener);
    schedule2.on = on1;
  };
}
function transition_style(name, value, priority) {
  var i = (name += "") === "transform" ? interpolateTransformCss : interpolate$1;
  return value == null ? this.styleTween(name, styleNull(name, i)).on("end.style." + name, styleRemove(name)) : typeof value === "function" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, "style." + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on("end.style." + name, null);
}
function styleInterpolate(name, i, priority) {
  return function(t) {
    this.style.setProperty(name, i.call(this, t), priority);
  };
}
function styleTween(name, value, priority) {
  var t, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t = (i0 = i) && styleInterpolate(name, i, priority);
    return t;
  }
  tween._value = value;
  return tween;
}
function transition_styleTween(name, value, priority) {
  var key = "style." + (name += "");
  if (arguments.length < 2)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, styleTween(name, value, priority == null ? "" : priority));
}
function textConstant(value) {
  return function() {
    this.textContent = value;
  };
}
function textFunction(value) {
  return function() {
    var value1 = value(this);
    this.textContent = value1 == null ? "" : value1;
  };
}
function transition_text(value) {
  return this.tween("text", typeof value === "function" ? textFunction(tweenValue(this, "text", value)) : textConstant(value == null ? "" : value + ""));
}
function textInterpolate(i) {
  return function(t) {
    this.textContent = i.call(this, t);
  };
}
function textTween(value) {
  var t02, i0;
  function tween() {
    var i = value.apply(this, arguments);
    if (i !== i0)
      t02 = (i0 = i) && textInterpolate(i);
    return t02;
  }
  tween._value = value;
  return tween;
}
function transition_textTween(value) {
  var key = "text";
  if (arguments.length < 1)
    return (key = this.tween(key)) && key._value;
  if (value == null)
    return this.tween(key, null);
  if (typeof value !== "function")
    throw new Error();
  return this.tween(key, textTween(value));
}
function transition_transition() {
  var name = this._name, id0 = this._id, id1 = newId();
  for (var groups2 = this._groups, m = groups2.length, j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        var inherit2 = get(node, id0);
        schedule(node, name, id1, i, group2, {
          time: inherit2.time + inherit2.delay + inherit2.duration,
          delay: 0,
          duration: inherit2.duration,
          ease: inherit2.ease
        });
      }
    }
  }
  return new Transition(groups2, this._parents, name, id1);
}
function transition_end() {
  var on0, on1, that = this, id2 = that._id, size = that.size();
  return new Promise(function(resolve, reject) {
    var cancel = { value: reject }, end = { value: function() {
      if (--size === 0)
        resolve();
    } };
    that.each(function() {
      var schedule2 = set$1(this, id2), on = schedule2.on;
      if (on !== on0) {
        on1 = (on0 = on).copy();
        on1._.cancel.push(cancel);
        on1._.interrupt.push(cancel);
        on1._.end.push(end);
      }
      schedule2.on = on1;
    });
  });
}
var id = 0;
function Transition(groups2, parents, name, id2) {
  this._groups = groups2;
  this._parents = parents;
  this._name = name;
  this._id = id2;
}
function transition(name) {
  return selection().transition(name);
}
function newId() {
  return ++id;
}
var selection_prototype = selection.prototype;
Transition.prototype = transition.prototype = {
  constructor: Transition,
  select: transition_select,
  selectAll: transition_selectAll,
  filter: transition_filter,
  merge: transition_merge,
  selection: transition_selection,
  transition: transition_transition,
  call: selection_prototype.call,
  nodes: selection_prototype.nodes,
  node: selection_prototype.node,
  size: selection_prototype.size,
  empty: selection_prototype.empty,
  each: selection_prototype.each,
  on: transition_on,
  attr: transition_attr,
  attrTween: transition_attrTween,
  style: transition_style,
  styleTween: transition_styleTween,
  text: transition_text,
  textTween: transition_textTween,
  remove: transition_remove,
  tween: transition_tween,
  delay: transition_delay,
  duration: transition_duration,
  ease: transition_ease,
  end: transition_end
};
function linear$1(t) {
  return +t;
}
function quadIn(t) {
  return t * t;
}
function quadOut(t) {
  return t * (2 - t);
}
function quadInOut(t) {
  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
}
function cubicIn(t) {
  return t * t * t;
}
function cubicOut(t) {
  return --t * t * t + 1;
}
function cubicInOut(t) {
  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
}
var exponent$1 = 3;
var polyIn = function custom10(e) {
  e = +e;
  function polyIn2(t) {
    return Math.pow(t, e);
  }
  polyIn2.exponent = custom10;
  return polyIn2;
}(exponent$1);
var polyOut = function custom11(e) {
  e = +e;
  function polyOut2(t) {
    return 1 - Math.pow(1 - t, e);
  }
  polyOut2.exponent = custom11;
  return polyOut2;
}(exponent$1);
var polyInOut = function custom12(e) {
  e = +e;
  function polyInOut2(t) {
    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
  }
  polyInOut2.exponent = custom12;
  return polyInOut2;
}(exponent$1);
var pi$4 = Math.PI, halfPi$3 = pi$4 / 2;
function sinIn(t) {
  return +t === 1 ? 1 : 1 - Math.cos(t * halfPi$3);
}
function sinOut(t) {
  return Math.sin(t * halfPi$3);
}
function sinInOut(t) {
  return (1 - Math.cos(pi$4 * t)) / 2;
}
function tpmt(x2) {
  return (Math.pow(2, -10 * x2) - 9765625e-10) * 1.0009775171065494;
}
function expIn(t) {
  return tpmt(1 - +t);
}
function expOut(t) {
  return 1 - tpmt(t);
}
function expInOut(t) {
  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;
}
function circleIn(t) {
  return 1 - Math.sqrt(1 - t * t);
}
function circleOut(t) {
  return Math.sqrt(1 - --t * t);
}
function circleInOut(t) {
  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
}
var b1 = 4 / 11, b2 = 6 / 11, b3 = 8 / 11, b4 = 3 / 4, b5 = 9 / 11, b6 = 10 / 11, b7 = 15 / 16, b8 = 21 / 22, b9 = 63 / 64, b0 = 1 / b1 / b1;
function bounceIn(t) {
  return 1 - bounceOut(1 - t);
}
function bounceOut(t) {
  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;
}
function bounceInOut(t) {
  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;
}
var overshoot = 1.70158;
var backIn = function custom13(s2) {
  s2 = +s2;
  function backIn2(t) {
    return (t = +t) * t * (s2 * (t - 1) + t);
  }
  backIn2.overshoot = custom13;
  return backIn2;
}(overshoot);
var backOut = function custom14(s2) {
  s2 = +s2;
  function backOut2(t) {
    return --t * t * ((t + 1) * s2 + t) + 1;
  }
  backOut2.overshoot = custom14;
  return backOut2;
}(overshoot);
var backInOut = function custom15(s2) {
  s2 = +s2;
  function backInOut2(t) {
    return ((t *= 2) < 1 ? t * t * ((s2 + 1) * t - s2) : (t -= 2) * t * ((s2 + 1) * t + s2) + 2) / 2;
  }
  backInOut2.overshoot = custom15;
  return backInOut2;
}(overshoot);
var tau$4 = 2 * Math.PI, amplitude = 1, period = 0.3;
var elasticIn = function custom16(a2, p) {
  var s2 = Math.asin(1 / (a2 = Math.max(1, a2))) * (p /= tau$4);
  function elasticIn2(t) {
    return a2 * tpmt(- --t) * Math.sin((s2 - t) / p);
  }
  elasticIn2.amplitude = function(a3) {
    return custom16(a3, p * tau$4);
  };
  elasticIn2.period = function(p2) {
    return custom16(a2, p2);
  };
  return elasticIn2;
}(amplitude, period);
var elasticOut = function custom17(a2, p) {
  var s2 = Math.asin(1 / (a2 = Math.max(1, a2))) * (p /= tau$4);
  function elasticOut2(t) {
    return 1 - a2 * tpmt(t = +t) * Math.sin((t + s2) / p);
  }
  elasticOut2.amplitude = function(a3) {
    return custom17(a3, p * tau$4);
  };
  elasticOut2.period = function(p2) {
    return custom17(a2, p2);
  };
  return elasticOut2;
}(amplitude, period);
var elasticInOut = function custom18(a2, p) {
  var s2 = Math.asin(1 / (a2 = Math.max(1, a2))) * (p /= tau$4);
  function elasticInOut2(t) {
    return ((t = t * 2 - 1) < 0 ? a2 * tpmt(-t) * Math.sin((s2 - t) / p) : 2 - a2 * tpmt(t) * Math.sin((s2 + t) / p)) / 2;
  }
  elasticInOut2.amplitude = function(a3) {
    return custom18(a3, p * tau$4);
  };
  elasticInOut2.period = function(p2) {
    return custom18(a2, p2);
  };
  return elasticInOut2;
}(amplitude, period);
var defaultTiming = {
  time: null,
  delay: 0,
  duration: 250,
  ease: cubicInOut
};
function inherit(node, id2) {
  var timing;
  while (!(timing = node.__transition) || !(timing = timing[id2])) {
    if (!(node = node.parentNode)) {
      return defaultTiming.time = now(), defaultTiming;
    }
  }
  return timing;
}
function selection_transition(name) {
  var id2, timing;
  if (name instanceof Transition) {
    id2 = name._id, name = name._name;
  } else {
    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + "";
  }
  for (var groups2 = this._groups, m = groups2.length, j = 0; j < m; ++j) {
    for (var group2 = groups2[j], n = group2.length, node, i = 0; i < n; ++i) {
      if (node = group2[i]) {
        schedule(node, name, id2, i, group2, timing || inherit(node, id2));
      }
    }
  }
  return new Transition(groups2, this._parents, name, id2);
}
selection.prototype.interrupt = selection_interrupt;
selection.prototype.transition = selection_transition;
var root = [null];
function active(node, name) {
  var schedules = node.__transition, schedule2, i;
  if (schedules) {
    name = name == null ? null : name + "";
    for (i in schedules) {
      if ((schedule2 = schedules[i]).state > SCHEDULED && schedule2.name === name) {
        return new Transition([[node]], root, name, +i);
      }
    }
  }
  return null;
}
function constant$9(x2) {
  return function() {
    return x2;
  };
}
function BrushEvent(target, type2, selection2) {
  this.target = target;
  this.type = type2;
  this.selection = selection2;
}
function nopropagation$1() {
  event.stopImmediatePropagation();
}
function noevent$1() {
  event.preventDefault();
  event.stopImmediatePropagation();
}
var MODE_DRAG = { name: "drag" }, MODE_SPACE = { name: "space" }, MODE_HANDLE = { name: "handle" }, MODE_CENTER = { name: "center" };
function number1(e) {
  return [+e[0], +e[1]];
}
function number2(e) {
  return [number1(e[0]), number1(e[1])];
}
function toucher(identifier) {
  return function(target) {
    return touch(target, event.touches, identifier);
  };
}
var X = {
  name: "x",
  handles: ["w", "e"].map(type),
  input: function(x2, e) {
    return x2 == null ? null : [[+x2[0], e[0][1]], [+x2[1], e[1][1]]];
  },
  output: function(xy) {
    return xy && [xy[0][0], xy[1][0]];
  }
};
var Y = {
  name: "y",
  handles: ["n", "s"].map(type),
  input: function(y2, e) {
    return y2 == null ? null : [[e[0][0], +y2[0]], [e[1][0], +y2[1]]];
  },
  output: function(xy) {
    return xy && [xy[0][1], xy[1][1]];
  }
};
var XY = {
  name: "xy",
  handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(type),
  input: function(xy) {
    return xy == null ? null : number2(xy);
  },
  output: function(xy) {
    return xy;
  }
};
var cursors = {
  overlay: "crosshair",
  selection: "move",
  n: "ns-resize",
  e: "ew-resize",
  s: "ns-resize",
  w: "ew-resize",
  nw: "nwse-resize",
  ne: "nesw-resize",
  se: "nwse-resize",
  sw: "nesw-resize"
};
var flipX = {
  e: "w",
  w: "e",
  nw: "ne",
  ne: "nw",
  se: "sw",
  sw: "se"
};
var flipY = {
  n: "s",
  s: "n",
  nw: "sw",
  ne: "se",
  se: "ne",
  sw: "nw"
};
var signsX = {
  overlay: 1,
  selection: 1,
  n: null,
  e: 1,
  s: null,
  w: -1,
  nw: -1,
  ne: 1,
  se: 1,
  sw: -1
};
var signsY = {
  overlay: 1,
  selection: 1,
  n: -1,
  e: null,
  s: 1,
  w: null,
  nw: -1,
  ne: -1,
  se: 1,
  sw: 1
};
function type(t) {
  return { type: t };
}
function defaultFilter$1() {
  return !event.ctrlKey && !event.button;
}
function defaultExtent$1() {
  var svg2 = this.ownerSVGElement || this;
  if (svg2.hasAttribute("viewBox")) {
    svg2 = svg2.viewBox.baseVal;
    return [[svg2.x, svg2.y], [svg2.x + svg2.width, svg2.y + svg2.height]];
  }
  return [[0, 0], [svg2.width.baseVal.value, svg2.height.baseVal.value]];
}
function defaultTouchable$1() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function local(node) {
  while (!node.__brush)
    if (!(node = node.parentNode))
      return;
  return node.__brush;
}
function empty(extent2) {
  return extent2[0][0] === extent2[1][0] || extent2[0][1] === extent2[1][1];
}
function brushSelection(node) {
  var state = node.__brush;
  return state ? state.dim.output(state.selection) : null;
}
function brushX() {
  return brush$1(X);
}
function brushY() {
  return brush$1(Y);
}
function brush() {
  return brush$1(XY);
}
function brush$1(dim) {
  var extent2 = defaultExtent$1, filter2 = defaultFilter$1, touchable = defaultTouchable$1, keys2 = true, listeners = dispatch("start", "brush", "end"), handleSize = 6, touchending;
  function brush2(group2) {
    var overlay = group2.property("__brush", initialize).selectAll(".overlay").data([type("overlay")]);
    overlay.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", cursors.overlay).merge(overlay).each(function() {
      var extent3 = local(this).extent;
      select(this).attr("x", extent3[0][0]).attr("y", extent3[0][1]).attr("width", extent3[1][0] - extent3[0][0]).attr("height", extent3[1][1] - extent3[0][1]);
    });
    group2.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", cursors.selection).attr("fill", "#777").attr("fill-opacity", 0.3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges");
    var handle = group2.selectAll(".handle").data(dim.handles, function(d) {
      return d.type;
    });
    handle.exit().remove();
    handle.enter().append("rect").attr("class", function(d) {
      return "handle handle--" + d.type;
    }).attr("cursor", function(d) {
      return cursors[d.type];
    });
    group2.each(redraw).attr("fill", "none").attr("pointer-events", "all").on("mousedown.brush", started).filter(touchable).on("touchstart.brush", started).on("touchmove.brush", touchmoved).on("touchend.brush touchcancel.brush", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  brush2.move = function(group2, selection2) {
    if (group2.selection) {
      group2.on("start.brush", function() {
        emitter(this, arguments).beforestart().start();
      }).on("interrupt.brush end.brush", function() {
        emitter(this, arguments).end();
      }).tween("brush", function() {
        var that = this, state = that.__brush, emit = emitter(that, arguments), selection0 = state.selection, selection1 = dim.input(typeof selection2 === "function" ? selection2.apply(this, arguments) : selection2, state.extent), i = interpolateValue(selection0, selection1);
        function tween(t) {
          state.selection = t === 1 && selection1 === null ? null : i(t);
          redraw.call(that);
          emit.brush();
        }
        return selection0 !== null && selection1 !== null ? tween : tween(1);
      });
    } else {
      group2.each(function() {
        var that = this, args = arguments, state = that.__brush, selection1 = dim.input(typeof selection2 === "function" ? selection2.apply(that, args) : selection2, state.extent), emit = emitter(that, args).beforestart();
        interrupt(that);
        state.selection = selection1 === null ? null : selection1;
        redraw.call(that);
        emit.start().brush().end();
      });
    }
  };
  brush2.clear = function(group2) {
    brush2.move(group2, null);
  };
  function redraw() {
    var group2 = select(this), selection2 = local(this).selection;
    if (selection2) {
      group2.selectAll(".selection").style("display", null).attr("x", selection2[0][0]).attr("y", selection2[0][1]).attr("width", selection2[1][0] - selection2[0][0]).attr("height", selection2[1][1] - selection2[0][1]);
      group2.selectAll(".handle").style("display", null).attr("x", function(d) {
        return d.type[d.type.length - 1] === "e" ? selection2[1][0] - handleSize / 2 : selection2[0][0] - handleSize / 2;
      }).attr("y", function(d) {
        return d.type[0] === "s" ? selection2[1][1] - handleSize / 2 : selection2[0][1] - handleSize / 2;
      }).attr("width", function(d) {
        return d.type === "n" || d.type === "s" ? selection2[1][0] - selection2[0][0] + handleSize : handleSize;
      }).attr("height", function(d) {
        return d.type === "e" || d.type === "w" ? selection2[1][1] - selection2[0][1] + handleSize : handleSize;
      });
    } else {
      group2.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null);
    }
  }
  function emitter(that, args, clean) {
    var emit = that.__brush.emitter;
    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);
  }
  function Emitter(that, args, clean) {
    this.that = that;
    this.args = args;
    this.state = that.__brush;
    this.active = 0;
    this.clean = clean;
  }
  Emitter.prototype = {
    beforestart: function() {
      if (++this.active === 1)
        this.state.emitter = this, this.starting = true;
      return this;
    },
    start: function() {
      if (this.starting)
        this.starting = false, this.emit("start");
      else
        this.emit("brush");
      return this;
    },
    brush: function() {
      this.emit("brush");
      return this;
    },
    end: function() {
      if (--this.active === 0)
        delete this.state.emitter, this.emit("end");
      return this;
    },
    emit: function(type2) {
      customEvent(new BrushEvent(brush2, type2, dim.output(this.state.selection)), listeners.apply, listeners, [type2, this.that, this.args]);
    }
  };
  function started() {
    if (touchending && !event.touches)
      return;
    if (!filter2.apply(this, arguments))
      return;
    var that = this, type2 = event.target.__data__.type, mode2 = (keys2 && event.metaKey ? type2 = "overlay" : type2) === "selection" ? MODE_DRAG : keys2 && event.altKey ? MODE_CENTER : MODE_HANDLE, signX = dim === Y ? null : signsX[type2], signY = dim === X ? null : signsY[type2], state = local(that), extent3 = state.extent, selection2 = state.selection, W = extent3[0][0], w0, w1, N = extent3[0][1], n0, n1, E2 = extent3[1][0], e0, e1, S = extent3[1][1], s0, s1, dx = 0, dy = 0, moving, shifting = signX && signY && keys2 && event.shiftKey, lockX, lockY, pointer2 = event.touches ? toucher(event.changedTouches[0].identifier) : mouse, point0 = pointer2(that), point2 = point0, emit = emitter(that, arguments, true).beforestart();
    if (type2 === "overlay") {
      if (selection2)
        moving = true;
      state.selection = selection2 = [
        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],
        [e0 = dim === Y ? E2 : w0, s0 = dim === X ? S : n0]
      ];
    } else {
      w0 = selection2[0][0];
      n0 = selection2[0][1];
      e0 = selection2[1][0];
      s0 = selection2[1][1];
    }
    w1 = w0;
    n1 = n0;
    e1 = e0;
    s1 = s0;
    var group2 = select(that).attr("pointer-events", "none");
    var overlay = group2.selectAll(".overlay").attr("cursor", cursors[type2]);
    if (event.touches) {
      emit.moved = moved;
      emit.ended = ended;
    } else {
      var view = select(event.view).on("mousemove.brush", moved, true).on("mouseup.brush", ended, true);
      if (keys2)
        view.on("keydown.brush", keydowned, true).on("keyup.brush", keyupped, true);
      dragDisable(event.view);
    }
    nopropagation$1();
    interrupt(that);
    redraw.call(that);
    emit.start();
    function moved() {
      var point1 = pointer2(that);
      if (shifting && !lockX && !lockY) {
        if (Math.abs(point1[0] - point2[0]) > Math.abs(point1[1] - point2[1]))
          lockY = true;
        else
          lockX = true;
      }
      point2 = point1;
      moving = true;
      noevent$1();
      move();
    }
    function move() {
      var t;
      dx = point2[0] - point0[0];
      dy = point2[1] - point0[1];
      switch (mode2) {
        case MODE_SPACE:
        case MODE_DRAG: {
          if (signX)
            dx = Math.max(W - w0, Math.min(E2 - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;
          if (signY)
            dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;
          break;
        }
        case MODE_HANDLE: {
          if (signX < 0)
            dx = Math.max(W - w0, Math.min(E2 - w0, dx)), w1 = w0 + dx, e1 = e0;
          else if (signX > 0)
            dx = Math.max(W - e0, Math.min(E2 - e0, dx)), w1 = w0, e1 = e0 + dx;
          if (signY < 0)
            dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;
          else if (signY > 0)
            dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;
          break;
        }
        case MODE_CENTER: {
          if (signX)
            w1 = Math.max(W, Math.min(E2, w0 - dx * signX)), e1 = Math.max(W, Math.min(E2, e0 + dx * signX));
          if (signY)
            n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));
          break;
        }
      }
      if (e1 < w1) {
        signX *= -1;
        t = w0, w0 = e0, e0 = t;
        t = w1, w1 = e1, e1 = t;
        if (type2 in flipX)
          overlay.attr("cursor", cursors[type2 = flipX[type2]]);
      }
      if (s1 < n1) {
        signY *= -1;
        t = n0, n0 = s0, s0 = t;
        t = n1, n1 = s1, s1 = t;
        if (type2 in flipY)
          overlay.attr("cursor", cursors[type2 = flipY[type2]]);
      }
      if (state.selection)
        selection2 = state.selection;
      if (lockX)
        w1 = selection2[0][0], e1 = selection2[1][0];
      if (lockY)
        n1 = selection2[0][1], s1 = selection2[1][1];
      if (selection2[0][0] !== w1 || selection2[0][1] !== n1 || selection2[1][0] !== e1 || selection2[1][1] !== s1) {
        state.selection = [[w1, n1], [e1, s1]];
        redraw.call(that);
        emit.brush();
      }
    }
    function ended() {
      nopropagation$1();
      if (event.touches) {
        if (event.touches.length)
          return;
        if (touchending)
          clearTimeout(touchending);
        touchending = setTimeout(function() {
          touchending = null;
        }, 500);
      } else {
        yesdrag(event.view, moving);
        view.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null);
      }
      group2.attr("pointer-events", "all");
      overlay.attr("cursor", cursors.overlay);
      if (state.selection)
        selection2 = state.selection;
      if (empty(selection2))
        state.selection = null, redraw.call(that);
      emit.end();
    }
    function keydowned() {
      switch (event.keyCode) {
        case 16: {
          shifting = signX && signY;
          break;
        }
        case 18: {
          if (mode2 === MODE_HANDLE) {
            if (signX)
              e0 = e1 - dx * signX, w0 = w1 + dx * signX;
            if (signY)
              s0 = s1 - dy * signY, n0 = n1 + dy * signY;
            mode2 = MODE_CENTER;
            move();
          }
          break;
        }
        case 32: {
          if (mode2 === MODE_HANDLE || mode2 === MODE_CENTER) {
            if (signX < 0)
              e0 = e1 - dx;
            else if (signX > 0)
              w0 = w1 - dx;
            if (signY < 0)
              s0 = s1 - dy;
            else if (signY > 0)
              n0 = n1 - dy;
            mode2 = MODE_SPACE;
            overlay.attr("cursor", cursors.selection);
            move();
          }
          break;
        }
        default:
          return;
      }
      noevent$1();
    }
    function keyupped() {
      switch (event.keyCode) {
        case 16: {
          if (shifting) {
            lockX = lockY = shifting = false;
            move();
          }
          break;
        }
        case 18: {
          if (mode2 === MODE_CENTER) {
            if (signX < 0)
              e0 = e1;
            else if (signX > 0)
              w0 = w1;
            if (signY < 0)
              s0 = s1;
            else if (signY > 0)
              n0 = n1;
            mode2 = MODE_HANDLE;
            move();
          }
          break;
        }
        case 32: {
          if (mode2 === MODE_SPACE) {
            if (event.altKey) {
              if (signX)
                e0 = e1 - dx * signX, w0 = w1 + dx * signX;
              if (signY)
                s0 = s1 - dy * signY, n0 = n1 + dy * signY;
              mode2 = MODE_CENTER;
            } else {
              if (signX < 0)
                e0 = e1;
              else if (signX > 0)
                w0 = w1;
              if (signY < 0)
                s0 = s1;
              else if (signY > 0)
                n0 = n1;
              mode2 = MODE_HANDLE;
            }
            overlay.attr("cursor", cursors[type2]);
            move();
          }
          break;
        }
        default:
          return;
      }
      noevent$1();
    }
  }
  function touchmoved() {
    emitter(this, arguments).moved();
  }
  function touchended() {
    emitter(this, arguments).ended();
  }
  function initialize() {
    var state = this.__brush || { selection: null };
    state.extent = number2(extent2.apply(this, arguments));
    state.dim = dim;
    return state;
  }
  brush2.extent = function(_2) {
    return arguments.length ? (extent2 = typeof _2 === "function" ? _2 : constant$9(number2(_2)), brush2) : extent2;
  };
  brush2.filter = function(_2) {
    return arguments.length ? (filter2 = typeof _2 === "function" ? _2 : constant$9(!!_2), brush2) : filter2;
  };
  brush2.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant$9(!!_2), brush2) : touchable;
  };
  brush2.handleSize = function(_2) {
    return arguments.length ? (handleSize = +_2, brush2) : handleSize;
  };
  brush2.keyModifiers = function(_2) {
    return arguments.length ? (keys2 = !!_2, brush2) : keys2;
  };
  brush2.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? brush2 : value;
  };
  return brush2;
}
var cos$2 = Math.cos;
var sin$2 = Math.sin;
var pi$3 = Math.PI;
var halfPi$2 = pi$3 / 2;
var tau$3 = pi$3 * 2;
var max$1 = Math.max;
function compareValue(compare) {
  return function(a2, b) {
    return compare(
      a2.source.value + a2.target.value,
      b.source.value + b.target.value
    );
  };
}
function chord() {
  var padAngle = 0, sortGroups = null, sortSubgroups = null, sortChords = null;
  function chord2(matrix) {
    var n = matrix.length, groupSums = [], groupIndex = sequence(n), subgroupIndex = [], chords = [], groups2 = chords.groups = new Array(n), subgroups = new Array(n * n), k2, x2, x02, dx, i, j;
    k2 = 0, i = -1;
    while (++i < n) {
      x2 = 0, j = -1;
      while (++j < n) {
        x2 += matrix[i][j];
      }
      groupSums.push(x2);
      subgroupIndex.push(sequence(n));
      k2 += x2;
    }
    if (sortGroups)
      groupIndex.sort(function(a2, b) {
        return sortGroups(groupSums[a2], groupSums[b]);
      });
    if (sortSubgroups)
      subgroupIndex.forEach(function(d, i2) {
        d.sort(function(a2, b) {
          return sortSubgroups(matrix[i2][a2], matrix[i2][b]);
        });
      });
    k2 = max$1(0, tau$3 - padAngle * n) / k2;
    dx = k2 ? padAngle : tau$3 / n;
    x2 = 0, i = -1;
    while (++i < n) {
      x02 = x2, j = -1;
      while (++j < n) {
        var di = groupIndex[i], dj = subgroupIndex[di][j], v = matrix[di][dj], a0 = x2, a1 = x2 += v * k2;
        subgroups[dj * n + di] = {
          index: di,
          subindex: dj,
          startAngle: a0,
          endAngle: a1,
          value: v
        };
      }
      groups2[di] = {
        index: di,
        startAngle: x02,
        endAngle: x2,
        value: groupSums[di]
      };
      x2 += dx;
    }
    i = -1;
    while (++i < n) {
      j = i - 1;
      while (++j < n) {
        var source = subgroups[j * n + i], target = subgroups[i * n + j];
        if (source.value || target.value) {
          chords.push(source.value < target.value ? { source: target, target: source } : { source, target });
        }
      }
    }
    return sortChords ? chords.sort(sortChords) : chords;
  }
  chord2.padAngle = function(_2) {
    return arguments.length ? (padAngle = max$1(0, _2), chord2) : padAngle;
  };
  chord2.sortGroups = function(_2) {
    return arguments.length ? (sortGroups = _2, chord2) : sortGroups;
  };
  chord2.sortSubgroups = function(_2) {
    return arguments.length ? (sortSubgroups = _2, chord2) : sortSubgroups;
  };
  chord2.sortChords = function(_2) {
    return arguments.length ? (_2 == null ? sortChords = null : (sortChords = compareValue(_2))._ = _2, chord2) : sortChords && sortChords._;
  };
  return chord2;
}
var slice$4 = Array.prototype.slice;
function constant$8(x2) {
  return function() {
    return x2;
  };
}
var pi$2 = Math.PI, tau$2 = 2 * pi$2, epsilon$3 = 1e-6, tauEpsilon = tau$2 - epsilon$3;
function Path() {
  this._x0 = this._y0 = this._x1 = this._y1 = null;
  this._ = "";
}
function path() {
  return new Path();
}
Path.prototype = path.prototype = {
  constructor: Path,
  moveTo: function(x2, y2) {
    this._ += "M" + (this._x0 = this._x1 = +x2) + "," + (this._y0 = this._y1 = +y2);
  },
  closePath: function() {
    if (this._x1 !== null) {
      this._x1 = this._x0, this._y1 = this._y0;
      this._ += "Z";
    }
  },
  lineTo: function(x2, y2) {
    this._ += "L" + (this._x1 = +x2) + "," + (this._y1 = +y2);
  },
  quadraticCurveTo: function(x12, y12, x2, y2) {
    this._ += "Q" + +x12 + "," + +y12 + "," + (this._x1 = +x2) + "," + (this._y1 = +y2);
  },
  bezierCurveTo: function(x12, y12, x2, y2, x3, y3) {
    this._ += "C" + +x12 + "," + +y12 + "," + +x2 + "," + +y2 + "," + (this._x1 = +x3) + "," + (this._y1 = +y3);
  },
  arcTo: function(x12, y12, x2, y2, r) {
    x12 = +x12, y12 = +y12, x2 = +x2, y2 = +y2, r = +r;
    var x02 = this._x1, y02 = this._y1, x21 = x2 - x12, y21 = y2 - y12, x01 = x02 - x12, y01 = y02 - y12, l01_2 = x01 * x01 + y01 * y01;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + (this._x1 = x12) + "," + (this._y1 = y12);
    } else if (!(l01_2 > epsilon$3))
      ;
    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$3) || !r) {
      this._ += "L" + (this._x1 = x12) + "," + (this._y1 = y12);
    } else {
      var x20 = x2 - x02, y20 = y2 - y02, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi$2 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;
      if (Math.abs(t01 - 1) > epsilon$3) {
        this._ += "L" + (x12 + t01 * x01) + "," + (y12 + t01 * y01);
      }
      this._ += "A" + r + "," + r + ",0,0," + +(y01 * x20 > x01 * y20) + "," + (this._x1 = x12 + t21 * x21) + "," + (this._y1 = y12 + t21 * y21);
    }
  },
  arc: function(x2, y2, r, a0, a1, ccw) {
    x2 = +x2, y2 = +y2, r = +r, ccw = !!ccw;
    var dx = r * Math.cos(a0), dy = r * Math.sin(a0), x02 = x2 + dx, y02 = y2 + dy, cw = 1 ^ ccw, da = ccw ? a0 - a1 : a1 - a0;
    if (r < 0)
      throw new Error("negative radius: " + r);
    if (this._x1 === null) {
      this._ += "M" + x02 + "," + y02;
    } else if (Math.abs(this._x1 - x02) > epsilon$3 || Math.abs(this._y1 - y02) > epsilon$3) {
      this._ += "L" + x02 + "," + y02;
    }
    if (!r)
      return;
    if (da < 0)
      da = da % tau$2 + tau$2;
    if (da > tauEpsilon) {
      this._ += "A" + r + "," + r + ",0,1," + cw + "," + (x2 - dx) + "," + (y2 - dy) + "A" + r + "," + r + ",0,1," + cw + "," + (this._x1 = x02) + "," + (this._y1 = y02);
    } else if (da > epsilon$3) {
      this._ += "A" + r + "," + r + ",0," + +(da >= pi$2) + "," + cw + "," + (this._x1 = x2 + r * Math.cos(a1)) + "," + (this._y1 = y2 + r * Math.sin(a1));
    }
  },
  rect: function(x2, y2, w, h) {
    this._ += "M" + (this._x0 = this._x1 = +x2) + "," + (this._y0 = this._y1 = +y2) + "h" + +w + "v" + +h + "h" + -w + "Z";
  },
  toString: function() {
    return this._;
  }
};
function defaultSource$1(d) {
  return d.source;
}
function defaultTarget(d) {
  return d.target;
}
function defaultRadius$1(d) {
  return d.radius;
}
function defaultStartAngle(d) {
  return d.startAngle;
}
function defaultEndAngle(d) {
  return d.endAngle;
}
function ribbon() {
  var source = defaultSource$1, target = defaultTarget, radius = defaultRadius$1, startAngle = defaultStartAngle, endAngle = defaultEndAngle, context = null;
  function ribbon2() {
    var buffer2, argv = slice$4.call(arguments), s2 = source.apply(this, argv), t = target.apply(this, argv), sr = +radius.apply(this, (argv[0] = s2, argv)), sa0 = startAngle.apply(this, argv) - halfPi$2, sa1 = endAngle.apply(this, argv) - halfPi$2, sx0 = sr * cos$2(sa0), sy0 = sr * sin$2(sa0), tr = +radius.apply(this, (argv[0] = t, argv)), ta0 = startAngle.apply(this, argv) - halfPi$2, ta1 = endAngle.apply(this, argv) - halfPi$2;
    if (!context)
      context = buffer2 = path();
    context.moveTo(sx0, sy0);
    context.arc(0, 0, sr, sa0, sa1);
    if (sa0 !== ta0 || sa1 !== ta1) {
      context.quadraticCurveTo(0, 0, tr * cos$2(ta0), tr * sin$2(ta0));
      context.arc(0, 0, tr, ta0, ta1);
    }
    context.quadraticCurveTo(0, 0, sx0, sy0);
    context.closePath();
    if (buffer2)
      return context = null, buffer2 + "" || null;
  }
  ribbon2.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant$8(+_2), ribbon2) : radius;
  };
  ribbon2.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant$8(+_2), ribbon2) : startAngle;
  };
  ribbon2.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant$8(+_2), ribbon2) : endAngle;
  };
  ribbon2.source = function(_2) {
    return arguments.length ? (source = _2, ribbon2) : source;
  };
  ribbon2.target = function(_2) {
    return arguments.length ? (target = _2, ribbon2) : target;
  };
  ribbon2.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, ribbon2) : context;
  };
  return ribbon2;
}
var prefix = "$";
function Map$1() {
}
Map$1.prototype = map$2.prototype = {
  constructor: Map$1,
  has: function(key) {
    return prefix + key in this;
  },
  get: function(key) {
    return this[prefix + key];
  },
  set: function(key, value) {
    this[prefix + key] = value;
    return this;
  },
  remove: function(key) {
    var property = prefix + key;
    return property in this && delete this[property];
  },
  clear: function() {
    for (var property in this)
      if (property[0] === prefix)
        delete this[property];
  },
  keys: function() {
    var keys2 = [];
    for (var property in this)
      if (property[0] === prefix)
        keys2.push(property.slice(1));
    return keys2;
  },
  values: function() {
    var values2 = [];
    for (var property in this)
      if (property[0] === prefix)
        values2.push(this[property]);
    return values2;
  },
  entries: function() {
    var entries2 = [];
    for (var property in this)
      if (property[0] === prefix)
        entries2.push({ key: property.slice(1), value: this[property] });
    return entries2;
  },
  size: function() {
    var size = 0;
    for (var property in this)
      if (property[0] === prefix)
        ++size;
    return size;
  },
  empty: function() {
    for (var property in this)
      if (property[0] === prefix)
        return false;
    return true;
  },
  each: function(f) {
    for (var property in this)
      if (property[0] === prefix)
        f(this[property], property.slice(1), this);
  }
};
function map$2(object2, f) {
  var map2 = new Map$1();
  if (object2 instanceof Map$1)
    object2.each(function(value, key2) {
      map2.set(key2, value);
    });
  else if (Array.isArray(object2)) {
    var i = -1, n = object2.length, o;
    if (f == null)
      while (++i < n)
        map2.set(i, object2[i]);
    else
      while (++i < n)
        map2.set(f(o = object2[i], i, object2), o);
  } else if (object2)
    for (var key in object2)
      map2.set(key, object2[key]);
  return map2;
}
function nest() {
  var keys2 = [], sortKeys = [], sortValues, rollup2, nest2;
  function apply(array2, depth, createResult, setResult) {
    if (depth >= keys2.length) {
      if (sortValues != null)
        array2.sort(sortValues);
      return rollup2 != null ? rollup2(array2) : array2;
    }
    var i = -1, n = array2.length, key = keys2[depth++], keyValue, value, valuesByKey = map$2(), values2, result = createResult();
    while (++i < n) {
      if (values2 = valuesByKey.get(keyValue = key(value = array2[i]) + "")) {
        values2.push(value);
      } else {
        valuesByKey.set(keyValue, [value]);
      }
    }
    valuesByKey.each(function(values3, key2) {
      setResult(result, key2, apply(values3, depth, createResult, setResult));
    });
    return result;
  }
  function entries2(map2, depth) {
    if (++depth > keys2.length)
      return map2;
    var array2, sortKey = sortKeys[depth - 1];
    if (rollup2 != null && depth >= keys2.length)
      array2 = map2.entries();
    else
      array2 = [], map2.each(function(v, k2) {
        array2.push({ key: k2, values: entries2(v, depth) });
      });
    return sortKey != null ? array2.sort(function(a2, b) {
      return sortKey(a2.key, b.key);
    }) : array2;
  }
  return nest2 = {
    object: function(array2) {
      return apply(array2, 0, createObject, setObject);
    },
    map: function(array2) {
      return apply(array2, 0, createMap, setMap);
    },
    entries: function(array2) {
      return entries2(apply(array2, 0, createMap, setMap), 0);
    },
    key: function(d) {
      keys2.push(d);
      return nest2;
    },
    sortKeys: function(order) {
      sortKeys[keys2.length - 1] = order;
      return nest2;
    },
    sortValues: function(order) {
      sortValues = order;
      return nest2;
    },
    rollup: function(f) {
      rollup2 = f;
      return nest2;
    }
  };
}
function createObject() {
  return {};
}
function setObject(object2, key, value) {
  object2[key] = value;
}
function createMap() {
  return map$2();
}
function setMap(map2, key, value) {
  map2.set(key, value);
}
function Set$1() {
}
var proto = map$2.prototype;
Set$1.prototype = set.prototype = {
  constructor: Set$1,
  has: proto.has,
  add: function(value) {
    value += "";
    this[prefix + value] = value;
    return this;
  },
  remove: proto.remove,
  clear: proto.clear,
  values: proto.keys,
  size: proto.size,
  empty: proto.empty,
  each: proto.each
};
function set(object2, f) {
  var set2 = new Set$1();
  if (object2 instanceof Set$1)
    object2.each(function(value) {
      set2.add(value);
    });
  else if (object2) {
    var i = -1, n = object2.length;
    if (f == null)
      while (++i < n)
        set2.add(object2[i]);
    else
      while (++i < n)
        set2.add(f(object2[i], i, object2));
  }
  return set2;
}
function keys(map2) {
  var keys2 = [];
  for (var key in map2)
    keys2.push(key);
  return keys2;
}
function values(map2) {
  var values2 = [];
  for (var key in map2)
    values2.push(map2[key]);
  return values2;
}
function entries(map2) {
  var entries2 = [];
  for (var key in map2)
    entries2.push({ key, value: map2[key] });
  return entries2;
}
var array$1 = Array.prototype;
var slice$3 = array$1.slice;
function ascending$1(a2, b) {
  return a2 - b;
}
function area$3(ring) {
  var i = 0, n = ring.length, area2 = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];
  while (++i < n)
    area2 += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];
  return area2;
}
function constant$7(x2) {
  return function() {
    return x2;
  };
}
function contains$2(ring, hole) {
  var i = -1, n = hole.length, c2;
  while (++i < n)
    if (c2 = ringContains(ring, hole[i]))
      return c2;
  return 0;
}
function ringContains(ring, point2) {
  var x2 = point2[0], y2 = point2[1], contains2 = -1;
  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {
    var pi2 = ring[i], xi = pi2[0], yi = pi2[1], pj = ring[j], xj = pj[0], yj = pj[1];
    if (segmentContains(pi2, pj, point2))
      return 0;
    if (yi > y2 !== yj > y2 && x2 < (xj - xi) * (y2 - yi) / (yj - yi) + xi)
      contains2 = -contains2;
  }
  return contains2;
}
function segmentContains(a2, b, c2) {
  var i;
  return collinear(a2, b, c2) && within(a2[i = +(a2[0] === b[0])], c2[i], b[i]);
}
function collinear(a2, b, c2) {
  return (b[0] - a2[0]) * (c2[1] - a2[1]) === (c2[0] - a2[0]) * (b[1] - a2[1]);
}
function within(p, q, r) {
  return p <= q && q <= r || r <= q && q <= p;
}
function noop$2() {
}
var cases = [
  [],
  [[[1, 1.5], [0.5, 1]]],
  [[[1.5, 1], [1, 1.5]]],
  [[[1.5, 1], [0.5, 1]]],
  [[[1, 0.5], [1.5, 1]]],
  [[[1, 1.5], [0.5, 1]], [[1, 0.5], [1.5, 1]]],
  [[[1, 0.5], [1, 1.5]]],
  [[[1, 0.5], [0.5, 1]]],
  [[[0.5, 1], [1, 0.5]]],
  [[[1, 1.5], [1, 0.5]]],
  [[[0.5, 1], [1, 0.5]], [[1.5, 1], [1, 1.5]]],
  [[[1.5, 1], [1, 0.5]]],
  [[[0.5, 1], [1.5, 1]]],
  [[[1, 1.5], [1.5, 1]]],
  [[[0.5, 1], [1, 1.5]]],
  []
];
function contours() {
  var dx = 1, dy = 1, threshold2 = thresholdSturges, smooth = smoothLinear;
  function contours2(values2) {
    var tz = threshold2(values2);
    if (!Array.isArray(tz)) {
      var domain = extent$1(values2), start2 = domain[0], stop = domain[1];
      tz = tickStep(start2, stop, tz);
      tz = sequence(Math.floor(start2 / tz) * tz, Math.floor(stop / tz) * tz, tz);
    } else {
      tz = tz.slice().sort(ascending$1);
    }
    return tz.map(function(value) {
      return contour(values2, value);
    });
  }
  function contour(values2, value) {
    var polygons = [], holes = [];
    isorings(values2, value, function(ring) {
      smooth(ring, values2, value);
      if (area$3(ring) > 0)
        polygons.push([ring]);
      else
        holes.push(ring);
    });
    holes.forEach(function(hole) {
      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {
        if (contains$2((polygon = polygons[i])[0], hole) !== -1) {
          polygon.push(hole);
          return;
        }
      }
    });
    return {
      type: "MultiPolygon",
      value,
      coordinates: polygons
    };
  }
  function isorings(values2, value, callback) {
    var fragmentByStart = new Array(), fragmentByEnd = new Array(), x2, y2, t02, t12, t22, t32;
    x2 = y2 = -1;
    t12 = values2[0] >= value;
    cases[t12 << 1].forEach(stitch);
    while (++x2 < dx - 1) {
      t02 = t12, t12 = values2[x2 + 1] >= value;
      cases[t02 | t12 << 1].forEach(stitch);
    }
    cases[t12 << 0].forEach(stitch);
    while (++y2 < dy - 1) {
      x2 = -1;
      t12 = values2[y2 * dx + dx] >= value;
      t22 = values2[y2 * dx] >= value;
      cases[t12 << 1 | t22 << 2].forEach(stitch);
      while (++x2 < dx - 1) {
        t02 = t12, t12 = values2[y2 * dx + dx + x2 + 1] >= value;
        t32 = t22, t22 = values2[y2 * dx + x2 + 1] >= value;
        cases[t02 | t12 << 1 | t22 << 2 | t32 << 3].forEach(stitch);
      }
      cases[t12 | t22 << 3].forEach(stitch);
    }
    x2 = -1;
    t22 = values2[y2 * dx] >= value;
    cases[t22 << 2].forEach(stitch);
    while (++x2 < dx - 1) {
      t32 = t22, t22 = values2[y2 * dx + x2 + 1] >= value;
      cases[t22 << 2 | t32 << 3].forEach(stitch);
    }
    cases[t22 << 3].forEach(stitch);
    function stitch(line2) {
      var start2 = [line2[0][0] + x2, line2[0][1] + y2], end = [line2[1][0] + x2, line2[1][1] + y2], startIndex = index2(start2), endIndex = index2(end), f, g;
      if (f = fragmentByEnd[startIndex]) {
        if (g = fragmentByStart[endIndex]) {
          delete fragmentByEnd[f.end];
          delete fragmentByStart[g.start];
          if (f === g) {
            f.ring.push(end);
            callback(f.ring);
          } else {
            fragmentByStart[f.start] = fragmentByEnd[g.end] = { start: f.start, end: g.end, ring: f.ring.concat(g.ring) };
          }
        } else {
          delete fragmentByEnd[f.end];
          f.ring.push(end);
          fragmentByEnd[f.end = endIndex] = f;
        }
      } else if (f = fragmentByStart[endIndex]) {
        if (g = fragmentByEnd[startIndex]) {
          delete fragmentByStart[f.start];
          delete fragmentByEnd[g.end];
          if (f === g) {
            f.ring.push(end);
            callback(f.ring);
          } else {
            fragmentByStart[g.start] = fragmentByEnd[f.end] = { start: g.start, end: f.end, ring: g.ring.concat(f.ring) };
          }
        } else {
          delete fragmentByStart[f.start];
          f.ring.unshift(start2);
          fragmentByStart[f.start = startIndex] = f;
        }
      } else {
        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = { start: startIndex, end: endIndex, ring: [start2, end] };
      }
    }
  }
  function index2(point2) {
    return point2[0] * 2 + point2[1] * (dx + 1) * 4;
  }
  function smoothLinear(ring, values2, value) {
    ring.forEach(function(point2) {
      var x2 = point2[0], y2 = point2[1], xt = x2 | 0, yt = y2 | 0, v0, v1 = values2[yt * dx + xt];
      if (x2 > 0 && x2 < dx && xt === x2) {
        v0 = values2[yt * dx + xt - 1];
        point2[0] = x2 + (value - v0) / (v1 - v0) - 0.5;
      }
      if (y2 > 0 && y2 < dy && yt === y2) {
        v0 = values2[(yt - 1) * dx + xt];
        point2[1] = y2 + (value - v0) / (v1 - v0) - 0.5;
      }
    });
  }
  contours2.contour = contour;
  contours2.size = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    var _0 = Math.ceil(_2[0]), _1 = Math.ceil(_2[1]);
    if (!(_0 > 0) || !(_1 > 0))
      throw new Error("invalid size");
    return dx = _0, dy = _1, contours2;
  };
  contours2.thresholds = function(_2) {
    return arguments.length ? (threshold2 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant$7(slice$3.call(_2)) : constant$7(_2), contours2) : threshold2;
  };
  contours2.smooth = function(_2) {
    return arguments.length ? (smooth = _2 ? smoothLinear : noop$2, contours2) : smooth === smoothLinear;
  };
  return contours2;
}
function blurX(source, target, r) {
  var n = source.width, m = source.height, w = (r << 1) + 1;
  for (var j = 0; j < m; ++j) {
    for (var i = 0, sr = 0; i < n + r; ++i) {
      if (i < n) {
        sr += source.data[i + j * n];
      }
      if (i >= r) {
        if (i >= w) {
          sr -= source.data[i - w + j * n];
        }
        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);
      }
    }
  }
}
function blurY(source, target, r) {
  var n = source.width, m = source.height, w = (r << 1) + 1;
  for (var i = 0; i < n; ++i) {
    for (var j = 0, sr = 0; j < m + r; ++j) {
      if (j < m) {
        sr += source.data[i + j * n];
      }
      if (j >= r) {
        if (j >= w) {
          sr -= source.data[i + (j - w) * n];
        }
        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);
      }
    }
  }
}
function defaultX$1(d) {
  return d[0];
}
function defaultY$1(d) {
  return d[1];
}
function defaultWeight() {
  return 1;
}
function density() {
  var x2 = defaultX$1, y2 = defaultY$1, weight = defaultWeight, dx = 960, dy = 500, r = 20, k2 = 2, o = r * 3, n = dx + o * 2 >> k2, m = dy + o * 2 >> k2, threshold2 = constant$7(20);
  function density2(data) {
    var values0 = new Float32Array(n * m), values1 = new Float32Array(n * m);
    data.forEach(function(d, i, data2) {
      var xi = +x2(d, i, data2) + o >> k2, yi = +y2(d, i, data2) + o >> k2, wi = +weight(d, i, data2);
      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {
        values0[xi + yi * n] += wi;
      }
    });
    blurX({ width: n, height: m, data: values0 }, { width: n, height: m, data: values1 }, r >> k2);
    blurY({ width: n, height: m, data: values1 }, { width: n, height: m, data: values0 }, r >> k2);
    blurX({ width: n, height: m, data: values0 }, { width: n, height: m, data: values1 }, r >> k2);
    blurY({ width: n, height: m, data: values1 }, { width: n, height: m, data: values0 }, r >> k2);
    blurX({ width: n, height: m, data: values0 }, { width: n, height: m, data: values1 }, r >> k2);
    blurY({ width: n, height: m, data: values1 }, { width: n, height: m, data: values0 }, r >> k2);
    var tz = threshold2(values0);
    if (!Array.isArray(tz)) {
      var stop = max$2(values0);
      tz = tickStep(0, stop, tz);
      tz = sequence(0, Math.floor(stop / tz) * tz, tz);
      tz.shift();
    }
    return contours().thresholds(tz).size([n, m])(values0).map(transform2);
  }
  function transform2(geometry) {
    geometry.value *= Math.pow(2, -2 * k2);
    geometry.coordinates.forEach(transformPolygon);
    return geometry;
  }
  function transformPolygon(coordinates2) {
    coordinates2.forEach(transformRing);
  }
  function transformRing(coordinates2) {
    coordinates2.forEach(transformPoint);
  }
  function transformPoint(coordinates2) {
    coordinates2[0] = coordinates2[0] * Math.pow(2, k2) - o;
    coordinates2[1] = coordinates2[1] * Math.pow(2, k2) - o;
  }
  function resize() {
    o = r * 3;
    n = dx + o * 2 >> k2;
    m = dy + o * 2 >> k2;
    return density2;
  }
  density2.x = function(_2) {
    return arguments.length ? (x2 = typeof _2 === "function" ? _2 : constant$7(+_2), density2) : x2;
  };
  density2.y = function(_2) {
    return arguments.length ? (y2 = typeof _2 === "function" ? _2 : constant$7(+_2), density2) : y2;
  };
  density2.weight = function(_2) {
    return arguments.length ? (weight = typeof _2 === "function" ? _2 : constant$7(+_2), density2) : weight;
  };
  density2.size = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    var _0 = Math.ceil(_2[0]), _1 = Math.ceil(_2[1]);
    if (!(_0 >= 0) && !(_0 >= 0))
      throw new Error("invalid size");
    return dx = _0, dy = _1, resize();
  };
  density2.cellSize = function(_2) {
    if (!arguments.length)
      return 1 << k2;
    if (!((_2 = +_2) >= 1))
      throw new Error("invalid cell size");
    return k2 = Math.floor(Math.log(_2) / Math.LN2), resize();
  };
  density2.thresholds = function(_2) {
    return arguments.length ? (threshold2 = typeof _2 === "function" ? _2 : Array.isArray(_2) ? constant$7(slice$3.call(_2)) : constant$7(_2), density2) : threshold2;
  };
  density2.bandwidth = function(_2) {
    if (!arguments.length)
      return Math.sqrt(r * (r + 1));
    if (!((_2 = +_2) >= 0))
      throw new Error("invalid bandwidth");
    return r = Math.round((Math.sqrt(4 * _2 * _2 + 1) - 1) / 2), resize();
  };
  return density2;
}
var EOL = {}, EOF = {}, QUOTE = 34, NEWLINE = 10, RETURN = 13;
function objectConverter(columns) {
  return new Function("d", "return {" + columns.map(function(name, i) {
    return JSON.stringify(name) + ": d[" + i + '] || ""';
  }).join(",") + "}");
}
function customConverter(columns, f) {
  var object2 = objectConverter(columns);
  return function(row, i) {
    return f(object2(row), i, columns);
  };
}
function inferColumns(rows) {
  var columnSet = /* @__PURE__ */ Object.create(null), columns = [];
  rows.forEach(function(row) {
    for (var column in row) {
      if (!(column in columnSet)) {
        columns.push(columnSet[column] = column);
      }
    }
  });
  return columns;
}
function pad$1(value, width) {
  var s2 = value + "", length2 = s2.length;
  return length2 < width ? new Array(width - length2 + 1).join(0) + s2 : s2;
}
function formatYear$1(year2) {
  return year2 < 0 ? "-" + pad$1(-year2, 6) : year2 > 9999 ? "+" + pad$1(year2, 6) : pad$1(year2, 4);
}
function formatDate(date2) {
  var hours2 = date2.getUTCHours(), minutes2 = date2.getUTCMinutes(), seconds2 = date2.getUTCSeconds(), milliseconds2 = date2.getUTCMilliseconds();
  return isNaN(date2) ? "Invalid Date" : formatYear$1(date2.getUTCFullYear()) + "-" + pad$1(date2.getUTCMonth() + 1, 2) + "-" + pad$1(date2.getUTCDate(), 2) + (milliseconds2 ? "T" + pad$1(hours2, 2) + ":" + pad$1(minutes2, 2) + ":" + pad$1(seconds2, 2) + "." + pad$1(milliseconds2, 3) + "Z" : seconds2 ? "T" + pad$1(hours2, 2) + ":" + pad$1(minutes2, 2) + ":" + pad$1(seconds2, 2) + "Z" : minutes2 || hours2 ? "T" + pad$1(hours2, 2) + ":" + pad$1(minutes2, 2) + "Z" : "");
}
function dsvFormat(delimiter) {
  var reFormat = new RegExp('["' + delimiter + "\n\r]"), DELIMITER = delimiter.charCodeAt(0);
  function parse(text2, f) {
    var convert, columns, rows = parseRows(text2, function(row, i) {
      if (convert)
        return convert(row, i - 1);
      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);
    });
    rows.columns = columns || [];
    return rows;
  }
  function parseRows(text2, f) {
    var rows = [], N = text2.length, I = 0, n = 0, t, eof = N <= 0, eol = false;
    if (text2.charCodeAt(N - 1) === NEWLINE)
      --N;
    if (text2.charCodeAt(N - 1) === RETURN)
      --N;
    function token() {
      if (eof)
        return EOF;
      if (eol)
        return eol = false, EOL;
      var i, j = I, c2;
      if (text2.charCodeAt(j) === QUOTE) {
        while (I++ < N && text2.charCodeAt(I) !== QUOTE || text2.charCodeAt(++I) === QUOTE)
          ;
        if ((i = I) >= N)
          eof = true;
        else if ((c2 = text2.charCodeAt(I++)) === NEWLINE)
          eol = true;
        else if (c2 === RETURN) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE)
            ++I;
        }
        return text2.slice(j + 1, i - 1).replace(/""/g, '"');
      }
      while (I < N) {
        if ((c2 = text2.charCodeAt(i = I++)) === NEWLINE)
          eol = true;
        else if (c2 === RETURN) {
          eol = true;
          if (text2.charCodeAt(I) === NEWLINE)
            ++I;
        } else if (c2 !== DELIMITER)
          continue;
        return text2.slice(j, i);
      }
      return eof = true, text2.slice(j, N);
    }
    while ((t = token()) !== EOF) {
      var row = [];
      while (t !== EOL && t !== EOF)
        row.push(t), t = token();
      if (f && (row = f(row, n++)) == null)
        continue;
      rows.push(row);
    }
    return rows;
  }
  function preformatBody(rows, columns) {
    return rows.map(function(row) {
      return columns.map(function(column) {
        return formatValue(row[column]);
      }).join(delimiter);
    });
  }
  function format2(rows, columns) {
    if (columns == null)
      columns = inferColumns(rows);
    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join("\n");
  }
  function formatBody(rows, columns) {
    if (columns == null)
      columns = inferColumns(rows);
    return preformatBody(rows, columns).join("\n");
  }
  function formatRows(rows) {
    return rows.map(formatRow).join("\n");
  }
  function formatRow(row) {
    return row.map(formatValue).join(delimiter);
  }
  function formatValue(value) {
    return value == null ? "" : value instanceof Date ? formatDate(value) : reFormat.test(value += "") ? '"' + value.replace(/"/g, '""') + '"' : value;
  }
  return {
    parse,
    parseRows,
    format: format2,
    formatBody,
    formatRows,
    formatRow,
    formatValue
  };
}
var csv$1 = dsvFormat(",");
var csvParse = csv$1.parse;
var csvParseRows = csv$1.parseRows;
var csvFormat = csv$1.format;
var csvFormatBody = csv$1.formatBody;
var csvFormatRows = csv$1.formatRows;
var csvFormatRow = csv$1.formatRow;
var csvFormatValue = csv$1.formatValue;
var tsv$1 = dsvFormat("	");
var tsvParse = tsv$1.parse;
var tsvParseRows = tsv$1.parseRows;
var tsvFormat = tsv$1.format;
var tsvFormatBody = tsv$1.formatBody;
var tsvFormatRows = tsv$1.formatRows;
var tsvFormatRow = tsv$1.formatRow;
var tsvFormatValue = tsv$1.formatValue;
function autoType(object2) {
  for (var key in object2) {
    var value = object2[key].trim(), number3, m;
    if (!value)
      value = null;
    else if (value === "true")
      value = true;
    else if (value === "false")
      value = false;
    else if (value === "NaN")
      value = NaN;
    else if (!isNaN(number3 = +value))
      value = number3;
    else if (m = value.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)) {
      if (fixtz && !!m[4] && !m[7])
        value = value.replace(/-/g, "/").replace(/T/, " ");
      value = new Date(value);
    } else
      continue;
    object2[key] = value;
  }
  return object2;
}
var fixtz = new Date("2019-01-01T00:00").getHours() || new Date("2019-07-01T00:00").getHours();
function responseBlob(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.blob();
}
function blob(input, init2) {
  return fetch(input, init2).then(responseBlob);
}
function responseArrayBuffer(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.arrayBuffer();
}
function buffer(input, init2) {
  return fetch(input, init2).then(responseArrayBuffer);
}
function responseText(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  return response.text();
}
function text(input, init2) {
  return fetch(input, init2).then(responseText);
}
function dsvParse(parse) {
  return function(input, init2, row) {
    if (arguments.length === 2 && typeof init2 === "function")
      row = init2, init2 = void 0;
    return text(input, init2).then(function(response) {
      return parse(response, row);
    });
  };
}
function dsv(delimiter, input, init2, row) {
  if (arguments.length === 3 && typeof init2 === "function")
    row = init2, init2 = void 0;
  var format2 = dsvFormat(delimiter);
  return text(input, init2).then(function(response) {
    return format2.parse(response, row);
  });
}
var csv = dsvParse(csvParse);
var tsv = dsvParse(tsvParse);
function image(input, init2) {
  return new Promise(function(resolve, reject) {
    var image2 = new Image();
    for (var key in init2)
      image2[key] = init2[key];
    image2.onerror = reject;
    image2.onload = function() {
      resolve(image2);
    };
    image2.src = input;
  });
}
function responseJson(response) {
  if (!response.ok)
    throw new Error(response.status + " " + response.statusText);
  if (response.status === 204 || response.status === 205)
    return;
  return response.json();
}
function json(input, init2) {
  return fetch(input, init2).then(responseJson);
}
function parser(type2) {
  return function(input, init2) {
    return text(input, init2).then(function(text2) {
      return new DOMParser().parseFromString(text2, type2);
    });
  };
}
const xml = parser("application/xml");
var html = parser("text/html");
var svg = parser("image/svg+xml");
function center(x2, y2) {
  var nodes;
  if (x2 == null)
    x2 = 0;
  if (y2 == null)
    y2 = 0;
  function force() {
    var i, n = nodes.length, node, sx = 0, sy = 0;
    for (i = 0; i < n; ++i) {
      node = nodes[i], sx += node.x, sy += node.y;
    }
    for (sx = sx / n - x2, sy = sy / n - y2, i = 0; i < n; ++i) {
      node = nodes[i], node.x -= sx, node.y -= sy;
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
  };
  force.x = function(_2) {
    return arguments.length ? (x2 = +_2, force) : x2;
  };
  force.y = function(_2) {
    return arguments.length ? (y2 = +_2, force) : y2;
  };
  return force;
}
function constant$6(x2) {
  return function() {
    return x2;
  };
}
function jiggle() {
  return (Math.random() - 0.5) * 1e-6;
}
function tree_add(d) {
  var x2 = +this._x.call(null, d), y2 = +this._y.call(null, d);
  return add$1(this.cover(x2, y2), x2, y2, d);
}
function add$1(tree2, x2, y2, d) {
  if (isNaN(x2) || isNaN(y2))
    return tree2;
  var parent, node = tree2._root, leaf = { data: d }, x02 = tree2._x0, y02 = tree2._y0, x12 = tree2._x1, y12 = tree2._y1, xm, ym, xp, yp, right2, bottom2, i, j;
  if (!node)
    return tree2._root = leaf, tree2;
  while (node.length) {
    if (right2 = x2 >= (xm = (x02 + x12) / 2))
      x02 = xm;
    else
      x12 = xm;
    if (bottom2 = y2 >= (ym = (y02 + y12) / 2))
      y02 = ym;
    else
      y12 = ym;
    if (parent = node, !(node = node[i = bottom2 << 1 | right2]))
      return parent[i] = leaf, tree2;
  }
  xp = +tree2._x.call(null, node.data);
  yp = +tree2._y.call(null, node.data);
  if (x2 === xp && y2 === yp)
    return leaf.next = node, parent ? parent[i] = leaf : tree2._root = leaf, tree2;
  do {
    parent = parent ? parent[i] = new Array(4) : tree2._root = new Array(4);
    if (right2 = x2 >= (xm = (x02 + x12) / 2))
      x02 = xm;
    else
      x12 = xm;
    if (bottom2 = y2 >= (ym = (y02 + y12) / 2))
      y02 = ym;
    else
      y12 = ym;
  } while ((i = bottom2 << 1 | right2) === (j = (yp >= ym) << 1 | xp >= xm));
  return parent[j] = node, parent[i] = leaf, tree2;
}
function addAll(data) {
  var d, i, n = data.length, x2, y2, xz = new Array(n), yz = new Array(n), x02 = Infinity, y02 = Infinity, x12 = -Infinity, y12 = -Infinity;
  for (i = 0; i < n; ++i) {
    if (isNaN(x2 = +this._x.call(null, d = data[i])) || isNaN(y2 = +this._y.call(null, d)))
      continue;
    xz[i] = x2;
    yz[i] = y2;
    if (x2 < x02)
      x02 = x2;
    if (x2 > x12)
      x12 = x2;
    if (y2 < y02)
      y02 = y2;
    if (y2 > y12)
      y12 = y2;
  }
  if (x02 > x12 || y02 > y12)
    return this;
  this.cover(x02, y02).cover(x12, y12);
  for (i = 0; i < n; ++i) {
    add$1(this, xz[i], yz[i], data[i]);
  }
  return this;
}
function tree_cover(x2, y2) {
  if (isNaN(x2 = +x2) || isNaN(y2 = +y2))
    return this;
  var x02 = this._x0, y02 = this._y0, x12 = this._x1, y12 = this._y1;
  if (isNaN(x02)) {
    x12 = (x02 = Math.floor(x2)) + 1;
    y12 = (y02 = Math.floor(y2)) + 1;
  } else {
    var z = x12 - x02, node = this._root, parent, i;
    while (x02 > x2 || x2 >= x12 || y02 > y2 || y2 >= y12) {
      i = (y2 < y02) << 1 | x2 < x02;
      parent = new Array(4), parent[i] = node, node = parent, z *= 2;
      switch (i) {
        case 0:
          x12 = x02 + z, y12 = y02 + z;
          break;
        case 1:
          x02 = x12 - z, y12 = y02 + z;
          break;
        case 2:
          x12 = x02 + z, y02 = y12 - z;
          break;
        case 3:
          x02 = x12 - z, y02 = y12 - z;
          break;
      }
    }
    if (this._root && this._root.length)
      this._root = node;
  }
  this._x0 = x02;
  this._y0 = y02;
  this._x1 = x12;
  this._y1 = y12;
  return this;
}
function tree_data() {
  var data = [];
  this.visit(function(node) {
    if (!node.length)
      do
        data.push(node.data);
      while (node = node.next);
  });
  return data;
}
function tree_extent(_2) {
  return arguments.length ? this.cover(+_2[0][0], +_2[0][1]).cover(+_2[1][0], +_2[1][1]) : isNaN(this._x0) ? void 0 : [[this._x0, this._y0], [this._x1, this._y1]];
}
function Quad(node, x02, y02, x12, y12) {
  this.node = node;
  this.x0 = x02;
  this.y0 = y02;
  this.x1 = x12;
  this.y1 = y12;
}
function tree_find(x2, y2, radius) {
  var data, x02 = this._x0, y02 = this._y0, x12, y12, x22, y22, x3 = this._x1, y3 = this._y1, quads = [], node = this._root, q, i;
  if (node)
    quads.push(new Quad(node, x02, y02, x3, y3));
  if (radius == null)
    radius = Infinity;
  else {
    x02 = x2 - radius, y02 = y2 - radius;
    x3 = x2 + radius, y3 = y2 + radius;
    radius *= radius;
  }
  while (q = quads.pop()) {
    if (!(node = q.node) || (x12 = q.x0) > x3 || (y12 = q.y0) > y3 || (x22 = q.x1) < x02 || (y22 = q.y1) < y02)
      continue;
    if (node.length) {
      var xm = (x12 + x22) / 2, ym = (y12 + y22) / 2;
      quads.push(
        new Quad(node[3], xm, ym, x22, y22),
        new Quad(node[2], x12, ym, xm, y22),
        new Quad(node[1], xm, y12, x22, ym),
        new Quad(node[0], x12, y12, xm, ym)
      );
      if (i = (y2 >= ym) << 1 | x2 >= xm) {
        q = quads[quads.length - 1];
        quads[quads.length - 1] = quads[quads.length - 1 - i];
        quads[quads.length - 1 - i] = q;
      }
    } else {
      var dx = x2 - +this._x.call(null, node.data), dy = y2 - +this._y.call(null, node.data), d2 = dx * dx + dy * dy;
      if (d2 < radius) {
        var d = Math.sqrt(radius = d2);
        x02 = x2 - d, y02 = y2 - d;
        x3 = x2 + d, y3 = y2 + d;
        data = node.data;
      }
    }
  }
  return data;
}
function tree_remove(d) {
  if (isNaN(x2 = +this._x.call(null, d)) || isNaN(y2 = +this._y.call(null, d)))
    return this;
  var parent, node = this._root, retainer, previous, next, x02 = this._x0, y02 = this._y0, x12 = this._x1, y12 = this._y1, x2, y2, xm, ym, right2, bottom2, i, j;
  if (!node)
    return this;
  if (node.length)
    while (true) {
      if (right2 = x2 >= (xm = (x02 + x12) / 2))
        x02 = xm;
      else
        x12 = xm;
      if (bottom2 = y2 >= (ym = (y02 + y12) / 2))
        y02 = ym;
      else
        y12 = ym;
      if (!(parent = node, node = node[i = bottom2 << 1 | right2]))
        return this;
      if (!node.length)
        break;
      if (parent[i + 1 & 3] || parent[i + 2 & 3] || parent[i + 3 & 3])
        retainer = parent, j = i;
    }
  while (node.data !== d)
    if (!(previous = node, node = node.next))
      return this;
  if (next = node.next)
    delete node.next;
  if (previous)
    return next ? previous.next = next : delete previous.next, this;
  if (!parent)
    return this._root = next, this;
  next ? parent[i] = next : delete parent[i];
  if ((node = parent[0] || parent[1] || parent[2] || parent[3]) && node === (parent[3] || parent[2] || parent[1] || parent[0]) && !node.length) {
    if (retainer)
      retainer[j] = node;
    else
      this._root = node;
  }
  return this;
}
function removeAll(data) {
  for (var i = 0, n = data.length; i < n; ++i)
    this.remove(data[i]);
  return this;
}
function tree_root() {
  return this._root;
}
function tree_size() {
  var size = 0;
  this.visit(function(node) {
    if (!node.length)
      do
        ++size;
      while (node = node.next);
  });
  return size;
}
function tree_visit(callback) {
  var quads = [], q, node = this._root, child, x02, y02, x12, y12;
  if (node)
    quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    if (!callback(node = q.node, x02 = q.x0, y02 = q.y0, x12 = q.x1, y12 = q.y1) && node.length) {
      var xm = (x02 + x12) / 2, ym = (y02 + y12) / 2;
      if (child = node[3])
        quads.push(new Quad(child, xm, ym, x12, y12));
      if (child = node[2])
        quads.push(new Quad(child, x02, ym, xm, y12));
      if (child = node[1])
        quads.push(new Quad(child, xm, y02, x12, ym));
      if (child = node[0])
        quads.push(new Quad(child, x02, y02, xm, ym));
    }
  }
  return this;
}
function tree_visitAfter(callback) {
  var quads = [], next = [], q;
  if (this._root)
    quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));
  while (q = quads.pop()) {
    var node = q.node;
    if (node.length) {
      var child, x02 = q.x0, y02 = q.y0, x12 = q.x1, y12 = q.y1, xm = (x02 + x12) / 2, ym = (y02 + y12) / 2;
      if (child = node[0])
        quads.push(new Quad(child, x02, y02, xm, ym));
      if (child = node[1])
        quads.push(new Quad(child, xm, y02, x12, ym));
      if (child = node[2])
        quads.push(new Quad(child, x02, ym, xm, y12));
      if (child = node[3])
        quads.push(new Quad(child, xm, ym, x12, y12));
    }
    next.push(q);
  }
  while (q = next.pop()) {
    callback(q.node, q.x0, q.y0, q.x1, q.y1);
  }
  return this;
}
function defaultX(d) {
  return d[0];
}
function tree_x(_2) {
  return arguments.length ? (this._x = _2, this) : this._x;
}
function defaultY(d) {
  return d[1];
}
function tree_y(_2) {
  return arguments.length ? (this._y = _2, this) : this._y;
}
function quadtree(nodes, x2, y2) {
  var tree2 = new Quadtree(x2 == null ? defaultX : x2, y2 == null ? defaultY : y2, NaN, NaN, NaN, NaN);
  return nodes == null ? tree2 : tree2.addAll(nodes);
}
function Quadtree(x2, y2, x02, y02, x12, y12) {
  this._x = x2;
  this._y = y2;
  this._x0 = x02;
  this._y0 = y02;
  this._x1 = x12;
  this._y1 = y12;
  this._root = void 0;
}
function leaf_copy(leaf) {
  var copy2 = { data: leaf.data }, next = copy2;
  while (leaf = leaf.next)
    next = next.next = { data: leaf.data };
  return copy2;
}
var treeProto = quadtree.prototype = Quadtree.prototype;
treeProto.copy = function() {
  var copy2 = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1), node = this._root, nodes, child;
  if (!node)
    return copy2;
  if (!node.length)
    return copy2._root = leaf_copy(node), copy2;
  nodes = [{ source: node, target: copy2._root = new Array(4) }];
  while (node = nodes.pop()) {
    for (var i = 0; i < 4; ++i) {
      if (child = node.source[i]) {
        if (child.length)
          nodes.push({ source: child, target: node.target[i] = new Array(4) });
        else
          node.target[i] = leaf_copy(child);
      }
    }
  }
  return copy2;
};
treeProto.add = tree_add;
treeProto.addAll = addAll;
treeProto.cover = tree_cover;
treeProto.data = tree_data;
treeProto.extent = tree_extent;
treeProto.find = tree_find;
treeProto.remove = tree_remove;
treeProto.removeAll = removeAll;
treeProto.root = tree_root;
treeProto.size = tree_size;
treeProto.visit = tree_visit;
treeProto.visitAfter = tree_visitAfter;
treeProto.x = tree_x;
treeProto.y = tree_y;
function x$4(d) {
  return d.x + d.vx;
}
function y$4(d) {
  return d.y + d.vy;
}
function collide(radius) {
  var nodes, radii, strength = 1, iterations2 = 1;
  if (typeof radius !== "function")
    radius = constant$6(radius == null ? 1 : +radius);
  function force() {
    var i, n = nodes.length, tree2, node, xi, yi, ri, ri2;
    for (var k2 = 0; k2 < iterations2; ++k2) {
      tree2 = quadtree(nodes, x$4, y$4).visitAfter(prepare);
      for (i = 0; i < n; ++i) {
        node = nodes[i];
        ri = radii[node.index], ri2 = ri * ri;
        xi = node.x + node.vx;
        yi = node.y + node.vy;
        tree2.visit(apply);
      }
    }
    function apply(quad, x02, y02, x12, y12) {
      var data = quad.data, rj = quad.r, r = ri + rj;
      if (data) {
        if (data.index > node.index) {
          var x2 = xi - data.x - data.vx, y2 = yi - data.y - data.vy, l = x2 * x2 + y2 * y2;
          if (l < r * r) {
            if (x2 === 0)
              x2 = jiggle(), l += x2 * x2;
            if (y2 === 0)
              y2 = jiggle(), l += y2 * y2;
            l = (r - (l = Math.sqrt(l))) / l * strength;
            node.vx += (x2 *= l) * (r = (rj *= rj) / (ri2 + rj));
            node.vy += (y2 *= l) * r;
            data.vx -= x2 * (r = 1 - r);
            data.vy -= y2 * r;
          }
        }
        return;
      }
      return x02 > xi + r || x12 < xi - r || y02 > yi + r || y12 < yi - r;
    }
  }
  function prepare(quad) {
    if (quad.data)
      return quad.r = radii[quad.data.index];
    for (var i = quad.r = 0; i < 4; ++i) {
      if (quad[i] && quad[i].r > quad.r) {
        quad.r = quad[i].r;
      }
    }
  }
  function initialize() {
    if (!nodes)
      return;
    var i, n = nodes.length, node;
    radii = new Array(n);
    for (i = 0; i < n; ++i)
      node = nodes[i], radii[node.index] = +radius(node, i, nodes);
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize();
  };
  force.iterations = function(_2) {
    return arguments.length ? (iterations2 = +_2, force) : iterations2;
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = +_2, force) : strength;
  };
  force.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : radius;
  };
  return force;
}
function index$3(d) {
  return d.index;
}
function find(nodeById, nodeId) {
  var node = nodeById.get(nodeId);
  if (!node)
    throw new Error("missing: " + nodeId);
  return node;
}
function link$2(links) {
  var id2 = index$3, strength = defaultStrength, strengths, distance2 = constant$6(30), distances, nodes, count2, bias, iterations2 = 1;
  if (links == null)
    links = [];
  function defaultStrength(link2) {
    return 1 / Math.min(count2[link2.source.index], count2[link2.target.index]);
  }
  function force(alpha2) {
    for (var k2 = 0, n = links.length; k2 < iterations2; ++k2) {
      for (var i = 0, link2, source, target, x2, y2, l, b; i < n; ++i) {
        link2 = links[i], source = link2.source, target = link2.target;
        x2 = target.x + target.vx - source.x - source.vx || jiggle();
        y2 = target.y + target.vy - source.y - source.vy || jiggle();
        l = Math.sqrt(x2 * x2 + y2 * y2);
        l = (l - distances[i]) / l * alpha2 * strengths[i];
        x2 *= l, y2 *= l;
        target.vx -= x2 * (b = bias[i]);
        target.vy -= y2 * b;
        source.vx += x2 * (b = 1 - b);
        source.vy += y2 * b;
      }
    }
  }
  function initialize() {
    if (!nodes)
      return;
    var i, n = nodes.length, m = links.length, nodeById = map$2(nodes, id2), link2;
    for (i = 0, count2 = new Array(n); i < m; ++i) {
      link2 = links[i], link2.index = i;
      if (typeof link2.source !== "object")
        link2.source = find(nodeById, link2.source);
      if (typeof link2.target !== "object")
        link2.target = find(nodeById, link2.target);
      count2[link2.source.index] = (count2[link2.source.index] || 0) + 1;
      count2[link2.target.index] = (count2[link2.target.index] || 0) + 1;
    }
    for (i = 0, bias = new Array(m); i < m; ++i) {
      link2 = links[i], bias[i] = count2[link2.source.index] / (count2[link2.source.index] + count2[link2.target.index]);
    }
    strengths = new Array(m), initializeStrength();
    distances = new Array(m), initializeDistance();
  }
  function initializeStrength() {
    if (!nodes)
      return;
    for (var i = 0, n = links.length; i < n; ++i) {
      strengths[i] = +strength(links[i], i, links);
    }
  }
  function initializeDistance() {
    if (!nodes)
      return;
    for (var i = 0, n = links.length; i < n; ++i) {
      distances[i] = +distance2(links[i], i, links);
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize();
  };
  force.links = function(_2) {
    return arguments.length ? (links = _2, initialize(), force) : links;
  };
  force.id = function(_2) {
    return arguments.length ? (id2 = _2, force) : id2;
  };
  force.iterations = function(_2) {
    return arguments.length ? (iterations2 = +_2, force) : iterations2;
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant$6(+_2), initializeStrength(), force) : strength;
  };
  force.distance = function(_2) {
    return arguments.length ? (distance2 = typeof _2 === "function" ? _2 : constant$6(+_2), initializeDistance(), force) : distance2;
  };
  return force;
}
function x$3(d) {
  return d.x;
}
function y$3(d) {
  return d.y;
}
var initialRadius = 10, initialAngle = Math.PI * (3 - Math.sqrt(5));
function simulation(nodes) {
  var simulation2, alpha2 = 1, alphaMin = 1e-3, alphaDecay = 1 - Math.pow(alphaMin, 1 / 300), alphaTarget = 0, velocityDecay = 0.6, forces = map$2(), stepper = timer(step2), event2 = dispatch("tick", "end");
  if (nodes == null)
    nodes = [];
  function step2() {
    tick();
    event2.call("tick", simulation2);
    if (alpha2 < alphaMin) {
      stepper.stop();
      event2.call("end", simulation2);
    }
  }
  function tick(iterations2) {
    var i, n = nodes.length, node;
    if (iterations2 === void 0)
      iterations2 = 1;
    for (var k2 = 0; k2 < iterations2; ++k2) {
      alpha2 += (alphaTarget - alpha2) * alphaDecay;
      forces.each(function(force) {
        force(alpha2);
      });
      for (i = 0; i < n; ++i) {
        node = nodes[i];
        if (node.fx == null)
          node.x += node.vx *= velocityDecay;
        else
          node.x = node.fx, node.vx = 0;
        if (node.fy == null)
          node.y += node.vy *= velocityDecay;
        else
          node.y = node.fy, node.vy = 0;
      }
    }
    return simulation2;
  }
  function initializeNodes() {
    for (var i = 0, n = nodes.length, node; i < n; ++i) {
      node = nodes[i], node.index = i;
      if (node.fx != null)
        node.x = node.fx;
      if (node.fy != null)
        node.y = node.fy;
      if (isNaN(node.x) || isNaN(node.y)) {
        var radius = initialRadius * Math.sqrt(i), angle2 = i * initialAngle;
        node.x = radius * Math.cos(angle2);
        node.y = radius * Math.sin(angle2);
      }
      if (isNaN(node.vx) || isNaN(node.vy)) {
        node.vx = node.vy = 0;
      }
    }
  }
  function initializeForce(force) {
    if (force.initialize)
      force.initialize(nodes);
    return force;
  }
  initializeNodes();
  return simulation2 = {
    tick,
    restart: function() {
      return stepper.restart(step2), simulation2;
    },
    stop: function() {
      return stepper.stop(), simulation2;
    },
    nodes: function(_2) {
      return arguments.length ? (nodes = _2, initializeNodes(), forces.each(initializeForce), simulation2) : nodes;
    },
    alpha: function(_2) {
      return arguments.length ? (alpha2 = +_2, simulation2) : alpha2;
    },
    alphaMin: function(_2) {
      return arguments.length ? (alphaMin = +_2, simulation2) : alphaMin;
    },
    alphaDecay: function(_2) {
      return arguments.length ? (alphaDecay = +_2, simulation2) : +alphaDecay;
    },
    alphaTarget: function(_2) {
      return arguments.length ? (alphaTarget = +_2, simulation2) : alphaTarget;
    },
    velocityDecay: function(_2) {
      return arguments.length ? (velocityDecay = 1 - _2, simulation2) : 1 - velocityDecay;
    },
    force: function(name, _2) {
      return arguments.length > 1 ? (_2 == null ? forces.remove(name) : forces.set(name, initializeForce(_2)), simulation2) : forces.get(name);
    },
    find: function(x2, y2, radius) {
      var i = 0, n = nodes.length, dx, dy, d2, node, closest;
      if (radius == null)
        radius = Infinity;
      else
        radius *= radius;
      for (i = 0; i < n; ++i) {
        node = nodes[i];
        dx = x2 - node.x;
        dy = y2 - node.y;
        d2 = dx * dx + dy * dy;
        if (d2 < radius)
          closest = node, radius = d2;
      }
      return closest;
    },
    on: function(name, _2) {
      return arguments.length > 1 ? (event2.on(name, _2), simulation2) : event2.on(name);
    }
  };
}
function manyBody() {
  var nodes, node, alpha2, strength = constant$6(-30), strengths, distanceMin2 = 1, distanceMax2 = Infinity, theta2 = 0.81;
  function force(_2) {
    var i, n = nodes.length, tree2 = quadtree(nodes, x$3, y$3).visitAfter(accumulate);
    for (alpha2 = _2, i = 0; i < n; ++i)
      node = nodes[i], tree2.visit(apply);
  }
  function initialize() {
    if (!nodes)
      return;
    var i, n = nodes.length, node2;
    strengths = new Array(n);
    for (i = 0; i < n; ++i)
      node2 = nodes[i], strengths[node2.index] = +strength(node2, i, nodes);
  }
  function accumulate(quad) {
    var strength2 = 0, q, c2, weight = 0, x2, y2, i;
    if (quad.length) {
      for (x2 = y2 = i = 0; i < 4; ++i) {
        if ((q = quad[i]) && (c2 = Math.abs(q.value))) {
          strength2 += q.value, weight += c2, x2 += c2 * q.x, y2 += c2 * q.y;
        }
      }
      quad.x = x2 / weight;
      quad.y = y2 / weight;
    } else {
      q = quad;
      q.x = q.data.x;
      q.y = q.data.y;
      do
        strength2 += strengths[q.data.index];
      while (q = q.next);
    }
    quad.value = strength2;
  }
  function apply(quad, x12, _2, x2) {
    if (!quad.value)
      return true;
    var x3 = quad.x - node.x, y2 = quad.y - node.y, w = x2 - x12, l = x3 * x3 + y2 * y2;
    if (w * w / theta2 < l) {
      if (l < distanceMax2) {
        if (x3 === 0)
          x3 = jiggle(), l += x3 * x3;
        if (y2 === 0)
          y2 = jiggle(), l += y2 * y2;
        if (l < distanceMin2)
          l = Math.sqrt(distanceMin2 * l);
        node.vx += x3 * quad.value * alpha2 / l;
        node.vy += y2 * quad.value * alpha2 / l;
      }
      return true;
    } else if (quad.length || l >= distanceMax2)
      return;
    if (quad.data !== node || quad.next) {
      if (x3 === 0)
        x3 = jiggle(), l += x3 * x3;
      if (y2 === 0)
        y2 = jiggle(), l += y2 * y2;
      if (l < distanceMin2)
        l = Math.sqrt(distanceMin2 * l);
    }
    do
      if (quad.data !== node) {
        w = strengths[quad.data.index] * alpha2 / l;
        node.vx += x3 * w;
        node.vy += y2 * w;
      }
    while (quad = quad.next);
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : strength;
  };
  force.distanceMin = function(_2) {
    return arguments.length ? (distanceMin2 = _2 * _2, force) : Math.sqrt(distanceMin2);
  };
  force.distanceMax = function(_2) {
    return arguments.length ? (distanceMax2 = _2 * _2, force) : Math.sqrt(distanceMax2);
  };
  force.theta = function(_2) {
    return arguments.length ? (theta2 = _2 * _2, force) : Math.sqrt(theta2);
  };
  return force;
}
function radial(radius, x2, y2) {
  var nodes, strength = constant$6(0.1), strengths, radiuses;
  if (typeof radius !== "function")
    radius = constant$6(+radius);
  if (x2 == null)
    x2 = 0;
  if (y2 == null)
    y2 = 0;
  function force(alpha2) {
    for (var i = 0, n = nodes.length; i < n; ++i) {
      var node = nodes[i], dx = node.x - x2 || 1e-6, dy = node.y - y2 || 1e-6, r = Math.sqrt(dx * dx + dy * dy), k2 = (radiuses[i] - r) * strengths[i] * alpha2 / r;
      node.vx += dx * k2;
      node.vy += dy * k2;
    }
  }
  function initialize() {
    if (!nodes)
      return;
    var i, n = nodes.length;
    strengths = new Array(n);
    radiuses = new Array(n);
    for (i = 0; i < n; ++i) {
      radiuses[i] = +radius(nodes[i], i, nodes);
      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);
    }
  }
  force.initialize = function(_2) {
    nodes = _2, initialize();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : strength;
  };
  force.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : radius;
  };
  force.x = function(_2) {
    return arguments.length ? (x2 = +_2, force) : x2;
  };
  force.y = function(_2) {
    return arguments.length ? (y2 = +_2, force) : y2;
  };
  return force;
}
function x$2(x2) {
  var strength = constant$6(0.1), nodes, strengths, xz;
  if (typeof x2 !== "function")
    x2 = constant$6(x2 == null ? 0 : +x2);
  function force(alpha2) {
    for (var i = 0, n = nodes.length, node; i < n; ++i) {
      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha2;
    }
  }
  function initialize() {
    if (!nodes)
      return;
    var i, n = nodes.length;
    strengths = new Array(n);
    xz = new Array(n);
    for (i = 0; i < n; ++i) {
      strengths[i] = isNaN(xz[i] = +x2(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : strength;
  };
  force.x = function(_2) {
    return arguments.length ? (x2 = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : x2;
  };
  return force;
}
function y$2(y2) {
  var strength = constant$6(0.1), nodes, strengths, yz;
  if (typeof y2 !== "function")
    y2 = constant$6(y2 == null ? 0 : +y2);
  function force(alpha2) {
    for (var i = 0, n = nodes.length, node; i < n; ++i) {
      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha2;
    }
  }
  function initialize() {
    if (!nodes)
      return;
    var i, n = nodes.length;
    strengths = new Array(n);
    yz = new Array(n);
    for (i = 0; i < n; ++i) {
      strengths[i] = isNaN(yz[i] = +y2(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);
    }
  }
  force.initialize = function(_2) {
    nodes = _2;
    initialize();
  };
  force.strength = function(_2) {
    return arguments.length ? (strength = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : strength;
  };
  force.y = function(_2) {
    return arguments.length ? (y2 = typeof _2 === "function" ? _2 : constant$6(+_2), initialize(), force) : y2;
  };
  return force;
}
function formatDecimal(x2) {
  return Math.abs(x2 = Math.round(x2)) >= 1e21 ? x2.toLocaleString("en").replace(/,/g, "") : x2.toString(10);
}
function formatDecimalParts(x2, p) {
  if ((i = (x2 = p ? x2.toExponential(p - 1) : x2.toExponential()).indexOf("e")) < 0)
    return null;
  var i, coefficient = x2.slice(0, i);
  return [
    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,
    +x2.slice(i + 1)
  ];
}
function exponent(x2) {
  return x2 = formatDecimalParts(Math.abs(x2)), x2 ? x2[1] : NaN;
}
function formatGroup(grouping, thousands) {
  return function(value, width) {
    var i = value.length, t = [], j = 0, g = grouping[0], length2 = 0;
    while (i > 0 && g > 0) {
      if (length2 + g + 1 > width)
        g = Math.max(1, width - length2);
      t.push(value.substring(i -= g, i + g));
      if ((length2 += g + 1) > width)
        break;
      g = grouping[j = (j + 1) % grouping.length];
    }
    return t.reverse().join(thousands);
  };
}
function formatNumerals(numerals) {
  return function(value) {
    return value.replace(/[0-9]/g, function(i) {
      return numerals[+i];
    });
  };
}
var re = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function formatSpecifier(specifier) {
  if (!(match = re.exec(specifier)))
    throw new Error("invalid format: " + specifier);
  var match;
  return new FormatSpecifier({
    fill: match[1],
    align: match[2],
    sign: match[3],
    symbol: match[4],
    zero: match[5],
    width: match[6],
    comma: match[7],
    precision: match[8] && match[8].slice(1),
    trim: match[9],
    type: match[10]
  });
}
formatSpecifier.prototype = FormatSpecifier.prototype;
function FormatSpecifier(specifier) {
  this.fill = specifier.fill === void 0 ? " " : specifier.fill + "";
  this.align = specifier.align === void 0 ? ">" : specifier.align + "";
  this.sign = specifier.sign === void 0 ? "-" : specifier.sign + "";
  this.symbol = specifier.symbol === void 0 ? "" : specifier.symbol + "";
  this.zero = !!specifier.zero;
  this.width = specifier.width === void 0 ? void 0 : +specifier.width;
  this.comma = !!specifier.comma;
  this.precision = specifier.precision === void 0 ? void 0 : +specifier.precision;
  this.trim = !!specifier.trim;
  this.type = specifier.type === void 0 ? "" : specifier.type + "";
}
FormatSpecifier.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type;
};
function formatTrim(s2) {
  out:
    for (var n = s2.length, i = 1, i0 = -1, i1; i < n; ++i) {
      switch (s2[i]) {
        case ".":
          i0 = i1 = i;
          break;
        case "0":
          if (i0 === 0)
            i0 = i;
          i1 = i;
          break;
        default:
          if (!+s2[i])
            break out;
          if (i0 > 0)
            i0 = 0;
          break;
      }
    }
  return i0 > 0 ? s2.slice(0, i0) + s2.slice(i1 + 1) : s2;
}
var prefixExponent;
function formatPrefixAuto(x2, p) {
  var d = formatDecimalParts(x2, p);
  if (!d)
    return x2 + "";
  var coefficient = d[0], exponent2 = d[1], i = exponent2 - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent2 / 3))) * 3) + 1, n = coefficient.length;
  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join("0") : i > 0 ? coefficient.slice(0, i) + "." + coefficient.slice(i) : "0." + new Array(1 - i).join("0") + formatDecimalParts(x2, Math.max(0, p + i - 1))[0];
}
function formatRounded(x2, p) {
  var d = formatDecimalParts(x2, p);
  if (!d)
    return x2 + "";
  var coefficient = d[0], exponent2 = d[1];
  return exponent2 < 0 ? "0." + new Array(-exponent2).join("0") + coefficient : coefficient.length > exponent2 + 1 ? coefficient.slice(0, exponent2 + 1) + "." + coefficient.slice(exponent2 + 1) : coefficient + new Array(exponent2 - coefficient.length + 2).join("0");
}
const formatTypes = {
  "%": function(x2, p) {
    return (x2 * 100).toFixed(p);
  },
  "b": function(x2) {
    return Math.round(x2).toString(2);
  },
  "c": function(x2) {
    return x2 + "";
  },
  "d": formatDecimal,
  "e": function(x2, p) {
    return x2.toExponential(p);
  },
  "f": function(x2, p) {
    return x2.toFixed(p);
  },
  "g": function(x2, p) {
    return x2.toPrecision(p);
  },
  "o": function(x2) {
    return Math.round(x2).toString(8);
  },
  "p": function(x2, p) {
    return formatRounded(x2 * 100, p);
  },
  "r": formatRounded,
  "s": formatPrefixAuto,
  "X": function(x2) {
    return Math.round(x2).toString(16).toUpperCase();
  },
  "x": function(x2) {
    return Math.round(x2).toString(16);
  }
};
function identity$6(x2) {
  return x2;
}
var map$1 = Array.prototype.map, prefixes = ["y", "z", "a", "f", "p", "n", "\xB5", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function formatLocale$1(locale2) {
  var group2 = locale2.grouping === void 0 || locale2.thousands === void 0 ? identity$6 : formatGroup(map$1.call(locale2.grouping, Number), locale2.thousands + ""), currencyPrefix = locale2.currency === void 0 ? "" : locale2.currency[0] + "", currencySuffix = locale2.currency === void 0 ? "" : locale2.currency[1] + "", decimal = locale2.decimal === void 0 ? "." : locale2.decimal + "", numerals = locale2.numerals === void 0 ? identity$6 : formatNumerals(map$1.call(locale2.numerals, String)), percent = locale2.percent === void 0 ? "%" : locale2.percent + "", minus = locale2.minus === void 0 ? "-" : locale2.minus + "", nan = locale2.nan === void 0 ? "NaN" : locale2.nan + "";
  function newFormat(specifier) {
    specifier = formatSpecifier(specifier);
    var fill = specifier.fill, align = specifier.align, sign2 = specifier.sign, symbol2 = specifier.symbol, zero2 = specifier.zero, width = specifier.width, comma = specifier.comma, precision = specifier.precision, trim = specifier.trim, type2 = specifier.type;
    if (type2 === "n")
      comma = true, type2 = "g";
    else if (!formatTypes[type2])
      precision === void 0 && (precision = 12), trim = true, type2 = "g";
    if (zero2 || fill === "0" && align === "=")
      zero2 = true, fill = "0", align = "=";
    var prefix2 = symbol2 === "$" ? currencyPrefix : symbol2 === "#" && /[boxX]/.test(type2) ? "0" + type2.toLowerCase() : "", suffix = symbol2 === "$" ? currencySuffix : /[%p]/.test(type2) ? percent : "";
    var formatType = formatTypes[type2], maybeSuffix = /[defgprs%]/.test(type2);
    precision = precision === void 0 ? 6 : /[gprs]/.test(type2) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));
    function format2(value) {
      var valuePrefix = prefix2, valueSuffix = suffix, i, n, c2;
      if (type2 === "c") {
        valueSuffix = formatType(value) + valueSuffix;
        value = "";
      } else {
        value = +value;
        var valueNegative = value < 0 || 1 / value < 0;
        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);
        if (trim)
          value = formatTrim(value);
        if (valueNegative && +value === 0 && sign2 !== "+")
          valueNegative = false;
        valuePrefix = (valueNegative ? sign2 === "(" ? sign2 : minus : sign2 === "-" || sign2 === "(" ? "" : sign2) + valuePrefix;
        valueSuffix = (type2 === "s" ? prefixes[8 + prefixExponent / 3] : "") + valueSuffix + (valueNegative && sign2 === "(" ? ")" : "");
        if (maybeSuffix) {
          i = -1, n = value.length;
          while (++i < n) {
            if (c2 = value.charCodeAt(i), 48 > c2 || c2 > 57) {
              valueSuffix = (c2 === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;
              value = value.slice(0, i);
              break;
            }
          }
        }
      }
      if (comma && !zero2)
        value = group2(value, Infinity);
      var length2 = valuePrefix.length + value.length + valueSuffix.length, padding = length2 < width ? new Array(width - length2 + 1).join(fill) : "";
      if (comma && zero2)
        value = group2(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = "";
      switch (align) {
        case "<":
          value = valuePrefix + value + valueSuffix + padding;
          break;
        case "=":
          value = valuePrefix + padding + value + valueSuffix;
          break;
        case "^":
          value = padding.slice(0, length2 = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length2);
          break;
        default:
          value = padding + valuePrefix + value + valueSuffix;
          break;
      }
      return numerals(value);
    }
    format2.toString = function() {
      return specifier + "";
    };
    return format2;
  }
  function formatPrefix2(specifier, value) {
    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = "f", specifier)), e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3, k2 = Math.pow(10, -e), prefix2 = prefixes[8 + e / 3];
    return function(value2) {
      return f(k2 * value2) + prefix2;
    };
  }
  return {
    format: newFormat,
    formatPrefix: formatPrefix2
  };
}
var locale$1;
var format;
var formatPrefix;
defaultLocale$1({
  decimal: ".",
  thousands: ",",
  grouping: [3],
  currency: ["$", ""],
  minus: "-"
});
function defaultLocale$1(definition) {
  locale$1 = formatLocale$1(definition);
  format = locale$1.format;
  formatPrefix = locale$1.formatPrefix;
  return locale$1;
}
function precisionFixed(step2) {
  return Math.max(0, -exponent(Math.abs(step2)));
}
function precisionPrefix(step2, value) {
  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step2)));
}
function precisionRound(step2, max2) {
  step2 = Math.abs(step2), max2 = Math.abs(max2) - step2;
  return Math.max(0, exponent(max2) - exponent(step2)) + 1;
}
function adder() {
  return new Adder();
}
function Adder() {
  this.reset();
}
Adder.prototype = {
  constructor: Adder,
  reset: function() {
    this.s = this.t = 0;
  },
  add: function(y2) {
    add(temp, y2, this.t);
    add(this, temp.s, this.s);
    if (this.s)
      this.t += temp.t;
    else
      this.s = temp.t;
  },
  valueOf: function() {
    return this.s;
  }
};
var temp = new Adder();
function add(adder2, a2, b) {
  var x2 = adder2.s = a2 + b, bv = x2 - a2, av = x2 - bv;
  adder2.t = a2 - av + (b - bv);
}
var epsilon$2 = 1e-6;
var epsilon2$1 = 1e-12;
var pi$1 = Math.PI;
var halfPi$1 = pi$1 / 2;
var quarterPi = pi$1 / 4;
var tau$1 = pi$1 * 2;
var degrees = 180 / pi$1;
var radians = pi$1 / 180;
var abs$1 = Math.abs;
var atan = Math.atan;
var atan2$1 = Math.atan2;
var cos$1 = Math.cos;
var ceil = Math.ceil;
var exp = Math.exp;
var log$1 = Math.log;
var pow$1 = Math.pow;
var sin$1 = Math.sin;
var sign$1 = Math.sign || function(x2) {
  return x2 > 0 ? 1 : x2 < 0 ? -1 : 0;
};
var sqrt$2 = Math.sqrt;
var tan = Math.tan;
function acos$1(x2) {
  return x2 > 1 ? 0 : x2 < -1 ? pi$1 : Math.acos(x2);
}
function asin$1(x2) {
  return x2 > 1 ? halfPi$1 : x2 < -1 ? -halfPi$1 : Math.asin(x2);
}
function haversin(x2) {
  return (x2 = sin$1(x2 / 2)) * x2;
}
function noop$1() {
}
function streamGeometry(geometry, stream) {
  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {
    streamGeometryType[geometry.type](geometry, stream);
  }
}
var streamObjectType = {
  Feature: function(object2, stream) {
    streamGeometry(object2.geometry, stream);
  },
  FeatureCollection: function(object2, stream) {
    var features = object2.features, i = -1, n = features.length;
    while (++i < n)
      streamGeometry(features[i].geometry, stream);
  }
};
var streamGeometryType = {
  Sphere: function(object2, stream) {
    stream.sphere();
  },
  Point: function(object2, stream) {
    object2 = object2.coordinates;
    stream.point(object2[0], object2[1], object2[2]);
  },
  MultiPoint: function(object2, stream) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      object2 = coordinates2[i], stream.point(object2[0], object2[1], object2[2]);
  },
  LineString: function(object2, stream) {
    streamLine(object2.coordinates, stream, 0);
  },
  MultiLineString: function(object2, stream) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      streamLine(coordinates2[i], stream, 0);
  },
  Polygon: function(object2, stream) {
    streamPolygon(object2.coordinates, stream);
  },
  MultiPolygon: function(object2, stream) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      streamPolygon(coordinates2[i], stream);
  },
  GeometryCollection: function(object2, stream) {
    var geometries = object2.geometries, i = -1, n = geometries.length;
    while (++i < n)
      streamGeometry(geometries[i], stream);
  }
};
function streamLine(coordinates2, stream, closed) {
  var i = -1, n = coordinates2.length - closed, coordinate;
  stream.lineStart();
  while (++i < n)
    coordinate = coordinates2[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);
  stream.lineEnd();
}
function streamPolygon(coordinates2, stream) {
  var i = -1, n = coordinates2.length;
  stream.polygonStart();
  while (++i < n)
    streamLine(coordinates2[i], stream, 1);
  stream.polygonEnd();
}
function geoStream(object2, stream) {
  if (object2 && streamObjectType.hasOwnProperty(object2.type)) {
    streamObjectType[object2.type](object2, stream);
  } else {
    streamGeometry(object2, stream);
  }
}
var areaRingSum$1 = adder();
var areaSum$1 = adder(), lambda00$2, phi00$2, lambda0$2, cosPhi0$1, sinPhi0$1;
var areaStream$1 = {
  point: noop$1,
  lineStart: noop$1,
  lineEnd: noop$1,
  polygonStart: function() {
    areaRingSum$1.reset();
    areaStream$1.lineStart = areaRingStart$1;
    areaStream$1.lineEnd = areaRingEnd$1;
  },
  polygonEnd: function() {
    var areaRing = +areaRingSum$1;
    areaSum$1.add(areaRing < 0 ? tau$1 + areaRing : areaRing);
    this.lineStart = this.lineEnd = this.point = noop$1;
  },
  sphere: function() {
    areaSum$1.add(tau$1);
  }
};
function areaRingStart$1() {
  areaStream$1.point = areaPointFirst$1;
}
function areaRingEnd$1() {
  areaPoint$1(lambda00$2, phi00$2);
}
function areaPointFirst$1(lambda, phi2) {
  areaStream$1.point = areaPoint$1;
  lambda00$2 = lambda, phi00$2 = phi2;
  lambda *= radians, phi2 *= radians;
  lambda0$2 = lambda, cosPhi0$1 = cos$1(phi2 = phi2 / 2 + quarterPi), sinPhi0$1 = sin$1(phi2);
}
function areaPoint$1(lambda, phi2) {
  lambda *= radians, phi2 *= radians;
  phi2 = phi2 / 2 + quarterPi;
  var dLambda = lambda - lambda0$2, sdLambda = dLambda >= 0 ? 1 : -1, adLambda = sdLambda * dLambda, cosPhi = cos$1(phi2), sinPhi = sin$1(phi2), k2 = sinPhi0$1 * sinPhi, u = cosPhi0$1 * cosPhi + k2 * cos$1(adLambda), v = k2 * sdLambda * sin$1(adLambda);
  areaRingSum$1.add(atan2$1(v, u));
  lambda0$2 = lambda, cosPhi0$1 = cosPhi, sinPhi0$1 = sinPhi;
}
function area$2(object2) {
  areaSum$1.reset();
  geoStream(object2, areaStream$1);
  return areaSum$1 * 2;
}
function spherical(cartesian2) {
  return [atan2$1(cartesian2[1], cartesian2[0]), asin$1(cartesian2[2])];
}
function cartesian(spherical2) {
  var lambda = spherical2[0], phi2 = spherical2[1], cosPhi = cos$1(phi2);
  return [cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi2)];
}
function cartesianDot(a2, b) {
  return a2[0] * b[0] + a2[1] * b[1] + a2[2] * b[2];
}
function cartesianCross(a2, b) {
  return [a2[1] * b[2] - a2[2] * b[1], a2[2] * b[0] - a2[0] * b[2], a2[0] * b[1] - a2[1] * b[0]];
}
function cartesianAddInPlace(a2, b) {
  a2[0] += b[0], a2[1] += b[1], a2[2] += b[2];
}
function cartesianScale(vector, k2) {
  return [vector[0] * k2, vector[1] * k2, vector[2] * k2];
}
function cartesianNormalizeInPlace(d) {
  var l = sqrt$2(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);
  d[0] /= l, d[1] /= l, d[2] /= l;
}
var lambda0$1, phi0, lambda1, phi1, lambda2, lambda00$1, phi00$1, p0, deltaSum = adder(), ranges, range;
var boundsStream$2 = {
  point: boundsPoint$1,
  lineStart: boundsLineStart,
  lineEnd: boundsLineEnd,
  polygonStart: function() {
    boundsStream$2.point = boundsRingPoint;
    boundsStream$2.lineStart = boundsRingStart;
    boundsStream$2.lineEnd = boundsRingEnd;
    deltaSum.reset();
    areaStream$1.polygonStart();
  },
  polygonEnd: function() {
    areaStream$1.polygonEnd();
    boundsStream$2.point = boundsPoint$1;
    boundsStream$2.lineStart = boundsLineStart;
    boundsStream$2.lineEnd = boundsLineEnd;
    if (areaRingSum$1 < 0)
      lambda0$1 = -(lambda1 = 180), phi0 = -(phi1 = 90);
    else if (deltaSum > epsilon$2)
      phi1 = 90;
    else if (deltaSum < -epsilon$2)
      phi0 = -90;
    range[0] = lambda0$1, range[1] = lambda1;
  },
  sphere: function() {
    lambda0$1 = -(lambda1 = 180), phi0 = -(phi1 = 90);
  }
};
function boundsPoint$1(lambda, phi2) {
  ranges.push(range = [lambda0$1 = lambda, lambda1 = lambda]);
  if (phi2 < phi0)
    phi0 = phi2;
  if (phi2 > phi1)
    phi1 = phi2;
}
function linePoint(lambda, phi2) {
  var p = cartesian([lambda * radians, phi2 * radians]);
  if (p0) {
    var normal2 = cartesianCross(p0, p), equatorial = [normal2[1], -normal2[0], 0], inflection = cartesianCross(equatorial, normal2);
    cartesianNormalizeInPlace(inflection);
    inflection = spherical(inflection);
    var delta = lambda - lambda2, sign2 = delta > 0 ? 1 : -1, lambdai = inflection[0] * degrees * sign2, phii, antimeridian = abs$1(delta) > 180;
    if (antimeridian ^ (sign2 * lambda2 < lambdai && lambdai < sign2 * lambda)) {
      phii = inflection[1] * degrees;
      if (phii > phi1)
        phi1 = phii;
    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign2 * lambda2 < lambdai && lambdai < sign2 * lambda)) {
      phii = -inflection[1] * degrees;
      if (phii < phi0)
        phi0 = phii;
    } else {
      if (phi2 < phi0)
        phi0 = phi2;
      if (phi2 > phi1)
        phi1 = phi2;
    }
    if (antimeridian) {
      if (lambda < lambda2) {
        if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1))
          lambda1 = lambda;
      } else {
        if (angle(lambda, lambda1) > angle(lambda0$1, lambda1))
          lambda0$1 = lambda;
      }
    } else {
      if (lambda1 >= lambda0$1) {
        if (lambda < lambda0$1)
          lambda0$1 = lambda;
        if (lambda > lambda1)
          lambda1 = lambda;
      } else {
        if (lambda > lambda2) {
          if (angle(lambda0$1, lambda) > angle(lambda0$1, lambda1))
            lambda1 = lambda;
        } else {
          if (angle(lambda, lambda1) > angle(lambda0$1, lambda1))
            lambda0$1 = lambda;
        }
      }
    }
  } else {
    ranges.push(range = [lambda0$1 = lambda, lambda1 = lambda]);
  }
  if (phi2 < phi0)
    phi0 = phi2;
  if (phi2 > phi1)
    phi1 = phi2;
  p0 = p, lambda2 = lambda;
}
function boundsLineStart() {
  boundsStream$2.point = linePoint;
}
function boundsLineEnd() {
  range[0] = lambda0$1, range[1] = lambda1;
  boundsStream$2.point = boundsPoint$1;
  p0 = null;
}
function boundsRingPoint(lambda, phi2) {
  if (p0) {
    var delta = lambda - lambda2;
    deltaSum.add(abs$1(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);
  } else {
    lambda00$1 = lambda, phi00$1 = phi2;
  }
  areaStream$1.point(lambda, phi2);
  linePoint(lambda, phi2);
}
function boundsRingStart() {
  areaStream$1.lineStart();
}
function boundsRingEnd() {
  boundsRingPoint(lambda00$1, phi00$1);
  areaStream$1.lineEnd();
  if (abs$1(deltaSum) > epsilon$2)
    lambda0$1 = -(lambda1 = 180);
  range[0] = lambda0$1, range[1] = lambda1;
  p0 = null;
}
function angle(lambda02, lambda12) {
  return (lambda12 -= lambda02) < 0 ? lambda12 + 360 : lambda12;
}
function rangeCompare(a2, b) {
  return a2[0] - b[0];
}
function rangeContains(range2, x2) {
  return range2[0] <= range2[1] ? range2[0] <= x2 && x2 <= range2[1] : x2 < range2[0] || range2[1] < x2;
}
function bounds(feature) {
  var i, n, a2, b, merged, deltaMax, delta;
  phi1 = lambda1 = -(lambda0$1 = phi0 = Infinity);
  ranges = [];
  geoStream(feature, boundsStream$2);
  if (n = ranges.length) {
    ranges.sort(rangeCompare);
    for (i = 1, a2 = ranges[0], merged = [a2]; i < n; ++i) {
      b = ranges[i];
      if (rangeContains(a2, b[0]) || rangeContains(a2, b[1])) {
        if (angle(a2[0], b[1]) > angle(a2[0], a2[1]))
          a2[1] = b[1];
        if (angle(b[0], a2[1]) > angle(a2[0], a2[1]))
          a2[0] = b[0];
      } else {
        merged.push(a2 = b);
      }
    }
    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a2 = merged[n]; i <= n; a2 = b, ++i) {
      b = merged[i];
      if ((delta = angle(a2[1], b[0])) > deltaMax)
        deltaMax = delta, lambda0$1 = b[0], lambda1 = a2[1];
    }
  }
  ranges = range = null;
  return lambda0$1 === Infinity || phi0 === Infinity ? [[NaN, NaN], [NaN, NaN]] : [[lambda0$1, phi0], [lambda1, phi1]];
}
var W0, W1, X0$1, Y0$1, Z0$1, X1$1, Y1$1, Z1$1, X2$1, Y2$1, Z2$1, lambda00, phi00, x0$4, y0$4, z0;
var centroidStream$1 = {
  sphere: noop$1,
  point: centroidPoint$1,
  lineStart: centroidLineStart$1,
  lineEnd: centroidLineEnd$1,
  polygonStart: function() {
    centroidStream$1.lineStart = centroidRingStart$1;
    centroidStream$1.lineEnd = centroidRingEnd$1;
  },
  polygonEnd: function() {
    centroidStream$1.lineStart = centroidLineStart$1;
    centroidStream$1.lineEnd = centroidLineEnd$1;
  }
};
function centroidPoint$1(lambda, phi2) {
  lambda *= radians, phi2 *= radians;
  var cosPhi = cos$1(phi2);
  centroidPointCartesian(cosPhi * cos$1(lambda), cosPhi * sin$1(lambda), sin$1(phi2));
}
function centroidPointCartesian(x2, y2, z) {
  ++W0;
  X0$1 += (x2 - X0$1) / W0;
  Y0$1 += (y2 - Y0$1) / W0;
  Z0$1 += (z - Z0$1) / W0;
}
function centroidLineStart$1() {
  centroidStream$1.point = centroidLinePointFirst;
}
function centroidLinePointFirst(lambda, phi2) {
  lambda *= radians, phi2 *= radians;
  var cosPhi = cos$1(phi2);
  x0$4 = cosPhi * cos$1(lambda);
  y0$4 = cosPhi * sin$1(lambda);
  z0 = sin$1(phi2);
  centroidStream$1.point = centroidLinePoint;
  centroidPointCartesian(x0$4, y0$4, z0);
}
function centroidLinePoint(lambda, phi2) {
  lambda *= radians, phi2 *= radians;
  var cosPhi = cos$1(phi2), x2 = cosPhi * cos$1(lambda), y2 = cosPhi * sin$1(lambda), z = sin$1(phi2), w = atan2$1(sqrt$2((w = y0$4 * z - z0 * y2) * w + (w = z0 * x2 - x0$4 * z) * w + (w = x0$4 * y2 - y0$4 * x2) * w), x0$4 * x2 + y0$4 * y2 + z0 * z);
  W1 += w;
  X1$1 += w * (x0$4 + (x0$4 = x2));
  Y1$1 += w * (y0$4 + (y0$4 = y2));
  Z1$1 += w * (z0 + (z0 = z));
  centroidPointCartesian(x0$4, y0$4, z0);
}
function centroidLineEnd$1() {
  centroidStream$1.point = centroidPoint$1;
}
function centroidRingStart$1() {
  centroidStream$1.point = centroidRingPointFirst;
}
function centroidRingEnd$1() {
  centroidRingPoint(lambda00, phi00);
  centroidStream$1.point = centroidPoint$1;
}
function centroidRingPointFirst(lambda, phi2) {
  lambda00 = lambda, phi00 = phi2;
  lambda *= radians, phi2 *= radians;
  centroidStream$1.point = centroidRingPoint;
  var cosPhi = cos$1(phi2);
  x0$4 = cosPhi * cos$1(lambda);
  y0$4 = cosPhi * sin$1(lambda);
  z0 = sin$1(phi2);
  centroidPointCartesian(x0$4, y0$4, z0);
}
function centroidRingPoint(lambda, phi2) {
  lambda *= radians, phi2 *= radians;
  var cosPhi = cos$1(phi2), x2 = cosPhi * cos$1(lambda), y2 = cosPhi * sin$1(lambda), z = sin$1(phi2), cx = y0$4 * z - z0 * y2, cy = z0 * x2 - x0$4 * z, cz = x0$4 * y2 - y0$4 * x2, m = sqrt$2(cx * cx + cy * cy + cz * cz), w = asin$1(m), v = m && -w / m;
  X2$1 += v * cx;
  Y2$1 += v * cy;
  Z2$1 += v * cz;
  W1 += w;
  X1$1 += w * (x0$4 + (x0$4 = x2));
  Y1$1 += w * (y0$4 + (y0$4 = y2));
  Z1$1 += w * (z0 + (z0 = z));
  centroidPointCartesian(x0$4, y0$4, z0);
}
function centroid$1(object2) {
  W0 = W1 = X0$1 = Y0$1 = Z0$1 = X1$1 = Y1$1 = Z1$1 = X2$1 = Y2$1 = Z2$1 = 0;
  geoStream(object2, centroidStream$1);
  var x2 = X2$1, y2 = Y2$1, z = Z2$1, m = x2 * x2 + y2 * y2 + z * z;
  if (m < epsilon2$1) {
    x2 = X1$1, y2 = Y1$1, z = Z1$1;
    if (W1 < epsilon$2)
      x2 = X0$1, y2 = Y0$1, z = Z0$1;
    m = x2 * x2 + y2 * y2 + z * z;
    if (m < epsilon2$1)
      return [NaN, NaN];
  }
  return [atan2$1(y2, x2) * degrees, asin$1(z / sqrt$2(m)) * degrees];
}
function constant$5(x2) {
  return function() {
    return x2;
  };
}
function compose(a2, b) {
  function compose2(x2, y2) {
    return x2 = a2(x2, y2), b(x2[0], x2[1]);
  }
  if (a2.invert && b.invert)
    compose2.invert = function(x2, y2) {
      return x2 = b.invert(x2, y2), x2 && a2.invert(x2[0], x2[1]);
    };
  return compose2;
}
function rotationIdentity(lambda, phi2) {
  return [abs$1(lambda) > pi$1 ? lambda + Math.round(-lambda / tau$1) * tau$1 : lambda, phi2];
}
rotationIdentity.invert = rotationIdentity;
function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {
  return (deltaLambda %= tau$1) ? deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma)) : rotationLambda(deltaLambda) : deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma) : rotationIdentity;
}
function forwardRotationLambda(deltaLambda) {
  return function(lambda, phi2) {
    return lambda += deltaLambda, [lambda > pi$1 ? lambda - tau$1 : lambda < -pi$1 ? lambda + tau$1 : lambda, phi2];
  };
}
function rotationLambda(deltaLambda) {
  var rotation2 = forwardRotationLambda(deltaLambda);
  rotation2.invert = forwardRotationLambda(-deltaLambda);
  return rotation2;
}
function rotationPhiGamma(deltaPhi, deltaGamma) {
  var cosDeltaPhi = cos$1(deltaPhi), sinDeltaPhi = sin$1(deltaPhi), cosDeltaGamma = cos$1(deltaGamma), sinDeltaGamma = sin$1(deltaGamma);
  function rotation2(lambda, phi2) {
    var cosPhi = cos$1(phi2), x2 = cos$1(lambda) * cosPhi, y2 = sin$1(lambda) * cosPhi, z = sin$1(phi2), k2 = z * cosDeltaPhi + x2 * sinDeltaPhi;
    return [
      atan2$1(y2 * cosDeltaGamma - k2 * sinDeltaGamma, x2 * cosDeltaPhi - z * sinDeltaPhi),
      asin$1(k2 * cosDeltaGamma + y2 * sinDeltaGamma)
    ];
  }
  rotation2.invert = function(lambda, phi2) {
    var cosPhi = cos$1(phi2), x2 = cos$1(lambda) * cosPhi, y2 = sin$1(lambda) * cosPhi, z = sin$1(phi2), k2 = z * cosDeltaGamma - y2 * sinDeltaGamma;
    return [
      atan2$1(y2 * cosDeltaGamma + z * sinDeltaGamma, x2 * cosDeltaPhi + k2 * sinDeltaPhi),
      asin$1(k2 * cosDeltaPhi - x2 * sinDeltaPhi)
    ];
  };
  return rotation2;
}
function rotation(rotate) {
  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);
  function forward(coordinates2) {
    coordinates2 = rotate(coordinates2[0] * radians, coordinates2[1] * radians);
    return coordinates2[0] *= degrees, coordinates2[1] *= degrees, coordinates2;
  }
  forward.invert = function(coordinates2) {
    coordinates2 = rotate.invert(coordinates2[0] * radians, coordinates2[1] * radians);
    return coordinates2[0] *= degrees, coordinates2[1] *= degrees, coordinates2;
  };
  return forward;
}
function circleStream(stream, radius, delta, direction, t02, t12) {
  if (!delta)
    return;
  var cosRadius = cos$1(radius), sinRadius = sin$1(radius), step2 = direction * delta;
  if (t02 == null) {
    t02 = radius + direction * tau$1;
    t12 = radius - step2 / 2;
  } else {
    t02 = circleRadius(cosRadius, t02);
    t12 = circleRadius(cosRadius, t12);
    if (direction > 0 ? t02 < t12 : t02 > t12)
      t02 += direction * tau$1;
  }
  for (var point2, t = t02; direction > 0 ? t > t12 : t < t12; t -= step2) {
    point2 = spherical([cosRadius, -sinRadius * cos$1(t), -sinRadius * sin$1(t)]);
    stream.point(point2[0], point2[1]);
  }
}
function circleRadius(cosRadius, point2) {
  point2 = cartesian(point2), point2[0] -= cosRadius;
  cartesianNormalizeInPlace(point2);
  var radius = acos$1(-point2[1]);
  return ((-point2[2] < 0 ? -radius : radius) + tau$1 - epsilon$2) % tau$1;
}
function circle$2() {
  var center2 = constant$5([0, 0]), radius = constant$5(90), precision = constant$5(6), ring, rotate, stream = { point: point2 };
  function point2(x2, y2) {
    ring.push(x2 = rotate(x2, y2));
    x2[0] *= degrees, x2[1] *= degrees;
  }
  function circle2() {
    var c2 = center2.apply(this, arguments), r = radius.apply(this, arguments) * radians, p = precision.apply(this, arguments) * radians;
    ring = [];
    rotate = rotateRadians(-c2[0] * radians, -c2[1] * radians, 0).invert;
    circleStream(stream, r, p, 1);
    c2 = { type: "Polygon", coordinates: [ring] };
    ring = rotate = null;
    return c2;
  }
  circle2.center = function(_2) {
    return arguments.length ? (center2 = typeof _2 === "function" ? _2 : constant$5([+_2[0], +_2[1]]), circle2) : center2;
  };
  circle2.radius = function(_2) {
    return arguments.length ? (radius = typeof _2 === "function" ? _2 : constant$5(+_2), circle2) : radius;
  };
  circle2.precision = function(_2) {
    return arguments.length ? (precision = typeof _2 === "function" ? _2 : constant$5(+_2), circle2) : precision;
  };
  return circle2;
}
function clipBuffer() {
  var lines = [], line2;
  return {
    point: function(x2, y2, m) {
      line2.push([x2, y2, m]);
    },
    lineStart: function() {
      lines.push(line2 = []);
    },
    lineEnd: noop$1,
    rejoin: function() {
      if (lines.length > 1)
        lines.push(lines.pop().concat(lines.shift()));
    },
    result: function() {
      var result = lines;
      lines = [];
      line2 = null;
      return result;
    }
  };
}
function pointEqual(a2, b) {
  return abs$1(a2[0] - b[0]) < epsilon$2 && abs$1(a2[1] - b[1]) < epsilon$2;
}
function Intersection(point2, points, other, entry) {
  this.x = point2;
  this.z = points;
  this.o = other;
  this.e = entry;
  this.v = false;
  this.n = this.p = null;
}
function clipRejoin(segments, compareIntersection2, startInside, interpolate2, stream) {
  var subject = [], clip2 = [], i, n;
  segments.forEach(function(segment) {
    if ((n2 = segment.length - 1) <= 0)
      return;
    var n2, p02 = segment[0], p1 = segment[n2], x2;
    if (pointEqual(p02, p1)) {
      if (!p02[2] && !p1[2]) {
        stream.lineStart();
        for (i = 0; i < n2; ++i)
          stream.point((p02 = segment[i])[0], p02[1]);
        stream.lineEnd();
        return;
      }
      p1[0] += 2 * epsilon$2;
    }
    subject.push(x2 = new Intersection(p02, segment, null, true));
    clip2.push(x2.o = new Intersection(p02, null, x2, false));
    subject.push(x2 = new Intersection(p1, segment, null, false));
    clip2.push(x2.o = new Intersection(p1, null, x2, true));
  });
  if (!subject.length)
    return;
  clip2.sort(compareIntersection2);
  link$1(subject);
  link$1(clip2);
  for (i = 0, n = clip2.length; i < n; ++i) {
    clip2[i].e = startInside = !startInside;
  }
  var start2 = subject[0], points, point2;
  while (1) {
    var current = start2, isSubject = true;
    while (current.v)
      if ((current = current.n) === start2)
        return;
    points = current.z;
    stream.lineStart();
    do {
      current.v = current.o.v = true;
      if (current.e) {
        if (isSubject) {
          for (i = 0, n = points.length; i < n; ++i)
            stream.point((point2 = points[i])[0], point2[1]);
        } else {
          interpolate2(current.x, current.n.x, 1, stream);
        }
        current = current.n;
      } else {
        if (isSubject) {
          points = current.p.z;
          for (i = points.length - 1; i >= 0; --i)
            stream.point((point2 = points[i])[0], point2[1]);
        } else {
          interpolate2(current.x, current.p.x, -1, stream);
        }
        current = current.p;
      }
      current = current.o;
      points = current.z;
      isSubject = !isSubject;
    } while (!current.v);
    stream.lineEnd();
  }
}
function link$1(array2) {
  if (!(n = array2.length))
    return;
  var n, i = 0, a2 = array2[0], b;
  while (++i < n) {
    a2.n = b = array2[i];
    b.p = a2;
    a2 = b;
  }
  a2.n = b = array2[0];
  b.p = a2;
}
var sum$1 = adder();
function longitude(point2) {
  if (abs$1(point2[0]) <= pi$1)
    return point2[0];
  else
    return sign$1(point2[0]) * ((abs$1(point2[0]) + pi$1) % tau$1 - pi$1);
}
function polygonContains(polygon, point2) {
  var lambda = longitude(point2), phi2 = point2[1], sinPhi = sin$1(phi2), normal2 = [sin$1(lambda), -cos$1(lambda), 0], angle2 = 0, winding = 0;
  sum$1.reset();
  if (sinPhi === 1)
    phi2 = halfPi$1 + epsilon$2;
  else if (sinPhi === -1)
    phi2 = -halfPi$1 - epsilon$2;
  for (var i = 0, n = polygon.length; i < n; ++i) {
    if (!(m = (ring = polygon[i]).length))
      continue;
    var ring, m, point0 = ring[m - 1], lambda02 = longitude(point0), phi02 = point0[1] / 2 + quarterPi, sinPhi02 = sin$1(phi02), cosPhi02 = cos$1(phi02);
    for (var j = 0; j < m; ++j, lambda02 = lambda12, sinPhi02 = sinPhi1, cosPhi02 = cosPhi1, point0 = point1) {
      var point1 = ring[j], lambda12 = longitude(point1), phi12 = point1[1] / 2 + quarterPi, sinPhi1 = sin$1(phi12), cosPhi1 = cos$1(phi12), delta = lambda12 - lambda02, sign2 = delta >= 0 ? 1 : -1, absDelta = sign2 * delta, antimeridian = absDelta > pi$1, k2 = sinPhi02 * sinPhi1;
      sum$1.add(atan2$1(k2 * sign2 * sin$1(absDelta), cosPhi02 * cosPhi1 + k2 * cos$1(absDelta)));
      angle2 += antimeridian ? delta + sign2 * tau$1 : delta;
      if (antimeridian ^ lambda02 >= lambda ^ lambda12 >= lambda) {
        var arc2 = cartesianCross(cartesian(point0), cartesian(point1));
        cartesianNormalizeInPlace(arc2);
        var intersection2 = cartesianCross(normal2, arc2);
        cartesianNormalizeInPlace(intersection2);
        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin$1(intersection2[2]);
        if (phi2 > phiArc || phi2 === phiArc && (arc2[0] || arc2[1])) {
          winding += antimeridian ^ delta >= 0 ? 1 : -1;
        }
      }
    }
  }
  return (angle2 < -epsilon$2 || angle2 < epsilon$2 && sum$1 < -epsilon$2) ^ winding & 1;
}
function clip(pointVisible, clipLine2, interpolate2, start2) {
  return function(sink) {
    var line2 = clipLine2(sink), ringBuffer = clipBuffer(), ringSink = clipLine2(ringBuffer), polygonStarted = false, polygon, segments, ring;
    var clip2 = {
      point: point2,
      lineStart,
      lineEnd,
      polygonStart: function() {
        clip2.point = pointRing;
        clip2.lineStart = ringStart;
        clip2.lineEnd = ringEnd;
        segments = [];
        polygon = [];
      },
      polygonEnd: function() {
        clip2.point = point2;
        clip2.lineStart = lineStart;
        clip2.lineEnd = lineEnd;
        segments = merge(segments);
        var startInside = polygonContains(polygon, start2);
        if (segments.length) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          clipRejoin(segments, compareIntersection, startInside, interpolate2, sink);
        } else if (startInside) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          sink.lineStart();
          interpolate2(null, null, 1, sink);
          sink.lineEnd();
        }
        if (polygonStarted)
          sink.polygonEnd(), polygonStarted = false;
        segments = polygon = null;
      },
      sphere: function() {
        sink.polygonStart();
        sink.lineStart();
        interpolate2(null, null, 1, sink);
        sink.lineEnd();
        sink.polygonEnd();
      }
    };
    function point2(lambda, phi2) {
      if (pointVisible(lambda, phi2))
        sink.point(lambda, phi2);
    }
    function pointLine(lambda, phi2) {
      line2.point(lambda, phi2);
    }
    function lineStart() {
      clip2.point = pointLine;
      line2.lineStart();
    }
    function lineEnd() {
      clip2.point = point2;
      line2.lineEnd();
    }
    function pointRing(lambda, phi2) {
      ring.push([lambda, phi2]);
      ringSink.point(lambda, phi2);
    }
    function ringStart() {
      ringSink.lineStart();
      ring = [];
    }
    function ringEnd() {
      pointRing(ring[0][0], ring[0][1]);
      ringSink.lineEnd();
      var clean = ringSink.clean(), ringSegments = ringBuffer.result(), i, n = ringSegments.length, m, segment, point3;
      ring.pop();
      polygon.push(ring);
      ring = null;
      if (!n)
        return;
      if (clean & 1) {
        segment = ringSegments[0];
        if ((m = segment.length - 1) > 0) {
          if (!polygonStarted)
            sink.polygonStart(), polygonStarted = true;
          sink.lineStart();
          for (i = 0; i < m; ++i)
            sink.point((point3 = segment[i])[0], point3[1]);
          sink.lineEnd();
        }
        return;
      }
      if (n > 1 && clean & 2)
        ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));
      segments.push(ringSegments.filter(validSegment));
    }
    return clip2;
  };
}
function validSegment(segment) {
  return segment.length > 1;
}
function compareIntersection(a2, b) {
  return ((a2 = a2.x)[0] < 0 ? a2[1] - halfPi$1 - epsilon$2 : halfPi$1 - a2[1]) - ((b = b.x)[0] < 0 ? b[1] - halfPi$1 - epsilon$2 : halfPi$1 - b[1]);
}
const clipAntimeridian = clip(
  function() {
    return true;
  },
  clipAntimeridianLine,
  clipAntimeridianInterpolate,
  [-pi$1, -halfPi$1]
);
function clipAntimeridianLine(stream) {
  var lambda02 = NaN, phi02 = NaN, sign0 = NaN, clean;
  return {
    lineStart: function() {
      stream.lineStart();
      clean = 1;
    },
    point: function(lambda12, phi12) {
      var sign1 = lambda12 > 0 ? pi$1 : -pi$1, delta = abs$1(lambda12 - lambda02);
      if (abs$1(delta - pi$1) < epsilon$2) {
        stream.point(lambda02, phi02 = (phi02 + phi12) / 2 > 0 ? halfPi$1 : -halfPi$1);
        stream.point(sign0, phi02);
        stream.lineEnd();
        stream.lineStart();
        stream.point(sign1, phi02);
        stream.point(lambda12, phi02);
        clean = 0;
      } else if (sign0 !== sign1 && delta >= pi$1) {
        if (abs$1(lambda02 - sign0) < epsilon$2)
          lambda02 -= sign0 * epsilon$2;
        if (abs$1(lambda12 - sign1) < epsilon$2)
          lambda12 -= sign1 * epsilon$2;
        phi02 = clipAntimeridianIntersect(lambda02, phi02, lambda12, phi12);
        stream.point(sign0, phi02);
        stream.lineEnd();
        stream.lineStart();
        stream.point(sign1, phi02);
        clean = 0;
      }
      stream.point(lambda02 = lambda12, phi02 = phi12);
      sign0 = sign1;
    },
    lineEnd: function() {
      stream.lineEnd();
      lambda02 = phi02 = NaN;
    },
    clean: function() {
      return 2 - clean;
    }
  };
}
function clipAntimeridianIntersect(lambda02, phi02, lambda12, phi12) {
  var cosPhi02, cosPhi1, sinLambda0Lambda1 = sin$1(lambda02 - lambda12);
  return abs$1(sinLambda0Lambda1) > epsilon$2 ? atan((sin$1(phi02) * (cosPhi1 = cos$1(phi12)) * sin$1(lambda12) - sin$1(phi12) * (cosPhi02 = cos$1(phi02)) * sin$1(lambda02)) / (cosPhi02 * cosPhi1 * sinLambda0Lambda1)) : (phi02 + phi12) / 2;
}
function clipAntimeridianInterpolate(from, to, direction, stream) {
  var phi2;
  if (from == null) {
    phi2 = direction * halfPi$1;
    stream.point(-pi$1, phi2);
    stream.point(0, phi2);
    stream.point(pi$1, phi2);
    stream.point(pi$1, 0);
    stream.point(pi$1, -phi2);
    stream.point(0, -phi2);
    stream.point(-pi$1, -phi2);
    stream.point(-pi$1, 0);
    stream.point(-pi$1, phi2);
  } else if (abs$1(from[0] - to[0]) > epsilon$2) {
    var lambda = from[0] < to[0] ? pi$1 : -pi$1;
    phi2 = direction * lambda / 2;
    stream.point(-lambda, phi2);
    stream.point(0, phi2);
    stream.point(lambda, phi2);
  } else {
    stream.point(to[0], to[1]);
  }
}
function clipCircle(radius) {
  var cr = cos$1(radius), delta = 6 * radians, smallRadius = cr > 0, notHemisphere = abs$1(cr) > epsilon$2;
  function interpolate2(from, to, direction, stream) {
    circleStream(stream, radius, delta, direction, from, to);
  }
  function visible(lambda, phi2) {
    return cos$1(lambda) * cos$1(phi2) > cr;
  }
  function clipLine2(stream) {
    var point0, c0, v0, v00, clean;
    return {
      lineStart: function() {
        v00 = v0 = false;
        clean = 1;
      },
      point: function(lambda, phi2) {
        var point1 = [lambda, phi2], point2, v = visible(lambda, phi2), c2 = smallRadius ? v ? 0 : code(lambda, phi2) : v ? code(lambda + (lambda < 0 ? pi$1 : -pi$1), phi2) : 0;
        if (!point0 && (v00 = v0 = v))
          stream.lineStart();
        if (v !== v0) {
          point2 = intersect2(point0, point1);
          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))
            point1[2] = 1;
        }
        if (v !== v0) {
          clean = 0;
          if (v) {
            stream.lineStart();
            point2 = intersect2(point1, point0);
            stream.point(point2[0], point2[1]);
          } else {
            point2 = intersect2(point0, point1);
            stream.point(point2[0], point2[1], 2);
            stream.lineEnd();
          }
          point0 = point2;
        } else if (notHemisphere && point0 && smallRadius ^ v) {
          var t;
          if (!(c2 & c0) && (t = intersect2(point1, point0, true))) {
            clean = 0;
            if (smallRadius) {
              stream.lineStart();
              stream.point(t[0][0], t[0][1]);
              stream.point(t[1][0], t[1][1]);
              stream.lineEnd();
            } else {
              stream.point(t[1][0], t[1][1]);
              stream.lineEnd();
              stream.lineStart();
              stream.point(t[0][0], t[0][1], 3);
            }
          }
        }
        if (v && (!point0 || !pointEqual(point0, point1))) {
          stream.point(point1[0], point1[1]);
        }
        point0 = point1, v0 = v, c0 = c2;
      },
      lineEnd: function() {
        if (v0)
          stream.lineEnd();
        point0 = null;
      },
      clean: function() {
        return clean | (v00 && v0) << 1;
      }
    };
  }
  function intersect2(a2, b, two) {
    var pa = cartesian(a2), pb = cartesian(b);
    var n1 = [1, 0, 0], n2 = cartesianCross(pa, pb), n2n2 = cartesianDot(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;
    if (!determinant)
      return !two && a2;
    var c1 = cr * n2n2 / determinant, c2 = -cr * n1n2 / determinant, n1xn2 = cartesianCross(n1, n2), A5 = cartesianScale(n1, c1), B2 = cartesianScale(n2, c2);
    cartesianAddInPlace(A5, B2);
    var u = n1xn2, w = cartesianDot(A5, u), uu = cartesianDot(u, u), t22 = w * w - uu * (cartesianDot(A5, A5) - 1);
    if (t22 < 0)
      return;
    var t = sqrt$2(t22), q = cartesianScale(u, (-w - t) / uu);
    cartesianAddInPlace(q, A5);
    q = spherical(q);
    if (!two)
      return q;
    var lambda02 = a2[0], lambda12 = b[0], phi02 = a2[1], phi12 = b[1], z;
    if (lambda12 < lambda02)
      z = lambda02, lambda02 = lambda12, lambda12 = z;
    var delta2 = lambda12 - lambda02, polar = abs$1(delta2 - pi$1) < epsilon$2, meridian = polar || delta2 < epsilon$2;
    if (!polar && phi12 < phi02)
      z = phi02, phi02 = phi12, phi12 = z;
    if (meridian ? polar ? phi02 + phi12 > 0 ^ q[1] < (abs$1(q[0] - lambda02) < epsilon$2 ? phi02 : phi12) : phi02 <= q[1] && q[1] <= phi12 : delta2 > pi$1 ^ (lambda02 <= q[0] && q[0] <= lambda12)) {
      var q1 = cartesianScale(u, (-w + t) / uu);
      cartesianAddInPlace(q1, A5);
      return [q, spherical(q1)];
    }
  }
  function code(lambda, phi2) {
    var r = smallRadius ? radius : pi$1 - radius, code2 = 0;
    if (lambda < -r)
      code2 |= 1;
    else if (lambda > r)
      code2 |= 2;
    if (phi2 < -r)
      code2 |= 4;
    else if (phi2 > r)
      code2 |= 8;
    return code2;
  }
  return clip(visible, clipLine2, interpolate2, smallRadius ? [0, -radius] : [-pi$1, radius - pi$1]);
}
function clipLine(a2, b, x02, y02, x12, y12) {
  var ax = a2[0], ay = a2[1], bx = b[0], by = b[1], t02 = 0, t12 = 1, dx = bx - ax, dy = by - ay, r;
  r = x02 - ax;
  if (!dx && r > 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  } else if (dx > 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  }
  r = x12 - ax;
  if (!dx && r < 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  } else if (dx > 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  }
  r = y02 - ay;
  if (!dy && r > 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  } else if (dy > 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  }
  r = y12 - ay;
  if (!dy && r < 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  } else if (dy > 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  }
  if (t02 > 0)
    a2[0] = ax + t02 * dx, a2[1] = ay + t02 * dy;
  if (t12 < 1)
    b[0] = ax + t12 * dx, b[1] = ay + t12 * dy;
  return true;
}
var clipMax = 1e9, clipMin = -clipMax;
function clipRectangle(x02, y02, x12, y12) {
  function visible(x2, y2) {
    return x02 <= x2 && x2 <= x12 && y02 <= y2 && y2 <= y12;
  }
  function interpolate2(from, to, direction, stream) {
    var a2 = 0, a1 = 0;
    if (from == null || (a2 = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoint(from, to) < 0 ^ direction > 0) {
      do
        stream.point(a2 === 0 || a2 === 3 ? x02 : x12, a2 > 1 ? y12 : y02);
      while ((a2 = (a2 + direction + 4) % 4) !== a1);
    } else {
      stream.point(to[0], to[1]);
    }
  }
  function corner(p, direction) {
    return abs$1(p[0] - x02) < epsilon$2 ? direction > 0 ? 0 : 3 : abs$1(p[0] - x12) < epsilon$2 ? direction > 0 ? 2 : 1 : abs$1(p[1] - y02) < epsilon$2 ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2;
  }
  function compareIntersection2(a2, b) {
    return comparePoint(a2.x, b.x);
  }
  function comparePoint(a2, b) {
    var ca = corner(a2, 1), cb = corner(b, 1);
    return ca !== cb ? ca - cb : ca === 0 ? b[1] - a2[1] : ca === 1 ? a2[0] - b[0] : ca === 2 ? a2[1] - b[1] : b[0] - a2[0];
  }
  return function(stream) {
    var activeStream = stream, bufferStream = clipBuffer(), segments, polygon, ring, x__, y__, v__, x_, y_, v_, first, clean;
    var clipStream = {
      point: point2,
      lineStart,
      lineEnd,
      polygonStart,
      polygonEnd
    };
    function point2(x2, y2) {
      if (visible(x2, y2))
        activeStream.point(x2, y2);
    }
    function polygonInside() {
      var winding = 0;
      for (var i = 0, n = polygon.length; i < n; ++i) {
        for (var ring2 = polygon[i], j = 1, m = ring2.length, point3 = ring2[0], a0, a1, b02 = point3[0], b12 = point3[1]; j < m; ++j) {
          a0 = b02, a1 = b12, point3 = ring2[j], b02 = point3[0], b12 = point3[1];
          if (a1 <= y12) {
            if (b12 > y12 && (b02 - a0) * (y12 - a1) > (b12 - a1) * (x02 - a0))
              ++winding;
          } else {
            if (b12 <= y12 && (b02 - a0) * (y12 - a1) < (b12 - a1) * (x02 - a0))
              --winding;
          }
        }
      }
      return winding;
    }
    function polygonStart() {
      activeStream = bufferStream, segments = [], polygon = [], clean = true;
    }
    function polygonEnd() {
      var startInside = polygonInside(), cleanInside = clean && startInside, visible2 = (segments = merge(segments)).length;
      if (cleanInside || visible2) {
        stream.polygonStart();
        if (cleanInside) {
          stream.lineStart();
          interpolate2(null, null, 1, stream);
          stream.lineEnd();
        }
        if (visible2) {
          clipRejoin(segments, compareIntersection2, startInside, interpolate2, stream);
        }
        stream.polygonEnd();
      }
      activeStream = stream, segments = polygon = ring = null;
    }
    function lineStart() {
      clipStream.point = linePoint2;
      if (polygon)
        polygon.push(ring = []);
      first = true;
      v_ = false;
      x_ = y_ = NaN;
    }
    function lineEnd() {
      if (segments) {
        linePoint2(x__, y__);
        if (v__ && v_)
          bufferStream.rejoin();
        segments.push(bufferStream.result());
      }
      clipStream.point = point2;
      if (v_)
        activeStream.lineEnd();
    }
    function linePoint2(x2, y2) {
      var v = visible(x2, y2);
      if (polygon)
        ring.push([x2, y2]);
      if (first) {
        x__ = x2, y__ = y2, v__ = v;
        first = false;
        if (v) {
          activeStream.lineStart();
          activeStream.point(x2, y2);
        }
      } else {
        if (v && v_)
          activeStream.point(x2, y2);
        else {
          var a2 = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))], b = [x2 = Math.max(clipMin, Math.min(clipMax, x2)), y2 = Math.max(clipMin, Math.min(clipMax, y2))];
          if (clipLine(a2, b, x02, y02, x12, y12)) {
            if (!v_) {
              activeStream.lineStart();
              activeStream.point(a2[0], a2[1]);
            }
            activeStream.point(b[0], b[1]);
            if (!v)
              activeStream.lineEnd();
            clean = false;
          } else if (v) {
            activeStream.lineStart();
            activeStream.point(x2, y2);
            clean = false;
          }
        }
      }
      x_ = x2, y_ = y2, v_ = v;
    }
    return clipStream;
  };
}
function extent() {
  var x02 = 0, y02 = 0, x12 = 960, y12 = 500, cache, cacheStream, clip2;
  return clip2 = {
    stream: function(stream) {
      return cache && cacheStream === stream ? cache : cache = clipRectangle(x02, y02, x12, y12)(cacheStream = stream);
    },
    extent: function(_2) {
      return arguments.length ? (x02 = +_2[0][0], y02 = +_2[0][1], x12 = +_2[1][0], y12 = +_2[1][1], cache = cacheStream = null, clip2) : [[x02, y02], [x12, y12]];
    }
  };
}
var lengthSum$1 = adder(), lambda0, sinPhi0, cosPhi0;
var lengthStream$1 = {
  sphere: noop$1,
  point: noop$1,
  lineStart: lengthLineStart,
  lineEnd: noop$1,
  polygonStart: noop$1,
  polygonEnd: noop$1
};
function lengthLineStart() {
  lengthStream$1.point = lengthPointFirst$1;
  lengthStream$1.lineEnd = lengthLineEnd;
}
function lengthLineEnd() {
  lengthStream$1.point = lengthStream$1.lineEnd = noop$1;
}
function lengthPointFirst$1(lambda, phi2) {
  lambda *= radians, phi2 *= radians;
  lambda0 = lambda, sinPhi0 = sin$1(phi2), cosPhi0 = cos$1(phi2);
  lengthStream$1.point = lengthPoint$1;
}
function lengthPoint$1(lambda, phi2) {
  lambda *= radians, phi2 *= radians;
  var sinPhi = sin$1(phi2), cosPhi = cos$1(phi2), delta = abs$1(lambda - lambda0), cosDelta = cos$1(delta), sinDelta = sin$1(delta), x2 = cosPhi * sinDelta, y2 = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta, z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;
  lengthSum$1.add(atan2$1(sqrt$2(x2 * x2 + y2 * y2), z));
  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;
}
function length$1(object2) {
  lengthSum$1.reset();
  geoStream(object2, lengthStream$1);
  return +lengthSum$1;
}
var coordinates = [null, null], object = { type: "LineString", coordinates };
function distance(a2, b) {
  coordinates[0] = a2;
  coordinates[1] = b;
  return length$1(object);
}
var containsObjectType = {
  Feature: function(object2, point2) {
    return containsGeometry(object2.geometry, point2);
  },
  FeatureCollection: function(object2, point2) {
    var features = object2.features, i = -1, n = features.length;
    while (++i < n)
      if (containsGeometry(features[i].geometry, point2))
        return true;
    return false;
  }
};
var containsGeometryType = {
  Sphere: function() {
    return true;
  },
  Point: function(object2, point2) {
    return containsPoint(object2.coordinates, point2);
  },
  MultiPoint: function(object2, point2) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      if (containsPoint(coordinates2[i], point2))
        return true;
    return false;
  },
  LineString: function(object2, point2) {
    return containsLine(object2.coordinates, point2);
  },
  MultiLineString: function(object2, point2) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      if (containsLine(coordinates2[i], point2))
        return true;
    return false;
  },
  Polygon: function(object2, point2) {
    return containsPolygon(object2.coordinates, point2);
  },
  MultiPolygon: function(object2, point2) {
    var coordinates2 = object2.coordinates, i = -1, n = coordinates2.length;
    while (++i < n)
      if (containsPolygon(coordinates2[i], point2))
        return true;
    return false;
  },
  GeometryCollection: function(object2, point2) {
    var geometries = object2.geometries, i = -1, n = geometries.length;
    while (++i < n)
      if (containsGeometry(geometries[i], point2))
        return true;
    return false;
  }
};
function containsGeometry(geometry, point2) {
  return geometry && containsGeometryType.hasOwnProperty(geometry.type) ? containsGeometryType[geometry.type](geometry, point2) : false;
}
function containsPoint(coordinates2, point2) {
  return distance(coordinates2, point2) === 0;
}
function containsLine(coordinates2, point2) {
  var ao, bo, ab;
  for (var i = 0, n = coordinates2.length; i < n; i++) {
    bo = distance(coordinates2[i], point2);
    if (bo === 0)
      return true;
    if (i > 0) {
      ab = distance(coordinates2[i], coordinates2[i - 1]);
      if (ab > 0 && ao <= ab && bo <= ab && (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2$1 * ab)
        return true;
    }
    ao = bo;
  }
  return false;
}
function containsPolygon(coordinates2, point2) {
  return !!polygonContains(coordinates2.map(ringRadians), pointRadians(point2));
}
function ringRadians(ring) {
  return ring = ring.map(pointRadians), ring.pop(), ring;
}
function pointRadians(point2) {
  return [point2[0] * radians, point2[1] * radians];
}
function contains$1(object2, point2) {
  return (object2 && containsObjectType.hasOwnProperty(object2.type) ? containsObjectType[object2.type] : containsGeometry)(object2, point2);
}
function graticuleX(y02, y12, dy) {
  var y2 = sequence(y02, y12 - epsilon$2, dy).concat(y12);
  return function(x2) {
    return y2.map(function(y3) {
      return [x2, y3];
    });
  };
}
function graticuleY(x02, x12, dx) {
  var x2 = sequence(x02, x12 - epsilon$2, dx).concat(x12);
  return function(y2) {
    return x2.map(function(x3) {
      return [x3, y2];
    });
  };
}
function graticule() {
  var x12, x02, X12, X02, y12, y02, Y12, Y02, dx = 10, dy = dx, DX = 90, DY = 360, x2, y2, X3, Y3, precision = 2.5;
  function graticule2() {
    return { type: "MultiLineString", coordinates: lines() };
  }
  function lines() {
    return sequence(ceil(X02 / DX) * DX, X12, DX).map(X3).concat(sequence(ceil(Y02 / DY) * DY, Y12, DY).map(Y3)).concat(sequence(ceil(x02 / dx) * dx, x12, dx).filter(function(x3) {
      return abs$1(x3 % DX) > epsilon$2;
    }).map(x2)).concat(sequence(ceil(y02 / dy) * dy, y12, dy).filter(function(y3) {
      return abs$1(y3 % DY) > epsilon$2;
    }).map(y2));
  }
  graticule2.lines = function() {
    return lines().map(function(coordinates2) {
      return { type: "LineString", coordinates: coordinates2 };
    });
  };
  graticule2.outline = function() {
    return {
      type: "Polygon",
      coordinates: [
        X3(X02).concat(
          Y3(Y12).slice(1),
          X3(X12).reverse().slice(1),
          Y3(Y02).reverse().slice(1)
        )
      ]
    };
  };
  graticule2.extent = function(_2) {
    if (!arguments.length)
      return graticule2.extentMinor();
    return graticule2.extentMajor(_2).extentMinor(_2);
  };
  graticule2.extentMajor = function(_2) {
    if (!arguments.length)
      return [[X02, Y02], [X12, Y12]];
    X02 = +_2[0][0], X12 = +_2[1][0];
    Y02 = +_2[0][1], Y12 = +_2[1][1];
    if (X02 > X12)
      _2 = X02, X02 = X12, X12 = _2;
    if (Y02 > Y12)
      _2 = Y02, Y02 = Y12, Y12 = _2;
    return graticule2.precision(precision);
  };
  graticule2.extentMinor = function(_2) {
    if (!arguments.length)
      return [[x02, y02], [x12, y12]];
    x02 = +_2[0][0], x12 = +_2[1][0];
    y02 = +_2[0][1], y12 = +_2[1][1];
    if (x02 > x12)
      _2 = x02, x02 = x12, x12 = _2;
    if (y02 > y12)
      _2 = y02, y02 = y12, y12 = _2;
    return graticule2.precision(precision);
  };
  graticule2.step = function(_2) {
    if (!arguments.length)
      return graticule2.stepMinor();
    return graticule2.stepMajor(_2).stepMinor(_2);
  };
  graticule2.stepMajor = function(_2) {
    if (!arguments.length)
      return [DX, DY];
    DX = +_2[0], DY = +_2[1];
    return graticule2;
  };
  graticule2.stepMinor = function(_2) {
    if (!arguments.length)
      return [dx, dy];
    dx = +_2[0], dy = +_2[1];
    return graticule2;
  };
  graticule2.precision = function(_2) {
    if (!arguments.length)
      return precision;
    precision = +_2;
    x2 = graticuleX(y02, y12, 90);
    y2 = graticuleY(x02, x12, precision);
    X3 = graticuleX(Y02, Y12, 90);
    Y3 = graticuleY(X02, X12, precision);
    return graticule2;
  };
  return graticule2.extentMajor([[-180, -90 + epsilon$2], [180, 90 - epsilon$2]]).extentMinor([[-180, -80 - epsilon$2], [180, 80 + epsilon$2]]);
}
function graticule10() {
  return graticule()();
}
function interpolate(a2, b) {
  var x02 = a2[0] * radians, y02 = a2[1] * radians, x12 = b[0] * radians, y12 = b[1] * radians, cy0 = cos$1(y02), sy0 = sin$1(y02), cy1 = cos$1(y12), sy1 = sin$1(y12), kx0 = cy0 * cos$1(x02), ky0 = cy0 * sin$1(x02), kx1 = cy1 * cos$1(x12), ky1 = cy1 * sin$1(x12), d = 2 * asin$1(sqrt$2(haversin(y12 - y02) + cy0 * cy1 * haversin(x12 - x02))), k2 = sin$1(d);
  var interpolate2 = d ? function(t) {
    var B2 = sin$1(t *= d) / k2, A5 = sin$1(d - t) / k2, x2 = A5 * kx0 + B2 * kx1, y2 = A5 * ky0 + B2 * ky1, z = A5 * sy0 + B2 * sy1;
    return [
      atan2$1(y2, x2) * degrees,
      atan2$1(z, sqrt$2(x2 * x2 + y2 * y2)) * degrees
    ];
  } : function() {
    return [x02 * degrees, y02 * degrees];
  };
  interpolate2.distance = d;
  return interpolate2;
}
function identity$5(x2) {
  return x2;
}
var areaSum = adder(), areaRingSum = adder(), x00$2, y00$2, x0$3, y0$3;
var areaStream = {
  point: noop$1,
  lineStart: noop$1,
  lineEnd: noop$1,
  polygonStart: function() {
    areaStream.lineStart = areaRingStart;
    areaStream.lineEnd = areaRingEnd;
  },
  polygonEnd: function() {
    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop$1;
    areaSum.add(abs$1(areaRingSum));
    areaRingSum.reset();
  },
  result: function() {
    var area2 = areaSum / 2;
    areaSum.reset();
    return area2;
  }
};
function areaRingStart() {
  areaStream.point = areaPointFirst;
}
function areaPointFirst(x2, y2) {
  areaStream.point = areaPoint;
  x00$2 = x0$3 = x2, y00$2 = y0$3 = y2;
}
function areaPoint(x2, y2) {
  areaRingSum.add(y0$3 * x2 - x0$3 * y2);
  x0$3 = x2, y0$3 = y2;
}
function areaRingEnd() {
  areaPoint(x00$2, y00$2);
}
const pathArea = areaStream;
var x0$2 = Infinity, y0$2 = x0$2, x1 = -x0$2, y1 = x1;
var boundsStream = {
  point: boundsPoint,
  lineStart: noop$1,
  lineEnd: noop$1,
  polygonStart: noop$1,
  polygonEnd: noop$1,
  result: function() {
    var bounds2 = [[x0$2, y0$2], [x1, y1]];
    x1 = y1 = -(y0$2 = x0$2 = Infinity);
    return bounds2;
  }
};
function boundsPoint(x2, y2) {
  if (x2 < x0$2)
    x0$2 = x2;
  if (x2 > x1)
    x1 = x2;
  if (y2 < y0$2)
    y0$2 = y2;
  if (y2 > y1)
    y1 = y2;
}
const boundsStream$1 = boundsStream;
var X0 = 0, Y0 = 0, Z0 = 0, X1 = 0, Y1 = 0, Z1 = 0, X2 = 0, Y2 = 0, Z2 = 0, x00$1, y00$1, x0$1, y0$1;
var centroidStream = {
  point: centroidPoint,
  lineStart: centroidLineStart,
  lineEnd: centroidLineEnd,
  polygonStart: function() {
    centroidStream.lineStart = centroidRingStart;
    centroidStream.lineEnd = centroidRingEnd;
  },
  polygonEnd: function() {
    centroidStream.point = centroidPoint;
    centroidStream.lineStart = centroidLineStart;
    centroidStream.lineEnd = centroidLineEnd;
  },
  result: function() {
    var centroid2 = Z2 ? [X2 / Z2, Y2 / Z2] : Z1 ? [X1 / Z1, Y1 / Z1] : Z0 ? [X0 / Z0, Y0 / Z0] : [NaN, NaN];
    X0 = Y0 = Z0 = X1 = Y1 = Z1 = X2 = Y2 = Z2 = 0;
    return centroid2;
  }
};
function centroidPoint(x2, y2) {
  X0 += x2;
  Y0 += y2;
  ++Z0;
}
function centroidLineStart() {
  centroidStream.point = centroidPointFirstLine;
}
function centroidPointFirstLine(x2, y2) {
  centroidStream.point = centroidPointLine;
  centroidPoint(x0$1 = x2, y0$1 = y2);
}
function centroidPointLine(x2, y2) {
  var dx = x2 - x0$1, dy = y2 - y0$1, z = sqrt$2(dx * dx + dy * dy);
  X1 += z * (x0$1 + x2) / 2;
  Y1 += z * (y0$1 + y2) / 2;
  Z1 += z;
  centroidPoint(x0$1 = x2, y0$1 = y2);
}
function centroidLineEnd() {
  centroidStream.point = centroidPoint;
}
function centroidRingStart() {
  centroidStream.point = centroidPointFirstRing;
}
function centroidRingEnd() {
  centroidPointRing(x00$1, y00$1);
}
function centroidPointFirstRing(x2, y2) {
  centroidStream.point = centroidPointRing;
  centroidPoint(x00$1 = x0$1 = x2, y00$1 = y0$1 = y2);
}
function centroidPointRing(x2, y2) {
  var dx = x2 - x0$1, dy = y2 - y0$1, z = sqrt$2(dx * dx + dy * dy);
  X1 += z * (x0$1 + x2) / 2;
  Y1 += z * (y0$1 + y2) / 2;
  Z1 += z;
  z = y0$1 * x2 - x0$1 * y2;
  X2 += z * (x0$1 + x2);
  Y2 += z * (y0$1 + y2);
  Z2 += z * 3;
  centroidPoint(x0$1 = x2, y0$1 = y2);
}
const pathCentroid = centroidStream;
function PathContext(context) {
  this._context = context;
}
PathContext.prototype = {
  _radius: 4.5,
  pointRadius: function(_2) {
    return this._radius = _2, this;
  },
  polygonStart: function() {
    this._line = 0;
  },
  polygonEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line === 0)
      this._context.closePath();
    this._point = NaN;
  },
  point: function(x2, y2) {
    switch (this._point) {
      case 0: {
        this._context.moveTo(x2, y2);
        this._point = 1;
        break;
      }
      case 1: {
        this._context.lineTo(x2, y2);
        break;
      }
      default: {
        this._context.moveTo(x2 + this._radius, y2);
        this._context.arc(x2, y2, this._radius, 0, tau$1);
        break;
      }
    }
  },
  result: noop$1
};
var lengthSum = adder(), lengthRing, x00, y00, x0, y0;
var lengthStream = {
  point: noop$1,
  lineStart: function() {
    lengthStream.point = lengthPointFirst;
  },
  lineEnd: function() {
    if (lengthRing)
      lengthPoint(x00, y00);
    lengthStream.point = noop$1;
  },
  polygonStart: function() {
    lengthRing = true;
  },
  polygonEnd: function() {
    lengthRing = null;
  },
  result: function() {
    var length2 = +lengthSum;
    lengthSum.reset();
    return length2;
  }
};
function lengthPointFirst(x2, y2) {
  lengthStream.point = lengthPoint;
  x00 = x0 = x2, y00 = y0 = y2;
}
function lengthPoint(x2, y2) {
  x0 -= x2, y0 -= y2;
  lengthSum.add(sqrt$2(x0 * x0 + y0 * y0));
  x0 = x2, y0 = y2;
}
const pathMeasure = lengthStream;
function PathString() {
  this._string = [];
}
PathString.prototype = {
  _radius: 4.5,
  _circle: circle$1(4.5),
  pointRadius: function(_2) {
    if ((_2 = +_2) !== this._radius)
      this._radius = _2, this._circle = null;
    return this;
  },
  polygonStart: function() {
    this._line = 0;
  },
  polygonEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line === 0)
      this._string.push("Z");
    this._point = NaN;
  },
  point: function(x2, y2) {
    switch (this._point) {
      case 0: {
        this._string.push("M", x2, ",", y2);
        this._point = 1;
        break;
      }
      case 1: {
        this._string.push("L", x2, ",", y2);
        break;
      }
      default: {
        if (this._circle == null)
          this._circle = circle$1(this._radius);
        this._string.push("M", x2, ",", y2, this._circle);
        break;
      }
    }
  },
  result: function() {
    if (this._string.length) {
      var result = this._string.join("");
      this._string = [];
      return result;
    } else {
      return null;
    }
  }
};
function circle$1(radius) {
  return "m0," + radius + "a" + radius + "," + radius + " 0 1,1 0," + -2 * radius + "a" + radius + "," + radius + " 0 1,1 0," + 2 * radius + "z";
}
function index$2(projection2, context) {
  var pointRadius = 4.5, projectionStream, contextStream;
  function path2(object2) {
    if (object2) {
      if (typeof pointRadius === "function")
        contextStream.pointRadius(+pointRadius.apply(this, arguments));
      geoStream(object2, projectionStream(contextStream));
    }
    return contextStream.result();
  }
  path2.area = function(object2) {
    geoStream(object2, projectionStream(pathArea));
    return pathArea.result();
  };
  path2.measure = function(object2) {
    geoStream(object2, projectionStream(pathMeasure));
    return pathMeasure.result();
  };
  path2.bounds = function(object2) {
    geoStream(object2, projectionStream(boundsStream$1));
    return boundsStream$1.result();
  };
  path2.centroid = function(object2) {
    geoStream(object2, projectionStream(pathCentroid));
    return pathCentroid.result();
  };
  path2.projection = function(_2) {
    return arguments.length ? (projectionStream = _2 == null ? (projection2 = null, identity$5) : (projection2 = _2).stream, path2) : projection2;
  };
  path2.context = function(_2) {
    if (!arguments.length)
      return context;
    contextStream = _2 == null ? (context = null, new PathString()) : new PathContext(context = _2);
    if (typeof pointRadius !== "function")
      contextStream.pointRadius(pointRadius);
    return path2;
  };
  path2.pointRadius = function(_2) {
    if (!arguments.length)
      return pointRadius;
    pointRadius = typeof _2 === "function" ? _2 : (contextStream.pointRadius(+_2), +_2);
    return path2;
  };
  return path2.projection(projection2).context(context);
}
function transform$1(methods) {
  return {
    stream: transformer$3(methods)
  };
}
function transformer$3(methods) {
  return function(stream) {
    var s2 = new TransformStream();
    for (var key in methods)
      s2[key] = methods[key];
    s2.stream = stream;
    return s2;
  };
}
function TransformStream() {
}
TransformStream.prototype = {
  constructor: TransformStream,
  point: function(x2, y2) {
    this.stream.point(x2, y2);
  },
  sphere: function() {
    this.stream.sphere();
  },
  lineStart: function() {
    this.stream.lineStart();
  },
  lineEnd: function() {
    this.stream.lineEnd();
  },
  polygonStart: function() {
    this.stream.polygonStart();
  },
  polygonEnd: function() {
    this.stream.polygonEnd();
  }
};
function fit(projection2, fitBounds, object2) {
  var clip2 = projection2.clipExtent && projection2.clipExtent();
  projection2.scale(150).translate([0, 0]);
  if (clip2 != null)
    projection2.clipExtent(null);
  geoStream(object2, projection2.stream(boundsStream$1));
  fitBounds(boundsStream$1.result());
  if (clip2 != null)
    projection2.clipExtent(clip2);
  return projection2;
}
function fitExtent(projection2, extent2, object2) {
  return fit(projection2, function(b) {
    var w = extent2[1][0] - extent2[0][0], h = extent2[1][1] - extent2[0][1], k2 = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])), x2 = +extent2[0][0] + (w - k2 * (b[1][0] + b[0][0])) / 2, y2 = +extent2[0][1] + (h - k2 * (b[1][1] + b[0][1])) / 2;
    projection2.scale(150 * k2).translate([x2, y2]);
  }, object2);
}
function fitSize(projection2, size, object2) {
  return fitExtent(projection2, [[0, 0], size], object2);
}
function fitWidth(projection2, width, object2) {
  return fit(projection2, function(b) {
    var w = +width, k2 = w / (b[1][0] - b[0][0]), x2 = (w - k2 * (b[1][0] + b[0][0])) / 2, y2 = -k2 * b[0][1];
    projection2.scale(150 * k2).translate([x2, y2]);
  }, object2);
}
function fitHeight(projection2, height, object2) {
  return fit(projection2, function(b) {
    var h = +height, k2 = h / (b[1][1] - b[0][1]), x2 = -k2 * b[0][0], y2 = (h - k2 * (b[1][1] + b[0][1])) / 2;
    projection2.scale(150 * k2).translate([x2, y2]);
  }, object2);
}
var maxDepth = 16, cosMinDistance = cos$1(30 * radians);
function resample(project, delta2) {
  return +delta2 ? resample$1(project, delta2) : resampleNone(project);
}
function resampleNone(project) {
  return transformer$3({
    point: function(x2, y2) {
      x2 = project(x2, y2);
      this.stream.point(x2[0], x2[1]);
    }
  });
}
function resample$1(project, delta2) {
  function resampleLineTo(x02, y02, lambda02, a0, b02, c0, x12, y12, lambda12, a1, b12, c1, depth, stream) {
    var dx = x12 - x02, dy = y12 - y02, d2 = dx * dx + dy * dy;
    if (d2 > 4 * delta2 && depth--) {
      var a2 = a0 + a1, b = b02 + b12, c2 = c0 + c1, m = sqrt$2(a2 * a2 + b * b + c2 * c2), phi2 = asin$1(c2 /= m), lambda22 = abs$1(abs$1(c2) - 1) < epsilon$2 || abs$1(lambda02 - lambda12) < epsilon$2 ? (lambda02 + lambda12) / 2 : atan2$1(b, a2), p = project(lambda22, phi2), x2 = p[0], y2 = p[1], dx2 = x2 - x02, dy2 = y2 - y02, dz = dy * dx2 - dx * dy2;
      if (dz * dz / d2 > delta2 || abs$1((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 || a0 * a1 + b02 * b12 + c0 * c1 < cosMinDistance) {
        resampleLineTo(x02, y02, lambda02, a0, b02, c0, x2, y2, lambda22, a2 /= m, b /= m, c2, depth, stream);
        stream.point(x2, y2);
        resampleLineTo(x2, y2, lambda22, a2, b, c2, x12, y12, lambda12, a1, b12, c1, depth, stream);
      }
    }
  }
  return function(stream) {
    var lambda002, x002, y002, a00, b00, c00, lambda02, x02, y02, a0, b02, c0;
    var resampleStream = {
      point: point2,
      lineStart,
      lineEnd,
      polygonStart: function() {
        stream.polygonStart();
        resampleStream.lineStart = ringStart;
      },
      polygonEnd: function() {
        stream.polygonEnd();
        resampleStream.lineStart = lineStart;
      }
    };
    function point2(x2, y2) {
      x2 = project(x2, y2);
      stream.point(x2[0], x2[1]);
    }
    function lineStart() {
      x02 = NaN;
      resampleStream.point = linePoint2;
      stream.lineStart();
    }
    function linePoint2(lambda, phi2) {
      var c2 = cartesian([lambda, phi2]), p = project(lambda, phi2);
      resampleLineTo(x02, y02, lambda02, a0, b02, c0, x02 = p[0], y02 = p[1], lambda02 = lambda, a0 = c2[0], b02 = c2[1], c0 = c2[2], maxDepth, stream);
      stream.point(x02, y02);
    }
    function lineEnd() {
      resampleStream.point = point2;
      stream.lineEnd();
    }
    function ringStart() {
      lineStart();
      resampleStream.point = ringPoint;
      resampleStream.lineEnd = ringEnd;
    }
    function ringPoint(lambda, phi2) {
      linePoint2(lambda002 = lambda, phi2), x002 = x02, y002 = y02, a00 = a0, b00 = b02, c00 = c0;
      resampleStream.point = linePoint2;
    }
    function ringEnd() {
      resampleLineTo(x02, y02, lambda02, a0, b02, c0, x002, y002, lambda002, a00, b00, c00, maxDepth, stream);
      resampleStream.lineEnd = lineEnd;
      lineEnd();
    }
    return resampleStream;
  };
}
var transformRadians = transformer$3({
  point: function(x2, y2) {
    this.stream.point(x2 * radians, y2 * radians);
  }
});
function transformRotate(rotate) {
  return transformer$3({
    point: function(x2, y2) {
      var r = rotate(x2, y2);
      return this.stream.point(r[0], r[1]);
    }
  });
}
function scaleTranslate(k2, dx, dy, sx, sy) {
  function transform2(x2, y2) {
    x2 *= sx;
    y2 *= sy;
    return [dx + k2 * x2, dy - k2 * y2];
  }
  transform2.invert = function(x2, y2) {
    return [(x2 - dx) / k2 * sx, (dy - y2) / k2 * sy];
  };
  return transform2;
}
function scaleTranslateRotate(k2, dx, dy, sx, sy, alpha2) {
  var cosAlpha = cos$1(alpha2), sinAlpha = sin$1(alpha2), a2 = cosAlpha * k2, b = sinAlpha * k2, ai = cosAlpha / k2, bi = sinAlpha / k2, ci = (sinAlpha * dy - cosAlpha * dx) / k2, fi = (sinAlpha * dx + cosAlpha * dy) / k2;
  function transform2(x2, y2) {
    x2 *= sx;
    y2 *= sy;
    return [a2 * x2 - b * y2 + dx, dy - b * x2 - a2 * y2];
  }
  transform2.invert = function(x2, y2) {
    return [sx * (ai * x2 - bi * y2 + ci), sy * (fi - bi * x2 - ai * y2)];
  };
  return transform2;
}
function projection(project) {
  return projectionMutator(function() {
    return project;
  })();
}
function projectionMutator(projectAt) {
  var project, k2 = 150, x2 = 480, y2 = 250, lambda = 0, phi2 = 0, deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, alpha2 = 0, sx = 1, sy = 1, theta = null, preclip = clipAntimeridian, x02 = null, y02, x12, y12, postclip = identity$5, delta2 = 0.5, projectResample, projectTransform, projectRotateTransform, cache, cacheStream;
  function projection2(point2) {
    return projectRotateTransform(point2[0] * radians, point2[1] * radians);
  }
  function invert2(point2) {
    point2 = projectRotateTransform.invert(point2[0], point2[1]);
    return point2 && [point2[0] * degrees, point2[1] * degrees];
  }
  projection2.stream = function(stream) {
    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));
  };
  projection2.preclip = function(_2) {
    return arguments.length ? (preclip = _2, theta = void 0, reset()) : preclip;
  };
  projection2.postclip = function(_2) {
    return arguments.length ? (postclip = _2, x02 = y02 = x12 = y12 = null, reset()) : postclip;
  };
  projection2.clipAngle = function(_2) {
    return arguments.length ? (preclip = +_2 ? clipCircle(theta = _2 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;
  };
  projection2.clipExtent = function(_2) {
    return arguments.length ? (postclip = _2 == null ? (x02 = y02 = x12 = y12 = null, identity$5) : clipRectangle(x02 = +_2[0][0], y02 = +_2[0][1], x12 = +_2[1][0], y12 = +_2[1][1]), reset()) : x02 == null ? null : [[x02, y02], [x12, y12]];
  };
  projection2.scale = function(_2) {
    return arguments.length ? (k2 = +_2, recenter()) : k2;
  };
  projection2.translate = function(_2) {
    return arguments.length ? (x2 = +_2[0], y2 = +_2[1], recenter()) : [x2, y2];
  };
  projection2.center = function(_2) {
    return arguments.length ? (lambda = _2[0] % 360 * radians, phi2 = _2[1] % 360 * radians, recenter()) : [lambda * degrees, phi2 * degrees];
  };
  projection2.rotate = function(_2) {
    return arguments.length ? (deltaLambda = _2[0] % 360 * radians, deltaPhi = _2[1] % 360 * radians, deltaGamma = _2.length > 2 ? _2[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];
  };
  projection2.angle = function(_2) {
    return arguments.length ? (alpha2 = _2 % 360 * radians, recenter()) : alpha2 * degrees;
  };
  projection2.reflectX = function(_2) {
    return arguments.length ? (sx = _2 ? -1 : 1, recenter()) : sx < 0;
  };
  projection2.reflectY = function(_2) {
    return arguments.length ? (sy = _2 ? -1 : 1, recenter()) : sy < 0;
  };
  projection2.precision = function(_2) {
    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _2 * _2), reset()) : sqrt$2(delta2);
  };
  projection2.fitExtent = function(extent2, object2) {
    return fitExtent(projection2, extent2, object2);
  };
  projection2.fitSize = function(size, object2) {
    return fitSize(projection2, size, object2);
  };
  projection2.fitWidth = function(width, object2) {
    return fitWidth(projection2, width, object2);
  };
  projection2.fitHeight = function(height, object2) {
    return fitHeight(projection2, height, object2);
  };
  function recenter() {
    var center2 = scaleTranslateRotate(k2, 0, 0, sx, sy, alpha2).apply(null, project(lambda, phi2)), transform2 = (alpha2 ? scaleTranslateRotate : scaleTranslate)(k2, x2 - center2[0], y2 - center2[1], sx, sy, alpha2);
    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);
    projectTransform = compose(project, transform2);
    projectRotateTransform = compose(rotate, projectTransform);
    projectResample = resample(projectTransform, delta2);
    return reset();
  }
  function reset() {
    cache = cacheStream = null;
    return projection2;
  }
  return function() {
    project = projectAt.apply(this, arguments);
    projection2.invert = project.invert && invert2;
    return recenter();
  };
}
function conicProjection(projectAt) {
  var phi02 = 0, phi12 = pi$1 / 3, m = projectionMutator(projectAt), p = m(phi02, phi12);
  p.parallels = function(_2) {
    return arguments.length ? m(phi02 = _2[0] * radians, phi12 = _2[1] * radians) : [phi02 * degrees, phi12 * degrees];
  };
  return p;
}
function cylindricalEqualAreaRaw(phi02) {
  var cosPhi02 = cos$1(phi02);
  function forward(lambda, phi2) {
    return [lambda * cosPhi02, sin$1(phi2) / cosPhi02];
  }
  forward.invert = function(x2, y2) {
    return [x2 / cosPhi02, asin$1(y2 * cosPhi02)];
  };
  return forward;
}
function conicEqualAreaRaw(y02, y12) {
  var sy0 = sin$1(y02), n = (sy0 + sin$1(y12)) / 2;
  if (abs$1(n) < epsilon$2)
    return cylindricalEqualAreaRaw(y02);
  var c2 = 1 + sy0 * (2 * n - sy0), r0 = sqrt$2(c2) / n;
  function project(x2, y2) {
    var r = sqrt$2(c2 - 2 * n * sin$1(y2)) / n;
    return [r * sin$1(x2 *= n), r0 - r * cos$1(x2)];
  }
  project.invert = function(x2, y2) {
    var r0y = r0 - y2, l = atan2$1(x2, abs$1(r0y)) * sign$1(r0y);
    if (r0y * n < 0)
      l -= pi$1 * sign$1(x2) * sign$1(r0y);
    return [l / n, asin$1((c2 - (x2 * x2 + r0y * r0y) * n * n) / (2 * n))];
  };
  return project;
}
function conicEqualArea() {
  return conicProjection(conicEqualAreaRaw).scale(155.424).center([0, 33.6442]);
}
function albers() {
  return conicEqualArea().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-0.6, 38.7]);
}
function multiplex(streams) {
  var n = streams.length;
  return {
    point: function(x2, y2) {
      var i = -1;
      while (++i < n)
        streams[i].point(x2, y2);
    },
    sphere: function() {
      var i = -1;
      while (++i < n)
        streams[i].sphere();
    },
    lineStart: function() {
      var i = -1;
      while (++i < n)
        streams[i].lineStart();
    },
    lineEnd: function() {
      var i = -1;
      while (++i < n)
        streams[i].lineEnd();
    },
    polygonStart: function() {
      var i = -1;
      while (++i < n)
        streams[i].polygonStart();
    },
    polygonEnd: function() {
      var i = -1;
      while (++i < n)
        streams[i].polygonEnd();
    }
  };
}
function albersUsa() {
  var cache, cacheStream, lower48 = albers(), lower48Point, alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, point2, pointStream = { point: function(x2, y2) {
    point2 = [x2, y2];
  } };
  function albersUsa2(coordinates2) {
    var x2 = coordinates2[0], y2 = coordinates2[1];
    return point2 = null, (lower48Point.point(x2, y2), point2) || (alaskaPoint.point(x2, y2), point2) || (hawaiiPoint.point(x2, y2), point2);
  }
  albersUsa2.invert = function(coordinates2) {
    var k2 = lower48.scale(), t = lower48.translate(), x2 = (coordinates2[0] - t[0]) / k2, y2 = (coordinates2[1] - t[1]) / k2;
    return (y2 >= 0.12 && y2 < 0.234 && x2 >= -0.425 && x2 < -0.214 ? alaska : y2 >= 0.166 && y2 < 0.234 && x2 >= -0.214 && x2 < -0.115 ? hawaii : lower48).invert(coordinates2);
  };
  albersUsa2.stream = function(stream) {
    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);
  };
  albersUsa2.precision = function(_2) {
    if (!arguments.length)
      return lower48.precision();
    lower48.precision(_2), alaska.precision(_2), hawaii.precision(_2);
    return reset();
  };
  albersUsa2.scale = function(_2) {
    if (!arguments.length)
      return lower48.scale();
    lower48.scale(_2), alaska.scale(_2 * 0.35), hawaii.scale(_2);
    return albersUsa2.translate(lower48.translate());
  };
  albersUsa2.translate = function(_2) {
    if (!arguments.length)
      return lower48.translate();
    var k2 = lower48.scale(), x2 = +_2[0], y2 = +_2[1];
    lower48Point = lower48.translate(_2).clipExtent([[x2 - 0.455 * k2, y2 - 0.238 * k2], [x2 + 0.455 * k2, y2 + 0.238 * k2]]).stream(pointStream);
    alaskaPoint = alaska.translate([x2 - 0.307 * k2, y2 + 0.201 * k2]).clipExtent([[x2 - 0.425 * k2 + epsilon$2, y2 + 0.12 * k2 + epsilon$2], [x2 - 0.214 * k2 - epsilon$2, y2 + 0.234 * k2 - epsilon$2]]).stream(pointStream);
    hawaiiPoint = hawaii.translate([x2 - 0.205 * k2, y2 + 0.212 * k2]).clipExtent([[x2 - 0.214 * k2 + epsilon$2, y2 + 0.166 * k2 + epsilon$2], [x2 - 0.115 * k2 - epsilon$2, y2 + 0.234 * k2 - epsilon$2]]).stream(pointStream);
    return reset();
  };
  albersUsa2.fitExtent = function(extent2, object2) {
    return fitExtent(albersUsa2, extent2, object2);
  };
  albersUsa2.fitSize = function(size, object2) {
    return fitSize(albersUsa2, size, object2);
  };
  albersUsa2.fitWidth = function(width, object2) {
    return fitWidth(albersUsa2, width, object2);
  };
  albersUsa2.fitHeight = function(height, object2) {
    return fitHeight(albersUsa2, height, object2);
  };
  function reset() {
    cache = cacheStream = null;
    return albersUsa2;
  }
  return albersUsa2.scale(1070);
}
function azimuthalRaw(scale2) {
  return function(x2, y2) {
    var cx = cos$1(x2), cy = cos$1(y2), k2 = scale2(cx * cy);
    return [
      k2 * cy * sin$1(x2),
      k2 * sin$1(y2)
    ];
  };
}
function azimuthalInvert(angle2) {
  return function(x2, y2) {
    var z = sqrt$2(x2 * x2 + y2 * y2), c2 = angle2(z), sc = sin$1(c2), cc = cos$1(c2);
    return [
      atan2$1(x2 * sc, z * cc),
      asin$1(z && y2 * sc / z)
    ];
  };
}
var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {
  return sqrt$2(2 / (1 + cxcy));
});
azimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {
  return 2 * asin$1(z / 2);
});
function azimuthalEqualArea() {
  return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(180 - 1e-3);
}
var azimuthalEquidistantRaw = azimuthalRaw(function(c2) {
  return (c2 = acos$1(c2)) && c2 / sin$1(c2);
});
azimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {
  return z;
});
function azimuthalEquidistant() {
  return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(180 - 1e-3);
}
function mercatorRaw(lambda, phi2) {
  return [lambda, log$1(tan((halfPi$1 + phi2) / 2))];
}
mercatorRaw.invert = function(x2, y2) {
  return [x2, 2 * atan(exp(y2)) - halfPi$1];
};
function mercator() {
  return mercatorProjection(mercatorRaw).scale(961 / tau$1);
}
function mercatorProjection(project) {
  var m = projection(project), center2 = m.center, scale2 = m.scale, translate = m.translate, clipExtent = m.clipExtent, x02 = null, y02, x12, y12;
  m.scale = function(_2) {
    return arguments.length ? (scale2(_2), reclip()) : scale2();
  };
  m.translate = function(_2) {
    return arguments.length ? (translate(_2), reclip()) : translate();
  };
  m.center = function(_2) {
    return arguments.length ? (center2(_2), reclip()) : center2();
  };
  m.clipExtent = function(_2) {
    return arguments.length ? (_2 == null ? x02 = y02 = x12 = y12 = null : (x02 = +_2[0][0], y02 = +_2[0][1], x12 = +_2[1][0], y12 = +_2[1][1]), reclip()) : x02 == null ? null : [[x02, y02], [x12, y12]];
  };
  function reclip() {
    var k2 = pi$1 * scale2(), t = m(rotation(m.rotate()).invert([0, 0]));
    return clipExtent(x02 == null ? [[t[0] - k2, t[1] - k2], [t[0] + k2, t[1] + k2]] : project === mercatorRaw ? [[Math.max(t[0] - k2, x02), y02], [Math.min(t[0] + k2, x12), y12]] : [[x02, Math.max(t[1] - k2, y02)], [x12, Math.min(t[1] + k2, y12)]]);
  }
  return reclip();
}
function tany(y2) {
  return tan((halfPi$1 + y2) / 2);
}
function conicConformalRaw(y02, y12) {
  var cy0 = cos$1(y02), n = y02 === y12 ? sin$1(y02) : log$1(cy0 / cos$1(y12)) / log$1(tany(y12) / tany(y02)), f = cy0 * pow$1(tany(y02), n) / n;
  if (!n)
    return mercatorRaw;
  function project(x2, y2) {
    if (f > 0) {
      if (y2 < -halfPi$1 + epsilon$2)
        y2 = -halfPi$1 + epsilon$2;
    } else {
      if (y2 > halfPi$1 - epsilon$2)
        y2 = halfPi$1 - epsilon$2;
    }
    var r = f / pow$1(tany(y2), n);
    return [r * sin$1(n * x2), f - r * cos$1(n * x2)];
  }
  project.invert = function(x2, y2) {
    var fy = f - y2, r = sign$1(n) * sqrt$2(x2 * x2 + fy * fy), l = atan2$1(x2, abs$1(fy)) * sign$1(fy);
    if (fy * n < 0)
      l -= pi$1 * sign$1(x2) * sign$1(fy);
    return [l / n, 2 * atan(pow$1(f / r, 1 / n)) - halfPi$1];
  };
  return project;
}
function conicConformal() {
  return conicProjection(conicConformalRaw).scale(109.5).parallels([30, 30]);
}
function equirectangularRaw(lambda, phi2) {
  return [lambda, phi2];
}
equirectangularRaw.invert = equirectangularRaw;
function equirectangular() {
  return projection(equirectangularRaw).scale(152.63);
}
function conicEquidistantRaw(y02, y12) {
  var cy0 = cos$1(y02), n = y02 === y12 ? sin$1(y02) : (cy0 - cos$1(y12)) / (y12 - y02), g = cy0 / n + y02;
  if (abs$1(n) < epsilon$2)
    return equirectangularRaw;
  function project(x2, y2) {
    var gy = g - y2, nx = n * x2;
    return [gy * sin$1(nx), g - gy * cos$1(nx)];
  }
  project.invert = function(x2, y2) {
    var gy = g - y2, l = atan2$1(x2, abs$1(gy)) * sign$1(gy);
    if (gy * n < 0)
      l -= pi$1 * sign$1(x2) * sign$1(gy);
    return [l / n, g - sign$1(n) * sqrt$2(x2 * x2 + gy * gy)];
  };
  return project;
}
function conicEquidistant() {
  return conicProjection(conicEquidistantRaw).scale(131.154).center([0, 13.9389]);
}
var A1 = 1.340264, A2 = -0.081106, A3 = 893e-6, A4 = 3796e-6, M = sqrt$2(3) / 2, iterations = 12;
function equalEarthRaw(lambda, phi2) {
  var l = asin$1(M * sin$1(phi2)), l2 = l * l, l6 = l2 * l2 * l2;
  return [
    lambda * cos$1(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),
    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))
  ];
}
equalEarthRaw.invert = function(x2, y2) {
  var l = y2, l2 = l * l, l6 = l2 * l2 * l2;
  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {
    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y2;
    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);
    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;
    if (abs$1(delta) < epsilon2$1)
      break;
  }
  return [
    M * x2 * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos$1(l),
    asin$1(sin$1(l) / M)
  ];
};
function equalEarth() {
  return projection(equalEarthRaw).scale(177.158);
}
function gnomonicRaw(x2, y2) {
  var cy = cos$1(y2), k2 = cos$1(x2) * cy;
  return [cy * sin$1(x2) / k2, sin$1(y2) / k2];
}
gnomonicRaw.invert = azimuthalInvert(atan);
function gnomonic() {
  return projection(gnomonicRaw).scale(144.049).clipAngle(60);
}
function identity$4() {
  var k2 = 1, tx = 0, ty = 0, sx = 1, sy = 1, alpha2 = 0, ca, sa, x02 = null, y02, x12, y12, kx2 = 1, ky2 = 1, transform2 = transformer$3({
    point: function(x2, y2) {
      var p = projection2([x2, y2]);
      this.stream.point(p[0], p[1]);
    }
  }), postclip = identity$5, cache, cacheStream;
  function reset() {
    kx2 = k2 * sx;
    ky2 = k2 * sy;
    cache = cacheStream = null;
    return projection2;
  }
  function projection2(p) {
    var x2 = p[0] * kx2, y2 = p[1] * ky2;
    if (alpha2) {
      var t = y2 * ca - x2 * sa;
      x2 = x2 * ca + y2 * sa;
      y2 = t;
    }
    return [x2 + tx, y2 + ty];
  }
  projection2.invert = function(p) {
    var x2 = p[0] - tx, y2 = p[1] - ty;
    if (alpha2) {
      var t = y2 * ca + x2 * sa;
      x2 = x2 * ca - y2 * sa;
      y2 = t;
    }
    return [x2 / kx2, y2 / ky2];
  };
  projection2.stream = function(stream) {
    return cache && cacheStream === stream ? cache : cache = transform2(postclip(cacheStream = stream));
  };
  projection2.postclip = function(_2) {
    return arguments.length ? (postclip = _2, x02 = y02 = x12 = y12 = null, reset()) : postclip;
  };
  projection2.clipExtent = function(_2) {
    return arguments.length ? (postclip = _2 == null ? (x02 = y02 = x12 = y12 = null, identity$5) : clipRectangle(x02 = +_2[0][0], y02 = +_2[0][1], x12 = +_2[1][0], y12 = +_2[1][1]), reset()) : x02 == null ? null : [[x02, y02], [x12, y12]];
  };
  projection2.scale = function(_2) {
    return arguments.length ? (k2 = +_2, reset()) : k2;
  };
  projection2.translate = function(_2) {
    return arguments.length ? (tx = +_2[0], ty = +_2[1], reset()) : [tx, ty];
  };
  projection2.angle = function(_2) {
    return arguments.length ? (alpha2 = _2 % 360 * radians, sa = sin$1(alpha2), ca = cos$1(alpha2), reset()) : alpha2 * degrees;
  };
  projection2.reflectX = function(_2) {
    return arguments.length ? (sx = _2 ? -1 : 1, reset()) : sx < 0;
  };
  projection2.reflectY = function(_2) {
    return arguments.length ? (sy = _2 ? -1 : 1, reset()) : sy < 0;
  };
  projection2.fitExtent = function(extent2, object2) {
    return fitExtent(projection2, extent2, object2);
  };
  projection2.fitSize = function(size, object2) {
    return fitSize(projection2, size, object2);
  };
  projection2.fitWidth = function(width, object2) {
    return fitWidth(projection2, width, object2);
  };
  projection2.fitHeight = function(height, object2) {
    return fitHeight(projection2, height, object2);
  };
  return projection2;
}
function naturalEarth1Raw(lambda, phi2) {
  var phi22 = phi2 * phi2, phi4 = phi22 * phi22;
  return [
    lambda * (0.8707 - 0.131979 * phi22 + phi4 * (-0.013791 + phi4 * (3971e-6 * phi22 - 1529e-6 * phi4))),
    phi2 * (1.007226 + phi22 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi22 - 5916e-6 * phi4)))
  ];
}
naturalEarth1Raw.invert = function(x2, y2) {
  var phi2 = y2, i = 25, delta;
  do {
    var phi22 = phi2 * phi2, phi4 = phi22 * phi22;
    phi2 -= delta = (phi2 * (1.007226 + phi22 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi22 - 5916e-6 * phi4))) - y2) / (1.007226 + phi22 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi22 - 5916e-6 * 11 * phi4)));
  } while (abs$1(delta) > epsilon$2 && --i > 0);
  return [
    x2 / (0.8707 + (phi22 = phi2 * phi2) * (-0.131979 + phi22 * (-0.013791 + phi22 * phi22 * phi22 * (3971e-6 - 1529e-6 * phi22)))),
    phi2
  ];
};
function naturalEarth1() {
  return projection(naturalEarth1Raw).scale(175.295);
}
function orthographicRaw(x2, y2) {
  return [cos$1(y2) * sin$1(x2), sin$1(y2)];
}
orthographicRaw.invert = azimuthalInvert(asin$1);
function orthographic() {
  return projection(orthographicRaw).scale(249.5).clipAngle(90 + epsilon$2);
}
function stereographicRaw(x2, y2) {
  var cy = cos$1(y2), k2 = 1 + cos$1(x2) * cy;
  return [cy * sin$1(x2) / k2, sin$1(y2) / k2];
}
stereographicRaw.invert = azimuthalInvert(function(z) {
  return 2 * atan(z);
});
function stereographic() {
  return projection(stereographicRaw).scale(250).clipAngle(142);
}
function transverseMercatorRaw(lambda, phi2) {
  return [log$1(tan((halfPi$1 + phi2) / 2)), -lambda];
}
transverseMercatorRaw.invert = function(x2, y2) {
  return [-y2, 2 * atan(exp(x2)) - halfPi$1];
};
function transverseMercator() {
  var m = mercatorProjection(transverseMercatorRaw), center2 = m.center, rotate = m.rotate;
  m.center = function(_2) {
    return arguments.length ? center2([-_2[1], _2[0]]) : (_2 = center2(), [_2[1], -_2[0]]);
  };
  m.rotate = function(_2) {
    return arguments.length ? rotate([_2[0], _2[1], _2.length > 2 ? _2[2] + 90 : 90]) : (_2 = rotate(), [_2[0], _2[1], _2[2] - 90]);
  };
  return rotate([0, 0, 90]).scale(159.155);
}
function defaultSeparation$1(a2, b) {
  return a2.parent === b.parent ? 1 : 2;
}
function meanX(children2) {
  return children2.reduce(meanXReduce, 0) / children2.length;
}
function meanXReduce(x2, c2) {
  return x2 + c2.x;
}
function maxY(children2) {
  return 1 + children2.reduce(maxYReduce, 0);
}
function maxYReduce(y2, c2) {
  return Math.max(y2, c2.y);
}
function leafLeft(node) {
  var children2;
  while (children2 = node.children)
    node = children2[0];
  return node;
}
function leafRight(node) {
  var children2;
  while (children2 = node.children)
    node = children2[children2.length - 1];
  return node;
}
function cluster() {
  var separation = defaultSeparation$1, dx = 1, dy = 1, nodeSize = false;
  function cluster2(root2) {
    var previousNode, x2 = 0;
    root2.eachAfter(function(node) {
      var children2 = node.children;
      if (children2) {
        node.x = meanX(children2);
        node.y = maxY(children2);
      } else {
        node.x = previousNode ? x2 += separation(node, previousNode) : 0;
        node.y = 0;
        previousNode = node;
      }
    });
    var left2 = leafLeft(root2), right2 = leafRight(root2), x02 = left2.x - separation(left2, right2) / 2, x12 = right2.x + separation(right2, left2) / 2;
    return root2.eachAfter(nodeSize ? function(node) {
      node.x = (node.x - root2.x) * dx;
      node.y = (root2.y - node.y) * dy;
    } : function(node) {
      node.x = (node.x - x02) / (x12 - x02) * dx;
      node.y = (1 - (root2.y ? node.y / root2.y : 1)) * dy;
    });
  }
  cluster2.separation = function(x2) {
    return arguments.length ? (separation = x2, cluster2) : separation;
  };
  cluster2.size = function(x2) {
    return arguments.length ? (nodeSize = false, dx = +x2[0], dy = +x2[1], cluster2) : nodeSize ? null : [dx, dy];
  };
  cluster2.nodeSize = function(x2) {
    return arguments.length ? (nodeSize = true, dx = +x2[0], dy = +x2[1], cluster2) : nodeSize ? [dx, dy] : null;
  };
  return cluster2;
}
function count(node) {
  var sum2 = 0, children2 = node.children, i = children2 && children2.length;
  if (!i)
    sum2 = 1;
  else
    while (--i >= 0)
      sum2 += children2[i].value;
  node.value = sum2;
}
function node_count() {
  return this.eachAfter(count);
}
function node_each(callback) {
  var node = this, current, next = [node], children2, i, n;
  do {
    current = next.reverse(), next = [];
    while (node = current.pop()) {
      callback(node), children2 = node.children;
      if (children2)
        for (i = 0, n = children2.length; i < n; ++i) {
          next.push(children2[i]);
        }
    }
  } while (next.length);
  return this;
}
function node_eachBefore(callback) {
  var node = this, nodes = [node], children2, i;
  while (node = nodes.pop()) {
    callback(node), children2 = node.children;
    if (children2)
      for (i = children2.length - 1; i >= 0; --i) {
        nodes.push(children2[i]);
      }
  }
  return this;
}
function node_eachAfter(callback) {
  var node = this, nodes = [node], next = [], children2, i, n;
  while (node = nodes.pop()) {
    next.push(node), children2 = node.children;
    if (children2)
      for (i = 0, n = children2.length; i < n; ++i) {
        nodes.push(children2[i]);
      }
  }
  while (node = next.pop()) {
    callback(node);
  }
  return this;
}
function node_sum(value) {
  return this.eachAfter(function(node) {
    var sum2 = +value(node.data) || 0, children2 = node.children, i = children2 && children2.length;
    while (--i >= 0)
      sum2 += children2[i].value;
    node.value = sum2;
  });
}
function node_sort(compare) {
  return this.eachBefore(function(node) {
    if (node.children) {
      node.children.sort(compare);
    }
  });
}
function node_path(end) {
  var start2 = this, ancestor = leastCommonAncestor(start2, end), nodes = [start2];
  while (start2 !== ancestor) {
    start2 = start2.parent;
    nodes.push(start2);
  }
  var k2 = nodes.length;
  while (end !== ancestor) {
    nodes.splice(k2, 0, end);
    end = end.parent;
  }
  return nodes;
}
function leastCommonAncestor(a2, b) {
  if (a2 === b)
    return a2;
  var aNodes = a2.ancestors(), bNodes = b.ancestors(), c2 = null;
  a2 = aNodes.pop();
  b = bNodes.pop();
  while (a2 === b) {
    c2 = a2;
    a2 = aNodes.pop();
    b = bNodes.pop();
  }
  return c2;
}
function node_ancestors() {
  var node = this, nodes = [node];
  while (node = node.parent) {
    nodes.push(node);
  }
  return nodes;
}
function node_descendants() {
  var nodes = [];
  this.each(function(node) {
    nodes.push(node);
  });
  return nodes;
}
function node_leaves() {
  var leaves = [];
  this.eachBefore(function(node) {
    if (!node.children) {
      leaves.push(node);
    }
  });
  return leaves;
}
function node_links() {
  var root2 = this, links = [];
  root2.each(function(node) {
    if (node !== root2) {
      links.push({ source: node.parent, target: node });
    }
  });
  return links;
}
function hierarchy(data, children2) {
  var root2 = new Node$1(data), valued = +data.value && (root2.value = data.value), node, nodes = [root2], child, childs, i, n;
  if (children2 == null)
    children2 = defaultChildren;
  while (node = nodes.pop()) {
    if (valued)
      node.value = +node.data.value;
    if ((childs = children2(node.data)) && (n = childs.length)) {
      node.children = new Array(n);
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = node.children[i] = new Node$1(childs[i]));
        child.parent = node;
        child.depth = node.depth + 1;
      }
    }
  }
  return root2.eachBefore(computeHeight);
}
function node_copy() {
  return hierarchy(this).eachBefore(copyData);
}
function defaultChildren(d) {
  return d.children;
}
function copyData(node) {
  node.data = node.data.data;
}
function computeHeight(node) {
  var height = 0;
  do
    node.height = height;
  while ((node = node.parent) && node.height < ++height);
}
function Node$1(data) {
  this.data = data;
  this.depth = this.height = 0;
  this.parent = null;
}
Node$1.prototype = hierarchy.prototype = {
  constructor: Node$1,
  count: node_count,
  each: node_each,
  eachAfter: node_eachAfter,
  eachBefore: node_eachBefore,
  sum: node_sum,
  sort: node_sort,
  path: node_path,
  ancestors: node_ancestors,
  descendants: node_descendants,
  leaves: node_leaves,
  links: node_links,
  copy: node_copy
};
var slice$2 = Array.prototype.slice;
function shuffle(array2) {
  var m = array2.length, t, i;
  while (m) {
    i = Math.random() * m-- | 0;
    t = array2[m];
    array2[m] = array2[i];
    array2[i] = t;
  }
  return array2;
}
function enclose(circles2) {
  var i = 0, n = (circles2 = shuffle(slice$2.call(circles2))).length, B2 = [], p, e;
  while (i < n) {
    p = circles2[i];
    if (e && enclosesWeak(e, p))
      ++i;
    else
      e = encloseBasis(B2 = extendBasis(B2, p)), i = 0;
  }
  return e;
}
function extendBasis(B2, p) {
  var i, j;
  if (enclosesWeakAll(p, B2))
    return [p];
  for (i = 0; i < B2.length; ++i) {
    if (enclosesNot(p, B2[i]) && enclosesWeakAll(encloseBasis2(B2[i], p), B2)) {
      return [B2[i], p];
    }
  }
  for (i = 0; i < B2.length - 1; ++i) {
    for (j = i + 1; j < B2.length; ++j) {
      if (enclosesNot(encloseBasis2(B2[i], B2[j]), p) && enclosesNot(encloseBasis2(B2[i], p), B2[j]) && enclosesNot(encloseBasis2(B2[j], p), B2[i]) && enclosesWeakAll(encloseBasis3(B2[i], B2[j], p), B2)) {
        return [B2[i], B2[j], p];
      }
    }
  }
  throw new Error();
}
function enclosesNot(a2, b) {
  var dr = a2.r - b.r, dx = b.x - a2.x, dy = b.y - a2.y;
  return dr < 0 || dr * dr < dx * dx + dy * dy;
}
function enclosesWeak(a2, b) {
  var dr = a2.r - b.r + 1e-6, dx = b.x - a2.x, dy = b.y - a2.y;
  return dr > 0 && dr * dr > dx * dx + dy * dy;
}
function enclosesWeakAll(a2, B2) {
  for (var i = 0; i < B2.length; ++i) {
    if (!enclosesWeak(a2, B2[i])) {
      return false;
    }
  }
  return true;
}
function encloseBasis(B2) {
  switch (B2.length) {
    case 1:
      return encloseBasis1(B2[0]);
    case 2:
      return encloseBasis2(B2[0], B2[1]);
    case 3:
      return encloseBasis3(B2[0], B2[1], B2[2]);
  }
}
function encloseBasis1(a2) {
  return {
    x: a2.x,
    y: a2.y,
    r: a2.r
  };
}
function encloseBasis2(a2, b) {
  var x12 = a2.x, y12 = a2.y, r1 = a2.r, x2 = b.x, y2 = b.y, r2 = b.r, x21 = x2 - x12, y21 = y2 - y12, r21 = r2 - r1, l = Math.sqrt(x21 * x21 + y21 * y21);
  return {
    x: (x12 + x2 + x21 / l * r21) / 2,
    y: (y12 + y2 + y21 / l * r21) / 2,
    r: (l + r1 + r2) / 2
  };
}
function encloseBasis3(a2, b, c2) {
  var x12 = a2.x, y12 = a2.y, r1 = a2.r, x2 = b.x, y2 = b.y, r2 = b.r, x3 = c2.x, y3 = c2.y, r3 = c2.r, a22 = x12 - x2, a3 = x12 - x3, b22 = y12 - y2, b32 = y12 - y3, c22 = r2 - r1, c3 = r3 - r1, d1 = x12 * x12 + y12 * y12 - r1 * r1, d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2, d32 = d1 - x3 * x3 - y3 * y3 + r3 * r3, ab = a3 * b22 - a22 * b32, xa = (b22 * d32 - b32 * d2) / (ab * 2) - x12, xb = (b32 * c22 - b22 * c3) / ab, ya = (a3 * d2 - a22 * d32) / (ab * 2) - y12, yb = (a22 * c3 - a3 * c22) / ab, A5 = xb * xb + yb * yb - 1, B2 = 2 * (r1 + xa * xb + ya * yb), C2 = xa * xa + ya * ya - r1 * r1, r = -(A5 ? (B2 + Math.sqrt(B2 * B2 - 4 * A5 * C2)) / (2 * A5) : C2 / B2);
  return {
    x: x12 + xa + xb * r,
    y: y12 + ya + yb * r,
    r
  };
}
function place(b, a2, c2) {
  var dx = b.x - a2.x, x2, a22, dy = b.y - a2.y, y2, b22, d2 = dx * dx + dy * dy;
  if (d2) {
    a22 = a2.r + c2.r, a22 *= a22;
    b22 = b.r + c2.r, b22 *= b22;
    if (a22 > b22) {
      x2 = (d2 + b22 - a22) / (2 * d2);
      y2 = Math.sqrt(Math.max(0, b22 / d2 - x2 * x2));
      c2.x = b.x - x2 * dx - y2 * dy;
      c2.y = b.y - x2 * dy + y2 * dx;
    } else {
      x2 = (d2 + a22 - b22) / (2 * d2);
      y2 = Math.sqrt(Math.max(0, a22 / d2 - x2 * x2));
      c2.x = a2.x + x2 * dx - y2 * dy;
      c2.y = a2.y + x2 * dy + y2 * dx;
    }
  } else {
    c2.x = a2.x + c2.r;
    c2.y = a2.y;
  }
}
function intersects(a2, b) {
  var dr = a2.r + b.r - 1e-6, dx = b.x - a2.x, dy = b.y - a2.y;
  return dr > 0 && dr * dr > dx * dx + dy * dy;
}
function score(node) {
  var a2 = node._, b = node.next._, ab = a2.r + b.r, dx = (a2.x * b.r + b.x * a2.r) / ab, dy = (a2.y * b.r + b.y * a2.r) / ab;
  return dx * dx + dy * dy;
}
function Node(circle2) {
  this._ = circle2;
  this.next = null;
  this.previous = null;
}
function packEnclose(circles2) {
  if (!(n = circles2.length))
    return 0;
  var a2, b, c2, n, aa, ca, i, j, k2, sj, sk;
  a2 = circles2[0], a2.x = 0, a2.y = 0;
  if (!(n > 1))
    return a2.r;
  b = circles2[1], a2.x = -b.r, b.x = a2.r, b.y = 0;
  if (!(n > 2))
    return a2.r + b.r;
  place(b, a2, c2 = circles2[2]);
  a2 = new Node(a2), b = new Node(b), c2 = new Node(c2);
  a2.next = c2.previous = b;
  b.next = a2.previous = c2;
  c2.next = b.previous = a2;
  pack:
    for (i = 3; i < n; ++i) {
      place(a2._, b._, c2 = circles2[i]), c2 = new Node(c2);
      j = b.next, k2 = a2.previous, sj = b._.r, sk = a2._.r;
      do {
        if (sj <= sk) {
          if (intersects(j._, c2._)) {
            b = j, a2.next = b, b.previous = a2, --i;
            continue pack;
          }
          sj += j._.r, j = j.next;
        } else {
          if (intersects(k2._, c2._)) {
            a2 = k2, a2.next = b, b.previous = a2, --i;
            continue pack;
          }
          sk += k2._.r, k2 = k2.previous;
        }
      } while (j !== k2.next);
      c2.previous = a2, c2.next = b, a2.next = b.previous = b = c2;
      aa = score(a2);
      while ((c2 = c2.next) !== b) {
        if ((ca = score(c2)) < aa) {
          a2 = c2, aa = ca;
        }
      }
      b = a2.next;
    }
  a2 = [b._], c2 = b;
  while ((c2 = c2.next) !== b)
    a2.push(c2._);
  c2 = enclose(a2);
  for (i = 0; i < n; ++i)
    a2 = circles2[i], a2.x -= c2.x, a2.y -= c2.y;
  return c2.r;
}
function siblings(circles2) {
  packEnclose(circles2);
  return circles2;
}
function optional(f) {
  return f == null ? null : required(f);
}
function required(f) {
  if (typeof f !== "function")
    throw new Error();
  return f;
}
function constantZero() {
  return 0;
}
function constant$4(x2) {
  return function() {
    return x2;
  };
}
function defaultRadius(d) {
  return Math.sqrt(d.value);
}
function index$1() {
  var radius = null, dx = 1, dy = 1, padding = constantZero;
  function pack2(root2) {
    root2.x = dx / 2, root2.y = dy / 2;
    if (radius) {
      root2.eachBefore(radiusLeaf(radius)).eachAfter(packChildren(padding, 0.5)).eachBefore(translateChild(1));
    } else {
      root2.eachBefore(radiusLeaf(defaultRadius)).eachAfter(packChildren(constantZero, 1)).eachAfter(packChildren(padding, root2.r / Math.min(dx, dy))).eachBefore(translateChild(Math.min(dx, dy) / (2 * root2.r)));
    }
    return root2;
  }
  pack2.radius = function(x2) {
    return arguments.length ? (radius = optional(x2), pack2) : radius;
  };
  pack2.size = function(x2) {
    return arguments.length ? (dx = +x2[0], dy = +x2[1], pack2) : [dx, dy];
  };
  pack2.padding = function(x2) {
    return arguments.length ? (padding = typeof x2 === "function" ? x2 : constant$4(+x2), pack2) : padding;
  };
  return pack2;
}
function radiusLeaf(radius) {
  return function(node) {
    if (!node.children) {
      node.r = Math.max(0, +radius(node) || 0);
    }
  };
}
function packChildren(padding, k2) {
  return function(node) {
    if (children2 = node.children) {
      var children2, i, n = children2.length, r = padding(node) * k2 || 0, e;
      if (r)
        for (i = 0; i < n; ++i)
          children2[i].r += r;
      e = packEnclose(children2);
      if (r)
        for (i = 0; i < n; ++i)
          children2[i].r -= r;
      node.r = e + r;
    }
  };
}
function translateChild(k2) {
  return function(node) {
    var parent = node.parent;
    node.r *= k2;
    if (parent) {
      node.x = parent.x + k2 * node.x;
      node.y = parent.y + k2 * node.y;
    }
  };
}
function roundNode(node) {
  node.x0 = Math.round(node.x0);
  node.y0 = Math.round(node.y0);
  node.x1 = Math.round(node.x1);
  node.y1 = Math.round(node.y1);
}
function treemapDice(parent, x02, y02, x12, y12) {
  var nodes = parent.children, node, i = -1, n = nodes.length, k2 = parent.value && (x12 - x02) / parent.value;
  while (++i < n) {
    node = nodes[i], node.y0 = y02, node.y1 = y12;
    node.x0 = x02, node.x1 = x02 += node.value * k2;
  }
}
function partition() {
  var dx = 1, dy = 1, padding = 0, round = false;
  function partition2(root2) {
    var n = root2.height + 1;
    root2.x0 = root2.y0 = padding;
    root2.x1 = dx;
    root2.y1 = dy / n;
    root2.eachBefore(positionNode(dy, n));
    if (round)
      root2.eachBefore(roundNode);
    return root2;
  }
  function positionNode(dy2, n) {
    return function(node) {
      if (node.children) {
        treemapDice(node, node.x0, dy2 * (node.depth + 1) / n, node.x1, dy2 * (node.depth + 2) / n);
      }
      var x02 = node.x0, y02 = node.y0, x12 = node.x1 - padding, y12 = node.y1 - padding;
      if (x12 < x02)
        x02 = x12 = (x02 + x12) / 2;
      if (y12 < y02)
        y02 = y12 = (y02 + y12) / 2;
      node.x0 = x02;
      node.y0 = y02;
      node.x1 = x12;
      node.y1 = y12;
    };
  }
  partition2.round = function(x2) {
    return arguments.length ? (round = !!x2, partition2) : round;
  };
  partition2.size = function(x2) {
    return arguments.length ? (dx = +x2[0], dy = +x2[1], partition2) : [dx, dy];
  };
  partition2.padding = function(x2) {
    return arguments.length ? (padding = +x2, partition2) : padding;
  };
  return partition2;
}
var keyPrefix = "$", preroot = { depth: -1 }, ambiguous = {};
function defaultId(d) {
  return d.id;
}
function defaultParentId(d) {
  return d.parentId;
}
function stratify() {
  var id2 = defaultId, parentId = defaultParentId;
  function stratify2(data) {
    var d, i, n = data.length, root2, parent, node, nodes = new Array(n), nodeId, nodeKey, nodeByKey = {};
    for (i = 0; i < n; ++i) {
      d = data[i], node = nodes[i] = new Node$1(d);
      if ((nodeId = id2(d, i, data)) != null && (nodeId += "")) {
        nodeKey = keyPrefix + (node.id = nodeId);
        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;
      }
    }
    for (i = 0; i < n; ++i) {
      node = nodes[i], nodeId = parentId(data[i], i, data);
      if (nodeId == null || !(nodeId += "")) {
        if (root2)
          throw new Error("multiple roots");
        root2 = node;
      } else {
        parent = nodeByKey[keyPrefix + nodeId];
        if (!parent)
          throw new Error("missing: " + nodeId);
        if (parent === ambiguous)
          throw new Error("ambiguous: " + nodeId);
        if (parent.children)
          parent.children.push(node);
        else
          parent.children = [node];
        node.parent = parent;
      }
    }
    if (!root2)
      throw new Error("no root");
    root2.parent = preroot;
    root2.eachBefore(function(node2) {
      node2.depth = node2.parent.depth + 1;
      --n;
    }).eachBefore(computeHeight);
    root2.parent = null;
    if (n > 0)
      throw new Error("cycle");
    return root2;
  }
  stratify2.id = function(x2) {
    return arguments.length ? (id2 = required(x2), stratify2) : id2;
  };
  stratify2.parentId = function(x2) {
    return arguments.length ? (parentId = required(x2), stratify2) : parentId;
  };
  return stratify2;
}
function defaultSeparation(a2, b) {
  return a2.parent === b.parent ? 1 : 2;
}
function nextLeft(v) {
  var children2 = v.children;
  return children2 ? children2[0] : v.t;
}
function nextRight(v) {
  var children2 = v.children;
  return children2 ? children2[children2.length - 1] : v.t;
}
function moveSubtree(wm, wp, shift) {
  var change2 = shift / (wp.i - wm.i);
  wp.c -= change2;
  wp.s += shift;
  wm.c += change2;
  wp.z += shift;
  wp.m += shift;
}
function executeShifts(v) {
  var shift = 0, change2 = 0, children2 = v.children, i = children2.length, w;
  while (--i >= 0) {
    w = children2[i];
    w.z += shift;
    w.m += shift;
    shift += w.s + (change2 += w.c);
  }
}
function nextAncestor(vim, v, ancestor) {
  return vim.a.parent === v.parent ? vim.a : ancestor;
}
function TreeNode(node, i) {
  this._ = node;
  this.parent = null;
  this.children = null;
  this.A = null;
  this.a = this;
  this.z = 0;
  this.m = 0;
  this.c = 0;
  this.s = 0;
  this.t = null;
  this.i = i;
}
TreeNode.prototype = Object.create(Node$1.prototype);
function treeRoot(root2) {
  var tree2 = new TreeNode(root2, 0), node, nodes = [tree2], child, children2, i, n;
  while (node = nodes.pop()) {
    if (children2 = node._.children) {
      node.children = new Array(n = children2.length);
      for (i = n - 1; i >= 0; --i) {
        nodes.push(child = node.children[i] = new TreeNode(children2[i], i));
        child.parent = node;
      }
    }
  }
  (tree2.parent = new TreeNode(null, 0)).children = [tree2];
  return tree2;
}
function tree() {
  var separation = defaultSeparation, dx = 1, dy = 1, nodeSize = null;
  function tree2(root2) {
    var t = treeRoot(root2);
    t.eachAfter(firstWalk), t.parent.m = -t.z;
    t.eachBefore(secondWalk);
    if (nodeSize)
      root2.eachBefore(sizeNode);
    else {
      var left2 = root2, right2 = root2, bottom2 = root2;
      root2.eachBefore(function(node) {
        if (node.x < left2.x)
          left2 = node;
        if (node.x > right2.x)
          right2 = node;
        if (node.depth > bottom2.depth)
          bottom2 = node;
      });
      var s2 = left2 === right2 ? 1 : separation(left2, right2) / 2, tx = s2 - left2.x, kx2 = dx / (right2.x + s2 + tx), ky2 = dy / (bottom2.depth || 1);
      root2.eachBefore(function(node) {
        node.x = (node.x + tx) * kx2;
        node.y = node.depth * ky2;
      });
    }
    return root2;
  }
  function firstWalk(v) {
    var children2 = v.children, siblings2 = v.parent.children, w = v.i ? siblings2[v.i - 1] : null;
    if (children2) {
      executeShifts(v);
      var midpoint = (children2[0].z + children2[children2.length - 1].z) / 2;
      if (w) {
        v.z = w.z + separation(v._, w._);
        v.m = v.z - midpoint;
      } else {
        v.z = midpoint;
      }
    } else if (w) {
      v.z = w.z + separation(v._, w._);
    }
    v.parent.A = apportion(v, w, v.parent.A || siblings2[0]);
  }
  function secondWalk(v) {
    v._.x = v.z + v.parent.m;
    v.m += v.parent.m;
  }
  function apportion(v, w, ancestor) {
    if (w) {
      var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;
      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {
        vom = nextLeft(vom);
        vop = nextRight(vop);
        vop.a = v;
        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);
        if (shift > 0) {
          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);
          sip += shift;
          sop += shift;
        }
        sim += vim.m;
        sip += vip.m;
        som += vom.m;
        sop += vop.m;
      }
      if (vim && !nextRight(vop)) {
        vop.t = vim;
        vop.m += sim - sop;
      }
      if (vip && !nextLeft(vom)) {
        vom.t = vip;
        vom.m += sip - som;
        ancestor = v;
      }
    }
    return ancestor;
  }
  function sizeNode(node) {
    node.x *= dx;
    node.y = node.depth * dy;
  }
  tree2.separation = function(x2) {
    return arguments.length ? (separation = x2, tree2) : separation;
  };
  tree2.size = function(x2) {
    return arguments.length ? (nodeSize = false, dx = +x2[0], dy = +x2[1], tree2) : nodeSize ? null : [dx, dy];
  };
  tree2.nodeSize = function(x2) {
    return arguments.length ? (nodeSize = true, dx = +x2[0], dy = +x2[1], tree2) : nodeSize ? [dx, dy] : null;
  };
  return tree2;
}
function treemapSlice(parent, x02, y02, x12, y12) {
  var nodes = parent.children, node, i = -1, n = nodes.length, k2 = parent.value && (y12 - y02) / parent.value;
  while (++i < n) {
    node = nodes[i], node.x0 = x02, node.x1 = x12;
    node.y0 = y02, node.y1 = y02 += node.value * k2;
  }
}
var phi = (1 + Math.sqrt(5)) / 2;
function squarifyRatio(ratio, parent, x02, y02, x12, y12) {
  var rows = [], nodes = parent.children, row, nodeValue, i0 = 0, i1 = 0, n = nodes.length, dx, dy, value = parent.value, sumValue, minValue, maxValue, newRatio, minRatio, alpha2, beta2;
  while (i0 < n) {
    dx = x12 - x02, dy = y12 - y02;
    do
      sumValue = nodes[i1++].value;
    while (!sumValue && i1 < n);
    minValue = maxValue = sumValue;
    alpha2 = Math.max(dy / dx, dx / dy) / (value * ratio);
    beta2 = sumValue * sumValue * alpha2;
    minRatio = Math.max(maxValue / beta2, beta2 / minValue);
    for (; i1 < n; ++i1) {
      sumValue += nodeValue = nodes[i1].value;
      if (nodeValue < minValue)
        minValue = nodeValue;
      if (nodeValue > maxValue)
        maxValue = nodeValue;
      beta2 = sumValue * sumValue * alpha2;
      newRatio = Math.max(maxValue / beta2, beta2 / minValue);
      if (newRatio > minRatio) {
        sumValue -= nodeValue;
        break;
      }
      minRatio = newRatio;
    }
    rows.push(row = { value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1) });
    if (row.dice)
      treemapDice(row, x02, y02, x12, value ? y02 += dy * sumValue / value : y12);
    else
      treemapSlice(row, x02, y02, value ? x02 += dx * sumValue / value : x12, y12);
    value -= sumValue, i0 = i1;
  }
  return rows;
}
const squarify = function custom19(ratio) {
  function squarify2(parent, x02, y02, x12, y12) {
    squarifyRatio(ratio, parent, x02, y02, x12, y12);
  }
  squarify2.ratio = function(x2) {
    return custom19((x2 = +x2) > 1 ? x2 : 1);
  };
  return squarify2;
}(phi);
function index() {
  var tile = squarify, round = false, dx = 1, dy = 1, paddingStack = [0], paddingInner = constantZero, paddingTop = constantZero, paddingRight = constantZero, paddingBottom = constantZero, paddingLeft = constantZero;
  function treemap2(root2) {
    root2.x0 = root2.y0 = 0;
    root2.x1 = dx;
    root2.y1 = dy;
    root2.eachBefore(positionNode);
    paddingStack = [0];
    if (round)
      root2.eachBefore(roundNode);
    return root2;
  }
  function positionNode(node) {
    var p = paddingStack[node.depth], x02 = node.x0 + p, y02 = node.y0 + p, x12 = node.x1 - p, y12 = node.y1 - p;
    if (x12 < x02)
      x02 = x12 = (x02 + x12) / 2;
    if (y12 < y02)
      y02 = y12 = (y02 + y12) / 2;
    node.x0 = x02;
    node.y0 = y02;
    node.x1 = x12;
    node.y1 = y12;
    if (node.children) {
      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;
      x02 += paddingLeft(node) - p;
      y02 += paddingTop(node) - p;
      x12 -= paddingRight(node) - p;
      y12 -= paddingBottom(node) - p;
      if (x12 < x02)
        x02 = x12 = (x02 + x12) / 2;
      if (y12 < y02)
        y02 = y12 = (y02 + y12) / 2;
      tile(node, x02, y02, x12, y12);
    }
  }
  treemap2.round = function(x2) {
    return arguments.length ? (round = !!x2, treemap2) : round;
  };
  treemap2.size = function(x2) {
    return arguments.length ? (dx = +x2[0], dy = +x2[1], treemap2) : [dx, dy];
  };
  treemap2.tile = function(x2) {
    return arguments.length ? (tile = required(x2), treemap2) : tile;
  };
  treemap2.padding = function(x2) {
    return arguments.length ? treemap2.paddingInner(x2).paddingOuter(x2) : treemap2.paddingInner();
  };
  treemap2.paddingInner = function(x2) {
    return arguments.length ? (paddingInner = typeof x2 === "function" ? x2 : constant$4(+x2), treemap2) : paddingInner;
  };
  treemap2.paddingOuter = function(x2) {
    return arguments.length ? treemap2.paddingTop(x2).paddingRight(x2).paddingBottom(x2).paddingLeft(x2) : treemap2.paddingTop();
  };
  treemap2.paddingTop = function(x2) {
    return arguments.length ? (paddingTop = typeof x2 === "function" ? x2 : constant$4(+x2), treemap2) : paddingTop;
  };
  treemap2.paddingRight = function(x2) {
    return arguments.length ? (paddingRight = typeof x2 === "function" ? x2 : constant$4(+x2), treemap2) : paddingRight;
  };
  treemap2.paddingBottom = function(x2) {
    return arguments.length ? (paddingBottom = typeof x2 === "function" ? x2 : constant$4(+x2), treemap2) : paddingBottom;
  };
  treemap2.paddingLeft = function(x2) {
    return arguments.length ? (paddingLeft = typeof x2 === "function" ? x2 : constant$4(+x2), treemap2) : paddingLeft;
  };
  return treemap2;
}
function binary(parent, x02, y02, x12, y12) {
  var nodes = parent.children, i, n = nodes.length, sum2, sums = new Array(n + 1);
  for (sums[0] = sum2 = i = 0; i < n; ++i) {
    sums[i + 1] = sum2 += nodes[i].value;
  }
  partition2(0, n, parent.value, x02, y02, x12, y12);
  function partition2(i2, j, value, x03, y03, x13, y13) {
    if (i2 >= j - 1) {
      var node = nodes[i2];
      node.x0 = x03, node.y0 = y03;
      node.x1 = x13, node.y1 = y13;
      return;
    }
    var valueOffset = sums[i2], valueTarget = value / 2 + valueOffset, k2 = i2 + 1, hi = j - 1;
    while (k2 < hi) {
      var mid = k2 + hi >>> 1;
      if (sums[mid] < valueTarget)
        k2 = mid + 1;
      else
        hi = mid;
    }
    if (valueTarget - sums[k2 - 1] < sums[k2] - valueTarget && i2 + 1 < k2)
      --k2;
    var valueLeft = sums[k2] - valueOffset, valueRight = value - valueLeft;
    if (x13 - x03 > y13 - y03) {
      var xk = (x03 * valueRight + x13 * valueLeft) / value;
      partition2(i2, k2, valueLeft, x03, y03, xk, y13);
      partition2(k2, j, valueRight, xk, y03, x13, y13);
    } else {
      var yk = (y03 * valueRight + y13 * valueLeft) / value;
      partition2(i2, k2, valueLeft, x03, y03, x13, yk);
      partition2(k2, j, valueRight, x03, yk, x13, y13);
    }
  }
}
function sliceDice(parent, x02, y02, x12, y12) {
  (parent.depth & 1 ? treemapSlice : treemapDice)(parent, x02, y02, x12, y12);
}
const resquarify = function custom20(ratio) {
  function resquarify2(parent, x02, y02, x12, y12) {
    if ((rows = parent._squarify) && rows.ratio === ratio) {
      var rows, row, nodes, i, j = -1, n, m = rows.length, value = parent.value;
      while (++j < m) {
        row = rows[j], nodes = row.children;
        for (i = row.value = 0, n = nodes.length; i < n; ++i)
          row.value += nodes[i].value;
        if (row.dice)
          treemapDice(row, x02, y02, x12, y02 += (y12 - y02) * row.value / value);
        else
          treemapSlice(row, x02, y02, x02 += (x12 - x02) * row.value / value, y12);
        value -= row.value;
      }
    } else {
      parent._squarify = rows = squarifyRatio(ratio, parent, x02, y02, x12, y12);
      rows.ratio = ratio;
    }
  }
  resquarify2.ratio = function(x2) {
    return custom20((x2 = +x2) > 1 ? x2 : 1);
  };
  return resquarify2;
}(phi);
function area$1(polygon) {
  var i = -1, n = polygon.length, a2, b = polygon[n - 1], area2 = 0;
  while (++i < n) {
    a2 = b;
    b = polygon[i];
    area2 += a2[1] * b[0] - a2[0] * b[1];
  }
  return area2 / 2;
}
function centroid(polygon) {
  var i = -1, n = polygon.length, x2 = 0, y2 = 0, a2, b = polygon[n - 1], c2, k2 = 0;
  while (++i < n) {
    a2 = b;
    b = polygon[i];
    k2 += c2 = a2[0] * b[1] - b[0] * a2[1];
    x2 += (a2[0] + b[0]) * c2;
    y2 += (a2[1] + b[1]) * c2;
  }
  return k2 *= 3, [x2 / k2, y2 / k2];
}
function cross$1(a2, b, c2) {
  return (b[0] - a2[0]) * (c2[1] - a2[1]) - (b[1] - a2[1]) * (c2[0] - a2[0]);
}
function lexicographicOrder(a2, b) {
  return a2[0] - b[0] || a2[1] - b[1];
}
function computeUpperHullIndexes(points) {
  var n = points.length, indexes2 = [0, 1], size = 2;
  for (var i = 2; i < n; ++i) {
    while (size > 1 && cross$1(points[indexes2[size - 2]], points[indexes2[size - 1]], points[i]) <= 0)
      --size;
    indexes2[size++] = i;
  }
  return indexes2.slice(0, size);
}
function hull(points) {
  if ((n = points.length) < 3)
    return null;
  var i, n, sortedPoints = new Array(n), flippedPoints = new Array(n);
  for (i = 0; i < n; ++i)
    sortedPoints[i] = [+points[i][0], +points[i][1], i];
  sortedPoints.sort(lexicographicOrder);
  for (i = 0; i < n; ++i)
    flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];
  var upperIndexes = computeUpperHullIndexes(sortedPoints), lowerIndexes = computeUpperHullIndexes(flippedPoints);
  var skipLeft = lowerIndexes[0] === upperIndexes[0], skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1], hull2 = [];
  for (i = upperIndexes.length - 1; i >= 0; --i)
    hull2.push(points[sortedPoints[upperIndexes[i]][2]]);
  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i)
    hull2.push(points[sortedPoints[lowerIndexes[i]][2]]);
  return hull2;
}
function contains(polygon, point2) {
  var n = polygon.length, p = polygon[n - 1], x2 = point2[0], y2 = point2[1], x02 = p[0], y02 = p[1], x12, y12, inside = false;
  for (var i = 0; i < n; ++i) {
    p = polygon[i], x12 = p[0], y12 = p[1];
    if (y12 > y2 !== y02 > y2 && x2 < (x02 - x12) * (y2 - y12) / (y02 - y12) + x12)
      inside = !inside;
    x02 = x12, y02 = y12;
  }
  return inside;
}
function length(polygon) {
  var i = -1, n = polygon.length, b = polygon[n - 1], xa, ya, xb = b[0], yb = b[1], perimeter = 0;
  while (++i < n) {
    xa = xb;
    ya = yb;
    b = polygon[i];
    xb = b[0];
    yb = b[1];
    xa -= xb;
    ya -= yb;
    perimeter += Math.sqrt(xa * xa + ya * ya);
  }
  return perimeter;
}
function defaultSource() {
  return Math.random();
}
const uniform = function sourceRandomUniform2(source) {
  function randomUniform(min2, max2) {
    min2 = min2 == null ? 0 : +min2;
    max2 = max2 == null ? 1 : +max2;
    if (arguments.length === 1)
      max2 = min2, min2 = 0;
    else
      max2 -= min2;
    return function() {
      return source() * max2 + min2;
    };
  }
  randomUniform.source = sourceRandomUniform2;
  return randomUniform;
}(defaultSource);
const normal = function sourceRandomNormal2(source) {
  function randomNormal(mu, sigma) {
    var x2, r;
    mu = mu == null ? 0 : +mu;
    sigma = sigma == null ? 1 : +sigma;
    return function() {
      var y2;
      if (x2 != null)
        y2 = x2, x2 = null;
      else
        do {
          x2 = source() * 2 - 1;
          y2 = source() * 2 - 1;
          r = x2 * x2 + y2 * y2;
        } while (!r || r > 1);
      return mu + sigma * y2 * Math.sqrt(-2 * Math.log(r) / r);
    };
  }
  randomNormal.source = sourceRandomNormal2;
  return randomNormal;
}(defaultSource);
const logNormal = function sourceRandomLogNormal2(source) {
  function randomLogNormal() {
    var randomNormal = normal.source(source).apply(this, arguments);
    return function() {
      return Math.exp(randomNormal());
    };
  }
  randomLogNormal.source = sourceRandomLogNormal2;
  return randomLogNormal;
}(defaultSource);
const irwinHall = function sourceRandomIrwinHall2(source) {
  function randomIrwinHall(n) {
    return function() {
      for (var sum2 = 0, i = 0; i < n; ++i)
        sum2 += source();
      return sum2;
    };
  }
  randomIrwinHall.source = sourceRandomIrwinHall2;
  return randomIrwinHall;
}(defaultSource);
const bates = function sourceRandomBates2(source) {
  function randomBates(n) {
    var randomIrwinHall = irwinHall.source(source)(n);
    return function() {
      return randomIrwinHall() / n;
    };
  }
  randomBates.source = sourceRandomBates2;
  return randomBates;
}(defaultSource);
const exponential = function sourceRandomExponential2(source) {
  function randomExponential(lambda) {
    return function() {
      return -Math.log(1 - source()) / lambda;
    };
  }
  randomExponential.source = sourceRandomExponential2;
  return randomExponential;
}(defaultSource);
function initRange(domain, range2) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(domain);
      break;
    default:
      this.range(range2).domain(domain);
      break;
  }
  return this;
}
function initInterpolator(domain, interpolator) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.interpolator(domain);
      break;
    default:
      this.interpolator(interpolator).domain(domain);
      break;
  }
  return this;
}
var array = Array.prototype;
var map = array.map;
var slice$1 = array.slice;
var implicit = { name: "implicit" };
function ordinal() {
  var index2 = map$2(), domain = [], range2 = [], unknown = implicit;
  function scale2(d) {
    var key = d + "", i = index2.get(key);
    if (!i) {
      if (unknown !== implicit)
        return unknown;
      index2.set(key, i = domain.push(d));
    }
    return range2[(i - 1) % range2.length];
  }
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [], index2 = map$2();
    var i = -1, n = _2.length, d, key;
    while (++i < n)
      if (!index2.has(key = (d = _2[i]) + ""))
        index2.set(key, domain.push(d));
    return scale2;
  };
  scale2.range = function(_2) {
    return arguments.length ? (range2 = slice$1.call(_2), scale2) : range2.slice();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return ordinal(domain, range2).unknown(unknown);
  };
  initRange.apply(scale2, arguments);
  return scale2;
}
function band() {
  var scale2 = ordinal().unknown(void 0), domain = scale2.domain, ordinalRange = scale2.range, range2 = [0, 1], step2, bandwidth, round = false, paddingInner = 0, paddingOuter = 0, align = 0.5;
  delete scale2.unknown;
  function rescale() {
    var n = domain().length, reverse2 = range2[1] < range2[0], start2 = range2[reverse2 - 0], stop = range2[1 - reverse2];
    step2 = (stop - start2) / Math.max(1, n - paddingInner + paddingOuter * 2);
    if (round)
      step2 = Math.floor(step2);
    start2 += (stop - start2 - step2 * (n - paddingInner)) * align;
    bandwidth = step2 * (1 - paddingInner);
    if (round)
      start2 = Math.round(start2), bandwidth = Math.round(bandwidth);
    var values2 = sequence(n).map(function(i) {
      return start2 + step2 * i;
    });
    return ordinalRange(reverse2 ? values2.reverse() : values2);
  }
  scale2.domain = function(_2) {
    return arguments.length ? (domain(_2), rescale()) : domain();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range2 = [+_2[0], +_2[1]], rescale()) : range2.slice();
  };
  scale2.rangeRound = function(_2) {
    return range2 = [+_2[0], +_2[1]], round = true, rescale();
  };
  scale2.bandwidth = function() {
    return bandwidth;
  };
  scale2.step = function() {
    return step2;
  };
  scale2.round = function(_2) {
    return arguments.length ? (round = !!_2, rescale()) : round;
  };
  scale2.padding = function(_2) {
    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_2), rescale()) : paddingInner;
  };
  scale2.paddingInner = function(_2) {
    return arguments.length ? (paddingInner = Math.min(1, _2), rescale()) : paddingInner;
  };
  scale2.paddingOuter = function(_2) {
    return arguments.length ? (paddingOuter = +_2, rescale()) : paddingOuter;
  };
  scale2.align = function(_2) {
    return arguments.length ? (align = Math.max(0, Math.min(1, _2)), rescale()) : align;
  };
  scale2.copy = function() {
    return band(domain(), range2).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);
  };
  return initRange.apply(rescale(), arguments);
}
function pointish(scale2) {
  var copy2 = scale2.copy;
  scale2.padding = scale2.paddingOuter;
  delete scale2.paddingInner;
  delete scale2.paddingOuter;
  scale2.copy = function() {
    return pointish(copy2());
  };
  return scale2;
}
function point$4() {
  return pointish(band.apply(null, arguments).paddingInner(1));
}
function constant$3(x2) {
  return function() {
    return x2;
  };
}
function number$1(x2) {
  return +x2;
}
var unit$1 = [0, 1];
function identity$3(x2) {
  return x2;
}
function normalize(a2, b) {
  return (b -= a2 = +a2) ? function(x2) {
    return (x2 - a2) / b;
  } : constant$3(isNaN(b) ? NaN : 0.5);
}
function clamper(domain) {
  var a2 = domain[0], b = domain[domain.length - 1], t;
  if (a2 > b)
    t = a2, a2 = b, b = t;
  return function(x2) {
    return Math.max(a2, Math.min(b, x2));
  };
}
function bimap(domain, range2, interpolate2) {
  var d0 = domain[0], d1 = domain[1], r0 = range2[0], r1 = range2[1];
  if (d1 < d0)
    d0 = normalize(d1, d0), r0 = interpolate2(r1, r0);
  else
    d0 = normalize(d0, d1), r0 = interpolate2(r0, r1);
  return function(x2) {
    return r0(d0(x2));
  };
}
function polymap(domain, range2, interpolate2) {
  var j = Math.min(domain.length, range2.length) - 1, d = new Array(j), r = new Array(j), i = -1;
  if (domain[j] < domain[0]) {
    domain = domain.slice().reverse();
    range2 = range2.slice().reverse();
  }
  while (++i < j) {
    d[i] = normalize(domain[i], domain[i + 1]);
    r[i] = interpolate2(range2[i], range2[i + 1]);
  }
  return function(x2) {
    var i2 = bisectRight(domain, x2, 1, j) - 1;
    return r[i2](d[i2](x2));
  };
}
function copy$1(source, target) {
  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());
}
function transformer$2() {
  var domain = unit$1, range2 = unit$1, interpolate2 = interpolateValue, transform2, untransform, unknown, clamp = identity$3, piecewise2, output, input;
  function rescale() {
    piecewise2 = Math.min(domain.length, range2.length) > 2 ? polymap : bimap;
    output = input = null;
    return scale2;
  }
  function scale2(x2) {
    return isNaN(x2 = +x2) ? unknown : (output || (output = piecewise2(domain.map(transform2), range2, interpolate2)))(transform2(clamp(x2)));
  }
  scale2.invert = function(y2) {
    return clamp(untransform((input || (input = piecewise2(range2, domain.map(transform2), interpolateNumber)))(y2)));
  };
  scale2.domain = function(_2) {
    return arguments.length ? (domain = map.call(_2, number$1), clamp === identity$3 || (clamp = clamper(domain)), rescale()) : domain.slice();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range2 = slice$1.call(_2), rescale()) : range2.slice();
  };
  scale2.rangeRound = function(_2) {
    return range2 = slice$1.call(_2), interpolate2 = interpolateRound, rescale();
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (clamp = _2 ? clamper(domain) : identity$3, scale2) : clamp !== identity$3;
  };
  scale2.interpolate = function(_2) {
    return arguments.length ? (interpolate2 = _2, rescale()) : interpolate2;
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  return function(t, u) {
    transform2 = t, untransform = u;
    return rescale();
  };
}
function continuous(transform2, untransform) {
  return transformer$2()(transform2, untransform);
}
function tickFormat(start2, stop, count2, specifier) {
  var step2 = tickStep(start2, stop, count2), precision;
  specifier = formatSpecifier(specifier == null ? ",f" : specifier);
  switch (specifier.type) {
    case "s": {
      var value = Math.max(Math.abs(start2), Math.abs(stop));
      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step2, value)))
        specifier.precision = precision;
      return formatPrefix(specifier, value);
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      if (specifier.precision == null && !isNaN(precision = precisionRound(step2, Math.max(Math.abs(start2), Math.abs(stop)))))
        specifier.precision = precision - (specifier.type === "e");
      break;
    }
    case "f":
    case "%": {
      if (specifier.precision == null && !isNaN(precision = precisionFixed(step2)))
        specifier.precision = precision - (specifier.type === "%") * 2;
      break;
    }
  }
  return format(specifier);
}
function linearish(scale2) {
  var domain = scale2.domain;
  scale2.ticks = function(count2) {
    var d = domain();
    return ticks(d[0], d[d.length - 1], count2 == null ? 10 : count2);
  };
  scale2.tickFormat = function(count2, specifier) {
    var d = domain();
    return tickFormat(d[0], d[d.length - 1], count2 == null ? 10 : count2, specifier);
  };
  scale2.nice = function(count2) {
    if (count2 == null)
      count2 = 10;
    var d = domain(), i0 = 0, i1 = d.length - 1, start2 = d[i0], stop = d[i1], step2;
    if (stop < start2) {
      step2 = start2, start2 = stop, stop = step2;
      step2 = i0, i0 = i1, i1 = step2;
    }
    step2 = tickIncrement(start2, stop, count2);
    if (step2 > 0) {
      start2 = Math.floor(start2 / step2) * step2;
      stop = Math.ceil(stop / step2) * step2;
      step2 = tickIncrement(start2, stop, count2);
    } else if (step2 < 0) {
      start2 = Math.ceil(start2 * step2) / step2;
      stop = Math.floor(stop * step2) / step2;
      step2 = tickIncrement(start2, stop, count2);
    }
    if (step2 > 0) {
      d[i0] = Math.floor(start2 / step2) * step2;
      d[i1] = Math.ceil(stop / step2) * step2;
      domain(d);
    } else if (step2 < 0) {
      d[i0] = Math.ceil(start2 * step2) / step2;
      d[i1] = Math.floor(stop * step2) / step2;
      domain(d);
    }
    return scale2;
  };
  return scale2;
}
function linear() {
  var scale2 = continuous(identity$3, identity$3);
  scale2.copy = function() {
    return copy$1(scale2, linear());
  };
  initRange.apply(scale2, arguments);
  return linearish(scale2);
}
function identity$2(domain) {
  var unknown;
  function scale2(x2) {
    return isNaN(x2 = +x2) ? unknown : x2;
  }
  scale2.invert = scale2;
  scale2.domain = scale2.range = function(_2) {
    return arguments.length ? (domain = map.call(_2, number$1), scale2) : domain.slice();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return identity$2(domain).unknown(unknown);
  };
  domain = arguments.length ? map.call(domain, number$1) : [0, 1];
  return linearish(scale2);
}
function nice(domain, interval2) {
  domain = domain.slice();
  var i0 = 0, i1 = domain.length - 1, x02 = domain[i0], x12 = domain[i1], t;
  if (x12 < x02) {
    t = i0, i0 = i1, i1 = t;
    t = x02, x02 = x12, x12 = t;
  }
  domain[i0] = interval2.floor(x02);
  domain[i1] = interval2.ceil(x12);
  return domain;
}
function transformLog(x2) {
  return Math.log(x2);
}
function transformExp(x2) {
  return Math.exp(x2);
}
function transformLogn(x2) {
  return -Math.log(-x2);
}
function transformExpn(x2) {
  return -Math.exp(-x2);
}
function pow10(x2) {
  return isFinite(x2) ? +("1e" + x2) : x2 < 0 ? 0 : x2;
}
function powp(base) {
  return base === 10 ? pow10 : base === Math.E ? Math.exp : function(x2) {
    return Math.pow(base, x2);
  };
}
function logp(base) {
  return base === Math.E ? Math.log : base === 10 && Math.log10 || base === 2 && Math.log2 || (base = Math.log(base), function(x2) {
    return Math.log(x2) / base;
  });
}
function reflect(f) {
  return function(x2) {
    return -f(-x2);
  };
}
function loggish(transform2) {
  var scale2 = transform2(transformLog, transformExp), domain = scale2.domain, base = 10, logs, pows;
  function rescale() {
    logs = logp(base), pows = powp(base);
    if (domain()[0] < 0) {
      logs = reflect(logs), pows = reflect(pows);
      transform2(transformLogn, transformExpn);
    } else {
      transform2(transformLog, transformExp);
    }
    return scale2;
  }
  scale2.base = function(_2) {
    return arguments.length ? (base = +_2, rescale()) : base;
  };
  scale2.domain = function(_2) {
    return arguments.length ? (domain(_2), rescale()) : domain();
  };
  scale2.ticks = function(count2) {
    var d = domain(), u = d[0], v = d[d.length - 1], r;
    if (r = v < u)
      i = u, u = v, v = i;
    var i = logs(u), j = logs(v), p, k2, t, n = count2 == null ? 10 : +count2, z = [];
    if (!(base % 1) && j - i < n) {
      i = Math.round(i) - 1, j = Math.round(j) + 1;
      if (u > 0)
        for (; i < j; ++i) {
          for (k2 = 1, p = pows(i); k2 < base; ++k2) {
            t = p * k2;
            if (t < u)
              continue;
            if (t > v)
              break;
            z.push(t);
          }
        }
      else
        for (; i < j; ++i) {
          for (k2 = base - 1, p = pows(i); k2 >= 1; --k2) {
            t = p * k2;
            if (t < u)
              continue;
            if (t > v)
              break;
            z.push(t);
          }
        }
    } else {
      z = ticks(i, j, Math.min(j - i, n)).map(pows);
    }
    return r ? z.reverse() : z;
  };
  scale2.tickFormat = function(count2, specifier) {
    if (specifier == null)
      specifier = base === 10 ? ".0e" : ",";
    if (typeof specifier !== "function")
      specifier = format(specifier);
    if (count2 === Infinity)
      return specifier;
    if (count2 == null)
      count2 = 10;
    var k2 = Math.max(1, base * count2 / scale2.ticks().length);
    return function(d) {
      var i = d / pows(Math.round(logs(d)));
      if (i * base < base - 0.5)
        i *= base;
      return i <= k2 ? specifier(d) : "";
    };
  };
  scale2.nice = function() {
    return domain(nice(domain(), {
      floor: function(x2) {
        return pows(Math.floor(logs(x2)));
      },
      ceil: function(x2) {
        return pows(Math.ceil(logs(x2)));
      }
    }));
  };
  return scale2;
}
function log() {
  var scale2 = loggish(transformer$2()).domain([1, 10]);
  scale2.copy = function() {
    return copy$1(scale2, log()).base(scale2.base());
  };
  initRange.apply(scale2, arguments);
  return scale2;
}
function transformSymlog(c2) {
  return function(x2) {
    return Math.sign(x2) * Math.log1p(Math.abs(x2 / c2));
  };
}
function transformSymexp(c2) {
  return function(x2) {
    return Math.sign(x2) * Math.expm1(Math.abs(x2)) * c2;
  };
}
function symlogish(transform2) {
  var c2 = 1, scale2 = transform2(transformSymlog(c2), transformSymexp(c2));
  scale2.constant = function(_2) {
    return arguments.length ? transform2(transformSymlog(c2 = +_2), transformSymexp(c2)) : c2;
  };
  return linearish(scale2);
}
function symlog() {
  var scale2 = symlogish(transformer$2());
  scale2.copy = function() {
    return copy$1(scale2, symlog()).constant(scale2.constant());
  };
  return initRange.apply(scale2, arguments);
}
function transformPow(exponent2) {
  return function(x2) {
    return x2 < 0 ? -Math.pow(-x2, exponent2) : Math.pow(x2, exponent2);
  };
}
function transformSqrt(x2) {
  return x2 < 0 ? -Math.sqrt(-x2) : Math.sqrt(x2);
}
function transformSquare(x2) {
  return x2 < 0 ? -x2 * x2 : x2 * x2;
}
function powish(transform2) {
  var scale2 = transform2(identity$3, identity$3), exponent2 = 1;
  function rescale() {
    return exponent2 === 1 ? transform2(identity$3, identity$3) : exponent2 === 0.5 ? transform2(transformSqrt, transformSquare) : transform2(transformPow(exponent2), transformPow(1 / exponent2));
  }
  scale2.exponent = function(_2) {
    return arguments.length ? (exponent2 = +_2, rescale()) : exponent2;
  };
  return linearish(scale2);
}
function pow() {
  var scale2 = powish(transformer$2());
  scale2.copy = function() {
    return copy$1(scale2, pow()).exponent(scale2.exponent());
  };
  initRange.apply(scale2, arguments);
  return scale2;
}
function sqrt$1() {
  return pow.apply(null, arguments).exponent(0.5);
}
function quantile() {
  var domain = [], range2 = [], thresholds = [], unknown;
  function rescale() {
    var i = 0, n = Math.max(1, range2.length);
    thresholds = new Array(n - 1);
    while (++i < n)
      thresholds[i - 1] = threshold$1(domain, i / n);
    return scale2;
  }
  function scale2(x2) {
    return isNaN(x2 = +x2) ? unknown : range2[bisectRight(thresholds, x2)];
  }
  scale2.invertExtent = function(y2) {
    var i = range2.indexOf(y2);
    return i < 0 ? [NaN, NaN] : [
      i > 0 ? thresholds[i - 1] : domain[0],
      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]
    ];
  };
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [];
    for (var i = 0, n = _2.length, d; i < n; ++i)
      if (d = _2[i], d != null && !isNaN(d = +d))
        domain.push(d);
    domain.sort(ascending$3);
    return rescale();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range2 = slice$1.call(_2), rescale()) : range2.slice();
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.quantiles = function() {
    return thresholds.slice();
  };
  scale2.copy = function() {
    return quantile().domain(domain).range(range2).unknown(unknown);
  };
  return initRange.apply(scale2, arguments);
}
function quantize() {
  var x02 = 0, x12 = 1, n = 1, domain = [0.5], range2 = [0, 1], unknown;
  function scale2(x2) {
    return x2 <= x2 ? range2[bisectRight(domain, x2, 0, n)] : unknown;
  }
  function rescale() {
    var i = -1;
    domain = new Array(n);
    while (++i < n)
      domain[i] = ((i + 1) * x12 - (i - n) * x02) / (n + 1);
    return scale2;
  }
  scale2.domain = function(_2) {
    return arguments.length ? (x02 = +_2[0], x12 = +_2[1], rescale()) : [x02, x12];
  };
  scale2.range = function(_2) {
    return arguments.length ? (n = (range2 = slice$1.call(_2)).length - 1, rescale()) : range2.slice();
  };
  scale2.invertExtent = function(y2) {
    var i = range2.indexOf(y2);
    return i < 0 ? [NaN, NaN] : i < 1 ? [x02, domain[0]] : i >= n ? [domain[n - 1], x12] : [domain[i - 1], domain[i]];
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : scale2;
  };
  scale2.thresholds = function() {
    return domain.slice();
  };
  scale2.copy = function() {
    return quantize().domain([x02, x12]).range(range2).unknown(unknown);
  };
  return initRange.apply(linearish(scale2), arguments);
}
function threshold() {
  var domain = [0.5], range2 = [0, 1], unknown, n = 1;
  function scale2(x2) {
    return x2 <= x2 ? range2[bisectRight(domain, x2, 0, n)] : unknown;
  }
  scale2.domain = function(_2) {
    return arguments.length ? (domain = slice$1.call(_2), n = Math.min(domain.length, range2.length - 1), scale2) : domain.slice();
  };
  scale2.range = function(_2) {
    return arguments.length ? (range2 = slice$1.call(_2), n = Math.min(domain.length, range2.length - 1), scale2) : range2.slice();
  };
  scale2.invertExtent = function(y2) {
    var i = range2.indexOf(y2);
    return [domain[i - 1], domain[i]];
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  scale2.copy = function() {
    return threshold().domain(domain).range(range2).unknown(unknown);
  };
  return initRange.apply(scale2, arguments);
}
var t0 = new Date(), t1 = new Date();
function newInterval(floori, offseti, count2, field) {
  function interval2(date2) {
    return floori(date2 = arguments.length === 0 ? new Date() : new Date(+date2)), date2;
  }
  interval2.floor = function(date2) {
    return floori(date2 = new Date(+date2)), date2;
  };
  interval2.ceil = function(date2) {
    return floori(date2 = new Date(date2 - 1)), offseti(date2, 1), floori(date2), date2;
  };
  interval2.round = function(date2) {
    var d0 = interval2(date2), d1 = interval2.ceil(date2);
    return date2 - d0 < d1 - date2 ? d0 : d1;
  };
  interval2.offset = function(date2, step2) {
    return offseti(date2 = new Date(+date2), step2 == null ? 1 : Math.floor(step2)), date2;
  };
  interval2.range = function(start2, stop, step2) {
    var range2 = [], previous;
    start2 = interval2.ceil(start2);
    step2 = step2 == null ? 1 : Math.floor(step2);
    if (!(start2 < stop) || !(step2 > 0))
      return range2;
    do
      range2.push(previous = new Date(+start2)), offseti(start2, step2), floori(start2);
    while (previous < start2 && start2 < stop);
    return range2;
  };
  interval2.filter = function(test) {
    return newInterval(function(date2) {
      if (date2 >= date2)
        while (floori(date2), !test(date2))
          date2.setTime(date2 - 1);
    }, function(date2, step2) {
      if (date2 >= date2) {
        if (step2 < 0)
          while (++step2 <= 0) {
            while (offseti(date2, -1), !test(date2)) {
            }
          }
        else
          while (--step2 >= 0) {
            while (offseti(date2, 1), !test(date2)) {
            }
          }
      }
    });
  };
  if (count2) {
    interval2.count = function(start2, end) {
      t0.setTime(+start2), t1.setTime(+end);
      floori(t0), floori(t1);
      return Math.floor(count2(t0, t1));
    };
    interval2.every = function(step2) {
      step2 = Math.floor(step2);
      return !isFinite(step2) || !(step2 > 0) ? null : !(step2 > 1) ? interval2 : interval2.filter(field ? function(d) {
        return field(d) % step2 === 0;
      } : function(d) {
        return interval2.count(0, d) % step2 === 0;
      });
    };
  }
  return interval2;
}
var millisecond = newInterval(function() {
}, function(date2, step2) {
  date2.setTime(+date2 + step2);
}, function(start2, end) {
  return end - start2;
});
millisecond.every = function(k2) {
  k2 = Math.floor(k2);
  if (!isFinite(k2) || !(k2 > 0))
    return null;
  if (!(k2 > 1))
    return millisecond;
  return newInterval(function(date2) {
    date2.setTime(Math.floor(date2 / k2) * k2);
  }, function(date2, step2) {
    date2.setTime(+date2 + step2 * k2);
  }, function(start2, end) {
    return (end - start2) / k2;
  });
};
const utcMillisecond = millisecond;
var milliseconds = millisecond.range;
var durationSecond$1 = 1e3;
var durationMinute$1 = 6e4;
var durationHour$1 = 36e5;
var durationDay$1 = 864e5;
var durationWeek$1 = 6048e5;
var second = newInterval(function(date2) {
  date2.setTime(date2 - date2.getMilliseconds());
}, function(date2, step2) {
  date2.setTime(+date2 + step2 * durationSecond$1);
}, function(start2, end) {
  return (end - start2) / durationSecond$1;
}, function(date2) {
  return date2.getUTCSeconds();
});
const utcSecond = second;
var seconds = second.range;
var minute = newInterval(function(date2) {
  date2.setTime(date2 - date2.getMilliseconds() - date2.getSeconds() * durationSecond$1);
}, function(date2, step2) {
  date2.setTime(+date2 + step2 * durationMinute$1);
}, function(start2, end) {
  return (end - start2) / durationMinute$1;
}, function(date2) {
  return date2.getMinutes();
});
const timeMinute = minute;
var minutes = minute.range;
var hour = newInterval(function(date2) {
  date2.setTime(date2 - date2.getMilliseconds() - date2.getSeconds() * durationSecond$1 - date2.getMinutes() * durationMinute$1);
}, function(date2, step2) {
  date2.setTime(+date2 + step2 * durationHour$1);
}, function(start2, end) {
  return (end - start2) / durationHour$1;
}, function(date2) {
  return date2.getHours();
});
const timeHour = hour;
var hours = hour.range;
var day = newInterval(function(date2) {
  date2.setHours(0, 0, 0, 0);
}, function(date2, step2) {
  date2.setDate(date2.getDate() + step2);
}, function(start2, end) {
  return (end - start2 - (end.getTimezoneOffset() - start2.getTimezoneOffset()) * durationMinute$1) / durationDay$1;
}, function(date2) {
  return date2.getDate() - 1;
});
const timeDay = day;
var days = day.range;
function weekday(i) {
  return newInterval(function(date2) {
    date2.setDate(date2.getDate() - (date2.getDay() + 7 - i) % 7);
    date2.setHours(0, 0, 0, 0);
  }, function(date2, step2) {
    date2.setDate(date2.getDate() + step2 * 7);
  }, function(start2, end) {
    return (end - start2 - (end.getTimezoneOffset() - start2.getTimezoneOffset()) * durationMinute$1) / durationWeek$1;
  });
}
var sunday = weekday(0);
var monday = weekday(1);
var tuesday = weekday(2);
var wednesday = weekday(3);
var thursday = weekday(4);
var friday = weekday(5);
var saturday = weekday(6);
var sundays = sunday.range;
var mondays = monday.range;
var tuesdays = tuesday.range;
var wednesdays = wednesday.range;
var thursdays = thursday.range;
var fridays = friday.range;
var saturdays = saturday.range;
var month = newInterval(function(date2) {
  date2.setDate(1);
  date2.setHours(0, 0, 0, 0);
}, function(date2, step2) {
  date2.setMonth(date2.getMonth() + step2);
}, function(start2, end) {
  return end.getMonth() - start2.getMonth() + (end.getFullYear() - start2.getFullYear()) * 12;
}, function(date2) {
  return date2.getMonth();
});
const timeMonth = month;
var months = month.range;
var year = newInterval(function(date2) {
  date2.setMonth(0, 1);
  date2.setHours(0, 0, 0, 0);
}, function(date2, step2) {
  date2.setFullYear(date2.getFullYear() + step2);
}, function(start2, end) {
  return end.getFullYear() - start2.getFullYear();
}, function(date2) {
  return date2.getFullYear();
});
year.every = function(k2) {
  return !isFinite(k2 = Math.floor(k2)) || !(k2 > 0) ? null : newInterval(function(date2) {
    date2.setFullYear(Math.floor(date2.getFullYear() / k2) * k2);
    date2.setMonth(0, 1);
    date2.setHours(0, 0, 0, 0);
  }, function(date2, step2) {
    date2.setFullYear(date2.getFullYear() + step2 * k2);
  });
};
const timeYear = year;
var years = year.range;
var utcMinute = newInterval(function(date2) {
  date2.setUTCSeconds(0, 0);
}, function(date2, step2) {
  date2.setTime(+date2 + step2 * durationMinute$1);
}, function(start2, end) {
  return (end - start2) / durationMinute$1;
}, function(date2) {
  return date2.getUTCMinutes();
});
const utcMinute$1 = utcMinute;
var utcMinutes = utcMinute.range;
var utcHour = newInterval(function(date2) {
  date2.setUTCMinutes(0, 0, 0);
}, function(date2, step2) {
  date2.setTime(+date2 + step2 * durationHour$1);
}, function(start2, end) {
  return (end - start2) / durationHour$1;
}, function(date2) {
  return date2.getUTCHours();
});
const utcHour$1 = utcHour;
var utcHours = utcHour.range;
var utcDay = newInterval(function(date2) {
  date2.setUTCHours(0, 0, 0, 0);
}, function(date2, step2) {
  date2.setUTCDate(date2.getUTCDate() + step2);
}, function(start2, end) {
  return (end - start2) / durationDay$1;
}, function(date2) {
  return date2.getUTCDate() - 1;
});
const utcDay$1 = utcDay;
var utcDays = utcDay.range;
function utcWeekday(i) {
  return newInterval(function(date2) {
    date2.setUTCDate(date2.getUTCDate() - (date2.getUTCDay() + 7 - i) % 7);
    date2.setUTCHours(0, 0, 0, 0);
  }, function(date2, step2) {
    date2.setUTCDate(date2.getUTCDate() + step2 * 7);
  }, function(start2, end) {
    return (end - start2) / durationWeek$1;
  });
}
var utcSunday = utcWeekday(0);
var utcMonday = utcWeekday(1);
var utcTuesday = utcWeekday(2);
var utcWednesday = utcWeekday(3);
var utcThursday = utcWeekday(4);
var utcFriday = utcWeekday(5);
var utcSaturday = utcWeekday(6);
var utcSundays = utcSunday.range;
var utcMondays = utcMonday.range;
var utcTuesdays = utcTuesday.range;
var utcWednesdays = utcWednesday.range;
var utcThursdays = utcThursday.range;
var utcFridays = utcFriday.range;
var utcSaturdays = utcSaturday.range;
var utcMonth = newInterval(function(date2) {
  date2.setUTCDate(1);
  date2.setUTCHours(0, 0, 0, 0);
}, function(date2, step2) {
  date2.setUTCMonth(date2.getUTCMonth() + step2);
}, function(start2, end) {
  return end.getUTCMonth() - start2.getUTCMonth() + (end.getUTCFullYear() - start2.getUTCFullYear()) * 12;
}, function(date2) {
  return date2.getUTCMonth();
});
const utcMonth$1 = utcMonth;
var utcMonths = utcMonth.range;
var utcYear = newInterval(function(date2) {
  date2.setUTCMonth(0, 1);
  date2.setUTCHours(0, 0, 0, 0);
}, function(date2, step2) {
  date2.setUTCFullYear(date2.getUTCFullYear() + step2);
}, function(start2, end) {
  return end.getUTCFullYear() - start2.getUTCFullYear();
}, function(date2) {
  return date2.getUTCFullYear();
});
utcYear.every = function(k2) {
  return !isFinite(k2 = Math.floor(k2)) || !(k2 > 0) ? null : newInterval(function(date2) {
    date2.setUTCFullYear(Math.floor(date2.getUTCFullYear() / k2) * k2);
    date2.setUTCMonth(0, 1);
    date2.setUTCHours(0, 0, 0, 0);
  }, function(date2, step2) {
    date2.setUTCFullYear(date2.getUTCFullYear() + step2 * k2);
  });
};
const utcYear$1 = utcYear;
var utcYears = utcYear.range;
function localDate(d) {
  if (0 <= d.y && d.y < 100) {
    var date2 = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);
    date2.setFullYear(d.y);
    return date2;
  }
  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);
}
function utcDate(d) {
  if (0 <= d.y && d.y < 100) {
    var date2 = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));
    date2.setUTCFullYear(d.y);
    return date2;
  }
  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));
}
function newDate(y2, m, d) {
  return { y: y2, m, d, H: 0, M: 0, S: 0, L: 0 };
}
function formatLocale(locale2) {
  var locale_dateTime = locale2.dateTime, locale_date = locale2.date, locale_time = locale2.time, locale_periods = locale2.periods, locale_weekdays = locale2.days, locale_shortWeekdays = locale2.shortDays, locale_months = locale2.months, locale_shortMonths = locale2.shortMonths;
  var periodRe = formatRe(locale_periods), periodLookup = formatLookup(locale_periods), weekdayRe = formatRe(locale_weekdays), weekdayLookup = formatLookup(locale_weekdays), shortWeekdayRe = formatRe(locale_shortWeekdays), shortWeekdayLookup = formatLookup(locale_shortWeekdays), monthRe = formatRe(locale_months), monthLookup = formatLookup(locale_months), shortMonthRe = formatRe(locale_shortMonths), shortMonthLookup = formatLookup(locale_shortMonths);
  var formats = {
    "a": formatShortWeekday,
    "A": formatWeekday,
    "b": formatShortMonth,
    "B": formatMonth,
    "c": null,
    "d": formatDayOfMonth,
    "e": formatDayOfMonth,
    "f": formatMicroseconds,
    "g": formatYearISO,
    "G": formatFullYearISO,
    "H": formatHour24,
    "I": formatHour12,
    "j": formatDayOfYear,
    "L": formatMilliseconds,
    "m": formatMonthNumber,
    "M": formatMinutes,
    "p": formatPeriod,
    "q": formatQuarter,
    "Q": formatUnixTimestamp,
    "s": formatUnixTimestampSeconds,
    "S": formatSeconds,
    "u": formatWeekdayNumberMonday,
    "U": formatWeekNumberSunday,
    "V": formatWeekNumberISO,
    "w": formatWeekdayNumberSunday,
    "W": formatWeekNumberMonday,
    "x": null,
    "X": null,
    "y": formatYear,
    "Y": formatFullYear,
    "Z": formatZone,
    "%": formatLiteralPercent
  };
  var utcFormats = {
    "a": formatUTCShortWeekday,
    "A": formatUTCWeekday,
    "b": formatUTCShortMonth,
    "B": formatUTCMonth,
    "c": null,
    "d": formatUTCDayOfMonth,
    "e": formatUTCDayOfMonth,
    "f": formatUTCMicroseconds,
    "g": formatUTCYearISO,
    "G": formatUTCFullYearISO,
    "H": formatUTCHour24,
    "I": formatUTCHour12,
    "j": formatUTCDayOfYear,
    "L": formatUTCMilliseconds,
    "m": formatUTCMonthNumber,
    "M": formatUTCMinutes,
    "p": formatUTCPeriod,
    "q": formatUTCQuarter,
    "Q": formatUnixTimestamp,
    "s": formatUnixTimestampSeconds,
    "S": formatUTCSeconds,
    "u": formatUTCWeekdayNumberMonday,
    "U": formatUTCWeekNumberSunday,
    "V": formatUTCWeekNumberISO,
    "w": formatUTCWeekdayNumberSunday,
    "W": formatUTCWeekNumberMonday,
    "x": null,
    "X": null,
    "y": formatUTCYear,
    "Y": formatUTCFullYear,
    "Z": formatUTCZone,
    "%": formatLiteralPercent
  };
  var parses = {
    "a": parseShortWeekday,
    "A": parseWeekday,
    "b": parseShortMonth,
    "B": parseMonth,
    "c": parseLocaleDateTime,
    "d": parseDayOfMonth,
    "e": parseDayOfMonth,
    "f": parseMicroseconds,
    "g": parseYear,
    "G": parseFullYear,
    "H": parseHour24,
    "I": parseHour24,
    "j": parseDayOfYear,
    "L": parseMilliseconds,
    "m": parseMonthNumber,
    "M": parseMinutes,
    "p": parsePeriod,
    "q": parseQuarter,
    "Q": parseUnixTimestamp,
    "s": parseUnixTimestampSeconds,
    "S": parseSeconds,
    "u": parseWeekdayNumberMonday,
    "U": parseWeekNumberSunday,
    "V": parseWeekNumberISO,
    "w": parseWeekdayNumberSunday,
    "W": parseWeekNumberMonday,
    "x": parseLocaleDate,
    "X": parseLocaleTime,
    "y": parseYear,
    "Y": parseFullYear,
    "Z": parseZone,
    "%": parseLiteralPercent
  };
  formats.x = newFormat(locale_date, formats);
  formats.X = newFormat(locale_time, formats);
  formats.c = newFormat(locale_dateTime, formats);
  utcFormats.x = newFormat(locale_date, utcFormats);
  utcFormats.X = newFormat(locale_time, utcFormats);
  utcFormats.c = newFormat(locale_dateTime, utcFormats);
  function newFormat(specifier, formats2) {
    return function(date2) {
      var string = [], i = -1, j = 0, n = specifier.length, c2, pad2, format2;
      if (!(date2 instanceof Date))
        date2 = new Date(+date2);
      while (++i < n) {
        if (specifier.charCodeAt(i) === 37) {
          string.push(specifier.slice(j, i));
          if ((pad2 = pads[c2 = specifier.charAt(++i)]) != null)
            c2 = specifier.charAt(++i);
          else
            pad2 = c2 === "e" ? " " : "0";
          if (format2 = formats2[c2])
            c2 = format2(date2, pad2);
          string.push(c2);
          j = i + 1;
        }
      }
      string.push(specifier.slice(j, i));
      return string.join("");
    };
  }
  function newParse(specifier, Z) {
    return function(string) {
      var d = newDate(1900, void 0, 1), i = parseSpecifier(d, specifier, string += "", 0), week, day2;
      if (i != string.length)
        return null;
      if ("Q" in d)
        return new Date(d.Q);
      if ("s" in d)
        return new Date(d.s * 1e3 + ("L" in d ? d.L : 0));
      if (Z && !("Z" in d))
        d.Z = 0;
      if ("p" in d)
        d.H = d.H % 12 + d.p * 12;
      if (d.m === void 0)
        d.m = "q" in d ? d.q : 0;
      if ("V" in d) {
        if (d.V < 1 || d.V > 53)
          return null;
        if (!("w" in d))
          d.w = 1;
        if ("Z" in d) {
          week = utcDate(newDate(d.y, 0, 1)), day2 = week.getUTCDay();
          week = day2 > 4 || day2 === 0 ? utcMonday.ceil(week) : utcMonday(week);
          week = utcDay$1.offset(week, (d.V - 1) * 7);
          d.y = week.getUTCFullYear();
          d.m = week.getUTCMonth();
          d.d = week.getUTCDate() + (d.w + 6) % 7;
        } else {
          week = localDate(newDate(d.y, 0, 1)), day2 = week.getDay();
          week = day2 > 4 || day2 === 0 ? monday.ceil(week) : monday(week);
          week = timeDay.offset(week, (d.V - 1) * 7);
          d.y = week.getFullYear();
          d.m = week.getMonth();
          d.d = week.getDate() + (d.w + 6) % 7;
        }
      } else if ("W" in d || "U" in d) {
        if (!("w" in d))
          d.w = "u" in d ? d.u % 7 : "W" in d ? 1 : 0;
        day2 = "Z" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();
        d.m = 0;
        d.d = "W" in d ? (d.w + 6) % 7 + d.W * 7 - (day2 + 5) % 7 : d.w + d.U * 7 - (day2 + 6) % 7;
      }
      if ("Z" in d) {
        d.H += d.Z / 100 | 0;
        d.M += d.Z % 100;
        return utcDate(d);
      }
      return localDate(d);
    };
  }
  function parseSpecifier(d, specifier, string, j) {
    var i = 0, n = specifier.length, m = string.length, c2, parse;
    while (i < n) {
      if (j >= m)
        return -1;
      c2 = specifier.charCodeAt(i++);
      if (c2 === 37) {
        c2 = specifier.charAt(i++);
        parse = parses[c2 in pads ? specifier.charAt(i++) : c2];
        if (!parse || (j = parse(d, string, j)) < 0)
          return -1;
      } else if (c2 != string.charCodeAt(j++)) {
        return -1;
      }
    }
    return j;
  }
  function parsePeriod(d, string, i) {
    var n = periodRe.exec(string.slice(i));
    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseShortWeekday(d, string, i) {
    var n = shortWeekdayRe.exec(string.slice(i));
    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseWeekday(d, string, i) {
    var n = weekdayRe.exec(string.slice(i));
    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseShortMonth(d, string, i) {
    var n = shortMonthRe.exec(string.slice(i));
    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseMonth(d, string, i) {
    var n = monthRe.exec(string.slice(i));
    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;
  }
  function parseLocaleDateTime(d, string, i) {
    return parseSpecifier(d, locale_dateTime, string, i);
  }
  function parseLocaleDate(d, string, i) {
    return parseSpecifier(d, locale_date, string, i);
  }
  function parseLocaleTime(d, string, i) {
    return parseSpecifier(d, locale_time, string, i);
  }
  function formatShortWeekday(d) {
    return locale_shortWeekdays[d.getDay()];
  }
  function formatWeekday(d) {
    return locale_weekdays[d.getDay()];
  }
  function formatShortMonth(d) {
    return locale_shortMonths[d.getMonth()];
  }
  function formatMonth(d) {
    return locale_months[d.getMonth()];
  }
  function formatPeriod(d) {
    return locale_periods[+(d.getHours() >= 12)];
  }
  function formatQuarter(d) {
    return 1 + ~~(d.getMonth() / 3);
  }
  function formatUTCShortWeekday(d) {
    return locale_shortWeekdays[d.getUTCDay()];
  }
  function formatUTCWeekday(d) {
    return locale_weekdays[d.getUTCDay()];
  }
  function formatUTCShortMonth(d) {
    return locale_shortMonths[d.getUTCMonth()];
  }
  function formatUTCMonth(d) {
    return locale_months[d.getUTCMonth()];
  }
  function formatUTCPeriod(d) {
    return locale_periods[+(d.getUTCHours() >= 12)];
  }
  function formatUTCQuarter(d) {
    return 1 + ~~(d.getUTCMonth() / 3);
  }
  return {
    format: function(specifier) {
      var f = newFormat(specifier += "", formats);
      f.toString = function() {
        return specifier;
      };
      return f;
    },
    parse: function(specifier) {
      var p = newParse(specifier += "", false);
      p.toString = function() {
        return specifier;
      };
      return p;
    },
    utcFormat: function(specifier) {
      var f = newFormat(specifier += "", utcFormats);
      f.toString = function() {
        return specifier;
      };
      return f;
    },
    utcParse: function(specifier) {
      var p = newParse(specifier += "", true);
      p.toString = function() {
        return specifier;
      };
      return p;
    }
  };
}
var pads = { "-": "", "_": " ", "0": "0" }, numberRe = /^\s*\d+/, percentRe = /^%/, requoteRe = /[\\^$*+?|[\]().{}]/g;
function pad(value, fill, width) {
  var sign2 = value < 0 ? "-" : "", string = (sign2 ? -value : value) + "", length2 = string.length;
  return sign2 + (length2 < width ? new Array(width - length2 + 1).join(fill) + string : string);
}
function requote(s2) {
  return s2.replace(requoteRe, "\\$&");
}
function formatRe(names) {
  return new RegExp("^(?:" + names.map(requote).join("|") + ")", "i");
}
function formatLookup(names) {
  var map2 = {}, i = -1, n = names.length;
  while (++i < n)
    map2[names[i].toLowerCase()] = i;
  return map2;
}
function parseWeekdayNumberSunday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 1));
  return n ? (d.w = +n[0], i + n[0].length) : -1;
}
function parseWeekdayNumberMonday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 1));
  return n ? (d.u = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberSunday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.U = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberISO(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.V = +n[0], i + n[0].length) : -1;
}
function parseWeekNumberMonday(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.W = +n[0], i + n[0].length) : -1;
}
function parseFullYear(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 4));
  return n ? (d.y = +n[0], i + n[0].length) : -1;
}
function parseYear(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), i + n[0].length) : -1;
}
function parseZone(d, string, i) {
  var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i, i + 6));
  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), i + n[0].length) : -1;
}
function parseQuarter(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 1));
  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;
}
function parseMonthNumber(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;
}
function parseDayOfMonth(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.d = +n[0], i + n[0].length) : -1;
}
function parseDayOfYear(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 3));
  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;
}
function parseHour24(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.H = +n[0], i + n[0].length) : -1;
}
function parseMinutes(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.M = +n[0], i + n[0].length) : -1;
}
function parseSeconds(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 2));
  return n ? (d.S = +n[0], i + n[0].length) : -1;
}
function parseMilliseconds(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 3));
  return n ? (d.L = +n[0], i + n[0].length) : -1;
}
function parseMicroseconds(d, string, i) {
  var n = numberRe.exec(string.slice(i, i + 6));
  return n ? (d.L = Math.floor(n[0] / 1e3), i + n[0].length) : -1;
}
function parseLiteralPercent(d, string, i) {
  var n = percentRe.exec(string.slice(i, i + 1));
  return n ? i + n[0].length : -1;
}
function parseUnixTimestamp(d, string, i) {
  var n = numberRe.exec(string.slice(i));
  return n ? (d.Q = +n[0], i + n[0].length) : -1;
}
function parseUnixTimestampSeconds(d, string, i) {
  var n = numberRe.exec(string.slice(i));
  return n ? (d.s = +n[0], i + n[0].length) : -1;
}
function formatDayOfMonth(d, p) {
  return pad(d.getDate(), p, 2);
}
function formatHour24(d, p) {
  return pad(d.getHours(), p, 2);
}
function formatHour12(d, p) {
  return pad(d.getHours() % 12 || 12, p, 2);
}
function formatDayOfYear(d, p) {
  return pad(1 + timeDay.count(timeYear(d), d), p, 3);
}
function formatMilliseconds(d, p) {
  return pad(d.getMilliseconds(), p, 3);
}
function formatMicroseconds(d, p) {
  return formatMilliseconds(d, p) + "000";
}
function formatMonthNumber(d, p) {
  return pad(d.getMonth() + 1, p, 2);
}
function formatMinutes(d, p) {
  return pad(d.getMinutes(), p, 2);
}
function formatSeconds(d, p) {
  return pad(d.getSeconds(), p, 2);
}
function formatWeekdayNumberMonday(d) {
  var day2 = d.getDay();
  return day2 === 0 ? 7 : day2;
}
function formatWeekNumberSunday(d, p) {
  return pad(sunday.count(timeYear(d) - 1, d), p, 2);
}
function dISO(d) {
  var day2 = d.getDay();
  return day2 >= 4 || day2 === 0 ? thursday(d) : thursday.ceil(d);
}
function formatWeekNumberISO(d, p) {
  d = dISO(d);
  return pad(thursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);
}
function formatWeekdayNumberSunday(d) {
  return d.getDay();
}
function formatWeekNumberMonday(d, p) {
  return pad(monday.count(timeYear(d) - 1, d), p, 2);
}
function formatYear(d, p) {
  return pad(d.getFullYear() % 100, p, 2);
}
function formatYearISO(d, p) {
  d = dISO(d);
  return pad(d.getFullYear() % 100, p, 2);
}
function formatFullYear(d, p) {
  return pad(d.getFullYear() % 1e4, p, 4);
}
function formatFullYearISO(d, p) {
  var day2 = d.getDay();
  d = day2 >= 4 || day2 === 0 ? thursday(d) : thursday.ceil(d);
  return pad(d.getFullYear() % 1e4, p, 4);
}
function formatZone(d) {
  var z = d.getTimezoneOffset();
  return (z > 0 ? "-" : (z *= -1, "+")) + pad(z / 60 | 0, "0", 2) + pad(z % 60, "0", 2);
}
function formatUTCDayOfMonth(d, p) {
  return pad(d.getUTCDate(), p, 2);
}
function formatUTCHour24(d, p) {
  return pad(d.getUTCHours(), p, 2);
}
function formatUTCHour12(d, p) {
  return pad(d.getUTCHours() % 12 || 12, p, 2);
}
function formatUTCDayOfYear(d, p) {
  return pad(1 + utcDay$1.count(utcYear$1(d), d), p, 3);
}
function formatUTCMilliseconds(d, p) {
  return pad(d.getUTCMilliseconds(), p, 3);
}
function formatUTCMicroseconds(d, p) {
  return formatUTCMilliseconds(d, p) + "000";
}
function formatUTCMonthNumber(d, p) {
  return pad(d.getUTCMonth() + 1, p, 2);
}
function formatUTCMinutes(d, p) {
  return pad(d.getUTCMinutes(), p, 2);
}
function formatUTCSeconds(d, p) {
  return pad(d.getUTCSeconds(), p, 2);
}
function formatUTCWeekdayNumberMonday(d) {
  var dow = d.getUTCDay();
  return dow === 0 ? 7 : dow;
}
function formatUTCWeekNumberSunday(d, p) {
  return pad(utcSunday.count(utcYear$1(d) - 1, d), p, 2);
}
function UTCdISO(d) {
  var day2 = d.getUTCDay();
  return day2 >= 4 || day2 === 0 ? utcThursday(d) : utcThursday.ceil(d);
}
function formatUTCWeekNumberISO(d, p) {
  d = UTCdISO(d);
  return pad(utcThursday.count(utcYear$1(d), d) + (utcYear$1(d).getUTCDay() === 4), p, 2);
}
function formatUTCWeekdayNumberSunday(d) {
  return d.getUTCDay();
}
function formatUTCWeekNumberMonday(d, p) {
  return pad(utcMonday.count(utcYear$1(d) - 1, d), p, 2);
}
function formatUTCYear(d, p) {
  return pad(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCYearISO(d, p) {
  d = UTCdISO(d);
  return pad(d.getUTCFullYear() % 100, p, 2);
}
function formatUTCFullYear(d, p) {
  return pad(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCFullYearISO(d, p) {
  var day2 = d.getUTCDay();
  d = day2 >= 4 || day2 === 0 ? utcThursday(d) : utcThursday.ceil(d);
  return pad(d.getUTCFullYear() % 1e4, p, 4);
}
function formatUTCZone() {
  return "+0000";
}
function formatLiteralPercent() {
  return "%";
}
function formatUnixTimestamp(d) {
  return +d;
}
function formatUnixTimestampSeconds(d) {
  return Math.floor(+d / 1e3);
}
var locale;
var timeFormat;
var timeParse;
var utcFormat;
var utcParse;
defaultLocale({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
  shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
});
function defaultLocale(definition) {
  locale = formatLocale(definition);
  timeFormat = locale.format;
  timeParse = locale.parse;
  utcFormat = locale.utcFormat;
  utcParse = locale.utcParse;
  return locale;
}
var isoSpecifier = "%Y-%m-%dT%H:%M:%S.%LZ";
function formatIsoNative(date2) {
  return date2.toISOString();
}
var formatIso = Date.prototype.toISOString ? formatIsoNative : utcFormat(isoSpecifier);
const formatIso$1 = formatIso;
function parseIsoNative(string) {
  var date2 = new Date(string);
  return isNaN(date2) ? null : date2;
}
var parseIso = +new Date("2000-01-01T00:00:00.000Z") ? parseIsoNative : utcParse(isoSpecifier);
const parseIso$1 = parseIso;
var durationSecond = 1e3, durationMinute = durationSecond * 60, durationHour = durationMinute * 60, durationDay = durationHour * 24, durationWeek = durationDay * 7, durationMonth = durationDay * 30, durationYear = durationDay * 365;
function date(t) {
  return new Date(t);
}
function number(t) {
  return t instanceof Date ? +t : +new Date(+t);
}
function calendar(year2, month2, week, day2, hour2, minute2, second2, millisecond2, format2) {
  var scale2 = continuous(identity$3, identity$3), invert2 = scale2.invert, domain = scale2.domain;
  var formatMillisecond = format2(".%L"), formatSecond = format2(":%S"), formatMinute = format2("%I:%M"), formatHour = format2("%I %p"), formatDay = format2("%a %d"), formatWeek = format2("%b %d"), formatMonth = format2("%B"), formatYear2 = format2("%Y");
  var tickIntervals = [
    [second2, 1, durationSecond],
    [second2, 5, 5 * durationSecond],
    [second2, 15, 15 * durationSecond],
    [second2, 30, 30 * durationSecond],
    [minute2, 1, durationMinute],
    [minute2, 5, 5 * durationMinute],
    [minute2, 15, 15 * durationMinute],
    [minute2, 30, 30 * durationMinute],
    [hour2, 1, durationHour],
    [hour2, 3, 3 * durationHour],
    [hour2, 6, 6 * durationHour],
    [hour2, 12, 12 * durationHour],
    [day2, 1, durationDay],
    [day2, 2, 2 * durationDay],
    [week, 1, durationWeek],
    [month2, 1, durationMonth],
    [month2, 3, 3 * durationMonth],
    [year2, 1, durationYear]
  ];
  function tickFormat2(date2) {
    return (second2(date2) < date2 ? formatMillisecond : minute2(date2) < date2 ? formatSecond : hour2(date2) < date2 ? formatMinute : day2(date2) < date2 ? formatHour : month2(date2) < date2 ? week(date2) < date2 ? formatDay : formatWeek : year2(date2) < date2 ? formatMonth : formatYear2)(date2);
  }
  function tickInterval(interval2, start2, stop, step2) {
    if (interval2 == null)
      interval2 = 10;
    if (typeof interval2 === "number") {
      var target = Math.abs(stop - start2) / interval2, i = bisector(function(i2) {
        return i2[2];
      }).right(tickIntervals, target);
      if (i === tickIntervals.length) {
        step2 = tickStep(start2 / durationYear, stop / durationYear, interval2);
        interval2 = year2;
      } else if (i) {
        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];
        step2 = i[1];
        interval2 = i[0];
      } else {
        step2 = Math.max(tickStep(start2, stop, interval2), 1);
        interval2 = millisecond2;
      }
    }
    return step2 == null ? interval2 : interval2.every(step2);
  }
  scale2.invert = function(y2) {
    return new Date(invert2(y2));
  };
  scale2.domain = function(_2) {
    return arguments.length ? domain(map.call(_2, number)) : domain().map(date);
  };
  scale2.ticks = function(interval2, step2) {
    var d = domain(), t02 = d[0], t12 = d[d.length - 1], r = t12 < t02, t;
    if (r)
      t = t02, t02 = t12, t12 = t;
    t = tickInterval(interval2, t02, t12, step2);
    t = t ? t.range(t02, t12 + 1) : [];
    return r ? t.reverse() : t;
  };
  scale2.tickFormat = function(count2, specifier) {
    return specifier == null ? tickFormat2 : format2(specifier);
  };
  scale2.nice = function(interval2, step2) {
    var d = domain();
    return (interval2 = tickInterval(interval2, d[0], d[d.length - 1], step2)) ? domain(nice(d, interval2)) : scale2;
  };
  scale2.copy = function() {
    return copy$1(scale2, calendar(year2, month2, week, day2, hour2, minute2, second2, millisecond2, format2));
  };
  return scale2;
}
function time() {
  return initRange.apply(calendar(timeYear, timeMonth, sunday, timeDay, timeHour, timeMinute, utcSecond, utcMillisecond, timeFormat).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
}
function utcTime() {
  return initRange.apply(calendar(utcYear$1, utcMonth$1, utcSunday, utcDay$1, utcHour$1, utcMinute$1, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments);
}
function transformer$1() {
  var x02 = 0, x12 = 1, t02, t12, k10, transform2, interpolator = identity$3, clamp = false, unknown;
  function scale2(x2) {
    return isNaN(x2 = +x2) ? unknown : interpolator(k10 === 0 ? 0.5 : (x2 = (transform2(x2) - t02) * k10, clamp ? Math.max(0, Math.min(1, x2)) : x2));
  }
  scale2.domain = function(_2) {
    return arguments.length ? (t02 = transform2(x02 = +_2[0]), t12 = transform2(x12 = +_2[1]), k10 = t02 === t12 ? 0 : 1 / (t12 - t02), scale2) : [x02, x12];
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (clamp = !!_2, scale2) : clamp;
  };
  scale2.interpolator = function(_2) {
    return arguments.length ? (interpolator = _2, scale2) : interpolator;
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  return function(t) {
    transform2 = t, t02 = t(x02), t12 = t(x12), k10 = t02 === t12 ? 0 : 1 / (t12 - t02);
    return scale2;
  };
}
function copy(source, target) {
  return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown());
}
function sequential() {
  var scale2 = linearish(transformer$1()(identity$3));
  scale2.copy = function() {
    return copy(scale2, sequential());
  };
  return initInterpolator.apply(scale2, arguments);
}
function sequentialLog() {
  var scale2 = loggish(transformer$1()).domain([1, 10]);
  scale2.copy = function() {
    return copy(scale2, sequentialLog()).base(scale2.base());
  };
  return initInterpolator.apply(scale2, arguments);
}
function sequentialSymlog() {
  var scale2 = symlogish(transformer$1());
  scale2.copy = function() {
    return copy(scale2, sequentialSymlog()).constant(scale2.constant());
  };
  return initInterpolator.apply(scale2, arguments);
}
function sequentialPow() {
  var scale2 = powish(transformer$1());
  scale2.copy = function() {
    return copy(scale2, sequentialPow()).exponent(scale2.exponent());
  };
  return initInterpolator.apply(scale2, arguments);
}
function sequentialSqrt() {
  return sequentialPow.apply(null, arguments).exponent(0.5);
}
function sequentialQuantile() {
  var domain = [], interpolator = identity$3;
  function scale2(x2) {
    if (!isNaN(x2 = +x2))
      return interpolator((bisectRight(domain, x2) - 1) / (domain.length - 1));
  }
  scale2.domain = function(_2) {
    if (!arguments.length)
      return domain.slice();
    domain = [];
    for (var i = 0, n = _2.length, d; i < n; ++i)
      if (d = _2[i], d != null && !isNaN(d = +d))
        domain.push(d);
    domain.sort(ascending$3);
    return scale2;
  };
  scale2.interpolator = function(_2) {
    return arguments.length ? (interpolator = _2, scale2) : interpolator;
  };
  scale2.copy = function() {
    return sequentialQuantile(interpolator).domain(domain);
  };
  return initInterpolator.apply(scale2, arguments);
}
function transformer() {
  var x02 = 0, x12 = 0.5, x2 = 1, t02, t12, t22, k10, k21, interpolator = identity$3, transform2, clamp = false, unknown;
  function scale2(x3) {
    return isNaN(x3 = +x3) ? unknown : (x3 = 0.5 + ((x3 = +transform2(x3)) - t12) * (x3 < t12 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x3)) : x3));
  }
  scale2.domain = function(_2) {
    return arguments.length ? (t02 = transform2(x02 = +_2[0]), t12 = transform2(x12 = +_2[1]), t22 = transform2(x2 = +_2[2]), k10 = t02 === t12 ? 0 : 0.5 / (t12 - t02), k21 = t12 === t22 ? 0 : 0.5 / (t22 - t12), scale2) : [x02, x12, x2];
  };
  scale2.clamp = function(_2) {
    return arguments.length ? (clamp = !!_2, scale2) : clamp;
  };
  scale2.interpolator = function(_2) {
    return arguments.length ? (interpolator = _2, scale2) : interpolator;
  };
  scale2.unknown = function(_2) {
    return arguments.length ? (unknown = _2, scale2) : unknown;
  };
  return function(t) {
    transform2 = t, t02 = t(x02), t12 = t(x12), t22 = t(x2), k10 = t02 === t12 ? 0 : 0.5 / (t12 - t02), k21 = t12 === t22 ? 0 : 0.5 / (t22 - t12);
    return scale2;
  };
}
function diverging$1() {
  var scale2 = linearish(transformer()(identity$3));
  scale2.copy = function() {
    return copy(scale2, diverging$1());
  };
  return initInterpolator.apply(scale2, arguments);
}
function divergingLog() {
  var scale2 = loggish(transformer()).domain([0.1, 1, 10]);
  scale2.copy = function() {
    return copy(scale2, divergingLog()).base(scale2.base());
  };
  return initInterpolator.apply(scale2, arguments);
}
function divergingSymlog() {
  var scale2 = symlogish(transformer());
  scale2.copy = function() {
    return copy(scale2, divergingSymlog()).constant(scale2.constant());
  };
  return initInterpolator.apply(scale2, arguments);
}
function divergingPow() {
  var scale2 = powish(transformer());
  scale2.copy = function() {
    return copy(scale2, divergingPow()).exponent(scale2.exponent());
  };
  return initInterpolator.apply(scale2, arguments);
}
function divergingSqrt() {
  return divergingPow.apply(null, arguments).exponent(0.5);
}
function colors(specifier) {
  var n = specifier.length / 6 | 0, colors2 = new Array(n), i = 0;
  while (i < n)
    colors2[i] = "#" + specifier.slice(i * 6, ++i * 6);
  return colors2;
}
const category10 = colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");
const Accent = colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");
const Dark2 = colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");
const Paired = colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");
const Pastel1 = colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");
const Pastel2 = colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");
const Set1 = colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");
const Set2 = colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");
const Set3 = colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");
const Tableau10 = colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");
function ramp$1(scheme2) {
  return rgbBasis(scheme2[scheme2.length - 1]);
}
var scheme$q = new Array(3).concat(
  "d8b365f5f5f55ab4ac",
  "a6611adfc27d80cdc1018571",
  "a6611adfc27df5f5f580cdc1018571",
  "8c510ad8b365f6e8c3c7eae55ab4ac01665e",
  "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e",
  "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",
  "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e",
  "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30",
  "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30"
).map(colors);
const BrBG = ramp$1(scheme$q);
var scheme$p = new Array(3).concat(
  "af8dc3f7f7f77fbf7b",
  "7b3294c2a5cfa6dba0008837",
  "7b3294c2a5cff7f7f7a6dba0008837",
  "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837",
  "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837",
  "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837",
  "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837",
  "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",
  "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b"
).map(colors);
const PRGn = ramp$1(scheme$p);
var scheme$o = new Array(3).concat(
  "e9a3c9f7f7f7a1d76a",
  "d01c8bf1b6dab8e1864dac26",
  "d01c8bf1b6daf7f7f7b8e1864dac26",
  "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221",
  "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221",
  "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221",
  "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221",
  "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",
  "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419"
).map(colors);
const PiYG = ramp$1(scheme$o);
var scheme$n = new Array(3).concat(
  "998ec3f7f7f7f1a340",
  "5e3c99b2abd2fdb863e66101",
  "5e3c99b2abd2f7f7f7fdb863e66101",
  "542788998ec3d8daebfee0b6f1a340b35806",
  "542788998ec3d8daebf7f7f7fee0b6f1a340b35806",
  "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806",
  "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806",
  "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08",
  "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08"
).map(colors);
const PuOr = ramp$1(scheme$n);
var scheme$m = new Array(3).concat(
  "ef8a62f7f7f767a9cf",
  "ca0020f4a58292c5de0571b0",
  "ca0020f4a582f7f7f792c5de0571b0",
  "b2182bef8a62fddbc7d1e5f067a9cf2166ac",
  "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac",
  "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac",
  "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac",
  "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061",
  "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061"
).map(colors);
const RdBu = ramp$1(scheme$m);
var scheme$l = new Array(3).concat(
  "ef8a62ffffff999999",
  "ca0020f4a582bababa404040",
  "ca0020f4a582ffffffbababa404040",
  "b2182bef8a62fddbc7e0e0e09999994d4d4d",
  "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d",
  "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d",
  "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d",
  "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a",
  "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a"
).map(colors);
const RdGy = ramp$1(scheme$l);
var scheme$k = new Array(3).concat(
  "fc8d59ffffbf91bfdb",
  "d7191cfdae61abd9e92c7bb6",
  "d7191cfdae61ffffbfabd9e92c7bb6",
  "d73027fc8d59fee090e0f3f891bfdb4575b4",
  "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",
  "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",
  "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",
  "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",
  "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"
).map(colors);
const RdYlBu = ramp$1(scheme$k);
var scheme$j = new Array(3).concat(
  "fc8d59ffffbf91cf60",
  "d7191cfdae61a6d96a1a9641",
  "d7191cfdae61ffffbfa6d96a1a9641",
  "d73027fc8d59fee08bd9ef8b91cf601a9850",
  "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850",
  "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",
  "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850",
  "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",
  "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837"
).map(colors);
const RdYlGn = ramp$1(scheme$j);
var scheme$i = new Array(3).concat(
  "fc8d59ffffbf99d594",
  "d7191cfdae61abdda42b83ba",
  "d7191cfdae61ffffbfabdda42b83ba",
  "d53e4ffc8d59fee08be6f59899d5943288bd",
  "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd",
  "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd",
  "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd",
  "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2",
  "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2"
).map(colors);
const Spectral = ramp$1(scheme$i);
var scheme$h = new Array(3).concat(
  "e5f5f999d8c92ca25f",
  "edf8fbb2e2e266c2a4238b45",
  "edf8fbb2e2e266c2a42ca25f006d2c",
  "edf8fbccece699d8c966c2a42ca25f006d2c",
  "edf8fbccece699d8c966c2a441ae76238b45005824",
  "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824",
  "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b"
).map(colors);
const BuGn = ramp$1(scheme$h);
var scheme$g = new Array(3).concat(
  "e0ecf49ebcda8856a7",
  "edf8fbb3cde38c96c688419d",
  "edf8fbb3cde38c96c68856a7810f7c",
  "edf8fbbfd3e69ebcda8c96c68856a7810f7c",
  "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",
  "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b",
  "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b"
).map(colors);
const BuPu = ramp$1(scheme$g);
var scheme$f = new Array(3).concat(
  "e0f3dba8ddb543a2ca",
  "f0f9e8bae4bc7bccc42b8cbe",
  "f0f9e8bae4bc7bccc443a2ca0868ac",
  "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac",
  "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e",
  "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e",
  "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081"
).map(colors);
const GnBu = ramp$1(scheme$f);
var scheme$e = new Array(3).concat(
  "fee8c8fdbb84e34a33",
  "fef0d9fdcc8afc8d59d7301f",
  "fef0d9fdcc8afc8d59e34a33b30000",
  "fef0d9fdd49efdbb84fc8d59e34a33b30000",
  "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000",
  "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000",
  "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000"
).map(colors);
const OrRd = ramp$1(scheme$e);
var scheme$d = new Array(3).concat(
  "ece2f0a6bddb1c9099",
  "f6eff7bdc9e167a9cf02818a",
  "f6eff7bdc9e167a9cf1c9099016c59",
  "f6eff7d0d1e6a6bddb67a9cf1c9099016c59",
  "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450",
  "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450",
  "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636"
).map(colors);
const PuBuGn = ramp$1(scheme$d);
var scheme$c = new Array(3).concat(
  "ece7f2a6bddb2b8cbe",
  "f1eef6bdc9e174a9cf0570b0",
  "f1eef6bdc9e174a9cf2b8cbe045a8d",
  "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d",
  "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b",
  "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b",
  "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858"
).map(colors);
const PuBu = ramp$1(scheme$c);
var scheme$b = new Array(3).concat(
  "e7e1efc994c7dd1c77",
  "f1eef6d7b5d8df65b0ce1256",
  "f1eef6d7b5d8df65b0dd1c77980043",
  "f1eef6d4b9dac994c7df65b0dd1c77980043",
  "f1eef6d4b9dac994c7df65b0e7298ace125691003f",
  "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f",
  "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f"
).map(colors);
const PuRd = ramp$1(scheme$b);
var scheme$a = new Array(3).concat(
  "fde0ddfa9fb5c51b8a",
  "feebe2fbb4b9f768a1ae017e",
  "feebe2fbb4b9f768a1c51b8a7a0177",
  "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177",
  "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177",
  "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",
  "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a"
).map(colors);
const RdPu = ramp$1(scheme$a);
var scheme$9 = new Array(3).concat(
  "edf8b17fcdbb2c7fb8",
  "ffffcca1dab441b6c4225ea8",
  "ffffcca1dab441b6c42c7fb8253494",
  "ffffccc7e9b47fcdbb41b6c42c7fb8253494",
  "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84",
  "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84",
  "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58"
).map(colors);
const YlGnBu = ramp$1(scheme$9);
var scheme$8 = new Array(3).concat(
  "f7fcb9addd8e31a354",
  "ffffccc2e69978c679238443",
  "ffffccc2e69978c67931a354006837",
  "ffffccd9f0a3addd8e78c67931a354006837",
  "ffffccd9f0a3addd8e78c67941ab5d238443005a32",
  "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32",
  "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529"
).map(colors);
const YlGn = ramp$1(scheme$8);
var scheme$7 = new Array(3).concat(
  "fff7bcfec44fd95f0e",
  "ffffd4fed98efe9929cc4c02",
  "ffffd4fed98efe9929d95f0e993404",
  "ffffd4fee391fec44ffe9929d95f0e993404",
  "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04",
  "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04",
  "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506"
).map(colors);
const YlOrBr = ramp$1(scheme$7);
var scheme$6 = new Array(3).concat(
  "ffeda0feb24cf03b20",
  "ffffb2fecc5cfd8d3ce31a1c",
  "ffffb2fecc5cfd8d3cf03b20bd0026",
  "ffffb2fed976feb24cfd8d3cf03b20bd0026",
  "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",
  "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026",
  "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026"
).map(colors);
const YlOrRd = ramp$1(scheme$6);
var scheme$5 = new Array(3).concat(
  "deebf79ecae13182bd",
  "eff3ffbdd7e76baed62171b5",
  "eff3ffbdd7e76baed63182bd08519c",
  "eff3ffc6dbef9ecae16baed63182bd08519c",
  "eff3ffc6dbef9ecae16baed64292c62171b5084594",
  "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594",
  "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b"
).map(colors);
const Blues = ramp$1(scheme$5);
var scheme$4 = new Array(3).concat(
  "e5f5e0a1d99b31a354",
  "edf8e9bae4b374c476238b45",
  "edf8e9bae4b374c47631a354006d2c",
  "edf8e9c7e9c0a1d99b74c47631a354006d2c",
  "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32",
  "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32",
  "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b"
).map(colors);
const Greens = ramp$1(scheme$4);
var scheme$3 = new Array(3).concat(
  "f0f0f0bdbdbd636363",
  "f7f7f7cccccc969696525252",
  "f7f7f7cccccc969696636363252525",
  "f7f7f7d9d9d9bdbdbd969696636363252525",
  "f7f7f7d9d9d9bdbdbd969696737373525252252525",
  "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",
  "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000"
).map(colors);
const Greys = ramp$1(scheme$3);
var scheme$2 = new Array(3).concat(
  "efedf5bcbddc756bb1",
  "f2f0f7cbc9e29e9ac86a51a3",
  "f2f0f7cbc9e29e9ac8756bb154278f",
  "f2f0f7dadaebbcbddc9e9ac8756bb154278f",
  "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486",
  "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486",
  "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d"
).map(colors);
const Purples = ramp$1(scheme$2);
var scheme$1 = new Array(3).concat(
  "fee0d2fc9272de2d26",
  "fee5d9fcae91fb6a4acb181d",
  "fee5d9fcae91fb6a4ade2d26a50f15",
  "fee5d9fcbba1fc9272fb6a4ade2d26a50f15",
  "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",
  "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d",
  "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d"
).map(colors);
const Reds = ramp$1(scheme$1);
var scheme = new Array(3).concat(
  "fee6cefdae6be6550d",
  "feeddefdbe85fd8d3cd94701",
  "feeddefdbe85fd8d3ce6550da63603",
  "feeddefdd0a2fdae6bfd8d3ce6550da63603",
  "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04",
  "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04",
  "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704"
).map(colors);
const Oranges = ramp$1(scheme);
function cividis(t) {
  t = Math.max(0, Math.min(1, t));
  return "rgb(" + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + ", " + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + ", " + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67))))))) + ")";
}
const cubehelix = cubehelixLong(cubehelix$3(300, 0.5, 0), cubehelix$3(-240, 0.5, 1));
var warm = cubehelixLong(cubehelix$3(-100, 0.75, 0.35), cubehelix$3(80, 1.5, 0.8));
var cool = cubehelixLong(cubehelix$3(260, 0.75, 0.35), cubehelix$3(80, 1.5, 0.8));
var c$3 = cubehelix$3();
function rainbow(t) {
  if (t < 0 || t > 1)
    t -= Math.floor(t);
  var ts = Math.abs(t - 0.5);
  c$3.h = 360 * t - 100;
  c$3.s = 1.5 - 1.5 * ts;
  c$3.l = 0.8 - 0.9 * ts;
  return c$3 + "";
}
var c$2 = rgb(), pi_1_3 = Math.PI / 3, pi_2_3 = Math.PI * 2 / 3;
function sinebow(t) {
  var x2;
  t = (0.5 - t) * Math.PI;
  c$2.r = 255 * (x2 = Math.sin(t)) * x2;
  c$2.g = 255 * (x2 = Math.sin(t + pi_1_3)) * x2;
  c$2.b = 255 * (x2 = Math.sin(t + pi_2_3)) * x2;
  return c$2 + "";
}
function turbo(t) {
  t = Math.max(0, Math.min(1, t));
  return "rgb(" + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + ", " + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + ", " + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66))))))) + ")";
}
function ramp(range2) {
  var n = range2.length;
  return function(t) {
    return range2[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];
  };
}
const viridis = ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));
var magma = ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));
var inferno = ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));
var plasma = ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));
function constant$2(x2) {
  return function constant2() {
    return x2;
  };
}
var abs = Math.abs;
var atan2 = Math.atan2;
var cos = Math.cos;
var max = Math.max;
var min = Math.min;
var sin = Math.sin;
var sqrt = Math.sqrt;
var epsilon$1 = 1e-12;
var pi = Math.PI;
var halfPi = pi / 2;
var tau = 2 * pi;
function acos(x2) {
  return x2 > 1 ? 0 : x2 < -1 ? pi : Math.acos(x2);
}
function asin(x2) {
  return x2 >= 1 ? halfPi : x2 <= -1 ? -halfPi : Math.asin(x2);
}
function arcInnerRadius(d) {
  return d.innerRadius;
}
function arcOuterRadius(d) {
  return d.outerRadius;
}
function arcStartAngle(d) {
  return d.startAngle;
}
function arcEndAngle(d) {
  return d.endAngle;
}
function arcPadAngle(d) {
  return d && d.padAngle;
}
function intersect(x02, y02, x12, y12, x2, y2, x3, y3) {
  var x10 = x12 - x02, y10 = y12 - y02, x32 = x3 - x2, y32 = y3 - y2, t = y32 * x10 - x32 * y10;
  if (t * t < epsilon$1)
    return;
  t = (x32 * (y02 - y2) - y32 * (x02 - x2)) / t;
  return [x02 + t * x10, y02 + t * y10];
}
function cornerTangents(x02, y02, x12, y12, r1, rc, cw) {
  var x01 = x02 - x12, y01 = y02 - y12, lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x11 = x02 + ox, y11 = y02 + oy, x10 = x12 + ox, y10 = y12 + oy, x002 = (x11 + x10) / 2, y002 = (y11 + y10) / 2, dx = x10 - x11, dy = y10 - y11, d2 = dx * dx + dy * dy, r = r1 - rc, D2 = x11 * y10 - x10 * y11, d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D2 * D2)), cx0 = (D2 * dy - dx * d) / d2, cy0 = (-D2 * dx - dy * d) / d2, cx1 = (D2 * dy + dx * d) / d2, cy1 = (-D2 * dx + dy * d) / d2, dx0 = cx0 - x002, dy0 = cy0 - y002, dx1 = cx1 - x002, dy1 = cy1 - y002;
  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1)
    cx0 = cx1, cy0 = cy1;
  return {
    cx: cx0,
    cy: cy0,
    x01: -ox,
    y01: -oy,
    x11: cx0 * (r1 / r - 1),
    y11: cy0 * (r1 / r - 1)
  };
}
function arc() {
  var innerRadius = arcInnerRadius, outerRadius = arcOuterRadius, cornerRadius = constant$2(0), padRadius = null, startAngle = arcStartAngle, endAngle = arcEndAngle, padAngle = arcPadAngle, context = null;
  function arc2() {
    var buffer2, r, r0 = +innerRadius.apply(this, arguments), r1 = +outerRadius.apply(this, arguments), a0 = startAngle.apply(this, arguments) - halfPi, a1 = endAngle.apply(this, arguments) - halfPi, da = abs(a1 - a0), cw = a1 > a0;
    if (!context)
      context = buffer2 = path();
    if (r1 < r0)
      r = r1, r1 = r0, r0 = r;
    if (!(r1 > epsilon$1))
      context.moveTo(0, 0);
    else if (da > tau - epsilon$1) {
      context.moveTo(r1 * cos(a0), r1 * sin(a0));
      context.arc(0, 0, r1, a0, a1, !cw);
      if (r0 > epsilon$1) {
        context.moveTo(r0 * cos(a1), r0 * sin(a1));
        context.arc(0, 0, r0, a1, a0, cw);
      }
    } else {
      var a01 = a0, a11 = a1, a00 = a0, a10 = a1, da0 = da, da1 = da, ap = padAngle.apply(this, arguments) / 2, rp = ap > epsilon$1 && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)), rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)), rc0 = rc, rc1 = rc, t02, t12;
      if (rp > epsilon$1) {
        var p02 = asin(rp / r0 * sin(ap)), p1 = asin(rp / r1 * sin(ap));
        if ((da0 -= p02 * 2) > epsilon$1)
          p02 *= cw ? 1 : -1, a00 += p02, a10 -= p02;
        else
          da0 = 0, a00 = a10 = (a0 + a1) / 2;
        if ((da1 -= p1 * 2) > epsilon$1)
          p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;
        else
          da1 = 0, a01 = a11 = (a0 + a1) / 2;
      }
      var x01 = r1 * cos(a01), y01 = r1 * sin(a01), x10 = r0 * cos(a10), y10 = r0 * sin(a10);
      if (rc > epsilon$1) {
        var x11 = r1 * cos(a11), y11 = r1 * sin(a11), x002 = r0 * cos(a00), y002 = r0 * sin(a00), oc;
        if (da < pi && (oc = intersect(x01, y01, x002, y002, x11, y11, x10, y10))) {
          var ax = x01 - oc[0], ay = y01 - oc[1], bx = x11 - oc[0], by = y11 - oc[1], kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2), lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);
          rc0 = min(rc, (r0 - lc) / (kc - 1));
          rc1 = min(rc, (r1 - lc) / (kc + 1));
        }
      }
      if (!(da1 > epsilon$1))
        context.moveTo(x01, y01);
      else if (rc1 > epsilon$1) {
        t02 = cornerTangents(x002, y002, x01, y01, r1, rc1, cw);
        t12 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);
        context.moveTo(t02.cx + t02.x01, t02.cy + t02.y01);
        if (rc1 < rc)
          context.arc(t02.cx, t02.cy, rc1, atan2(t02.y01, t02.x01), atan2(t12.y01, t12.x01), !cw);
        else {
          context.arc(t02.cx, t02.cy, rc1, atan2(t02.y01, t02.x01), atan2(t02.y11, t02.x11), !cw);
          context.arc(0, 0, r1, atan2(t02.cy + t02.y11, t02.cx + t02.x11), atan2(t12.cy + t12.y11, t12.cx + t12.x11), !cw);
          context.arc(t12.cx, t12.cy, rc1, atan2(t12.y11, t12.x11), atan2(t12.y01, t12.x01), !cw);
        }
      } else
        context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);
      if (!(r0 > epsilon$1) || !(da0 > epsilon$1))
        context.lineTo(x10, y10);
      else if (rc0 > epsilon$1) {
        t02 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);
        t12 = cornerTangents(x01, y01, x002, y002, r0, -rc0, cw);
        context.lineTo(t02.cx + t02.x01, t02.cy + t02.y01);
        if (rc0 < rc)
          context.arc(t02.cx, t02.cy, rc0, atan2(t02.y01, t02.x01), atan2(t12.y01, t12.x01), !cw);
        else {
          context.arc(t02.cx, t02.cy, rc0, atan2(t02.y01, t02.x01), atan2(t02.y11, t02.x11), !cw);
          context.arc(0, 0, r0, atan2(t02.cy + t02.y11, t02.cx + t02.x11), atan2(t12.cy + t12.y11, t12.cx + t12.x11), cw);
          context.arc(t12.cx, t12.cy, rc0, atan2(t12.y11, t12.x11), atan2(t12.y01, t12.x01), !cw);
        }
      } else
        context.arc(0, 0, r0, a10, a00, cw);
    }
    context.closePath();
    if (buffer2)
      return context = null, buffer2 + "" || null;
  }
  arc2.centroid = function() {
    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a2 = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;
    return [cos(a2) * r, sin(a2) * r];
  };
  arc2.innerRadius = function(_2) {
    return arguments.length ? (innerRadius = typeof _2 === "function" ? _2 : constant$2(+_2), arc2) : innerRadius;
  };
  arc2.outerRadius = function(_2) {
    return arguments.length ? (outerRadius = typeof _2 === "function" ? _2 : constant$2(+_2), arc2) : outerRadius;
  };
  arc2.cornerRadius = function(_2) {
    return arguments.length ? (cornerRadius = typeof _2 === "function" ? _2 : constant$2(+_2), arc2) : cornerRadius;
  };
  arc2.padRadius = function(_2) {
    return arguments.length ? (padRadius = _2 == null ? null : typeof _2 === "function" ? _2 : constant$2(+_2), arc2) : padRadius;
  };
  arc2.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant$2(+_2), arc2) : startAngle;
  };
  arc2.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant$2(+_2), arc2) : endAngle;
  };
  arc2.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant$2(+_2), arc2) : padAngle;
  };
  arc2.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, arc2) : context;
  };
  return arc2;
}
function Linear(context) {
  this._context = context;
}
Linear.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);
        break;
      case 1:
        this._point = 2;
      default:
        this._context.lineTo(x2, y2);
        break;
    }
  }
};
function curveLinear(context) {
  return new Linear(context);
}
function x$1(p) {
  return p[0];
}
function y$1(p) {
  return p[1];
}
function line() {
  var x2 = x$1, y2 = y$1, defined = constant$2(true), context = null, curve = curveLinear, output = null;
  function line2(data) {
    var i, n = data.length, d, defined0 = false, buffer2;
    if (context == null)
      output = curve(buffer2 = path());
    for (i = 0; i <= n; ++i) {
      if (!(i < n && defined(d = data[i], i, data)) === defined0) {
        if (defined0 = !defined0)
          output.lineStart();
        else
          output.lineEnd();
      }
      if (defined0)
        output.point(+x2(d, i, data), +y2(d, i, data));
    }
    if (buffer2)
      return output = null, buffer2 + "" || null;
  }
  line2.x = function(_2) {
    return arguments.length ? (x2 = typeof _2 === "function" ? _2 : constant$2(+_2), line2) : x2;
  };
  line2.y = function(_2) {
    return arguments.length ? (y2 = typeof _2 === "function" ? _2 : constant$2(+_2), line2) : y2;
  };
  line2.defined = function(_2) {
    return arguments.length ? (defined = typeof _2 === "function" ? _2 : constant$2(!!_2), line2) : defined;
  };
  line2.curve = function(_2) {
    return arguments.length ? (curve = _2, context != null && (output = curve(context)), line2) : curve;
  };
  line2.context = function(_2) {
    return arguments.length ? (_2 == null ? context = output = null : output = curve(context = _2), line2) : context;
  };
  return line2;
}
function area() {
  var x02 = x$1, x12 = null, y02 = constant$2(0), y12 = y$1, defined = constant$2(true), context = null, curve = curveLinear, output = null;
  function area2(data) {
    var i, j, k2, n = data.length, d, defined0 = false, buffer2, x0z = new Array(n), y0z = new Array(n);
    if (context == null)
      output = curve(buffer2 = path());
    for (i = 0; i <= n; ++i) {
      if (!(i < n && defined(d = data[i], i, data)) === defined0) {
        if (defined0 = !defined0) {
          j = i;
          output.areaStart();
          output.lineStart();
        } else {
          output.lineEnd();
          output.lineStart();
          for (k2 = i - 1; k2 >= j; --k2) {
            output.point(x0z[k2], y0z[k2]);
          }
          output.lineEnd();
          output.areaEnd();
        }
      }
      if (defined0) {
        x0z[i] = +x02(d, i, data), y0z[i] = +y02(d, i, data);
        output.point(x12 ? +x12(d, i, data) : x0z[i], y12 ? +y12(d, i, data) : y0z[i]);
      }
    }
    if (buffer2)
      return output = null, buffer2 + "" || null;
  }
  function arealine() {
    return line().defined(defined).curve(curve).context(context);
  }
  area2.x = function(_2) {
    return arguments.length ? (x02 = typeof _2 === "function" ? _2 : constant$2(+_2), x12 = null, area2) : x02;
  };
  area2.x0 = function(_2) {
    return arguments.length ? (x02 = typeof _2 === "function" ? _2 : constant$2(+_2), area2) : x02;
  };
  area2.x1 = function(_2) {
    return arguments.length ? (x12 = _2 == null ? null : typeof _2 === "function" ? _2 : constant$2(+_2), area2) : x12;
  };
  area2.y = function(_2) {
    return arguments.length ? (y02 = typeof _2 === "function" ? _2 : constant$2(+_2), y12 = null, area2) : y02;
  };
  area2.y0 = function(_2) {
    return arguments.length ? (y02 = typeof _2 === "function" ? _2 : constant$2(+_2), area2) : y02;
  };
  area2.y1 = function(_2) {
    return arguments.length ? (y12 = _2 == null ? null : typeof _2 === "function" ? _2 : constant$2(+_2), area2) : y12;
  };
  area2.lineX0 = area2.lineY0 = function() {
    return arealine().x(x02).y(y02);
  };
  area2.lineY1 = function() {
    return arealine().x(x02).y(y12);
  };
  area2.lineX1 = function() {
    return arealine().x(x12).y(y02);
  };
  area2.defined = function(_2) {
    return arguments.length ? (defined = typeof _2 === "function" ? _2 : constant$2(!!_2), area2) : defined;
  };
  area2.curve = function(_2) {
    return arguments.length ? (curve = _2, context != null && (output = curve(context)), area2) : curve;
  };
  area2.context = function(_2) {
    return arguments.length ? (_2 == null ? context = output = null : output = curve(context = _2), area2) : context;
  };
  return area2;
}
function descending$1(a2, b) {
  return b < a2 ? -1 : b > a2 ? 1 : b >= a2 ? 0 : NaN;
}
function identity$1(d) {
  return d;
}
function pie() {
  var value = identity$1, sortValues = descending$1, sort2 = null, startAngle = constant$2(0), endAngle = constant$2(tau), padAngle = constant$2(0);
  function pie2(data) {
    var i, n = data.length, j, k2, sum2 = 0, index2 = new Array(n), arcs = new Array(n), a0 = +startAngle.apply(this, arguments), da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)), a1, p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)), pa = p * (da < 0 ? -1 : 1), v;
    for (i = 0; i < n; ++i) {
      if ((v = arcs[index2[i] = i] = +value(data[i], i, data)) > 0) {
        sum2 += v;
      }
    }
    if (sortValues != null)
      index2.sort(function(i2, j2) {
        return sortValues(arcs[i2], arcs[j2]);
      });
    else if (sort2 != null)
      index2.sort(function(i2, j2) {
        return sort2(data[i2], data[j2]);
      });
    for (i = 0, k2 = sum2 ? (da - n * pa) / sum2 : 0; i < n; ++i, a0 = a1) {
      j = index2[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k2 : 0) + pa, arcs[j] = {
        data: data[j],
        index: i,
        value: v,
        startAngle: a0,
        endAngle: a1,
        padAngle: p
      };
    }
    return arcs;
  }
  pie2.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant$2(+_2), pie2) : value;
  };
  pie2.sortValues = function(_2) {
    return arguments.length ? (sortValues = _2, sort2 = null, pie2) : sortValues;
  };
  pie2.sort = function(_2) {
    return arguments.length ? (sort2 = _2, sortValues = null, pie2) : sort2;
  };
  pie2.startAngle = function(_2) {
    return arguments.length ? (startAngle = typeof _2 === "function" ? _2 : constant$2(+_2), pie2) : startAngle;
  };
  pie2.endAngle = function(_2) {
    return arguments.length ? (endAngle = typeof _2 === "function" ? _2 : constant$2(+_2), pie2) : endAngle;
  };
  pie2.padAngle = function(_2) {
    return arguments.length ? (padAngle = typeof _2 === "function" ? _2 : constant$2(+_2), pie2) : padAngle;
  };
  return pie2;
}
var curveRadialLinear = curveRadial$1(curveLinear);
function Radial(curve) {
  this._curve = curve;
}
Radial.prototype = {
  areaStart: function() {
    this._curve.areaStart();
  },
  areaEnd: function() {
    this._curve.areaEnd();
  },
  lineStart: function() {
    this._curve.lineStart();
  },
  lineEnd: function() {
    this._curve.lineEnd();
  },
  point: function(a2, r) {
    this._curve.point(r * Math.sin(a2), r * -Math.cos(a2));
  }
};
function curveRadial$1(curve) {
  function radial2(context) {
    return new Radial(curve(context));
  }
  radial2._curve = curve;
  return radial2;
}
function lineRadial(l) {
  var c2 = l.curve;
  l.angle = l.x, delete l.x;
  l.radius = l.y, delete l.y;
  l.curve = function(_2) {
    return arguments.length ? c2(curveRadial$1(_2)) : c2()._curve;
  };
  return l;
}
function lineRadial$1() {
  return lineRadial(line().curve(curveRadialLinear));
}
function areaRadial() {
  var a2 = area().curve(curveRadialLinear), c2 = a2.curve, x02 = a2.lineX0, x12 = a2.lineX1, y02 = a2.lineY0, y12 = a2.lineY1;
  a2.angle = a2.x, delete a2.x;
  a2.startAngle = a2.x0, delete a2.x0;
  a2.endAngle = a2.x1, delete a2.x1;
  a2.radius = a2.y, delete a2.y;
  a2.innerRadius = a2.y0, delete a2.y0;
  a2.outerRadius = a2.y1, delete a2.y1;
  a2.lineStartAngle = function() {
    return lineRadial(x02());
  }, delete a2.lineX0;
  a2.lineEndAngle = function() {
    return lineRadial(x12());
  }, delete a2.lineX1;
  a2.lineInnerRadius = function() {
    return lineRadial(y02());
  }, delete a2.lineY0;
  a2.lineOuterRadius = function() {
    return lineRadial(y12());
  }, delete a2.lineY1;
  a2.curve = function(_2) {
    return arguments.length ? c2(curveRadial$1(_2)) : c2()._curve;
  };
  return a2;
}
function pointRadial(x2, y2) {
  return [(y2 = +y2) * Math.cos(x2 -= Math.PI / 2), y2 * Math.sin(x2)];
}
var slice = Array.prototype.slice;
function linkSource(d) {
  return d.source;
}
function linkTarget(d) {
  return d.target;
}
function link(curve) {
  var source = linkSource, target = linkTarget, x2 = x$1, y2 = y$1, context = null;
  function link2() {
    var buffer2, argv = slice.call(arguments), s2 = source.apply(this, argv), t = target.apply(this, argv);
    if (!context)
      context = buffer2 = path();
    curve(context, +x2.apply(this, (argv[0] = s2, argv)), +y2.apply(this, argv), +x2.apply(this, (argv[0] = t, argv)), +y2.apply(this, argv));
    if (buffer2)
      return context = null, buffer2 + "" || null;
  }
  link2.source = function(_2) {
    return arguments.length ? (source = _2, link2) : source;
  };
  link2.target = function(_2) {
    return arguments.length ? (target = _2, link2) : target;
  };
  link2.x = function(_2) {
    return arguments.length ? (x2 = typeof _2 === "function" ? _2 : constant$2(+_2), link2) : x2;
  };
  link2.y = function(_2) {
    return arguments.length ? (y2 = typeof _2 === "function" ? _2 : constant$2(+_2), link2) : y2;
  };
  link2.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, link2) : context;
  };
  return link2;
}
function curveHorizontal(context, x02, y02, x12, y12) {
  context.moveTo(x02, y02);
  context.bezierCurveTo(x02 = (x02 + x12) / 2, y02, x02, y12, x12, y12);
}
function curveVertical(context, x02, y02, x12, y12) {
  context.moveTo(x02, y02);
  context.bezierCurveTo(x02, y02 = (y02 + y12) / 2, x12, y02, x12, y12);
}
function curveRadial(context, x02, y02, x12, y12) {
  var p02 = pointRadial(x02, y02), p1 = pointRadial(x02, y02 = (y02 + y12) / 2), p2 = pointRadial(x12, y02), p3 = pointRadial(x12, y12);
  context.moveTo(p02[0], p02[1]);
  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);
}
function linkHorizontal() {
  return link(curveHorizontal);
}
function linkVertical() {
  return link(curveVertical);
}
function linkRadial() {
  var l = link(curveRadial);
  l.angle = l.x, delete l.x;
  l.radius = l.y, delete l.y;
  return l;
}
const circle = {
  draw: function(context, size) {
    var r = Math.sqrt(size / pi);
    context.moveTo(r, 0);
    context.arc(0, 0, r, 0, tau);
  }
};
const cross = {
  draw: function(context, size) {
    var r = Math.sqrt(size / 5) / 2;
    context.moveTo(-3 * r, -r);
    context.lineTo(-r, -r);
    context.lineTo(-r, -3 * r);
    context.lineTo(r, -3 * r);
    context.lineTo(r, -r);
    context.lineTo(3 * r, -r);
    context.lineTo(3 * r, r);
    context.lineTo(r, r);
    context.lineTo(r, 3 * r);
    context.lineTo(-r, 3 * r);
    context.lineTo(-r, r);
    context.lineTo(-3 * r, r);
    context.closePath();
  }
};
var tan30 = Math.sqrt(1 / 3), tan30_2 = tan30 * 2;
const diamond = {
  draw: function(context, size) {
    var y2 = Math.sqrt(size / tan30_2), x2 = y2 * tan30;
    context.moveTo(0, -y2);
    context.lineTo(x2, 0);
    context.lineTo(0, y2);
    context.lineTo(-x2, 0);
    context.closePath();
  }
};
var ka = 0.8908130915292852, kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10), kx = Math.sin(tau / 10) * kr, ky = -Math.cos(tau / 10) * kr;
const star = {
  draw: function(context, size) {
    var r = Math.sqrt(size * ka), x2 = kx * r, y2 = ky * r;
    context.moveTo(0, -r);
    context.lineTo(x2, y2);
    for (var i = 1; i < 5; ++i) {
      var a2 = tau * i / 5, c2 = Math.cos(a2), s2 = Math.sin(a2);
      context.lineTo(s2 * r, -c2 * r);
      context.lineTo(c2 * x2 - s2 * y2, s2 * x2 + c2 * y2);
    }
    context.closePath();
  }
};
const square = {
  draw: function(context, size) {
    var w = Math.sqrt(size), x2 = -w / 2;
    context.rect(x2, x2, w, w);
  }
};
var sqrt3 = Math.sqrt(3);
const triangle = {
  draw: function(context, size) {
    var y2 = -Math.sqrt(size / (sqrt3 * 3));
    context.moveTo(0, y2 * 2);
    context.lineTo(-sqrt3 * y2, -y2);
    context.lineTo(sqrt3 * y2, -y2);
    context.closePath();
  }
};
var c$1 = -0.5, s = Math.sqrt(3) / 2, k = 1 / Math.sqrt(12), a = (k / 2 + 1) * 3;
const wye = {
  draw: function(context, size) {
    var r = Math.sqrt(size / a), x02 = r / 2, y02 = r * k, x12 = x02, y12 = r * k + r, x2 = -x12, y2 = y12;
    context.moveTo(x02, y02);
    context.lineTo(x12, y12);
    context.lineTo(x2, y2);
    context.lineTo(c$1 * x02 - s * y02, s * x02 + c$1 * y02);
    context.lineTo(c$1 * x12 - s * y12, s * x12 + c$1 * y12);
    context.lineTo(c$1 * x2 - s * y2, s * x2 + c$1 * y2);
    context.lineTo(c$1 * x02 + s * y02, c$1 * y02 - s * x02);
    context.lineTo(c$1 * x12 + s * y12, c$1 * y12 - s * x12);
    context.lineTo(c$1 * x2 + s * y2, c$1 * y2 - s * x2);
    context.closePath();
  }
};
var symbols = [
  circle,
  cross,
  diamond,
  square,
  star,
  triangle,
  wye
];
function symbol() {
  var type2 = constant$2(circle), size = constant$2(64), context = null;
  function symbol2() {
    var buffer2;
    if (!context)
      context = buffer2 = path();
    type2.apply(this, arguments).draw(context, +size.apply(this, arguments));
    if (buffer2)
      return context = null, buffer2 + "" || null;
  }
  symbol2.type = function(_2) {
    return arguments.length ? (type2 = typeof _2 === "function" ? _2 : constant$2(_2), symbol2) : type2;
  };
  symbol2.size = function(_2) {
    return arguments.length ? (size = typeof _2 === "function" ? _2 : constant$2(+_2), symbol2) : size;
  };
  symbol2.context = function(_2) {
    return arguments.length ? (context = _2 == null ? null : _2, symbol2) : context;
  };
  return symbol2;
}
function noop() {
}
function point$3(that, x2, y2) {
  that._context.bezierCurveTo(
    (2 * that._x0 + that._x1) / 3,
    (2 * that._y0 + that._y1) / 3,
    (that._x0 + 2 * that._x1) / 3,
    (that._y0 + 2 * that._y1) / 3,
    (that._x0 + 4 * that._x1 + x2) / 6,
    (that._y0 + 4 * that._y1 + y2) / 6
  );
}
function Basis(context) {
  this._context = context;
}
Basis.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 3:
        point$3(this, this._x1, this._y1);
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
      default:
        point$3(this, x2, y2);
        break;
    }
    this._x0 = this._x1, this._x1 = x2;
    this._y0 = this._y1, this._y1 = y2;
  }
};
function basis(context) {
  return new Basis(context);
}
function BasisClosed(context) {
  this._context = context;
}
BasisClosed.prototype = {
  areaStart: noop,
  areaEnd: noop,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x2, this._y2);
        this._context.closePath();
        break;
      }
      case 2: {
        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);
        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);
        this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x2, this._y2);
        this.point(this._x3, this._y3);
        this.point(this._x4, this._y4);
        break;
      }
    }
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._x2 = x2, this._y2 = y2;
        break;
      case 1:
        this._point = 2;
        this._x3 = x2, this._y3 = y2;
        break;
      case 2:
        this._point = 3;
        this._x4 = x2, this._y4 = y2;
        this._context.moveTo((this._x0 + 4 * this._x1 + x2) / 6, (this._y0 + 4 * this._y1 + y2) / 6);
        break;
      default:
        point$3(this, x2, y2);
        break;
    }
    this._x0 = this._x1, this._x1 = x2;
    this._y0 = this._y1, this._y1 = y2;
  }
};
function basisClosed(context) {
  return new BasisClosed(context);
}
function BasisOpen(context) {
  this._context = context;
}
BasisOpen.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 3)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        var x02 = (this._x0 + 4 * this._x1 + x2) / 6, y02 = (this._y0 + 4 * this._y1 + y2) / 6;
        this._line ? this._context.lineTo(x02, y02) : this._context.moveTo(x02, y02);
        break;
      case 3:
        this._point = 4;
      default:
        point$3(this, x2, y2);
        break;
    }
    this._x0 = this._x1, this._x1 = x2;
    this._y0 = this._y1, this._y1 = y2;
  }
};
function basisOpen(context) {
  return new BasisOpen(context);
}
function Bundle(context, beta2) {
  this._basis = new Basis(context);
  this._beta = beta2;
}
Bundle.prototype = {
  lineStart: function() {
    this._x = [];
    this._y = [];
    this._basis.lineStart();
  },
  lineEnd: function() {
    var x2 = this._x, y2 = this._y, j = x2.length - 1;
    if (j > 0) {
      var x02 = x2[0], y02 = y2[0], dx = x2[j] - x02, dy = y2[j] - y02, i = -1, t;
      while (++i <= j) {
        t = i / j;
        this._basis.point(
          this._beta * x2[i] + (1 - this._beta) * (x02 + t * dx),
          this._beta * y2[i] + (1 - this._beta) * (y02 + t * dy)
        );
      }
    }
    this._x = this._y = null;
    this._basis.lineEnd();
  },
  point: function(x2, y2) {
    this._x.push(+x2);
    this._y.push(+y2);
  }
};
const bundle = function custom21(beta2) {
  function bundle2(context) {
    return beta2 === 1 ? new Basis(context) : new Bundle(context, beta2);
  }
  bundle2.beta = function(beta3) {
    return custom21(+beta3);
  };
  return bundle2;
}(0.85);
function point$2(that, x2, y2) {
  that._context.bezierCurveTo(
    that._x1 + that._k * (that._x2 - that._x0),
    that._y1 + that._k * (that._y2 - that._y0),
    that._x2 + that._k * (that._x1 - x2),
    that._y2 + that._k * (that._y1 - y2),
    that._x2,
    that._y2
  );
}
function Cardinal(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
Cardinal.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x2, this._y2);
        break;
      case 3:
        point$2(this, this._x1, this._y1);
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);
        break;
      case 1:
        this._point = 2;
        this._x1 = x2, this._y1 = y2;
        break;
      case 2:
        this._point = 3;
      default:
        point$2(this, x2, y2);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;
  }
};
const cardinal = function custom22(tension) {
  function cardinal2(context) {
    return new Cardinal(context, tension);
  }
  cardinal2.tension = function(tension2) {
    return custom22(+tension2);
  };
  return cardinal2;
}(0);
function CardinalClosed(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
CardinalClosed.prototype = {
  areaStart: noop,
  areaEnd: noop,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 2: {
        this._context.lineTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x3, this._y3);
        this.point(this._x4, this._y4);
        this.point(this._x5, this._y5);
        break;
      }
    }
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._x3 = x2, this._y3 = y2;
        break;
      case 1:
        this._point = 2;
        this._context.moveTo(this._x4 = x2, this._y4 = y2);
        break;
      case 2:
        this._point = 3;
        this._x5 = x2, this._y5 = y2;
        break;
      default:
        point$2(this, x2, y2);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;
  }
};
const cardinalClosed = function custom23(tension) {
  function cardinal2(context) {
    return new CardinalClosed(context, tension);
  }
  cardinal2.tension = function(tension2) {
    return custom23(+tension2);
  };
  return cardinal2;
}(0);
function CardinalOpen(context, tension) {
  this._context = context;
  this._k = (1 - tension) / 6;
}
CardinalOpen.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 3)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
        break;
      case 3:
        this._point = 4;
      default:
        point$2(this, x2, y2);
        break;
    }
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;
  }
};
const cardinalOpen = function custom24(tension) {
  function cardinal2(context) {
    return new CardinalOpen(context, tension);
  }
  cardinal2.tension = function(tension2) {
    return custom24(+tension2);
  };
  return cardinal2;
}(0);
function point$1(that, x2, y2) {
  var x12 = that._x1, y12 = that._y1, x22 = that._x2, y22 = that._y2;
  if (that._l01_a > epsilon$1) {
    var a2 = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a, n = 3 * that._l01_a * (that._l01_a + that._l12_a);
    x12 = (x12 * a2 - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;
    y12 = (y12 * a2 - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;
  }
  if (that._l23_a > epsilon$1) {
    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a, m = 3 * that._l23_a * (that._l23_a + that._l12_a);
    x22 = (x22 * b + that._x1 * that._l23_2a - x2 * that._l12_2a) / m;
    y22 = (y22 * b + that._y1 * that._l23_2a - y2 * that._l12_2a) / m;
  }
  that._context.bezierCurveTo(x12, y12, x22, y22, that._x2, that._y2);
}
function CatmullRom(context, alpha2) {
  this._context = context;
  this._alpha = alpha2;
}
CatmullRom.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x2, this._y2);
        break;
      case 3:
        this.point(this._x2, this._y2);
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    if (this._point) {
      var x23 = this._x2 - x2, y23 = this._y2 - y2;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
      default:
        point$1(this, x2, y2);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a;
    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;
  }
};
const catmullRom = function custom25(alpha2) {
  function catmullRom2(context) {
    return alpha2 ? new CatmullRom(context, alpha2) : new Cardinal(context, 0);
  }
  catmullRom2.alpha = function(alpha3) {
    return custom25(+alpha3);
  };
  return catmullRom2;
}(0.5);
function CatmullRomClosed(context, alpha2) {
  this._context = context;
  this._alpha = alpha2;
}
CatmullRomClosed.prototype = {
  areaStart: noop,
  areaEnd: noop,
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;
    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 1: {
        this._context.moveTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 2: {
        this._context.lineTo(this._x3, this._y3);
        this._context.closePath();
        break;
      }
      case 3: {
        this.point(this._x3, this._y3);
        this.point(this._x4, this._y4);
        this.point(this._x5, this._y5);
        break;
      }
    }
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    if (this._point) {
      var x23 = this._x2 - x2, y23 = this._y2 - y2;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1;
        this._x3 = x2, this._y3 = y2;
        break;
      case 1:
        this._point = 2;
        this._context.moveTo(this._x4 = x2, this._y4 = y2);
        break;
      case 2:
        this._point = 3;
        this._x5 = x2, this._y5 = y2;
        break;
      default:
        point$1(this, x2, y2);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a;
    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;
  }
};
const catmullRomClosed = function custom26(alpha2) {
  function catmullRom2(context) {
    return alpha2 ? new CatmullRomClosed(context, alpha2) : new CardinalClosed(context, 0);
  }
  catmullRom2.alpha = function(alpha3) {
    return custom26(+alpha3);
  };
  return catmullRom2;
}(0.5);
function CatmullRomOpen(context, alpha2) {
  this._context = context;
  this._alpha = alpha2;
}
CatmullRomOpen.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;
    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;
  },
  lineEnd: function() {
    if (this._line || this._line !== 0 && this._point === 3)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    if (this._point) {
      var x23 = this._x2 - x2, y23 = this._y2 - y2;
      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));
    }
    switch (this._point) {
      case 0:
        this._point = 1;
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);
        break;
      case 3:
        this._point = 4;
      default:
        point$1(this, x2, y2);
        break;
    }
    this._l01_a = this._l12_a, this._l12_a = this._l23_a;
    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;
    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;
    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;
  }
};
const catmullRomOpen = function custom27(alpha2) {
  function catmullRom2(context) {
    return alpha2 ? new CatmullRomOpen(context, alpha2) : new CardinalOpen(context, 0);
  }
  catmullRom2.alpha = function(alpha3) {
    return custom27(+alpha3);
  };
  return catmullRom2;
}(0.5);
function LinearClosed(context) {
  this._context = context;
}
LinearClosed.prototype = {
  areaStart: noop,
  areaEnd: noop,
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    if (this._point)
      this._context.closePath();
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    if (this._point)
      this._context.lineTo(x2, y2);
    else
      this._point = 1, this._context.moveTo(x2, y2);
  }
};
function linearClosed(context) {
  return new LinearClosed(context);
}
function sign(x2) {
  return x2 < 0 ? -1 : 1;
}
function slope3(that, x2, y2) {
  var h0 = that._x1 - that._x0, h1 = x2 - that._x1, s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0), s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0), p = (s0 * h1 + s1 * h0) / (h0 + h1);
  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;
}
function slope2(that, t) {
  var h = that._x1 - that._x0;
  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;
}
function point(that, t02, t12) {
  var x02 = that._x0, y02 = that._y0, x12 = that._x1, y12 = that._y1, dx = (x12 - x02) / 3;
  that._context.bezierCurveTo(x02 + dx, y02 + dx * t02, x12 - dx, y12 - dx * t12, x12, y12);
}
function MonotoneX(context) {
  this._context = context;
}
MonotoneX.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    switch (this._point) {
      case 2:
        this._context.lineTo(this._x1, this._y1);
        break;
      case 3:
        point(this, this._t0, slope2(this, this._t0));
        break;
    }
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    var t12 = NaN;
    x2 = +x2, y2 = +y2;
    if (x2 === this._x1 && y2 === this._y1)
      return;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);
        break;
      case 1:
        this._point = 2;
        break;
      case 2:
        this._point = 3;
        point(this, slope2(this, t12 = slope3(this, x2, y2)), t12);
        break;
      default:
        point(this, this._t0, t12 = slope3(this, x2, y2));
        break;
    }
    this._x0 = this._x1, this._x1 = x2;
    this._y0 = this._y1, this._y1 = y2;
    this._t0 = t12;
  }
};
function MonotoneY(context) {
  this._context = new ReflectContext(context);
}
(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x2, y2) {
  MonotoneX.prototype.point.call(this, y2, x2);
};
function ReflectContext(context) {
  this._context = context;
}
ReflectContext.prototype = {
  moveTo: function(x2, y2) {
    this._context.moveTo(y2, x2);
  },
  closePath: function() {
    this._context.closePath();
  },
  lineTo: function(x2, y2) {
    this._context.lineTo(y2, x2);
  },
  bezierCurveTo: function(x12, y12, x2, y2, x3, y3) {
    this._context.bezierCurveTo(y12, x12, y2, x2, y3, x3);
  }
};
function monotoneX(context) {
  return new MonotoneX(context);
}
function monotoneY(context) {
  return new MonotoneY(context);
}
function Natural(context) {
  this._context = context;
}
Natural.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = [];
    this._y = [];
  },
  lineEnd: function() {
    var x2 = this._x, y2 = this._y, n = x2.length;
    if (n) {
      this._line ? this._context.lineTo(x2[0], y2[0]) : this._context.moveTo(x2[0], y2[0]);
      if (n === 2) {
        this._context.lineTo(x2[1], y2[1]);
      } else {
        var px = controlPoints(x2), py = controlPoints(y2);
        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {
          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x2[i1], y2[i1]);
        }
      }
    }
    if (this._line || this._line !== 0 && n === 1)
      this._context.closePath();
    this._line = 1 - this._line;
    this._x = this._y = null;
  },
  point: function(x2, y2) {
    this._x.push(+x2);
    this._y.push(+y2);
  }
};
function controlPoints(x2) {
  var i, n = x2.length - 1, m, a2 = new Array(n), b = new Array(n), r = new Array(n);
  a2[0] = 0, b[0] = 2, r[0] = x2[0] + 2 * x2[1];
  for (i = 1; i < n - 1; ++i)
    a2[i] = 1, b[i] = 4, r[i] = 4 * x2[i] + 2 * x2[i + 1];
  a2[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x2[n - 1] + x2[n];
  for (i = 1; i < n; ++i)
    m = a2[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];
  a2[n - 1] = r[n - 1] / b[n - 1];
  for (i = n - 2; i >= 0; --i)
    a2[i] = (r[i] - a2[i + 1]) / b[i];
  b[n - 1] = (x2[n] + a2[n - 1]) / 2;
  for (i = 0; i < n - 1; ++i)
    b[i] = 2 * x2[i + 1] - a2[i + 1];
  return [a2, b];
}
function natural(context) {
  return new Natural(context);
}
function Step(context, t) {
  this._context = context;
  this._t = t;
}
Step.prototype = {
  areaStart: function() {
    this._line = 0;
  },
  areaEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._x = this._y = NaN;
    this._point = 0;
  },
  lineEnd: function() {
    if (0 < this._t && this._t < 1 && this._point === 2)
      this._context.lineTo(this._x, this._y);
    if (this._line || this._line !== 0 && this._point === 1)
      this._context.closePath();
    if (this._line >= 0)
      this._t = 1 - this._t, this._line = 1 - this._line;
  },
  point: function(x2, y2) {
    x2 = +x2, y2 = +y2;
    switch (this._point) {
      case 0:
        this._point = 1;
        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);
        break;
      case 1:
        this._point = 2;
      default: {
        if (this._t <= 0) {
          this._context.lineTo(this._x, y2);
          this._context.lineTo(x2, y2);
        } else {
          var x12 = this._x * (1 - this._t) + x2 * this._t;
          this._context.lineTo(x12, this._y);
          this._context.lineTo(x12, y2);
        }
        break;
      }
    }
    this._x = x2, this._y = y2;
  }
};
function step(context) {
  return new Step(context, 0.5);
}
function stepBefore(context) {
  return new Step(context, 0);
}
function stepAfter(context) {
  return new Step(context, 1);
}
function none$1(series, order) {
  if (!((n = series.length) > 1))
    return;
  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {
    s0 = s1, s1 = series[order[i]];
    for (j = 0; j < m; ++j) {
      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];
    }
  }
}
function none(series) {
  var n = series.length, o = new Array(n);
  while (--n >= 0)
    o[n] = n;
  return o;
}
function stackValue(d, key) {
  return d[key];
}
function stack() {
  var keys2 = constant$2([]), order = none, offset = none$1, value = stackValue;
  function stack2(data) {
    var kz = keys2.apply(this, arguments), i, m = data.length, n = kz.length, sz = new Array(n), oz;
    for (i = 0; i < n; ++i) {
      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {
        si[j] = sij = [0, +value(data[j], ki, j, data)];
        sij.data = data[j];
      }
      si.key = ki;
    }
    for (i = 0, oz = order(sz); i < n; ++i) {
      sz[oz[i]].index = i;
    }
    offset(sz, oz);
    return sz;
  }
  stack2.keys = function(_2) {
    return arguments.length ? (keys2 = typeof _2 === "function" ? _2 : constant$2(slice.call(_2)), stack2) : keys2;
  };
  stack2.value = function(_2) {
    return arguments.length ? (value = typeof _2 === "function" ? _2 : constant$2(+_2), stack2) : value;
  };
  stack2.order = function(_2) {
    return arguments.length ? (order = _2 == null ? none : typeof _2 === "function" ? _2 : constant$2(slice.call(_2)), stack2) : order;
  };
  stack2.offset = function(_2) {
    return arguments.length ? (offset = _2 == null ? none$1 : _2, stack2) : offset;
  };
  return stack2;
}
function expand(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var i, n, j = 0, m = series[0].length, y2; j < m; ++j) {
    for (y2 = i = 0; i < n; ++i)
      y2 += series[i][j][1] || 0;
    if (y2)
      for (i = 0; i < n; ++i)
        series[i][j][1] /= y2;
  }
  none$1(series, order);
}
function diverging(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {
    for (yp = yn = 0, i = 0; i < n; ++i) {
      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {
        d[0] = yp, d[1] = yp += dy;
      } else if (dy < 0) {
        d[1] = yn, d[0] = yn += dy;
      } else {
        d[0] = 0, d[1] = dy;
      }
    }
  }
}
function silhouette(series, order) {
  if (!((n = series.length) > 0))
    return;
  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {
    for (var i = 0, y2 = 0; i < n; ++i)
      y2 += series[i][j][1] || 0;
    s0[j][1] += s0[j][0] = -y2 / 2;
  }
  none$1(series, order);
}
function wiggle(series, order) {
  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0))
    return;
  for (var y2 = 0, j = 1, s0, m, n; j < m; ++j) {
    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {
      var si = series[order[i]], sij0 = si[j][1] || 0, sij1 = si[j - 1][1] || 0, s3 = (sij0 - sij1) / 2;
      for (var k2 = 0; k2 < i; ++k2) {
        var sk = series[order[k2]], skj0 = sk[j][1] || 0, skj1 = sk[j - 1][1] || 0;
        s3 += skj0 - skj1;
      }
      s1 += sij0, s2 += s3 * sij0;
    }
    s0[j - 1][1] += s0[j - 1][0] = y2;
    if (s1)
      y2 -= s2 / s1;
  }
  s0[j - 1][1] += s0[j - 1][0] = y2;
  none$1(series, order);
}
function appearance(series) {
  var peaks = series.map(peak);
  return none(series).sort(function(a2, b) {
    return peaks[a2] - peaks[b];
  });
}
function peak(series) {
  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;
  while (++i < n)
    if ((vi = +series[i][1]) > vj)
      vj = vi, j = i;
  return j;
}
function ascending(series) {
  var sums = series.map(sum);
  return none(series).sort(function(a2, b) {
    return sums[a2] - sums[b];
  });
}
function sum(series) {
  var s2 = 0, i = -1, n = series.length, v;
  while (++i < n)
    if (v = +series[i][1])
      s2 += v;
  return s2;
}
function descending(series) {
  return ascending(series).reverse();
}
function insideOut(series) {
  var n = series.length, i, j, sums = series.map(sum), order = appearance(series), top2 = 0, bottom2 = 0, tops = [], bottoms = [];
  for (i = 0; i < n; ++i) {
    j = order[i];
    if (top2 < bottom2) {
      top2 += sums[j];
      tops.push(j);
    } else {
      bottom2 += sums[j];
      bottoms.push(j);
    }
  }
  return bottoms.reverse().concat(tops);
}
function reverse(series) {
  return none(series).reverse();
}
function constant$1(x2) {
  return function() {
    return x2;
  };
}
function x(d) {
  return d[0];
}
function y(d) {
  return d[1];
}
function RedBlackTree() {
  this._ = null;
}
function RedBlackNode(node) {
  node.U = node.C = node.L = node.R = node.P = node.N = null;
}
RedBlackTree.prototype = {
  constructor: RedBlackTree,
  insert: function(after, node) {
    var parent, grandpa, uncle;
    if (after) {
      node.P = after;
      node.N = after.N;
      if (after.N)
        after.N.P = node;
      after.N = node;
      if (after.R) {
        after = after.R;
        while (after.L)
          after = after.L;
        after.L = node;
      } else {
        after.R = node;
      }
      parent = after;
    } else if (this._) {
      after = RedBlackFirst(this._);
      node.P = null;
      node.N = after;
      after.P = after.L = node;
      parent = after;
    } else {
      node.P = node.N = null;
      this._ = node;
      parent = null;
    }
    node.L = node.R = null;
    node.U = parent;
    node.C = true;
    after = node;
    while (parent && parent.C) {
      grandpa = parent.U;
      if (parent === grandpa.L) {
        uncle = grandpa.R;
        if (uncle && uncle.C) {
          parent.C = uncle.C = false;
          grandpa.C = true;
          after = grandpa;
        } else {
          if (after === parent.R) {
            RedBlackRotateLeft(this, parent);
            after = parent;
            parent = after.U;
          }
          parent.C = false;
          grandpa.C = true;
          RedBlackRotateRight(this, grandpa);
        }
      } else {
        uncle = grandpa.L;
        if (uncle && uncle.C) {
          parent.C = uncle.C = false;
          grandpa.C = true;
          after = grandpa;
        } else {
          if (after === parent.L) {
            RedBlackRotateRight(this, parent);
            after = parent;
            parent = after.U;
          }
          parent.C = false;
          grandpa.C = true;
          RedBlackRotateLeft(this, grandpa);
        }
      }
      parent = after.U;
    }
    this._.C = false;
  },
  remove: function(node) {
    if (node.N)
      node.N.P = node.P;
    if (node.P)
      node.P.N = node.N;
    node.N = node.P = null;
    var parent = node.U, sibling, left2 = node.L, right2 = node.R, next, red2;
    if (!left2)
      next = right2;
    else if (!right2)
      next = left2;
    else
      next = RedBlackFirst(right2);
    if (parent) {
      if (parent.L === node)
        parent.L = next;
      else
        parent.R = next;
    } else {
      this._ = next;
    }
    if (left2 && right2) {
      red2 = next.C;
      next.C = node.C;
      next.L = left2;
      left2.U = next;
      if (next !== right2) {
        parent = next.U;
        next.U = node.U;
        node = next.R;
        parent.L = node;
        next.R = right2;
        right2.U = next;
      } else {
        next.U = parent;
        parent = next;
        node = next.R;
      }
    } else {
      red2 = node.C;
      node = next;
    }
    if (node)
      node.U = parent;
    if (red2)
      return;
    if (node && node.C) {
      node.C = false;
      return;
    }
    do {
      if (node === this._)
        break;
      if (node === parent.L) {
        sibling = parent.R;
        if (sibling.C) {
          sibling.C = false;
          parent.C = true;
          RedBlackRotateLeft(this, parent);
          sibling = parent.R;
        }
        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {
          if (!sibling.R || !sibling.R.C) {
            sibling.L.C = false;
            sibling.C = true;
            RedBlackRotateRight(this, sibling);
            sibling = parent.R;
          }
          sibling.C = parent.C;
          parent.C = sibling.R.C = false;
          RedBlackRotateLeft(this, parent);
          node = this._;
          break;
        }
      } else {
        sibling = parent.L;
        if (sibling.C) {
          sibling.C = false;
          parent.C = true;
          RedBlackRotateRight(this, parent);
          sibling = parent.L;
        }
        if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {
          if (!sibling.L || !sibling.L.C) {
            sibling.R.C = false;
            sibling.C = true;
            RedBlackRotateLeft(this, sibling);
            sibling = parent.L;
          }
          sibling.C = parent.C;
          parent.C = sibling.L.C = false;
          RedBlackRotateRight(this, parent);
          node = this._;
          break;
        }
      }
      sibling.C = true;
      node = parent;
      parent = parent.U;
    } while (!node.C);
    if (node)
      node.C = false;
  }
};
function RedBlackRotateLeft(tree2, node) {
  var p = node, q = node.R, parent = p.U;
  if (parent) {
    if (parent.L === p)
      parent.L = q;
    else
      parent.R = q;
  } else {
    tree2._ = q;
  }
  q.U = parent;
  p.U = q;
  p.R = q.L;
  if (p.R)
    p.R.U = p;
  q.L = p;
}
function RedBlackRotateRight(tree2, node) {
  var p = node, q = node.L, parent = p.U;
  if (parent) {
    if (parent.L === p)
      parent.L = q;
    else
      parent.R = q;
  } else {
    tree2._ = q;
  }
  q.U = parent;
  p.U = q;
  p.L = q.R;
  if (p.L)
    p.L.U = p;
  q.R = p;
}
function RedBlackFirst(node) {
  while (node.L)
    node = node.L;
  return node;
}
function createEdge(left2, right2, v0, v1) {
  var edge = [null, null], index2 = edges.push(edge) - 1;
  edge.left = left2;
  edge.right = right2;
  if (v0)
    setEdgeEnd(edge, left2, right2, v0);
  if (v1)
    setEdgeEnd(edge, right2, left2, v1);
  cells[left2.index].halfedges.push(index2);
  cells[right2.index].halfedges.push(index2);
  return edge;
}
function createBorderEdge(left2, v0, v1) {
  var edge = [v0, v1];
  edge.left = left2;
  return edge;
}
function setEdgeEnd(edge, left2, right2, vertex) {
  if (!edge[0] && !edge[1]) {
    edge[0] = vertex;
    edge.left = left2;
    edge.right = right2;
  } else if (edge.left === right2) {
    edge[1] = vertex;
  } else {
    edge[0] = vertex;
  }
}
function clipEdge(edge, x02, y02, x12, y12) {
  var a2 = edge[0], b = edge[1], ax = a2[0], ay = a2[1], bx = b[0], by = b[1], t02 = 0, t12 = 1, dx = bx - ax, dy = by - ay, r;
  r = x02 - ax;
  if (!dx && r > 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  } else if (dx > 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  }
  r = x12 - ax;
  if (!dx && r < 0)
    return;
  r /= dx;
  if (dx < 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  } else if (dx > 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  }
  r = y02 - ay;
  if (!dy && r > 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  } else if (dy > 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  }
  r = y12 - ay;
  if (!dy && r < 0)
    return;
  r /= dy;
  if (dy < 0) {
    if (r > t12)
      return;
    if (r > t02)
      t02 = r;
  } else if (dy > 0) {
    if (r < t02)
      return;
    if (r < t12)
      t12 = r;
  }
  if (!(t02 > 0) && !(t12 < 1))
    return true;
  if (t02 > 0)
    edge[0] = [ax + t02 * dx, ay + t02 * dy];
  if (t12 < 1)
    edge[1] = [ax + t12 * dx, ay + t12 * dy];
  return true;
}
function connectEdge(edge, x02, y02, x12, y12) {
  var v1 = edge[1];
  if (v1)
    return true;
  var v0 = edge[0], left2 = edge.left, right2 = edge.right, lx = left2[0], ly = left2[1], rx = right2[0], ry = right2[1], fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;
  if (ry === ly) {
    if (fx < x02 || fx >= x12)
      return;
    if (lx > rx) {
      if (!v0)
        v0 = [fx, y02];
      else if (v0[1] >= y12)
        return;
      v1 = [fx, y12];
    } else {
      if (!v0)
        v0 = [fx, y12];
      else if (v0[1] < y02)
        return;
      v1 = [fx, y02];
    }
  } else {
    fm = (lx - rx) / (ry - ly);
    fb = fy - fm * fx;
    if (fm < -1 || fm > 1) {
      if (lx > rx) {
        if (!v0)
          v0 = [(y02 - fb) / fm, y02];
        else if (v0[1] >= y12)
          return;
        v1 = [(y12 - fb) / fm, y12];
      } else {
        if (!v0)
          v0 = [(y12 - fb) / fm, y12];
        else if (v0[1] < y02)
          return;
        v1 = [(y02 - fb) / fm, y02];
      }
    } else {
      if (ly < ry) {
        if (!v0)
          v0 = [x02, fm * x02 + fb];
        else if (v0[0] >= x12)
          return;
        v1 = [x12, fm * x12 + fb];
      } else {
        if (!v0)
          v0 = [x12, fm * x12 + fb];
        else if (v0[0] < x02)
          return;
        v1 = [x02, fm * x02 + fb];
      }
    }
  }
  edge[0] = v0;
  edge[1] = v1;
  return true;
}
function clipEdges(x02, y02, x12, y12) {
  var i = edges.length, edge;
  while (i--) {
    if (!connectEdge(edge = edges[i], x02, y02, x12, y12) || !clipEdge(edge, x02, y02, x12, y12) || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {
      delete edges[i];
    }
  }
}
function createCell(site) {
  return cells[site.index] = {
    site,
    halfedges: []
  };
}
function cellHalfedgeAngle(cell, edge) {
  var site = cell.site, va = edge.left, vb = edge.right;
  if (site === vb)
    vb = va, va = site;
  if (vb)
    return Math.atan2(vb[1] - va[1], vb[0] - va[0]);
  if (site === va)
    va = edge[1], vb = edge[0];
  else
    va = edge[0], vb = edge[1];
  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);
}
function cellHalfedgeStart(cell, edge) {
  return edge[+(edge.left !== cell.site)];
}
function cellHalfedgeEnd(cell, edge) {
  return edge[+(edge.left === cell.site)];
}
function sortCellHalfedges() {
  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {
    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {
      var index2 = new Array(m), array2 = new Array(m);
      for (j = 0; j < m; ++j)
        index2[j] = j, array2[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);
      index2.sort(function(i2, j2) {
        return array2[j2] - array2[i2];
      });
      for (j = 0; j < m; ++j)
        array2[j] = halfedges[index2[j]];
      for (j = 0; j < m; ++j)
        halfedges[j] = array2[j];
    }
  }
}
function clipCells(x02, y02, x12, y12) {
  var nCells = cells.length, iCell, cell, site, iHalfedge, halfedges, nHalfedges, start2, startX, startY, end, endX, endY, cover = true;
  for (iCell = 0; iCell < nCells; ++iCell) {
    if (cell = cells[iCell]) {
      site = cell.site;
      halfedges = cell.halfedges;
      iHalfedge = halfedges.length;
      while (iHalfedge--) {
        if (!edges[halfedges[iHalfedge]]) {
          halfedges.splice(iHalfedge, 1);
        }
      }
      iHalfedge = 0, nHalfedges = halfedges.length;
      while (iHalfedge < nHalfedges) {
        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];
        start2 = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start2[0], startY = start2[1];
        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {
          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(
            site,
            end,
            Math.abs(endX - x02) < epsilon && y12 - endY > epsilon ? [x02, Math.abs(startX - x02) < epsilon ? startY : y12] : Math.abs(endY - y12) < epsilon && x12 - endX > epsilon ? [Math.abs(startY - y12) < epsilon ? startX : x12, y12] : Math.abs(endX - x12) < epsilon && endY - y02 > epsilon ? [x12, Math.abs(startX - x12) < epsilon ? startY : y02] : Math.abs(endY - y02) < epsilon && endX - x02 > epsilon ? [Math.abs(startY - y02) < epsilon ? startX : x02, y02] : null
          )) - 1);
          ++nHalfedges;
        }
      }
      if (nHalfedges)
        cover = false;
    }
  }
  if (cover) {
    var dx, dy, d2, dc = Infinity;
    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {
      if (cell = cells[iCell]) {
        site = cell.site;
        dx = site[0] - x02;
        dy = site[1] - y02;
        d2 = dx * dx + dy * dy;
        if (d2 < dc)
          dc = d2, cover = cell;
      }
    }
    if (cover) {
      var v00 = [x02, y02], v01 = [x02, y12], v11 = [x12, y12], v10 = [x12, y02];
      cover.halfedges.push(
        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,
        edges.push(createBorderEdge(site, v01, v11)) - 1,
        edges.push(createBorderEdge(site, v11, v10)) - 1,
        edges.push(createBorderEdge(site, v10, v00)) - 1
      );
    }
  }
  for (iCell = 0; iCell < nCells; ++iCell) {
    if (cell = cells[iCell]) {
      if (!cell.halfedges.length) {
        delete cells[iCell];
      }
    }
  }
}
var circlePool = [];
var firstCircle;
function Circle() {
  RedBlackNode(this);
  this.x = this.y = this.arc = this.site = this.cy = null;
}
function attachCircle(arc2) {
  var lArc = arc2.P, rArc = arc2.N;
  if (!lArc || !rArc)
    return;
  var lSite = lArc.site, cSite = arc2.site, rSite = rArc.site;
  if (lSite === rSite)
    return;
  var bx = cSite[0], by = cSite[1], ax = lSite[0] - bx, ay = lSite[1] - by, cx = rSite[0] - bx, cy = rSite[1] - by;
  var d = 2 * (ax * cy - ay * cx);
  if (d >= -epsilon2)
    return;
  var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x2 = (cy * ha - ay * hc) / d, y2 = (ax * hc - cx * ha) / d;
  var circle2 = circlePool.pop() || new Circle();
  circle2.arc = arc2;
  circle2.site = cSite;
  circle2.x = x2 + bx;
  circle2.y = (circle2.cy = y2 + by) + Math.sqrt(x2 * x2 + y2 * y2);
  arc2.circle = circle2;
  var before = null, node = circles._;
  while (node) {
    if (circle2.y < node.y || circle2.y === node.y && circle2.x <= node.x) {
      if (node.L)
        node = node.L;
      else {
        before = node.P;
        break;
      }
    } else {
      if (node.R)
        node = node.R;
      else {
        before = node;
        break;
      }
    }
  }
  circles.insert(before, circle2);
  if (!before)
    firstCircle = circle2;
}
function detachCircle(arc2) {
  var circle2 = arc2.circle;
  if (circle2) {
    if (!circle2.P)
      firstCircle = circle2.N;
    circles.remove(circle2);
    circlePool.push(circle2);
    RedBlackNode(circle2);
    arc2.circle = null;
  }
}
var beachPool = [];
function Beach() {
  RedBlackNode(this);
  this.edge = this.site = this.circle = null;
}
function createBeach(site) {
  var beach = beachPool.pop() || new Beach();
  beach.site = site;
  return beach;
}
function detachBeach(beach) {
  detachCircle(beach);
  beaches.remove(beach);
  beachPool.push(beach);
  RedBlackNode(beach);
}
function removeBeach(beach) {
  var circle2 = beach.circle, x2 = circle2.x, y2 = circle2.cy, vertex = [x2, y2], previous = beach.P, next = beach.N, disappearing = [beach];
  detachBeach(beach);
  var lArc = previous;
  while (lArc.circle && Math.abs(x2 - lArc.circle.x) < epsilon && Math.abs(y2 - lArc.circle.cy) < epsilon) {
    previous = lArc.P;
    disappearing.unshift(lArc);
    detachBeach(lArc);
    lArc = previous;
  }
  disappearing.unshift(lArc);
  detachCircle(lArc);
  var rArc = next;
  while (rArc.circle && Math.abs(x2 - rArc.circle.x) < epsilon && Math.abs(y2 - rArc.circle.cy) < epsilon) {
    next = rArc.N;
    disappearing.push(rArc);
    detachBeach(rArc);
    rArc = next;
  }
  disappearing.push(rArc);
  detachCircle(rArc);
  var nArcs = disappearing.length, iArc;
  for (iArc = 1; iArc < nArcs; ++iArc) {
    rArc = disappearing[iArc];
    lArc = disappearing[iArc - 1];
    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);
  }
  lArc = disappearing[0];
  rArc = disappearing[nArcs - 1];
  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);
  attachCircle(lArc);
  attachCircle(rArc);
}
function addBeach(site) {
  var x2 = site[0], directrix = site[1], lArc, rArc, dxl, dxr, node = beaches._;
  while (node) {
    dxl = leftBreakPoint(node, directrix) - x2;
    if (dxl > epsilon)
      node = node.L;
    else {
      dxr = x2 - rightBreakPoint(node, directrix);
      if (dxr > epsilon) {
        if (!node.R) {
          lArc = node;
          break;
        }
        node = node.R;
      } else {
        if (dxl > -epsilon) {
          lArc = node.P;
          rArc = node;
        } else if (dxr > -epsilon) {
          lArc = node;
          rArc = node.N;
        } else {
          lArc = rArc = node;
        }
        break;
      }
    }
  }
  createCell(site);
  var newArc = createBeach(site);
  beaches.insert(lArc, newArc);
  if (!lArc && !rArc)
    return;
  if (lArc === rArc) {
    detachCircle(lArc);
    rArc = createBeach(lArc.site);
    beaches.insert(newArc, rArc);
    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);
    attachCircle(lArc);
    attachCircle(rArc);
    return;
  }
  if (!rArc) {
    newArc.edge = createEdge(lArc.site, newArc.site);
    return;
  }
  detachCircle(lArc);
  detachCircle(rArc);
  var lSite = lArc.site, ax = lSite[0], ay = lSite[1], bx = site[0] - ax, by = site[1] - ay, rSite = rArc.site, cx = rSite[0] - ax, cy = rSite[1] - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];
  setEdgeEnd(rArc.edge, lSite, rSite, vertex);
  newArc.edge = createEdge(lSite, site, null, vertex);
  rArc.edge = createEdge(site, rSite, null, vertex);
  attachCircle(lArc);
  attachCircle(rArc);
}
function leftBreakPoint(arc2, directrix) {
  var site = arc2.site, rfocx = site[0], rfocy = site[1], pby2 = rfocy - directrix;
  if (!pby2)
    return rfocx;
  var lArc = arc2.P;
  if (!lArc)
    return -Infinity;
  site = lArc.site;
  var lfocx = site[0], lfocy = site[1], plby2 = lfocy - directrix;
  if (!plby2)
    return lfocx;
  var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;
  if (aby2)
    return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;
  return (rfocx + lfocx) / 2;
}
function rightBreakPoint(arc2, directrix) {
  var rArc = arc2.N;
  if (rArc)
    return leftBreakPoint(rArc, directrix);
  var site = arc2.site;
  return site[1] === directrix ? site[0] : Infinity;
}
var epsilon = 1e-6;
var epsilon2 = 1e-12;
var beaches;
var cells;
var circles;
var edges;
function triangleArea(a2, b, c2) {
  return (a2[0] - c2[0]) * (b[1] - a2[1]) - (a2[0] - b[0]) * (c2[1] - a2[1]);
}
function lexicographic(a2, b) {
  return b[1] - a2[1] || b[0] - a2[0];
}
function Diagram(sites, extent2) {
  var site = sites.sort(lexicographic).pop(), x2, y2, circle2;
  edges = [];
  cells = new Array(sites.length);
  beaches = new RedBlackTree();
  circles = new RedBlackTree();
  while (true) {
    circle2 = firstCircle;
    if (site && (!circle2 || site[1] < circle2.y || site[1] === circle2.y && site[0] < circle2.x)) {
      if (site[0] !== x2 || site[1] !== y2) {
        addBeach(site);
        x2 = site[0], y2 = site[1];
      }
      site = sites.pop();
    } else if (circle2) {
      removeBeach(circle2.arc);
    } else {
      break;
    }
  }
  sortCellHalfedges();
  if (extent2) {
    var x02 = +extent2[0][0], y02 = +extent2[0][1], x12 = +extent2[1][0], y12 = +extent2[1][1];
    clipEdges(x02, y02, x12, y12);
    clipCells(x02, y02, x12, y12);
  }
  this.edges = edges;
  this.cells = cells;
  beaches = circles = edges = cells = null;
}
Diagram.prototype = {
  constructor: Diagram,
  polygons: function() {
    var edges2 = this.edges;
    return this.cells.map(function(cell) {
      var polygon = cell.halfedges.map(function(i) {
        return cellHalfedgeStart(cell, edges2[i]);
      });
      polygon.data = cell.site.data;
      return polygon;
    });
  },
  triangles: function() {
    var triangles = [], edges2 = this.edges;
    this.cells.forEach(function(cell, i) {
      if (!(m = (halfedges = cell.halfedges).length))
        return;
      var site = cell.site, halfedges, j = -1, m, s0, e1 = edges2[halfedges[m - 1]], s1 = e1.left === site ? e1.right : e1.left;
      while (++j < m) {
        s0 = s1;
        e1 = edges2[halfedges[j]];
        s1 = e1.left === site ? e1.right : e1.left;
        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {
          triangles.push([site.data, s0.data, s1.data]);
        }
      }
    });
    return triangles;
  },
  links: function() {
    return this.edges.filter(function(edge) {
      return edge.right;
    }).map(function(edge) {
      return {
        source: edge.left.data,
        target: edge.right.data
      };
    });
  },
  find: function(x2, y2, radius) {
    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;
    while (!(cell = that.cells[i1]))
      if (++i1 >= n)
        return null;
    var dx = x2 - cell.site[0], dy = y2 - cell.site[1], d2 = dx * dx + dy * dy;
    do {
      cell = that.cells[i0 = i1], i1 = null;
      cell.halfedges.forEach(function(e) {
        var edge = that.edges[e], v = edge.left;
        if ((v === cell.site || !v) && !(v = edge.right))
          return;
        var vx = x2 - v[0], vy = y2 - v[1], v2 = vx * vx + vy * vy;
        if (v2 < d2)
          d2 = v2, i1 = v.index;
      });
    } while (i1 !== null);
    that._found = i0;
    return radius == null || d2 <= radius * radius ? cell.site : null;
  }
};
function voronoi() {
  var x$12 = x, y$12 = y, extent2 = null;
  function voronoi2(data) {
    return new Diagram(data.map(function(d, i) {
      var s2 = [Math.round(x$12(d, i, data) / epsilon) * epsilon, Math.round(y$12(d, i, data) / epsilon) * epsilon];
      s2.index = i;
      s2.data = d;
      return s2;
    }), extent2);
  }
  voronoi2.polygons = function(data) {
    return voronoi2(data).polygons();
  };
  voronoi2.links = function(data) {
    return voronoi2(data).links();
  };
  voronoi2.triangles = function(data) {
    return voronoi2(data).triangles();
  };
  voronoi2.x = function(_2) {
    return arguments.length ? (x$12 = typeof _2 === "function" ? _2 : constant$1(+_2), voronoi2) : x$12;
  };
  voronoi2.y = function(_2) {
    return arguments.length ? (y$12 = typeof _2 === "function" ? _2 : constant$1(+_2), voronoi2) : y$12;
  };
  voronoi2.extent = function(_2) {
    return arguments.length ? (extent2 = _2 == null ? null : [[+_2[0][0], +_2[0][1]], [+_2[1][0], +_2[1][1]]], voronoi2) : extent2 && [[extent2[0][0], extent2[0][1]], [extent2[1][0], extent2[1][1]]];
  };
  voronoi2.size = function(_2) {
    return arguments.length ? (extent2 = _2 == null ? null : [[0, 0], [+_2[0], +_2[1]]], voronoi2) : extent2 && [extent2[1][0] - extent2[0][0], extent2[1][1] - extent2[0][1]];
  };
  return voronoi2;
}
function constant(x2) {
  return function() {
    return x2;
  };
}
function ZoomEvent(target, type2, transform2) {
  this.target = target;
  this.type = type2;
  this.transform = transform2;
}
function Transform(k2, x2, y2) {
  this.k = k2;
  this.x = x2;
  this.y = y2;
}
Transform.prototype = {
  constructor: Transform,
  scale: function(k2) {
    return k2 === 1 ? this : new Transform(this.k * k2, this.x, this.y);
  },
  translate: function(x2, y2) {
    return x2 === 0 & y2 === 0 ? this : new Transform(this.k, this.x + this.k * x2, this.y + this.k * y2);
  },
  apply: function(point2) {
    return [point2[0] * this.k + this.x, point2[1] * this.k + this.y];
  },
  applyX: function(x2) {
    return x2 * this.k + this.x;
  },
  applyY: function(y2) {
    return y2 * this.k + this.y;
  },
  invert: function(location2) {
    return [(location2[0] - this.x) / this.k, (location2[1] - this.y) / this.k];
  },
  invertX: function(x2) {
    return (x2 - this.x) / this.k;
  },
  invertY: function(y2) {
    return (y2 - this.y) / this.k;
  },
  rescaleX: function(x2) {
    return x2.copy().domain(x2.range().map(this.invertX, this).map(x2.invert, x2));
  },
  rescaleY: function(y2) {
    return y2.copy().domain(y2.range().map(this.invertY, this).map(y2.invert, y2));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};
var identity = new Transform(1, 0, 0);
transform.prototype = Transform.prototype;
function transform(node) {
  while (!node.__zoom)
    if (!(node = node.parentNode))
      return identity;
  return node.__zoom;
}
function nopropagation() {
  event.stopImmediatePropagation();
}
function noevent() {
  event.preventDefault();
  event.stopImmediatePropagation();
}
function defaultFilter() {
  return !event.ctrlKey && !event.button;
}
function defaultExtent() {
  var e = this;
  if (e instanceof SVGElement) {
    e = e.ownerSVGElement || e;
    if (e.hasAttribute("viewBox")) {
      e = e.viewBox.baseVal;
      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];
    }
    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];
  }
  return [[0, 0], [e.clientWidth, e.clientHeight]];
}
function defaultTransform() {
  return this.__zoom || identity;
}
function defaultWheelDelta() {
  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3);
}
function defaultTouchable() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function defaultConstrain(transform2, extent2, translateExtent) {
  var dx0 = transform2.invertX(extent2[0][0]) - translateExtent[0][0], dx1 = transform2.invertX(extent2[1][0]) - translateExtent[1][0], dy0 = transform2.invertY(extent2[0][1]) - translateExtent[0][1], dy1 = transform2.invertY(extent2[1][1]) - translateExtent[1][1];
  return transform2.translate(
    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),
    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)
  );
}
function zoom() {
  var filter2 = defaultFilter, extent2 = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate2 = interpolateZoom, listeners = dispatch("start", "zoom", "end"), touchstarting, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0;
  function zoom2(selection2) {
    selection2.property("__zoom", defaultTransform).on("wheel.zoom", wheeled).on("mousedown.zoom", mousedowned).on("dblclick.zoom", dblclicked).filter(touchable).on("touchstart.zoom", touchstarted).on("touchmove.zoom", touchmoved).on("touchend.zoom touchcancel.zoom", touchended).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  zoom2.transform = function(collection, transform2, point2) {
    var selection2 = collection.selection ? collection.selection() : collection;
    selection2.property("__zoom", defaultTransform);
    if (collection !== selection2) {
      schedule2(collection, transform2, point2);
    } else {
      selection2.interrupt().each(function() {
        gesture(this, arguments).start().zoom(null, typeof transform2 === "function" ? transform2.apply(this, arguments) : transform2).end();
      });
    }
  };
  zoom2.scaleBy = function(selection2, k2, p) {
    zoom2.scaleTo(selection2, function() {
      var k0 = this.__zoom.k, k1 = typeof k2 === "function" ? k2.apply(this, arguments) : k2;
      return k0 * k1;
    }, p);
  };
  zoom2.scaleTo = function(selection2, k2, p) {
    zoom2.transform(selection2, function() {
      var e = extent2.apply(this, arguments), t02 = this.__zoom, p02 = p == null ? centroid2(e) : typeof p === "function" ? p.apply(this, arguments) : p, p1 = t02.invert(p02), k1 = typeof k2 === "function" ? k2.apply(this, arguments) : k2;
      return constrain(translate(scale2(t02, k1), p02, p1), e, translateExtent);
    }, p);
  };
  zoom2.translateBy = function(selection2, x2, y2) {
    zoom2.transform(selection2, function() {
      return constrain(this.__zoom.translate(
        typeof x2 === "function" ? x2.apply(this, arguments) : x2,
        typeof y2 === "function" ? y2.apply(this, arguments) : y2
      ), extent2.apply(this, arguments), translateExtent);
    });
  };
  zoom2.translateTo = function(selection2, x2, y2, p) {
    zoom2.transform(selection2, function() {
      var e = extent2.apply(this, arguments), t = this.__zoom, p02 = p == null ? centroid2(e) : typeof p === "function" ? p.apply(this, arguments) : p;
      return constrain(identity.translate(p02[0], p02[1]).scale(t.k).translate(
        typeof x2 === "function" ? -x2.apply(this, arguments) : -x2,
        typeof y2 === "function" ? -y2.apply(this, arguments) : -y2
      ), e, translateExtent);
    }, p);
  };
  function scale2(transform2, k2) {
    k2 = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k2));
    return k2 === transform2.k ? transform2 : new Transform(k2, transform2.x, transform2.y);
  }
  function translate(transform2, p02, p1) {
    var x2 = p02[0] - p1[0] * transform2.k, y2 = p02[1] - p1[1] * transform2.k;
    return x2 === transform2.x && y2 === transform2.y ? transform2 : new Transform(transform2.k, x2, y2);
  }
  function centroid2(extent3) {
    return [(+extent3[0][0] + +extent3[1][0]) / 2, (+extent3[0][1] + +extent3[1][1]) / 2];
  }
  function schedule2(transition2, transform2, point2) {
    transition2.on("start.zoom", function() {
      gesture(this, arguments).start();
    }).on("interrupt.zoom end.zoom", function() {
      gesture(this, arguments).end();
    }).tween("zoom", function() {
      var that = this, args = arguments, g = gesture(that, args), e = extent2.apply(that, args), p = point2 == null ? centroid2(e) : typeof point2 === "function" ? point2.apply(that, args) : point2, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a2 = that.__zoom, b = typeof transform2 === "function" ? transform2.apply(that, args) : transform2, i = interpolate2(a2.invert(p).concat(w / a2.k), b.invert(p).concat(w / b.k));
      return function(t) {
        if (t === 1)
          t = b;
        else {
          var l = i(t), k2 = w / l[2];
          t = new Transform(k2, p[0] - l[0] * k2, p[1] - l[1] * k2);
        }
        g.zoom(null, t);
      };
    });
  }
  function gesture(that, args, clean) {
    return !clean && that.__zooming || new Gesture(that, args);
  }
  function Gesture(that, args) {
    this.that = that;
    this.args = args;
    this.active = 0;
    this.extent = extent2.apply(that, args);
    this.taps = 0;
  }
  Gesture.prototype = {
    start: function() {
      if (++this.active === 1) {
        this.that.__zooming = this;
        this.emit("start");
      }
      return this;
    },
    zoom: function(key, transform2) {
      if (this.mouse && key !== "mouse")
        this.mouse[1] = transform2.invert(this.mouse[0]);
      if (this.touch0 && key !== "touch")
        this.touch0[1] = transform2.invert(this.touch0[0]);
      if (this.touch1 && key !== "touch")
        this.touch1[1] = transform2.invert(this.touch1[0]);
      this.that.__zoom = transform2;
      this.emit("zoom");
      return this;
    },
    end: function() {
      if (--this.active === 0) {
        delete this.that.__zooming;
        this.emit("end");
      }
      return this;
    },
    emit: function(type2) {
      customEvent(new ZoomEvent(zoom2, type2, this.that.__zoom), listeners.apply, listeners, [type2, this.that, this.args]);
    }
  };
  function wheeled() {
    if (!filter2.apply(this, arguments))
      return;
    var g = gesture(this, arguments), t = this.__zoom, k2 = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = mouse(this);
    if (g.wheel) {
      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {
        g.mouse[1] = t.invert(g.mouse[0] = p);
      }
      clearTimeout(g.wheel);
    } else if (t.k === k2)
      return;
    else {
      g.mouse = [p, t.invert(p)];
      interrupt(this);
      g.start();
    }
    noevent();
    g.wheel = setTimeout(wheelidled, wheelDelay);
    g.zoom("mouse", constrain(translate(scale2(t, k2), g.mouse[0], g.mouse[1]), g.extent, translateExtent));
    function wheelidled() {
      g.wheel = null;
      g.end();
    }
  }
  function mousedowned() {
    if (touchending || !filter2.apply(this, arguments))
      return;
    var g = gesture(this, arguments, true), v = select(event.view).on("mousemove.zoom", mousemoved, true).on("mouseup.zoom", mouseupped, true), p = mouse(this), x02 = event.clientX, y02 = event.clientY;
    dragDisable(event.view);
    nopropagation();
    g.mouse = [p, this.__zoom.invert(p)];
    interrupt(this);
    g.start();
    function mousemoved() {
      noevent();
      if (!g.moved) {
        var dx = event.clientX - x02, dy = event.clientY - y02;
        g.moved = dx * dx + dy * dy > clickDistance2;
      }
      g.zoom("mouse", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));
    }
    function mouseupped() {
      v.on("mousemove.zoom mouseup.zoom", null);
      yesdrag(event.view, g.moved);
      noevent();
      g.end();
    }
  }
  function dblclicked() {
    if (!filter2.apply(this, arguments))
      return;
    var t02 = this.__zoom, p02 = mouse(this), p1 = t02.invert(p02), k1 = t02.k * (event.shiftKey ? 0.5 : 2), t12 = constrain(translate(scale2(t02, k1), p02, p1), extent2.apply(this, arguments), translateExtent);
    noevent();
    if (duration > 0)
      select(this).transition().duration(duration).call(schedule2, t12, p02);
    else
      select(this).call(zoom2.transform, t12);
  }
  function touchstarted() {
    if (!filter2.apply(this, arguments))
      return;
    var touches2 = event.touches, n = touches2.length, g = gesture(this, arguments, event.changedTouches.length === n), started, i, t, p;
    nopropagation();
    for (i = 0; i < n; ++i) {
      t = touches2[i], p = touch(this, touches2, t.identifier);
      p = [p, this.__zoom.invert(p), t.identifier];
      if (!g.touch0)
        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;
      else if (!g.touch1 && g.touch0[2] !== p[2])
        g.touch1 = p, g.taps = 0;
    }
    if (touchstarting)
      touchstarting = clearTimeout(touchstarting);
    if (started) {
      if (g.taps < 2)
        touchstarting = setTimeout(function() {
          touchstarting = null;
        }, touchDelay);
      interrupt(this);
      g.start();
    }
  }
  function touchmoved() {
    if (!this.__zooming)
      return;
    var g = gesture(this, arguments), touches2 = event.changedTouches, n = touches2.length, i, t, p, l;
    noevent();
    if (touchstarting)
      touchstarting = clearTimeout(touchstarting);
    g.taps = 0;
    for (i = 0; i < n; ++i) {
      t = touches2[i], p = touch(this, touches2, t.identifier);
      if (g.touch0 && g.touch0[2] === t.identifier)
        g.touch0[0] = p;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        g.touch1[0] = p;
    }
    t = g.that.__zoom;
    if (g.touch1) {
      var p02 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p02[0]) * dp + (dp = p1[1] - p02[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;
      t = scale2(t, Math.sqrt(dp / dl));
      p = [(p02[0] + p1[0]) / 2, (p02[1] + p1[1]) / 2];
      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];
    } else if (g.touch0)
      p = g.touch0[0], l = g.touch0[1];
    else
      return;
    g.zoom("touch", constrain(translate(t, p, l), g.extent, translateExtent));
  }
  function touchended() {
    if (!this.__zooming)
      return;
    var g = gesture(this, arguments), touches2 = event.changedTouches, n = touches2.length, i, t;
    nopropagation();
    if (touchending)
      clearTimeout(touchending);
    touchending = setTimeout(function() {
      touchending = null;
    }, touchDelay);
    for (i = 0; i < n; ++i) {
      t = touches2[i];
      if (g.touch0 && g.touch0[2] === t.identifier)
        delete g.touch0;
      else if (g.touch1 && g.touch1[2] === t.identifier)
        delete g.touch1;
    }
    if (g.touch1 && !g.touch0)
      g.touch0 = g.touch1, delete g.touch1;
    if (g.touch0)
      g.touch0[1] = this.__zoom.invert(g.touch0[0]);
    else {
      g.end();
      if (g.taps === 2) {
        var p = select(this).on("dblclick.zoom");
        if (p)
          p.apply(this, arguments);
      }
    }
  }
  zoom2.wheelDelta = function(_2) {
    return arguments.length ? (wheelDelta = typeof _2 === "function" ? _2 : constant(+_2), zoom2) : wheelDelta;
  };
  zoom2.filter = function(_2) {
    return arguments.length ? (filter2 = typeof _2 === "function" ? _2 : constant(!!_2), zoom2) : filter2;
  };
  zoom2.touchable = function(_2) {
    return arguments.length ? (touchable = typeof _2 === "function" ? _2 : constant(!!_2), zoom2) : touchable;
  };
  zoom2.extent = function(_2) {
    return arguments.length ? (extent2 = typeof _2 === "function" ? _2 : constant([[+_2[0][0], +_2[0][1]], [+_2[1][0], +_2[1][1]]]), zoom2) : extent2;
  };
  zoom2.scaleExtent = function(_2) {
    return arguments.length ? (scaleExtent[0] = +_2[0], scaleExtent[1] = +_2[1], zoom2) : [scaleExtent[0], scaleExtent[1]];
  };
  zoom2.translateExtent = function(_2) {
    return arguments.length ? (translateExtent[0][0] = +_2[0][0], translateExtent[1][0] = +_2[1][0], translateExtent[0][1] = +_2[0][1], translateExtent[1][1] = +_2[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];
  };
  zoom2.constrain = function(_2) {
    return arguments.length ? (constrain = _2, zoom2) : constrain;
  };
  zoom2.duration = function(_2) {
    return arguments.length ? (duration = +_2, zoom2) : duration;
  };
  zoom2.interpolate = function(_2) {
    return arguments.length ? (interpolate2 = _2, zoom2) : interpolate2;
  };
  zoom2.on = function() {
    var value = listeners.on.apply(listeners, arguments);
    return value === listeners ? zoom2 : value;
  };
  zoom2.clickDistance = function(_2) {
    return arguments.length ? (clickDistance2 = (_2 = +_2) * _2, zoom2) : Math.sqrt(clickDistance2);
  };
  return zoom2;
}
const d3 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  version: version$1,
  bisect: bisectRight,
  bisectRight,
  bisectLeft,
  ascending: ascending$3,
  bisector,
  cross: cross$2,
  descending: descending$2,
  deviation,
  extent: extent$1,
  histogram,
  thresholdFreedmanDiaconis: freedmanDiaconis,
  thresholdScott: scott,
  thresholdSturges,
  max: max$2,
  mean,
  median,
  merge,
  min: min$1,
  pairs,
  permute,
  quantile: threshold$1,
  range: sequence,
  scan,
  shuffle: shuffle$1,
  sum: sum$2,
  ticks,
  tickIncrement,
  tickStep,
  transpose,
  variance,
  zip,
  axisTop,
  axisRight,
  axisBottom,
  axisLeft,
  brush,
  brushX,
  brushY,
  brushSelection,
  chord,
  ribbon,
  nest,
  set,
  map: map$2,
  keys,
  values,
  entries,
  color,
  rgb,
  hsl: hsl$2,
  lab: lab$1,
  hcl: hcl$2,
  lch,
  gray,
  cubehelix: cubehelix$3,
  contours,
  contourDensity: density,
  dispatch,
  drag,
  dragDisable,
  dragEnable: yesdrag,
  dsvFormat,
  csvParse,
  csvParseRows,
  csvFormat,
  csvFormatBody,
  csvFormatRows,
  csvFormatRow,
  csvFormatValue,
  tsvParse,
  tsvParseRows,
  tsvFormat,
  tsvFormatBody,
  tsvFormatRows,
  tsvFormatRow,
  tsvFormatValue,
  autoType,
  easeLinear: linear$1,
  easeQuad: quadInOut,
  easeQuadIn: quadIn,
  easeQuadOut: quadOut,
  easeQuadInOut: quadInOut,
  easeCubic: cubicInOut,
  easeCubicIn: cubicIn,
  easeCubicOut: cubicOut,
  easeCubicInOut: cubicInOut,
  easePoly: polyInOut,
  easePolyIn: polyIn,
  easePolyOut: polyOut,
  easePolyInOut: polyInOut,
  easeSin: sinInOut,
  easeSinIn: sinIn,
  easeSinOut: sinOut,
  easeSinInOut: sinInOut,
  easeExp: expInOut,
  easeExpIn: expIn,
  easeExpOut: expOut,
  easeExpInOut: expInOut,
  easeCircle: circleInOut,
  easeCircleIn: circleIn,
  easeCircleOut: circleOut,
  easeCircleInOut: circleInOut,
  easeBounce: bounceOut,
  easeBounceIn: bounceIn,
  easeBounceOut: bounceOut,
  easeBounceInOut: bounceInOut,
  easeBack: backInOut,
  easeBackIn: backIn,
  easeBackOut: backOut,
  easeBackInOut: backInOut,
  easeElastic: elasticOut,
  easeElasticIn: elasticIn,
  easeElasticOut: elasticOut,
  easeElasticInOut: elasticInOut,
  blob,
  buffer,
  dsv,
  csv,
  tsv,
  image,
  json,
  text,
  xml,
  html,
  svg,
  forceCenter: center,
  forceCollide: collide,
  forceLink: link$2,
  forceManyBody: manyBody,
  forceRadial: radial,
  forceSimulation: simulation,
  forceX: x$2,
  forceY: y$2,
  formatDefaultLocale: defaultLocale$1,
  get format() {
    return format;
  },
  get formatPrefix() {
    return formatPrefix;
  },
  formatLocale: formatLocale$1,
  formatSpecifier,
  FormatSpecifier,
  precisionFixed,
  precisionPrefix,
  precisionRound,
  geoArea: area$2,
  geoBounds: bounds,
  geoCentroid: centroid$1,
  geoCircle: circle$2,
  geoClipAntimeridian: clipAntimeridian,
  geoClipCircle: clipCircle,
  geoClipExtent: extent,
  geoClipRectangle: clipRectangle,
  geoContains: contains$1,
  geoDistance: distance,
  geoGraticule: graticule,
  geoGraticule10: graticule10,
  geoInterpolate: interpolate,
  geoLength: length$1,
  geoPath: index$2,
  geoAlbers: albers,
  geoAlbersUsa: albersUsa,
  geoAzimuthalEqualArea: azimuthalEqualArea,
  geoAzimuthalEqualAreaRaw: azimuthalEqualAreaRaw,
  geoAzimuthalEquidistant: azimuthalEquidistant,
  geoAzimuthalEquidistantRaw: azimuthalEquidistantRaw,
  geoConicConformal: conicConformal,
  geoConicConformalRaw: conicConformalRaw,
  geoConicEqualArea: conicEqualArea,
  geoConicEqualAreaRaw: conicEqualAreaRaw,
  geoConicEquidistant: conicEquidistant,
  geoConicEquidistantRaw: conicEquidistantRaw,
  geoEqualEarth: equalEarth,
  geoEqualEarthRaw: equalEarthRaw,
  geoEquirectangular: equirectangular,
  geoEquirectangularRaw: equirectangularRaw,
  geoGnomonic: gnomonic,
  geoGnomonicRaw: gnomonicRaw,
  geoIdentity: identity$4,
  geoProjection: projection,
  geoProjectionMutator: projectionMutator,
  geoMercator: mercator,
  geoMercatorRaw: mercatorRaw,
  geoNaturalEarth1: naturalEarth1,
  geoNaturalEarth1Raw: naturalEarth1Raw,
  geoOrthographic: orthographic,
  geoOrthographicRaw: orthographicRaw,
  geoStereographic: stereographic,
  geoStereographicRaw: stereographicRaw,
  geoTransverseMercator: transverseMercator,
  geoTransverseMercatorRaw: transverseMercatorRaw,
  geoRotation: rotation,
  geoStream,
  geoTransform: transform$1,
  cluster,
  hierarchy,
  pack: index$1,
  packSiblings: siblings,
  packEnclose: enclose,
  partition,
  stratify,
  tree,
  treemap: index,
  treemapBinary: binary,
  treemapDice,
  treemapSlice,
  treemapSliceDice: sliceDice,
  treemapSquarify: squarify,
  treemapResquarify: resquarify,
  interpolate: interpolateValue,
  interpolateArray: array$2,
  interpolateBasis: basis$2,
  interpolateBasisClosed: basisClosed$1,
  interpolateDate: date$1,
  interpolateDiscrete: discrete,
  interpolateHue: hue$2,
  interpolateNumber,
  interpolateNumberArray: numberArray,
  interpolateObject: object$1,
  interpolateRound,
  interpolateString,
  interpolateTransformCss,
  interpolateTransformSvg,
  interpolateZoom,
  interpolateRgb,
  interpolateRgbBasis: rgbBasis,
  interpolateRgbBasisClosed: rgbBasisClosed,
  interpolateHsl: hsl$1,
  interpolateHslLong: hslLong,
  interpolateLab: lab,
  interpolateHcl: hcl$1,
  interpolateHclLong: hclLong,
  interpolateCubehelix: cubehelix$2,
  interpolateCubehelixLong: cubehelixLong,
  piecewise,
  quantize: quantize$1,
  path,
  polygonArea: area$1,
  polygonCentroid: centroid,
  polygonHull: hull,
  polygonContains: contains,
  polygonLength: length,
  quadtree,
  randomUniform: uniform,
  randomNormal: normal,
  randomLogNormal: logNormal,
  randomBates: bates,
  randomIrwinHall: irwinHall,
  randomExponential: exponential,
  scaleBand: band,
  scalePoint: point$4,
  scaleIdentity: identity$2,
  scaleLinear: linear,
  scaleLog: log,
  scaleSymlog: symlog,
  scaleOrdinal: ordinal,
  scaleImplicit: implicit,
  scalePow: pow,
  scaleSqrt: sqrt$1,
  scaleQuantile: quantile,
  scaleQuantize: quantize,
  scaleThreshold: threshold,
  scaleTime: time,
  scaleUtc: utcTime,
  scaleSequential: sequential,
  scaleSequentialLog: sequentialLog,
  scaleSequentialPow: sequentialPow,
  scaleSequentialSqrt: sequentialSqrt,
  scaleSequentialSymlog: sequentialSymlog,
  scaleSequentialQuantile: sequentialQuantile,
  scaleDiverging: diverging$1,
  scaleDivergingLog: divergingLog,
  scaleDivergingPow: divergingPow,
  scaleDivergingSqrt: divergingSqrt,
  scaleDivergingSymlog: divergingSymlog,
  tickFormat,
  schemeCategory10: category10,
  schemeAccent: Accent,
  schemeDark2: Dark2,
  schemePaired: Paired,
  schemePastel1: Pastel1,
  schemePastel2: Pastel2,
  schemeSet1: Set1,
  schemeSet2: Set2,
  schemeSet3: Set3,
  schemeTableau10: Tableau10,
  interpolateBrBG: BrBG,
  schemeBrBG: scheme$q,
  interpolatePRGn: PRGn,
  schemePRGn: scheme$p,
  interpolatePiYG: PiYG,
  schemePiYG: scheme$o,
  interpolatePuOr: PuOr,
  schemePuOr: scheme$n,
  interpolateRdBu: RdBu,
  schemeRdBu: scheme$m,
  interpolateRdGy: RdGy,
  schemeRdGy: scheme$l,
  interpolateRdYlBu: RdYlBu,
  schemeRdYlBu: scheme$k,
  interpolateRdYlGn: RdYlGn,
  schemeRdYlGn: scheme$j,
  interpolateSpectral: Spectral,
  schemeSpectral: scheme$i,
  interpolateBuGn: BuGn,
  schemeBuGn: scheme$h,
  interpolateBuPu: BuPu,
  schemeBuPu: scheme$g,
  interpolateGnBu: GnBu,
  schemeGnBu: scheme$f,
  interpolateOrRd: OrRd,
  schemeOrRd: scheme$e,
  interpolatePuBuGn: PuBuGn,
  schemePuBuGn: scheme$d,
  interpolatePuBu: PuBu,
  schemePuBu: scheme$c,
  interpolatePuRd: PuRd,
  schemePuRd: scheme$b,
  interpolateRdPu: RdPu,
  schemeRdPu: scheme$a,
  interpolateYlGnBu: YlGnBu,
  schemeYlGnBu: scheme$9,
  interpolateYlGn: YlGn,
  schemeYlGn: scheme$8,
  interpolateYlOrBr: YlOrBr,
  schemeYlOrBr: scheme$7,
  interpolateYlOrRd: YlOrRd,
  schemeYlOrRd: scheme$6,
  interpolateBlues: Blues,
  schemeBlues: scheme$5,
  interpolateGreens: Greens,
  schemeGreens: scheme$4,
  interpolateGreys: Greys,
  schemeGreys: scheme$3,
  interpolatePurples: Purples,
  schemePurples: scheme$2,
  interpolateReds: Reds,
  schemeReds: scheme$1,
  interpolateOranges: Oranges,
  schemeOranges: scheme,
  interpolateCividis: cividis,
  interpolateCubehelixDefault: cubehelix,
  interpolateRainbow: rainbow,
  interpolateWarm: warm,
  interpolateCool: cool,
  interpolateSinebow: sinebow,
  interpolateTurbo: turbo,
  interpolateViridis: viridis,
  interpolateMagma: magma,
  interpolateInferno: inferno,
  interpolatePlasma: plasma,
  create: create$1,
  creator,
  local: local$1,
  matcher,
  mouse,
  namespace,
  namespaces,
  clientPoint: point$5,
  select,
  selectAll,
  selection,
  selector,
  selectorAll,
  style: styleValue,
  touch,
  touches,
  window: defaultView,
  get event() {
    return event;
  },
  customEvent,
  arc,
  area,
  line,
  pie,
  areaRadial,
  radialArea: areaRadial,
  lineRadial: lineRadial$1,
  radialLine: lineRadial$1,
  pointRadial,
  linkHorizontal,
  linkVertical,
  linkRadial,
  symbol,
  symbols,
  symbolCircle: circle,
  symbolCross: cross,
  symbolDiamond: diamond,
  symbolSquare: square,
  symbolStar: star,
  symbolTriangle: triangle,
  symbolWye: wye,
  curveBasisClosed: basisClosed,
  curveBasisOpen: basisOpen,
  curveBasis: basis,
  curveBundle: bundle,
  curveCardinalClosed: cardinalClosed,
  curveCardinalOpen: cardinalOpen,
  curveCardinal: cardinal,
  curveCatmullRomClosed: catmullRomClosed,
  curveCatmullRomOpen: catmullRomOpen,
  curveCatmullRom: catmullRom,
  curveLinearClosed: linearClosed,
  curveLinear,
  curveMonotoneX: monotoneX,
  curveMonotoneY: monotoneY,
  curveNatural: natural,
  curveStep: step,
  curveStepAfter: stepAfter,
  curveStepBefore: stepBefore,
  stack,
  stackOffsetExpand: expand,
  stackOffsetDiverging: diverging,
  stackOffsetNone: none$1,
  stackOffsetSilhouette: silhouette,
  stackOffsetWiggle: wiggle,
  stackOrderAppearance: appearance,
  stackOrderAscending: ascending,
  stackOrderDescending: descending,
  stackOrderInsideOut: insideOut,
  stackOrderNone: none,
  stackOrderReverse: reverse,
  timeInterval: newInterval,
  timeMillisecond: utcMillisecond,
  timeMilliseconds: milliseconds,
  utcMillisecond,
  utcMilliseconds: milliseconds,
  timeSecond: utcSecond,
  timeSeconds: seconds,
  utcSecond,
  utcSeconds: seconds,
  timeMinute,
  timeMinutes: minutes,
  timeHour,
  timeHours: hours,
  timeDay,
  timeDays: days,
  timeWeek: sunday,
  timeWeeks: sundays,
  timeSunday: sunday,
  timeSundays: sundays,
  timeMonday: monday,
  timeMondays: mondays,
  timeTuesday: tuesday,
  timeTuesdays: tuesdays,
  timeWednesday: wednesday,
  timeWednesdays: wednesdays,
  timeThursday: thursday,
  timeThursdays: thursdays,
  timeFriday: friday,
  timeFridays: fridays,
  timeSaturday: saturday,
  timeSaturdays: saturdays,
  timeMonth,
  timeMonths: months,
  timeYear,
  timeYears: years,
  utcMinute: utcMinute$1,
  utcMinutes,
  utcHour: utcHour$1,
  utcHours,
  utcDay: utcDay$1,
  utcDays,
  utcWeek: utcSunday,
  utcWeeks: utcSundays,
  utcSunday,
  utcSundays,
  utcMonday,
  utcMondays,
  utcTuesday,
  utcTuesdays,
  utcWednesday,
  utcWednesdays,
  utcThursday,
  utcThursdays,
  utcFriday,
  utcFridays,
  utcSaturday,
  utcSaturdays,
  utcMonth: utcMonth$1,
  utcMonths,
  utcYear: utcYear$1,
  utcYears,
  timeFormatDefaultLocale: defaultLocale,
  get timeFormat() {
    return timeFormat;
  },
  get timeParse() {
    return timeParse;
  },
  get utcFormat() {
    return utcFormat;
  },
  get utcParse() {
    return utcParse;
  },
  timeFormatLocale: formatLocale,
  isoFormat: formatIso$1,
  isoParse: parseIso$1,
  now,
  timer,
  timerFlush,
  timeout,
  interval,
  transition,
  active,
  interrupt,
  voronoi,
  zoom,
  zoomTransform: transform,
  zoomIdentity: identity
}, Symbol.toStringTag, { value: "Module" }));
const require$$0 = /* @__PURE__ */ getAugmentedNamespace(d3);
var d3_1;
var hasRequiredD3;
function requireD3() {
  if (hasRequiredD3)
    return d3_1;
  hasRequiredD3 = 1;
  var d32;
  if (!d32) {
    if (typeof commonjsRequire === "function") {
      try {
        d32 = require$$0;
      } catch (e) {
      }
    }
  }
  if (!d32) {
    d32 = window.d3;
  }
  d3_1 = d32;
  return d3_1;
}
var util;
var hasRequiredUtil;
function requireUtil() {
  if (hasRequiredUtil)
    return util;
  hasRequiredUtil = 1;
  var _2 = requireLodash();
  util = {
    isSubgraph,
    edgeToId,
    applyStyle,
    applyClass,
    applyTransition
  };
  function isSubgraph(g, v) {
    return !!g.children(v).length;
  }
  function edgeToId(e) {
    return escapeId(e.v) + ":" + escapeId(e.w) + ":" + escapeId(e.name);
  }
  var ID_DELIM = /:/g;
  function escapeId(str) {
    return str ? String(str).replace(ID_DELIM, "\\:") : "";
  }
  function applyStyle(dom, styleFn) {
    if (styleFn) {
      dom.attr("style", styleFn);
    }
  }
  function applyClass(dom, classFn, otherClasses) {
    if (classFn) {
      dom.attr("class", classFn).attr("class", otherClasses + " " + dom.attr("class"));
    }
  }
  function applyTransition(selection2, g) {
    var graph2 = g.graph();
    if (_2.isPlainObject(graph2)) {
      var transition2 = graph2.transition;
      if (_2.isFunction(transition2)) {
        return transition2(selection2);
      }
    }
    return selection2;
  }
  return util;
}
var addTextLabel_1;
var hasRequiredAddTextLabel;
function requireAddTextLabel() {
  if (hasRequiredAddTextLabel)
    return addTextLabel_1;
  hasRequiredAddTextLabel = 1;
  var util2 = requireUtil();
  addTextLabel_1 = addTextLabel;
  function addTextLabel(root2, node) {
    var domNode = root2.append("text");
    var lines = processEscapeSequences(node.label).split("\n");
    for (var i = 0; i < lines.length; i++) {
      domNode.append("tspan").attr("xml:space", "preserve").attr("dy", "1em").attr("x", "1").text(lines[i]);
    }
    util2.applyStyle(domNode, node.labelStyle);
    return domNode;
  }
  function processEscapeSequences(text2) {
    var newText = "";
    var escaped = false;
    var ch;
    for (var i = 0; i < text2.length; ++i) {
      ch = text2[i];
      if (escaped) {
        switch (ch) {
          case "n":
            newText += "\n";
            break;
          default:
            newText += ch;
        }
        escaped = false;
      } else if (ch === "\\") {
        escaped = true;
      } else {
        newText += ch;
      }
    }
    return newText;
  }
  return addTextLabel_1;
}
var addHtmlLabel_1;
var hasRequiredAddHtmlLabel;
function requireAddHtmlLabel() {
  if (hasRequiredAddHtmlLabel)
    return addHtmlLabel_1;
  hasRequiredAddHtmlLabel = 1;
  var util2 = requireUtil();
  addHtmlLabel_1 = addHtmlLabel;
  function addHtmlLabel(root2, node) {
    var fo = root2.append("foreignObject").attr("width", "100000");
    var div = fo.append("xhtml:div");
    div.attr("xmlns", "http://www.w3.org/1999/xhtml");
    var label = node.label;
    switch (typeof label) {
      case "function":
        div.insert(label);
        break;
      case "object":
        div.insert(function() {
          return label;
        });
        break;
      default:
        div.html(label);
    }
    util2.applyStyle(div, node.labelStyle);
    div.style("display", "inline-block");
    div.style("white-space", "nowrap");
    var client = div.node().getBoundingClientRect();
    fo.attr("width", client.width).attr("height", client.height);
    return fo;
  }
  return addHtmlLabel_1;
}
var addSvgLabel;
var hasRequiredAddSvgLabel;
function requireAddSvgLabel() {
  if (hasRequiredAddSvgLabel)
    return addSvgLabel;
  hasRequiredAddSvgLabel = 1;
  var util2 = requireUtil();
  addSvgLabel = addSVGLabel;
  function addSVGLabel(root2, node) {
    var domNode = root2;
    domNode.node().appendChild(node.label);
    util2.applyStyle(domNode, node.labelStyle);
    return domNode;
  }
  return addSvgLabel;
}
var addLabel_1;
var hasRequiredAddLabel;
function requireAddLabel() {
  if (hasRequiredAddLabel)
    return addLabel_1;
  hasRequiredAddLabel = 1;
  var addTextLabel = requireAddTextLabel();
  var addHtmlLabel = requireAddHtmlLabel();
  var addSVGLabel = requireAddSvgLabel();
  addLabel_1 = addLabel;
  function addLabel(root2, node, location2) {
    var label = node.label;
    var labelSvg = root2.append("g");
    if (node.labelType === "svg") {
      addSVGLabel(labelSvg, node);
    } else if (typeof label !== "string" || node.labelType === "html") {
      addHtmlLabel(labelSvg, node);
    } else {
      addTextLabel(labelSvg, node);
    }
    var labelBBox = labelSvg.node().getBBox();
    var y2;
    switch (location2) {
      case "top":
        y2 = -node.height / 2;
        break;
      case "bottom":
        y2 = node.height / 2 - labelBBox.height;
        break;
      default:
        y2 = -labelBBox.height / 2;
    }
    labelSvg.attr(
      "transform",
      "translate(" + -labelBBox.width / 2 + "," + y2 + ")"
    );
    return labelSvg;
  }
  return addLabel_1;
}
var createNodes_1;
var hasRequiredCreateNodes;
function requireCreateNodes() {
  if (hasRequiredCreateNodes)
    return createNodes_1;
  hasRequiredCreateNodes = 1;
  var _2 = requireLodash();
  var addLabel = requireAddLabel();
  var util2 = requireUtil();
  var d32 = requireD3();
  createNodes_1 = createNodes;
  function createNodes(selection2, g, shapes2) {
    var simpleNodes = g.nodes().filter(function(v) {
      return !util2.isSubgraph(g, v);
    });
    var svgNodes = selection2.selectAll("g.node").data(simpleNodes, function(v) {
      return v;
    }).classed("update", true);
    svgNodes.exit().remove();
    svgNodes.enter().append("g").attr("class", "node").style("opacity", 0);
    svgNodes = selection2.selectAll("g.node");
    svgNodes.each(function(v) {
      var node = g.node(v);
      var thisGroup = d32.select(this);
      util2.applyClass(
        thisGroup,
        node["class"],
        (thisGroup.classed("update") ? "update " : "") + "node"
      );
      thisGroup.select("g.label").remove();
      var labelGroup = thisGroup.append("g").attr("class", "label");
      var labelDom = addLabel(labelGroup, node);
      var shape = shapes2[node.shape];
      var bbox = _2.pick(labelDom.node().getBBox(), "width", "height");
      node.elem = this;
      if (node.id) {
        thisGroup.attr("id", node.id);
      }
      if (node.labelId) {
        labelGroup.attr("id", node.labelId);
      }
      if (_2.has(node, "width")) {
        bbox.width = node.width;
      }
      if (_2.has(node, "height")) {
        bbox.height = node.height;
      }
      bbox.width += node.paddingLeft + node.paddingRight;
      bbox.height += node.paddingTop + node.paddingBottom;
      labelGroup.attr("transform", "translate(" + (node.paddingLeft - node.paddingRight) / 2 + "," + (node.paddingTop - node.paddingBottom) / 2 + ")");
      var root2 = d32.select(this);
      root2.select(".label-container").remove();
      var shapeSvg = shape(root2, bbox, node).classed("label-container", true);
      util2.applyStyle(shapeSvg, node.style);
      var shapeBBox = shapeSvg.node().getBBox();
      node.width = shapeBBox.width;
      node.height = shapeBBox.height;
    });
    var exitSelection;
    if (svgNodes.exit) {
      exitSelection = svgNodes.exit();
    } else {
      exitSelection = svgNodes.selectAll(null);
    }
    util2.applyTransition(exitSelection, g).style("opacity", 0).remove();
    return svgNodes;
  }
  return createNodes_1;
}
var createClusters_1;
var hasRequiredCreateClusters;
function requireCreateClusters() {
  if (hasRequiredCreateClusters)
    return createClusters_1;
  hasRequiredCreateClusters = 1;
  var util2 = requireUtil();
  var d32 = requireD3();
  var addLabel = requireAddLabel();
  createClusters_1 = createClusters;
  function createClusters(selection2, g) {
    var clusters = g.nodes().filter(function(v) {
      return util2.isSubgraph(g, v);
    });
    var svgClusters = selection2.selectAll("g.cluster").data(clusters, function(v) {
      return v;
    });
    svgClusters.selectAll("*").remove();
    svgClusters.enter().append("g").attr("class", "cluster").attr("id", function(v) {
      var node = g.node(v);
      return node.id;
    }).style("opacity", 0);
    svgClusters = selection2.selectAll("g.cluster");
    util2.applyTransition(svgClusters, g).style("opacity", 1);
    svgClusters.each(function(v) {
      var node = g.node(v);
      var thisGroup = d32.select(this);
      d32.select(this).append("rect");
      var labelGroup = thisGroup.append("g").attr("class", "label");
      addLabel(labelGroup, node, node.clusterLabelPos);
    });
    svgClusters.selectAll("rect").each(function(c2) {
      var node = g.node(c2);
      var domCluster = d32.select(this);
      util2.applyStyle(domCluster, node.style);
    });
    var exitSelection;
    if (svgClusters.exit) {
      exitSelection = svgClusters.exit();
    } else {
      exitSelection = svgClusters.selectAll(null);
    }
    util2.applyTransition(exitSelection, g).style("opacity", 0).remove();
    return svgClusters;
  }
  return createClusters_1;
}
var createEdgeLabels_1;
var hasRequiredCreateEdgeLabels;
function requireCreateEdgeLabels() {
  if (hasRequiredCreateEdgeLabels)
    return createEdgeLabels_1;
  hasRequiredCreateEdgeLabels = 1;
  var _2 = requireLodash();
  var addLabel = requireAddLabel();
  var util2 = requireUtil();
  var d32 = requireD3();
  createEdgeLabels_1 = createEdgeLabels;
  function createEdgeLabels(selection2, g) {
    var svgEdgeLabels = selection2.selectAll("g.edgeLabel").data(g.edges(), function(e) {
      return util2.edgeToId(e);
    }).classed("update", true);
    svgEdgeLabels.exit().remove();
    svgEdgeLabels.enter().append("g").classed("edgeLabel", true).style("opacity", 0);
    svgEdgeLabels = selection2.selectAll("g.edgeLabel");
    svgEdgeLabels.each(function(e) {
      var root2 = d32.select(this);
      root2.select(".label").remove();
      var edge = g.edge(e);
      var label = addLabel(root2, g.edge(e), 0, 0).classed("label", true);
      var bbox = label.node().getBBox();
      if (edge.labelId) {
        label.attr("id", edge.labelId);
      }
      if (!_2.has(edge, "width")) {
        edge.width = bbox.width;
      }
      if (!_2.has(edge, "height")) {
        edge.height = bbox.height;
      }
    });
    var exitSelection;
    if (svgEdgeLabels.exit) {
      exitSelection = svgEdgeLabels.exit();
    } else {
      exitSelection = svgEdgeLabels.selectAll(null);
    }
    util2.applyTransition(exitSelection, g).style("opacity", 0).remove();
    return svgEdgeLabels;
  }
  return createEdgeLabels_1;
}
var createEdgePaths_1;
var hasRequiredCreateEdgePaths;
function requireCreateEdgePaths() {
  if (hasRequiredCreateEdgePaths)
    return createEdgePaths_1;
  hasRequiredCreateEdgePaths = 1;
  var _2 = requireLodash();
  var intersectNode = requireIntersectNode();
  var util2 = requireUtil();
  var d32 = requireD3();
  createEdgePaths_1 = createEdgePaths;
  function createEdgePaths(selection2, g, arrows2) {
    var previousPaths = selection2.selectAll("g.edgePath").data(g.edges(), function(e) {
      return util2.edgeToId(e);
    }).classed("update", true);
    var newPaths = enter(previousPaths, g);
    exit(previousPaths, g);
    var svgPaths = previousPaths.merge !== void 0 ? previousPaths.merge(newPaths) : previousPaths;
    util2.applyTransition(svgPaths, g).style("opacity", 1);
    svgPaths.each(function(e) {
      var domEdge = d32.select(this);
      var edge = g.edge(e);
      edge.elem = this;
      if (edge.id) {
        domEdge.attr("id", edge.id);
      }
      util2.applyClass(
        domEdge,
        edge["class"],
        (domEdge.classed("update") ? "update " : "") + "edgePath"
      );
    });
    svgPaths.selectAll("path.path").each(function(e) {
      var edge = g.edge(e);
      edge.arrowheadId = _2.uniqueId("arrowhead");
      var domEdge = d32.select(this).attr("marker-end", function() {
        return "url(" + makeFragmentRef(location.href, edge.arrowheadId) + ")";
      }).style("fill", "none");
      util2.applyTransition(domEdge, g).attr("d", function(e3) {
        return calcPoints(g, e3);
      });
      util2.applyStyle(domEdge, edge.style);
    });
    svgPaths.selectAll("defs *").remove();
    svgPaths.selectAll("defs").each(function(e) {
      var edge = g.edge(e);
      var arrowhead = arrows2[edge.arrowhead];
      arrowhead(d32.select(this), edge.arrowheadId, edge, "arrowhead");
    });
    return svgPaths;
  }
  function makeFragmentRef(url, fragmentId) {
    var baseUrl = url.split("#")[0];
    return baseUrl + "#" + fragmentId;
  }
  function calcPoints(g, e) {
    var edge = g.edge(e);
    var tail = g.node(e.v);
    var head = g.node(e.w);
    var points = edge.points.slice(1, edge.points.length - 1);
    points.unshift(intersectNode(tail, points[0]));
    points.push(intersectNode(head, points[points.length - 1]));
    return createLine(edge, points);
  }
  function createLine(edge, points) {
    var line2 = (d32.line || d32.svg.line)().x(function(d) {
      return d.x;
    }).y(function(d) {
      return d.y;
    });
    (line2.curve || line2.interpolate)(edge.curve);
    return line2(points);
  }
  function getCoords(elem) {
    var bbox = elem.getBBox();
    var matrix = elem.ownerSVGElement.getScreenCTM().inverse().multiply(elem.getScreenCTM()).translate(bbox.width / 2, bbox.height / 2);
    return { x: matrix.e, y: matrix.f };
  }
  function enter(svgPaths, g) {
    var svgPathsEnter = svgPaths.enter().append("g").attr("class", "edgePath").style("opacity", 0);
    svgPathsEnter.append("path").attr("class", "path").attr("d", function(e) {
      var edge = g.edge(e);
      var sourceElem = g.node(e.v).elem;
      var points = _2.range(edge.points.length).map(function() {
        return getCoords(sourceElem);
      });
      return createLine(edge, points);
    });
    svgPathsEnter.append("defs");
    return svgPathsEnter;
  }
  function exit(svgPaths, g) {
    var svgPathExit = svgPaths.exit();
    util2.applyTransition(svgPathExit, g).style("opacity", 0).remove();
  }
  return createEdgePaths_1;
}
var positionNodes_1;
var hasRequiredPositionNodes;
function requirePositionNodes() {
  if (hasRequiredPositionNodes)
    return positionNodes_1;
  hasRequiredPositionNodes = 1;
  var util2 = requireUtil();
  var d32 = requireD3();
  positionNodes_1 = positionNodes;
  function positionNodes(selection2, g) {
    var created = selection2.filter(function() {
      return !d32.select(this).classed("update");
    });
    function translate(v) {
      var node = g.node(v);
      return "translate(" + node.x + "," + node.y + ")";
    }
    created.attr("transform", translate);
    util2.applyTransition(selection2, g).style("opacity", 1).attr("transform", translate);
  }
  return positionNodes_1;
}
var positionEdgeLabels_1;
var hasRequiredPositionEdgeLabels;
function requirePositionEdgeLabels() {
  if (hasRequiredPositionEdgeLabels)
    return positionEdgeLabels_1;
  hasRequiredPositionEdgeLabels = 1;
  var util2 = requireUtil();
  var d32 = requireD3();
  var _2 = requireLodash();
  positionEdgeLabels_1 = positionEdgeLabels;
  function positionEdgeLabels(selection2, g) {
    var created = selection2.filter(function() {
      return !d32.select(this).classed("update");
    });
    function translate(e) {
      var edge = g.edge(e);
      return _2.has(edge, "x") ? "translate(" + edge.x + "," + edge.y + ")" : "";
    }
    created.attr("transform", translate);
    util2.applyTransition(selection2, g).style("opacity", 1).attr("transform", translate);
  }
  return positionEdgeLabels_1;
}
var positionClusters_1;
var hasRequiredPositionClusters;
function requirePositionClusters() {
  if (hasRequiredPositionClusters)
    return positionClusters_1;
  hasRequiredPositionClusters = 1;
  var util2 = requireUtil();
  var d32 = requireD3();
  positionClusters_1 = positionClusters;
  function positionClusters(selection2, g) {
    var created = selection2.filter(function() {
      return !d32.select(this).classed("update");
    });
    function translate(v) {
      var node = g.node(v);
      return "translate(" + node.x + "," + node.y + ")";
    }
    created.attr("transform", translate);
    util2.applyTransition(selection2, g).style("opacity", 1).attr("transform", translate);
    util2.applyTransition(created.selectAll("rect"), g).attr("width", function(v) {
      return g.node(v).width;
    }).attr("height", function(v) {
      return g.node(v).height;
    }).attr("x", function(v) {
      var node = g.node(v);
      return -node.width / 2;
    }).attr("y", function(v) {
      var node = g.node(v);
      return -node.height / 2;
    });
  }
  return positionClusters_1;
}
var shapes;
var hasRequiredShapes;
function requireShapes() {
  if (hasRequiredShapes)
    return shapes;
  hasRequiredShapes = 1;
  var intersectRect = requireIntersectRect();
  var intersectEllipse = requireIntersectEllipse();
  var intersectCircle = requireIntersectCircle();
  var intersectPolygon = requireIntersectPolygon();
  shapes = {
    rect,
    ellipse,
    circle: circle2,
    diamond: diamond3
  };
  function rect(parent, bbox, node) {
    var shapeSvg = parent.insert("rect", ":first-child").attr("rx", node.rx).attr("ry", node.ry).attr("x", -bbox.width / 2).attr("y", -bbox.height / 2).attr("width", bbox.width).attr("height", bbox.height);
    node.intersect = function(point2) {
      return intersectRect(node, point2);
    };
    return shapeSvg;
  }
  function ellipse(parent, bbox, node) {
    var rx = bbox.width / 2;
    var ry = bbox.height / 2;
    var shapeSvg = parent.insert("ellipse", ":first-child").attr("x", -bbox.width / 2).attr("y", -bbox.height / 2).attr("rx", rx).attr("ry", ry);
    node.intersect = function(point2) {
      return intersectEllipse(node, rx, ry, point2);
    };
    return shapeSvg;
  }
  function circle2(parent, bbox, node) {
    var r = Math.max(bbox.width, bbox.height) / 2;
    var shapeSvg = parent.insert("circle", ":first-child").attr("x", -bbox.width / 2).attr("y", -bbox.height / 2).attr("r", r);
    node.intersect = function(point2) {
      return intersectCircle(node, r, point2);
    };
    return shapeSvg;
  }
  function diamond3(parent, bbox, node) {
    var w = bbox.width * Math.SQRT2 / 2;
    var h = bbox.height * Math.SQRT2 / 2;
    var points = [
      { x: 0, y: -h },
      { x: -w, y: 0 },
      { x: 0, y: h },
      { x: w, y: 0 }
    ];
    var shapeSvg = parent.insert("polygon", ":first-child").attr("points", points.map(function(p) {
      return p.x + "," + p.y;
    }).join(" "));
    node.intersect = function(p) {
      return intersectPolygon(node, points, p);
    };
    return shapeSvg;
  }
  return shapes;
}
var arrows;
var hasRequiredArrows;
function requireArrows() {
  if (hasRequiredArrows)
    return arrows;
  hasRequiredArrows = 1;
  var util2 = requireUtil();
  arrows = {
    "default": normal2,
    "normal": normal2,
    "vee": vee,
    "undirected": undirected
  };
  function normal2(parent, id2, edge, type2) {
    var marker = parent.append("marker").attr("id", id2).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
    var path2 = marker.append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").style("stroke-width", 1).style("stroke-dasharray", "1,0");
    util2.applyStyle(path2, edge[type2 + "Style"]);
    if (edge[type2 + "Class"]) {
      path2.attr("class", edge[type2 + "Class"]);
    }
  }
  function vee(parent, id2, edge, type2) {
    var marker = parent.append("marker").attr("id", id2).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
    var path2 = marker.append("path").attr("d", "M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width", 1).style("stroke-dasharray", "1,0");
    util2.applyStyle(path2, edge[type2 + "Style"]);
    if (edge[type2 + "Class"]) {
      path2.attr("class", edge[type2 + "Class"]);
    }
  }
  function undirected(parent, id2, edge, type2) {
    var marker = parent.append("marker").attr("id", id2).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
    var path2 = marker.append("path").attr("d", "M 0 5 L 10 5").style("stroke-width", 1).style("stroke-dasharray", "1,0");
    util2.applyStyle(path2, edge[type2 + "Style"]);
    if (edge[type2 + "Class"]) {
      path2.attr("class", edge[type2 + "Class"]);
    }
  }
  return arrows;
}
var render_1;
var hasRequiredRender;
function requireRender() {
  if (hasRequiredRender)
    return render_1;
  hasRequiredRender = 1;
  var _2 = requireLodash();
  var d32 = requireD3();
  var layout = requireDagre().layout;
  render_1 = render;
  function render() {
    var createNodes = requireCreateNodes();
    var createClusters = requireCreateClusters();
    var createEdgeLabels = requireCreateEdgeLabels();
    var createEdgePaths = requireCreateEdgePaths();
    var positionNodes = requirePositionNodes();
    var positionEdgeLabels = requirePositionEdgeLabels();
    var positionClusters = requirePositionClusters();
    var shapes2 = requireShapes();
    var arrows2 = requireArrows();
    var fn = function(svg2, g) {
      preProcessGraph(g);
      var outputGroup = createOrSelectGroup(svg2, "output");
      var clustersGroup = createOrSelectGroup(outputGroup, "clusters");
      var edgePathsGroup = createOrSelectGroup(outputGroup, "edgePaths");
      var edgeLabels = createEdgeLabels(createOrSelectGroup(outputGroup, "edgeLabels"), g);
      var nodes = createNodes(createOrSelectGroup(outputGroup, "nodes"), g, shapes2);
      layout(g);
      positionNodes(nodes, g);
      positionEdgeLabels(edgeLabels, g);
      createEdgePaths(edgePathsGroup, g, arrows2);
      var clusters = createClusters(clustersGroup, g);
      positionClusters(clusters, g);
      postProcessGraph(g);
    };
    fn.createNodes = function(value) {
      if (!arguments.length)
        return createNodes;
      createNodes = value;
      return fn;
    };
    fn.createClusters = function(value) {
      if (!arguments.length)
        return createClusters;
      createClusters = value;
      return fn;
    };
    fn.createEdgeLabels = function(value) {
      if (!arguments.length)
        return createEdgeLabels;
      createEdgeLabels = value;
      return fn;
    };
    fn.createEdgePaths = function(value) {
      if (!arguments.length)
        return createEdgePaths;
      createEdgePaths = value;
      return fn;
    };
    fn.shapes = function(value) {
      if (!arguments.length)
        return shapes2;
      shapes2 = value;
      return fn;
    };
    fn.arrows = function(value) {
      if (!arguments.length)
        return arrows2;
      arrows2 = value;
      return fn;
    };
    return fn;
  }
  var NODE_DEFAULT_ATTRS = {
    paddingLeft: 10,
    paddingRight: 10,
    paddingTop: 10,
    paddingBottom: 10,
    rx: 0,
    ry: 0,
    shape: "rect"
  };
  var EDGE_DEFAULT_ATTRS = {
    arrowhead: "normal",
    curve: d32.curveLinear
  };
  function preProcessGraph(g) {
    g.nodes().forEach(function(v) {
      var node = g.node(v);
      if (!_2.has(node, "label") && !g.children(v).length) {
        node.label = v;
      }
      if (_2.has(node, "paddingX")) {
        _2.defaults(node, {
          paddingLeft: node.paddingX,
          paddingRight: node.paddingX
        });
      }
      if (_2.has(node, "paddingY")) {
        _2.defaults(node, {
          paddingTop: node.paddingY,
          paddingBottom: node.paddingY
        });
      }
      if (_2.has(node, "padding")) {
        _2.defaults(node, {
          paddingLeft: node.padding,
          paddingRight: node.padding,
          paddingTop: node.padding,
          paddingBottom: node.padding
        });
      }
      _2.defaults(node, NODE_DEFAULT_ATTRS);
      _2.each(["paddingLeft", "paddingRight", "paddingTop", "paddingBottom"], function(k2) {
        node[k2] = Number(node[k2]);
      });
      if (_2.has(node, "width")) {
        node._prevWidth = node.width;
      }
      if (_2.has(node, "height")) {
        node._prevHeight = node.height;
      }
    });
    g.edges().forEach(function(e) {
      var edge = g.edge(e);
      if (!_2.has(edge, "label")) {
        edge.label = "";
      }
      _2.defaults(edge, EDGE_DEFAULT_ATTRS);
    });
  }
  function postProcessGraph(g) {
    _2.each(g.nodes(), function(v) {
      var node = g.node(v);
      if (_2.has(node, "_prevWidth")) {
        node.width = node._prevWidth;
      } else {
        delete node.width;
      }
      if (_2.has(node, "_prevHeight")) {
        node.height = node._prevHeight;
      } else {
        delete node.height;
      }
      delete node._prevWidth;
      delete node._prevHeight;
    });
  }
  function createOrSelectGroup(root2, name) {
    var selection2 = root2.select("g." + name);
    if (selection2.empty()) {
      selection2 = root2.append("g").attr("class", name);
    }
    return selection2;
  }
  return render_1;
}
var version;
var hasRequiredVersion;
function requireVersion() {
  if (hasRequiredVersion)
    return version;
  hasRequiredVersion = 1;
  version = "0.6.4";
  return version;
}
/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var dagreD3;
var hasRequiredDagreD3;
function requireDagreD3() {
  if (hasRequiredDagreD3)
    return dagreD3;
  hasRequiredDagreD3 = 1;
  dagreD3 = {
    graphlib: requireGraphlib(),
    dagre: requireDagre(),
    intersect: requireIntersect(),
    render: requireRender(),
    util: requireUtil(),
    version: requireVersion()
  };
  return dagreD3;
}
const require$$5 = /* @__PURE__ */ getAugmentedNamespace(purify_es);
const Channel = {
  min: {
    r: 0,
    g: 0,
    b: 0,
    s: 0,
    l: 0,
    a: 0
  },
  max: {
    r: 255,
    g: 255,
    b: 255,
    h: 360,
    s: 100,
    l: 100,
    a: 1
  },
  clamp: {
    r: (r) => r >= 255 ? 255 : r < 0 ? 0 : r,
    g: (g) => g >= 255 ? 255 : g < 0 ? 0 : g,
    b: (b) => b >= 255 ? 255 : b < 0 ? 0 : b,
    h: (h) => h % 360,
    s: (s2) => s2 >= 100 ? 100 : s2 < 0 ? 0 : s2,
    l: (l) => l >= 100 ? 100 : l < 0 ? 0 : l,
    a: (a2) => a2 >= 1 ? 1 : a2 < 0 ? 0 : a2
  },
  toLinear: (c2) => {
    const n = c2 / 255;
    return c2 > 0.03928 ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92;
  },
  hue2rgb: (p, q, t) => {
    if (t < 0)
      t += 1;
    if (t > 1)
      t -= 1;
    if (t < 1 / 6)
      return p + (q - p) * 6 * t;
    if (t < 1 / 2)
      return q;
    if (t < 2 / 3)
      return p + (q - p) * (2 / 3 - t) * 6;
    return p;
  },
  hsl2rgb: ({ h, s: s2, l }, channel2) => {
    if (!s2)
      return l * 2.55;
    h /= 360;
    s2 /= 100;
    l /= 100;
    const q = l < 0.5 ? l * (1 + s2) : l + s2 - l * s2;
    const p = 2 * l - q;
    switch (channel2) {
      case "r":
        return Channel.hue2rgb(p, q, h + 1 / 3) * 255;
      case "g":
        return Channel.hue2rgb(p, q, h) * 255;
      case "b":
        return Channel.hue2rgb(p, q, h - 1 / 3) * 255;
    }
  },
  rgb2hsl: ({ r, g, b }, channel2) => {
    r /= 255;
    g /= 255;
    b /= 255;
    const max2 = Math.max(r, g, b);
    const min2 = Math.min(r, g, b);
    const l = (max2 + min2) / 2;
    if (channel2 === "l")
      return l * 100;
    if (max2 === min2)
      return 0;
    const d = max2 - min2;
    const s2 = l > 0.5 ? d / (2 - max2 - min2) : d / (max2 + min2);
    if (channel2 === "s")
      return s2 * 100;
    switch (max2) {
      case r:
        return ((g - b) / d + (g < b ? 6 : 0)) * 60;
      case g:
        return ((b - r) / d + 2) * 60;
      case b:
        return ((r - g) / d + 4) * 60;
      default:
        return -1;
    }
  }
};
const channel$2 = Channel;
const Lang = {
  clamp: (number3, lower2, upper) => {
    if (lower2 > upper)
      return Math.min(lower2, Math.max(upper, number3));
    return Math.min(upper, Math.max(lower2, number3));
  },
  round: (number3) => {
    return Math.round(number3 * 1e10) / 1e10;
  }
};
const lang = Lang;
const Unit = {
  dec2hex: (dec) => {
    const hex2 = Math.round(dec).toString(16);
    return hex2.length > 1 ? hex2 : `0${hex2}`;
  }
};
const unit = Unit;
const Utils = {
  channel: channel$2,
  lang,
  unit
};
const _ = Utils;
const DEC2HEX = {};
for (let i = 0; i <= 255; i++)
  DEC2HEX[i] = _.unit.dec2hex(i);
const TYPE = {
  ALL: 0,
  RGB: 1,
  HSL: 2
};
class Type {
  constructor() {
    this.type = TYPE.ALL;
  }
  get() {
    return this.type;
  }
  set(type2) {
    if (this.type && this.type !== type2)
      throw new Error("Cannot change both RGB and HSL channels at the same time");
    this.type = type2;
  }
  reset() {
    this.type = TYPE.ALL;
  }
  is(type2) {
    return this.type === type2;
  }
}
const Type$1 = Type;
class Channels {
  constructor(data, color2) {
    this.color = color2;
    this.changed = false;
    this.data = data;
    this.type = new Type$1();
  }
  set(data, color2) {
    this.color = color2;
    this.changed = false;
    this.data = data;
    this.type.type = TYPE.ALL;
    return this;
  }
  _ensureHSL() {
    const data = this.data;
    const { h, s: s2, l } = data;
    if (h === void 0)
      data.h = _.channel.rgb2hsl(data, "h");
    if (s2 === void 0)
      data.s = _.channel.rgb2hsl(data, "s");
    if (l === void 0)
      data.l = _.channel.rgb2hsl(data, "l");
  }
  _ensureRGB() {
    const data = this.data;
    const { r, g, b } = data;
    if (r === void 0)
      data.r = _.channel.hsl2rgb(data, "r");
    if (g === void 0)
      data.g = _.channel.hsl2rgb(data, "g");
    if (b === void 0)
      data.b = _.channel.hsl2rgb(data, "b");
  }
  get r() {
    const data = this.data;
    const r = data.r;
    if (!this.type.is(TYPE.HSL) && r !== void 0)
      return r;
    this._ensureHSL();
    return _.channel.hsl2rgb(data, "r");
  }
  get g() {
    const data = this.data;
    const g = data.g;
    if (!this.type.is(TYPE.HSL) && g !== void 0)
      return g;
    this._ensureHSL();
    return _.channel.hsl2rgb(data, "g");
  }
  get b() {
    const data = this.data;
    const b = data.b;
    if (!this.type.is(TYPE.HSL) && b !== void 0)
      return b;
    this._ensureHSL();
    return _.channel.hsl2rgb(data, "b");
  }
  get h() {
    const data = this.data;
    const h = data.h;
    if (!this.type.is(TYPE.RGB) && h !== void 0)
      return h;
    this._ensureRGB();
    return _.channel.rgb2hsl(data, "h");
  }
  get s() {
    const data = this.data;
    const s2 = data.s;
    if (!this.type.is(TYPE.RGB) && s2 !== void 0)
      return s2;
    this._ensureRGB();
    return _.channel.rgb2hsl(data, "s");
  }
  get l() {
    const data = this.data;
    const l = data.l;
    if (!this.type.is(TYPE.RGB) && l !== void 0)
      return l;
    this._ensureRGB();
    return _.channel.rgb2hsl(data, "l");
  }
  get a() {
    return this.data.a;
  }
  set r(r) {
    this.type.set(TYPE.RGB);
    this.changed = true;
    this.data.r = r;
  }
  set g(g) {
    this.type.set(TYPE.RGB);
    this.changed = true;
    this.data.g = g;
  }
  set b(b) {
    this.type.set(TYPE.RGB);
    this.changed = true;
    this.data.b = b;
  }
  set h(h) {
    this.type.set(TYPE.HSL);
    this.changed = true;
    this.data.h = h;
  }
  set s(s2) {
    this.type.set(TYPE.HSL);
    this.changed = true;
    this.data.s = s2;
  }
  set l(l) {
    this.type.set(TYPE.HSL);
    this.changed = true;
    this.data.l = l;
  }
  set a(a2) {
    this.changed = true;
    this.data.a = a2;
  }
}
const Channels$1 = Channels;
const channels = new Channels$1({ r: 0, g: 0, b: 0, a: 0 }, "transparent");
const ChannelsReusable = channels;
const Hex = {
  re: /^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,
  parse: (color2) => {
    if (color2.charCodeAt(0) !== 35)
      return;
    const match = color2.match(Hex.re);
    if (!match)
      return;
    const hex2 = match[1];
    const dec = parseInt(hex2, 16);
    const length2 = hex2.length;
    const hasAlpha = length2 % 4 === 0;
    const isFullLength = length2 > 4;
    const multiplier = isFullLength ? 1 : 17;
    const bits = isFullLength ? 8 : 4;
    const bitsOffset = hasAlpha ? 0 : -1;
    const mask = isFullLength ? 255 : 15;
    return ChannelsReusable.set({
      r: (dec >> bits * (bitsOffset + 3) & mask) * multiplier,
      g: (dec >> bits * (bitsOffset + 2) & mask) * multiplier,
      b: (dec >> bits * (bitsOffset + 1) & mask) * multiplier,
      a: hasAlpha ? (dec & mask) * multiplier / 255 : 1
    }, color2);
  },
  stringify: (channels2) => {
    const { r, g, b, a: a2 } = channels2;
    if (a2 < 1) {
      return `#${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(g)]}${DEC2HEX[Math.round(b)]}${DEC2HEX[Math.round(a2 * 255)]}`;
    } else {
      return `#${DEC2HEX[Math.round(r)]}${DEC2HEX[Math.round(g)]}${DEC2HEX[Math.round(b)]}`;
    }
  }
};
const Hex$1 = Hex;
const HSL = {
  re: /^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,
  hueRe: /^(.+?)(deg|grad|rad|turn)$/i,
  _hue2deg: (hue2) => {
    const match = hue2.match(HSL.hueRe);
    if (match) {
      const [, number3, unit2] = match;
      switch (unit2) {
        case "grad":
          return _.channel.clamp.h(parseFloat(number3) * 0.9);
        case "rad":
          return _.channel.clamp.h(parseFloat(number3) * 180 / Math.PI);
        case "turn":
          return _.channel.clamp.h(parseFloat(number3) * 360);
      }
    }
    return _.channel.clamp.h(parseFloat(hue2));
  },
  parse: (color2) => {
    const charCode = color2.charCodeAt(0);
    if (charCode !== 104 && charCode !== 72)
      return;
    const match = color2.match(HSL.re);
    if (!match)
      return;
    const [, h, s2, l, a2, isAlphaPercentage] = match;
    return ChannelsReusable.set({
      h: HSL._hue2deg(h),
      s: _.channel.clamp.s(parseFloat(s2)),
      l: _.channel.clamp.l(parseFloat(l)),
      a: a2 ? _.channel.clamp.a(isAlphaPercentage ? parseFloat(a2) / 100 : parseFloat(a2)) : 1
    }, color2);
  },
  stringify: (channels2) => {
    const { h, s: s2, l, a: a2 } = channels2;
    if (a2 < 1) {
      return `hsla(${_.lang.round(h)}, ${_.lang.round(s2)}%, ${_.lang.round(l)}%, ${a2})`;
    } else {
      return `hsl(${_.lang.round(h)}, ${_.lang.round(s2)}%, ${_.lang.round(l)}%)`;
    }
  }
};
const HSL$1 = HSL;
const Keyword = {
  colors: {
    aliceblue: "#f0f8ff",
    antiquewhite: "#faebd7",
    aqua: "#00ffff",
    aquamarine: "#7fffd4",
    azure: "#f0ffff",
    beige: "#f5f5dc",
    bisque: "#ffe4c4",
    black: "#000000",
    blanchedalmond: "#ffebcd",
    blue: "#0000ff",
    blueviolet: "#8a2be2",
    brown: "#a52a2a",
    burlywood: "#deb887",
    cadetblue: "#5f9ea0",
    chartreuse: "#7fff00",
    chocolate: "#d2691e",
    coral: "#ff7f50",
    cornflowerblue: "#6495ed",
    cornsilk: "#fff8dc",
    crimson: "#dc143c",
    cyanaqua: "#00ffff",
    darkblue: "#00008b",
    darkcyan: "#008b8b",
    darkgoldenrod: "#b8860b",
    darkgray: "#a9a9a9",
    darkgreen: "#006400",
    darkgrey: "#a9a9a9",
    darkkhaki: "#bdb76b",
    darkmagenta: "#8b008b",
    darkolivegreen: "#556b2f",
    darkorange: "#ff8c00",
    darkorchid: "#9932cc",
    darkred: "#8b0000",
    darksalmon: "#e9967a",
    darkseagreen: "#8fbc8f",
    darkslateblue: "#483d8b",
    darkslategray: "#2f4f4f",
    darkslategrey: "#2f4f4f",
    darkturquoise: "#00ced1",
    darkviolet: "#9400d3",
    deeppink: "#ff1493",
    deepskyblue: "#00bfff",
    dimgray: "#696969",
    dimgrey: "#696969",
    dodgerblue: "#1e90ff",
    firebrick: "#b22222",
    floralwhite: "#fffaf0",
    forestgreen: "#228b22",
    fuchsia: "#ff00ff",
    gainsboro: "#dcdcdc",
    ghostwhite: "#f8f8ff",
    gold: "#ffd700",
    goldenrod: "#daa520",
    gray: "#808080",
    green: "#008000",
    greenyellow: "#adff2f",
    grey: "#808080",
    honeydew: "#f0fff0",
    hotpink: "#ff69b4",
    indianred: "#cd5c5c",
    indigo: "#4b0082",
    ivory: "#fffff0",
    khaki: "#f0e68c",
    lavender: "#e6e6fa",
    lavenderblush: "#fff0f5",
    lawngreen: "#7cfc00",
    lemonchiffon: "#fffacd",
    lightblue: "#add8e6",
    lightcoral: "#f08080",
    lightcyan: "#e0ffff",
    lightgoldenrodyellow: "#fafad2",
    lightgray: "#d3d3d3",
    lightgreen: "#90ee90",
    lightgrey: "#d3d3d3",
    lightpink: "#ffb6c1",
    lightsalmon: "#ffa07a",
    lightseagreen: "#20b2aa",
    lightskyblue: "#87cefa",
    lightslategray: "#778899",
    lightslategrey: "#778899",
    lightsteelblue: "#b0c4de",
    lightyellow: "#ffffe0",
    lime: "#00ff00",
    limegreen: "#32cd32",
    linen: "#faf0e6",
    magenta: "#ff00ff",
    maroon: "#800000",
    mediumaquamarine: "#66cdaa",
    mediumblue: "#0000cd",
    mediumorchid: "#ba55d3",
    mediumpurple: "#9370db",
    mediumseagreen: "#3cb371",
    mediumslateblue: "#7b68ee",
    mediumspringgreen: "#00fa9a",
    mediumturquoise: "#48d1cc",
    mediumvioletred: "#c71585",
    midnightblue: "#191970",
    mintcream: "#f5fffa",
    mistyrose: "#ffe4e1",
    moccasin: "#ffe4b5",
    navajowhite: "#ffdead",
    navy: "#000080",
    oldlace: "#fdf5e6",
    olive: "#808000",
    olivedrab: "#6b8e23",
    orange: "#ffa500",
    orangered: "#ff4500",
    orchid: "#da70d6",
    palegoldenrod: "#eee8aa",
    palegreen: "#98fb98",
    paleturquoise: "#afeeee",
    palevioletred: "#db7093",
    papayawhip: "#ffefd5",
    peachpuff: "#ffdab9",
    peru: "#cd853f",
    pink: "#ffc0cb",
    plum: "#dda0dd",
    powderblue: "#b0e0e6",
    purple: "#800080",
    rebeccapurple: "#663399",
    red: "#ff0000",
    rosybrown: "#bc8f8f",
    royalblue: "#4169e1",
    saddlebrown: "#8b4513",
    salmon: "#fa8072",
    sandybrown: "#f4a460",
    seagreen: "#2e8b57",
    seashell: "#fff5ee",
    sienna: "#a0522d",
    silver: "#c0c0c0",
    skyblue: "#87ceeb",
    slateblue: "#6a5acd",
    slategray: "#708090",
    slategrey: "#708090",
    snow: "#fffafa",
    springgreen: "#00ff7f",
    tan: "#d2b48c",
    teal: "#008080",
    thistle: "#d8bfd8",
    transparent: "#00000000",
    turquoise: "#40e0d0",
    violet: "#ee82ee",
    wheat: "#f5deb3",
    white: "#ffffff",
    whitesmoke: "#f5f5f5",
    yellow: "#ffff00",
    yellowgreen: "#9acd32"
  },
  parse: (color2) => {
    color2 = color2.toLowerCase();
    const hex2 = Keyword.colors[color2];
    if (!hex2)
      return;
    return Hex$1.parse(hex2);
  },
  stringify: (channels2) => {
    const hex2 = Hex$1.stringify(channels2);
    for (const name in Keyword.colors) {
      if (Keyword.colors[name] === hex2)
        return name;
    }
    return;
  }
};
const Keyword$1 = Keyword;
const RGB = {
  re: /^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,
  parse: (color2) => {
    const charCode = color2.charCodeAt(0);
    if (charCode !== 114 && charCode !== 82)
      return;
    const match = color2.match(RGB.re);
    if (!match)
      return;
    const [, r, isRedPercentage, g, isGreenPercentage, b, isBluePercentage, a2, isAlphaPercentage] = match;
    return ChannelsReusable.set({
      r: _.channel.clamp.r(isRedPercentage ? parseFloat(r) * 2.55 : parseFloat(r)),
      g: _.channel.clamp.g(isGreenPercentage ? parseFloat(g) * 2.55 : parseFloat(g)),
      b: _.channel.clamp.b(isBluePercentage ? parseFloat(b) * 2.55 : parseFloat(b)),
      a: a2 ? _.channel.clamp.a(isAlphaPercentage ? parseFloat(a2) / 100 : parseFloat(a2)) : 1
    }, color2);
  },
  stringify: (channels2) => {
    const { r, g, b, a: a2 } = channels2;
    if (a2 < 1) {
      return `rgba(${_.lang.round(r)}, ${_.lang.round(g)}, ${_.lang.round(b)}, ${_.lang.round(a2)})`;
    } else {
      return `rgb(${_.lang.round(r)}, ${_.lang.round(g)}, ${_.lang.round(b)})`;
    }
  }
};
const RGB$1 = RGB;
const Color = {
  format: {
    keyword: Keyword$1,
    hex: Hex$1,
    rgb: RGB$1,
    rgba: RGB$1,
    hsl: HSL$1,
    hsla: HSL$1
  },
  parse: (color2) => {
    if (typeof color2 !== "string")
      return color2;
    const channels2 = Hex$1.parse(color2) || RGB$1.parse(color2) || HSL$1.parse(color2) || Keyword$1.parse(color2);
    if (channels2)
      return channels2;
    throw new Error(`Unsupported color format: "${color2}"`);
  },
  stringify: (channels2) => {
    if (!channels2.changed && channels2.color)
      return channels2.color;
    if (channels2.type.is(TYPE.HSL) || channels2.data.r === void 0) {
      return HSL$1.stringify(channels2);
    } else if (channels2.a < 1 || !Number.isInteger(channels2.r) || !Number.isInteger(channels2.g) || !Number.isInteger(channels2.b)) {
      return RGB$1.stringify(channels2);
    } else {
      return Hex$1.stringify(channels2);
    }
  }
};
const Color$1 = Color;
const change = (color2, channels2) => {
  const ch = Color$1.parse(color2);
  for (const c2 in channels2) {
    ch[c2] = _.channel.clamp[c2](channels2[c2]);
  }
  return Color$1.stringify(ch);
};
const change$1 = change;
const rgba = (r, g, b = 0, a2 = 1) => {
  if (typeof r !== "number")
    return change$1(r, { a: g });
  const channels2 = ChannelsReusable.set({
    r: _.channel.clamp.r(r),
    g: _.channel.clamp.g(g),
    b: _.channel.clamp.b(b),
    a: _.channel.clamp.a(a2)
  });
  return Color$1.stringify(channels2);
};
const rgba$1 = rgba;
const hsla = (h, s2, l, a2 = 1) => {
  const channels2 = ChannelsReusable.set({
    h: _.channel.clamp.h(h),
    s: _.channel.clamp.s(s2),
    l: _.channel.clamp.l(l),
    a: _.channel.clamp.a(a2)
  });
  return Color$1.stringify(channels2);
};
const hsla$1 = hsla;
const toKeyword = (color2) => {
  return Color$1.format.keyword.stringify(Color$1.parse(color2));
};
const toKeyword$1 = toKeyword;
const toHex = (color2) => {
  return Color$1.format.hex.stringify(Color$1.parse(color2));
};
const toHex$1 = toHex;
const toRgba = (color2) => {
  return Color$1.format.rgba.stringify(Color$1.parse(color2));
};
const toRgba$1 = toRgba;
const toHsla = (color2) => {
  return Color$1.format.hsla.stringify(Color$1.parse(color2));
};
const toHsla$1 = toHsla;
const channel = (color2, channel2) => {
  return _.lang.round(Color$1.parse(color2)[channel2]);
};
const channel$1 = channel;
const red = (color2) => {
  return channel$1(color2, "r");
};
const red$1 = red;
const green = (color2) => {
  return channel$1(color2, "g");
};
const green$1 = green;
const blue = (color2) => {
  return channel$1(color2, "b");
};
const blue$1 = blue;
const hue = (color2) => {
  return channel$1(color2, "h");
};
const hue$1 = hue;
const saturation = (color2) => {
  return channel$1(color2, "s");
};
const saturation$1 = saturation;
const lightness = (color2) => {
  return channel$1(color2, "l");
};
const lightness$1 = lightness;
const alpha = (color2) => {
  return channel$1(color2, "a");
};
const alpha$1 = alpha;
const luminance = (color2) => {
  const { r, g, b } = Color$1.parse(color2);
  const luminance2 = 0.2126 * _.channel.toLinear(r) + 0.7152 * _.channel.toLinear(g) + 0.0722 * _.channel.toLinear(b);
  return _.lang.round(luminance2);
};
const luminance$1 = luminance;
const contrast = (color1, color2) => {
  const luminance1 = luminance$1(color1);
  const luminance2 = luminance$1(color2);
  const max2 = Math.max(luminance1, luminance2);
  const min2 = Math.min(luminance1, luminance2);
  const ratio = (max2 + Number.EPSILON) / (min2 + Number.EPSILON);
  return _.lang.round(_.lang.clamp(ratio, 1, 10));
};
const contrast$1 = contrast;
const isLight = (color2) => {
  return luminance$1(color2) >= 0.5;
};
const isLight$1 = isLight;
const isDark = (color2) => {
  return !isLight$1(color2);
};
const isDark$1 = isDark;
const isValid = (color2) => {
  try {
    Color$1.parse(color2);
    return true;
  } catch {
    return false;
  }
};
const isValid$1 = isValid;
const adjustChannel = (color2, channel2, amount) => {
  const channels2 = Color$1.parse(color2);
  const amountCurrent = channels2[channel2];
  const amountNext = _.channel.clamp[channel2](amountCurrent + amount);
  if (amountCurrent !== amountNext)
    channels2[channel2] = amountNext;
  return Color$1.stringify(channels2);
};
const adjustChannel$1 = adjustChannel;
const saturate = (color2, amount) => {
  return adjustChannel$1(color2, "s", amount);
};
const saturate$1 = saturate;
const desaturate = (color2, amount) => {
  return adjustChannel$1(color2, "s", -amount);
};
const desaturate$1 = desaturate;
const lighten = (color2, amount) => {
  return adjustChannel$1(color2, "l", amount);
};
const lighten$1 = lighten;
const darken = (color2, amount) => {
  return adjustChannel$1(color2, "l", -amount);
};
const darken$1 = darken;
const opacify = (color2, amount) => {
  return adjustChannel$1(color2, "a", amount);
};
const opacify$1 = opacify;
const transparentize = (color2, amount) => {
  return adjustChannel$1(color2, "a", -amount);
};
const transparentize$1 = transparentize;
const complement = (color2) => {
  return adjustChannel$1(color2, "h", 180);
};
const complement$1 = complement;
const grayscale = (color2) => {
  return change$1(color2, { s: 0 });
};
const grayscale$1 = grayscale;
const adjust = (color2, channels2) => {
  const ch = Color$1.parse(color2);
  const changes = {};
  for (const c2 in channels2) {
    if (!channels2[c2])
      continue;
    changes[c2] = ch[c2] + channels2[c2];
  }
  return change$1(color2, changes);
};
const adjust$1 = adjust;
const mix = (color1, color2, weight = 50) => {
  const { r: r1, g: g1, b: b12, a: a1 } = Color$1.parse(color1);
  const { r: r2, g: g2, b: b22, a: a2 } = Color$1.parse(color2);
  const weightScale = weight / 100;
  const weightNormalized = weightScale * 2 - 1;
  const alphaDelta = a1 - a2;
  const weight1combined = weightNormalized * alphaDelta === -1 ? weightNormalized : (weightNormalized + alphaDelta) / (1 + weightNormalized * alphaDelta);
  const weight1 = (weight1combined + 1) / 2;
  const weight2 = 1 - weight1;
  const r = r1 * weight1 + r2 * weight2;
  const g = g1 * weight1 + g2 * weight2;
  const b = b12 * weight1 + b22 * weight2;
  const a3 = a1 * weightScale + a2 * (1 - weightScale);
  return rgba$1(r, g, b, a3);
};
const mix$1 = mix;
const invert = (color2, weight = 100) => {
  const inverse = Color$1.parse(color2);
  inverse.r = 255 - inverse.r;
  inverse.g = 255 - inverse.g;
  inverse.b = 255 - inverse.b;
  return mix$1(inverse, color2, weight);
};
const invert$1 = invert;
const scale = (color2, channels2) => {
  const ch = Color$1.parse(color2);
  const adjustments = {};
  const delta = (amount, weight, max2) => weight > 0 ? (max2 - amount) * weight / 100 : amount * weight / 100;
  for (const c2 in channels2) {
    adjustments[c2] = delta(ch[c2], channels2[c2], _.channel.max[c2]);
  }
  return adjust$1(color2, adjustments);
};
const scale$1 = scale;
const dist = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  hex: rgba$1,
  rgb: rgba$1,
  rgba: rgba$1,
  hsl: hsla$1,
  hsla: hsla$1,
  toKeyword: toKeyword$1,
  toHex: toHex$1,
  toRgba: toRgba$1,
  toHsla: toHsla$1,
  channel: channel$1,
  red: red$1,
  green: green$1,
  blue: blue$1,
  hue: hue$1,
  saturation: saturation$1,
  lightness: lightness$1,
  alpha: alpha$1,
  opacity: alpha$1,
  contrast: contrast$1,
  luminance: luminance$1,
  isDark: isDark$1,
  isLight: isLight$1,
  isValid: isValid$1,
  saturate: saturate$1,
  desaturate: desaturate$1,
  lighten: lighten$1,
  darken: darken$1,
  opacify: opacify$1,
  fadeIn: opacify$1,
  transparentize: transparentize$1,
  fadeOut: transparentize$1,
  complement: complement$1,
  grayscale: grayscale$1,
  adjust: adjust$1,
  change: change$1,
  invert: invert$1,
  mix: mix$1,
  scale: scale$1
}, Symbol.toStringTag, { value: "Module" }));
const require$$7 = /* @__PURE__ */ getAugmentedNamespace(dist);
var moment_min = { exports: {} };
var hasRequiredMoment_min;
function requireMoment_min() {
  if (hasRequiredMoment_min)
    return moment_min.exports;
  hasRequiredMoment_min = 1;
  (function(module, exports) {
    !function(e, t) {
      module.exports = t();
    }(commonjsGlobal, function() {
      var e, i;
      function c2() {
        return e.apply(null, arguments);
      }
      function o(e3) {
        return e3 instanceof Array || "[object Array]" === Object.prototype.toString.call(e3);
      }
      function u(e3) {
        return null != e3 && "[object Object]" === Object.prototype.toString.call(e3);
      }
      function l(e3) {
        return void 0 === e3;
      }
      function h(e3) {
        return "number" == typeof e3 || "[object Number]" === Object.prototype.toString.call(e3);
      }
      function d(e3) {
        return e3 instanceof Date || "[object Date]" === Object.prototype.toString.call(e3);
      }
      function f(e3, t4) {
        var n2, s3 = [];
        for (n2 = 0; n2 < e3.length; ++n2)
          s3.push(t4(e3[n2], n2));
        return s3;
      }
      function m(e3, t4) {
        return Object.prototype.hasOwnProperty.call(e3, t4);
      }
      function _2(e3, t4) {
        for (var n2 in t4)
          m(t4, n2) && (e3[n2] = t4[n2]);
        return m(t4, "toString") && (e3.toString = t4.toString), m(t4, "valueOf") && (e3.valueOf = t4.valueOf), e3;
      }
      function y2(e3, t4, n2, s3) {
        return Tt(e3, t4, n2, s3, true).utc();
      }
      function g(e3) {
        return null == e3._pf && (e3._pf = { empty: false, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: false, invalidMonth: null, invalidFormat: false, userInvalidated: false, iso: false, parsedDateParts: [], meridiem: null, rfc2822: false, weekdayMismatch: false }), e3._pf;
      }
      function v(e3) {
        if (null == e3._isValid) {
          var t4 = g(e3), n2 = i.call(t4.parsedDateParts, function(e4) {
            return null != e4;
          }), s3 = !isNaN(e3._d.getTime()) && t4.overflow < 0 && !t4.empty && !t4.invalidMonth && !t4.invalidWeekday && !t4.weekdayMismatch && !t4.nullInput && !t4.invalidFormat && !t4.userInvalidated && (!t4.meridiem || t4.meridiem && n2);
          if (e3._strict && (s3 = s3 && 0 === t4.charsLeftOver && 0 === t4.unusedTokens.length && void 0 === t4.bigHour), null != Object.isFrozen && Object.isFrozen(e3))
            return s3;
          e3._isValid = s3;
        }
        return e3._isValid;
      }
      function p(e3) {
        var t4 = y2(NaN);
        return null != e3 ? _2(g(t4), e3) : g(t4).userInvalidated = true, t4;
      }
      i = Array.prototype.some ? Array.prototype.some : function(e3) {
        for (var t4 = Object(this), n2 = t4.length >>> 0, s3 = 0; s3 < n2; s3++)
          if (s3 in t4 && e3.call(this, t4[s3], s3, t4))
            return true;
        return false;
      };
      var r = c2.momentProperties = [];
      function w(e3, t4) {
        var n2, s3, i2;
        if (l(t4._isAMomentObject) || (e3._isAMomentObject = t4._isAMomentObject), l(t4._i) || (e3._i = t4._i), l(t4._f) || (e3._f = t4._f), l(t4._l) || (e3._l = t4._l), l(t4._strict) || (e3._strict = t4._strict), l(t4._tzm) || (e3._tzm = t4._tzm), l(t4._isUTC) || (e3._isUTC = t4._isUTC), l(t4._offset) || (e3._offset = t4._offset), l(t4._pf) || (e3._pf = g(t4)), l(t4._locale) || (e3._locale = t4._locale), 0 < r.length)
          for (n2 = 0; n2 < r.length; n2++)
            l(i2 = t4[s3 = r[n2]]) || (e3[s3] = i2);
        return e3;
      }
      var t = false;
      function M2(e3) {
        w(this, e3), this._d = new Date(null != e3._d ? e3._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), false === t && (t = true, c2.updateOffset(this), t = false);
      }
      function k2(e3) {
        return e3 instanceof M2 || null != e3 && null != e3._isAMomentObject;
      }
      function S(e3) {
        return e3 < 0 ? Math.ceil(e3) || 0 : Math.floor(e3);
      }
      function D2(e3) {
        var t4 = +e3, n2 = 0;
        return 0 !== t4 && isFinite(t4) && (n2 = S(t4)), n2;
      }
      function a2(e3, t4, n2) {
        var s3, i2 = Math.min(e3.length, t4.length), r2 = Math.abs(e3.length - t4.length), a3 = 0;
        for (s3 = 0; s3 < i2; s3++)
          (n2 && e3[s3] !== t4[s3] || !n2 && D2(e3[s3]) !== D2(t4[s3])) && a3++;
        return a3 + r2;
      }
      function Y3(e3) {
        false === c2.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e3);
      }
      function n(i2, r2) {
        var a3 = true;
        return _2(function() {
          if (null != c2.deprecationHandler && c2.deprecationHandler(null, i2), a3) {
            for (var e3, t4 = [], n2 = 0; n2 < arguments.length; n2++) {
              if (e3 = "", "object" == typeof arguments[n2]) {
                for (var s3 in e3 += "\n[" + n2 + "] ", arguments[0])
                  e3 += s3 + ": " + arguments[0][s3] + ", ";
                e3 = e3.slice(0, -2);
              } else
                e3 = arguments[n2];
              t4.push(e3);
            }
            Y3(i2 + "\nArguments: " + Array.prototype.slice.call(t4).join("") + "\n" + new Error().stack), a3 = false;
          }
          return r2.apply(this, arguments);
        }, r2);
      }
      var s2, O = {};
      function T(e3, t4) {
        null != c2.deprecationHandler && c2.deprecationHandler(e3, t4), O[e3] || (Y3(t4), O[e3] = true);
      }
      function b(e3) {
        return e3 instanceof Function || "[object Function]" === Object.prototype.toString.call(e3);
      }
      function x2(e3, t4) {
        var n2, s3 = _2({}, e3);
        for (n2 in t4)
          m(t4, n2) && (u(e3[n2]) && u(t4[n2]) ? (s3[n2] = {}, _2(s3[n2], e3[n2]), _2(s3[n2], t4[n2])) : null != t4[n2] ? s3[n2] = t4[n2] : delete s3[n2]);
        for (n2 in e3)
          m(e3, n2) && !m(t4, n2) && u(e3[n2]) && (s3[n2] = _2({}, s3[n2]));
        return s3;
      }
      function P(e3) {
        null != e3 && this.set(e3);
      }
      c2.suppressDeprecationWarnings = false, c2.deprecationHandler = null, s2 = Object.keys ? Object.keys : function(e3) {
        var t4, n2 = [];
        for (t4 in e3)
          m(e3, t4) && n2.push(t4);
        return n2;
      };
      var W = {};
      function C2(e3, t4) {
        var n2 = e3.toLowerCase();
        W[n2] = W[n2 + "s"] = W[t4] = e3;
      }
      function H(e3) {
        return "string" == typeof e3 ? W[e3] || W[e3.toLowerCase()] : void 0;
      }
      function R(e3) {
        var t4, n2, s3 = {};
        for (n2 in e3)
          m(e3, n2) && (t4 = H(n2)) && (s3[t4] = e3[n2]);
        return s3;
      }
      var U = {};
      function F(e3, t4) {
        U[e3] = t4;
      }
      function L(e3, t4, n2) {
        var s3 = "" + Math.abs(e3), i2 = t4 - s3.length;
        return (0 <= e3 ? n2 ? "+" : "" : "-") + Math.pow(10, Math.max(0, i2)).toString().substr(1) + s3;
      }
      var N = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, G = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, V = {}, E2 = {};
      function I(e3, t4, n2, s3) {
        var i2 = s3;
        "string" == typeof s3 && (i2 = function() {
          return this[s3]();
        }), e3 && (E2[e3] = i2), t4 && (E2[t4[0]] = function() {
          return L(i2.apply(this, arguments), t4[1], t4[2]);
        }), n2 && (E2[n2] = function() {
          return this.localeData().ordinal(i2.apply(this, arguments), e3);
        });
      }
      function A5(e3, t4) {
        return e3.isValid() ? (t4 = j(t4, e3.localeData()), V[t4] = V[t4] || function(s3) {
          var e4, i2, t5, r2 = s3.match(N);
          for (e4 = 0, i2 = r2.length; e4 < i2; e4++)
            E2[r2[e4]] ? r2[e4] = E2[r2[e4]] : r2[e4] = (t5 = r2[e4]).match(/\[[\s\S]/) ? t5.replace(/^\[|\]$/g, "") : t5.replace(/\\/g, "");
          return function(e6) {
            var t6, n2 = "";
            for (t6 = 0; t6 < i2; t6++)
              n2 += b(r2[t6]) ? r2[t6].call(e6, s3) : r2[t6];
            return n2;
          };
        }(t4), V[t4](e3)) : e3.localeData().invalidDate();
      }
      function j(e3, t4) {
        var n2 = 5;
        function s3(e4) {
          return t4.longDateFormat(e4) || e4;
        }
        for (G.lastIndex = 0; 0 <= n2 && G.test(e3); )
          e3 = e3.replace(G, s3), G.lastIndex = 0, n2 -= 1;
        return e3;
      }
      var Z = /\d/, z = /\d\d/, $ = /\d{3}/, q = /\d{4}/, J = /[+-]?\d{6}/, B2 = /\d\d?/, Q = /\d\d\d\d?/, X3 = /\d\d\d\d\d\d?/, K2 = /\d{1,3}/, ee = /\d{1,4}/, te = /[+-]?\d{1,6}/, ne = /\d+/, se = /[+-]?\d+/, ie = /Z|[+-]\d\d:?\d\d/gi, re2 = /Z|[+-]\d\d(?::?\d\d)?/gi, ae = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, oe = {};
      function ue(e3, n2, s3) {
        oe[e3] = b(n2) ? n2 : function(e4, t4) {
          return e4 && s3 ? s3 : n2;
        };
      }
      function le(e3, t4) {
        return m(oe, e3) ? oe[e3](t4._strict, t4._locale) : new RegExp(he(e3.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e4, t5, n2, s3, i2) {
          return t5 || n2 || s3 || i2;
        })));
      }
      function he(e3) {
        return e3.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
      }
      var de = {};
      function ce(e3, n2) {
        var t4, s3 = n2;
        for ("string" == typeof e3 && (e3 = [e3]), h(n2) && (s3 = function(e4, t5) {
          t5[n2] = D2(e4);
        }), t4 = 0; t4 < e3.length; t4++)
          de[e3[t4]] = s3;
      }
      function fe(e3, i2) {
        ce(e3, function(e4, t4, n2, s3) {
          n2._w = n2._w || {}, i2(e4, n2._w, n2, s3);
        });
      }
      var me = 0, _e = 1, ye = 2, ge = 3, ve = 4, pe = 5, we = 6, Me = 7, ke = 8;
      function Se(e3) {
        return De(e3) ? 366 : 365;
      }
      function De(e3) {
        return e3 % 4 == 0 && e3 % 100 != 0 || e3 % 400 == 0;
      }
      I("Y", 0, 0, function() {
        var e3 = this.year();
        return e3 <= 9999 ? "" + e3 : "+" + e3;
      }), I(0, ["YY", 2], 0, function() {
        return this.year() % 100;
      }), I(0, ["YYYY", 4], 0, "year"), I(0, ["YYYYY", 5], 0, "year"), I(0, ["YYYYYY", 6, true], 0, "year"), C2("year", "y"), F("year", 1), ue("Y", se), ue("YY", B2, z), ue("YYYY", ee, q), ue("YYYYY", te, J), ue("YYYYYY", te, J), ce(["YYYYY", "YYYYYY"], me), ce("YYYY", function(e3, t4) {
        t4[me] = 2 === e3.length ? c2.parseTwoDigitYear(e3) : D2(e3);
      }), ce("YY", function(e3, t4) {
        t4[me] = c2.parseTwoDigitYear(e3);
      }), ce("Y", function(e3, t4) {
        t4[me] = parseInt(e3, 10);
      }), c2.parseTwoDigitYear = function(e3) {
        return D2(e3) + (68 < D2(e3) ? 1900 : 2e3);
      };
      var Ye, Oe = Te("FullYear", true);
      function Te(t4, n2) {
        return function(e3) {
          return null != e3 ? (xe(this, t4, e3), c2.updateOffset(this, n2), this) : be(this, t4);
        };
      }
      function be(e3, t4) {
        return e3.isValid() ? e3._d["get" + (e3._isUTC ? "UTC" : "") + t4]() : NaN;
      }
      function xe(e3, t4, n2) {
        e3.isValid() && !isNaN(n2) && ("FullYear" === t4 && De(e3.year()) && 1 === e3.month() && 29 === e3.date() ? e3._d["set" + (e3._isUTC ? "UTC" : "") + t4](n2, e3.month(), Pe(n2, e3.month())) : e3._d["set" + (e3._isUTC ? "UTC" : "") + t4](n2));
      }
      function Pe(e3, t4) {
        if (isNaN(e3) || isNaN(t4))
          return NaN;
        var n2, s3 = (t4 % (n2 = 12) + n2) % n2;
        return e3 += (t4 - s3) / 12, 1 === s3 ? De(e3) ? 29 : 28 : 31 - s3 % 7 % 2;
      }
      Ye = Array.prototype.indexOf ? Array.prototype.indexOf : function(e3) {
        var t4;
        for (t4 = 0; t4 < this.length; ++t4)
          if (this[t4] === e3)
            return t4;
        return -1;
      }, I("M", ["MM", 2], "Mo", function() {
        return this.month() + 1;
      }), I("MMM", 0, 0, function(e3) {
        return this.localeData().monthsShort(this, e3);
      }), I("MMMM", 0, 0, function(e3) {
        return this.localeData().months(this, e3);
      }), C2("month", "M"), F("month", 8), ue("M", B2), ue("MM", B2, z), ue("MMM", function(e3, t4) {
        return t4.monthsShortRegex(e3);
      }), ue("MMMM", function(e3, t4) {
        return t4.monthsRegex(e3);
      }), ce(["M", "MM"], function(e3, t4) {
        t4[_e] = D2(e3) - 1;
      }), ce(["MMM", "MMMM"], function(e3, t4, n2, s3) {
        var i2 = n2._locale.monthsParse(e3, s3, n2._strict);
        null != i2 ? t4[_e] = i2 : g(n2).invalidMonth = e3;
      });
      var We = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, Ce = "January_February_March_April_May_June_July_August_September_October_November_December".split("_");
      var He = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");
      function Re(e3, t4) {
        var n2;
        if (!e3.isValid())
          return e3;
        if ("string" == typeof t4) {
          if (/^\d+$/.test(t4))
            t4 = D2(t4);
          else if (!h(t4 = e3.localeData().monthsParse(t4)))
            return e3;
        }
        return n2 = Math.min(e3.date(), Pe(e3.year(), t4)), e3._d["set" + (e3._isUTC ? "UTC" : "") + "Month"](t4, n2), e3;
      }
      function Ue(e3) {
        return null != e3 ? (Re(this, e3), c2.updateOffset(this, true), this) : be(this, "Month");
      }
      var Fe = ae;
      var Le = ae;
      function Ne() {
        function e3(e4, t5) {
          return t5.length - e4.length;
        }
        var t4, n2, s3 = [], i2 = [], r2 = [];
        for (t4 = 0; t4 < 12; t4++)
          n2 = y2([2e3, t4]), s3.push(this.monthsShort(n2, "")), i2.push(this.months(n2, "")), r2.push(this.months(n2, "")), r2.push(this.monthsShort(n2, ""));
        for (s3.sort(e3), i2.sort(e3), r2.sort(e3), t4 = 0; t4 < 12; t4++)
          s3[t4] = he(s3[t4]), i2[t4] = he(i2[t4]);
        for (t4 = 0; t4 < 24; t4++)
          r2[t4] = he(r2[t4]);
        this._monthsRegex = new RegExp("^(" + r2.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + i2.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + s3.join("|") + ")", "i");
      }
      function Ge(e3) {
        var t4;
        if (e3 < 100 && 0 <= e3) {
          var n2 = Array.prototype.slice.call(arguments);
          n2[0] = e3 + 400, t4 = new Date(Date.UTC.apply(null, n2)), isFinite(t4.getUTCFullYear()) && t4.setUTCFullYear(e3);
        } else
          t4 = new Date(Date.UTC.apply(null, arguments));
        return t4;
      }
      function Ve(e3, t4, n2) {
        var s3 = 7 + t4 - n2;
        return -((7 + Ge(e3, 0, s3).getUTCDay() - t4) % 7) + s3 - 1;
      }
      function Ee(e3, t4, n2, s3, i2) {
        var r2, a3, o2 = 1 + 7 * (t4 - 1) + (7 + n2 - s3) % 7 + Ve(e3, s3, i2);
        return a3 = o2 <= 0 ? Se(r2 = e3 - 1) + o2 : o2 > Se(e3) ? (r2 = e3 + 1, o2 - Se(e3)) : (r2 = e3, o2), { year: r2, dayOfYear: a3 };
      }
      function Ie(e3, t4, n2) {
        var s3, i2, r2 = Ve(e3.year(), t4, n2), a3 = Math.floor((e3.dayOfYear() - r2 - 1) / 7) + 1;
        return a3 < 1 ? s3 = a3 + Ae(i2 = e3.year() - 1, t4, n2) : a3 > Ae(e3.year(), t4, n2) ? (s3 = a3 - Ae(e3.year(), t4, n2), i2 = e3.year() + 1) : (i2 = e3.year(), s3 = a3), { week: s3, year: i2 };
      }
      function Ae(e3, t4, n2) {
        var s3 = Ve(e3, t4, n2), i2 = Ve(e3 + 1, t4, n2);
        return (Se(e3) - s3 + i2) / 7;
      }
      I("w", ["ww", 2], "wo", "week"), I("W", ["WW", 2], "Wo", "isoWeek"), C2("week", "w"), C2("isoWeek", "W"), F("week", 5), F("isoWeek", 5), ue("w", B2), ue("ww", B2, z), ue("W", B2), ue("WW", B2, z), fe(["w", "ww", "W", "WW"], function(e3, t4, n2, s3) {
        t4[s3.substr(0, 1)] = D2(e3);
      });
      function je(e3, t4) {
        return e3.slice(t4, 7).concat(e3.slice(0, t4));
      }
      I("d", 0, "do", "day"), I("dd", 0, 0, function(e3) {
        return this.localeData().weekdaysMin(this, e3);
      }), I("ddd", 0, 0, function(e3) {
        return this.localeData().weekdaysShort(this, e3);
      }), I("dddd", 0, 0, function(e3) {
        return this.localeData().weekdays(this, e3);
      }), I("e", 0, 0, "weekday"), I("E", 0, 0, "isoWeekday"), C2("day", "d"), C2("weekday", "e"), C2("isoWeekday", "E"), F("day", 11), F("weekday", 11), F("isoWeekday", 11), ue("d", B2), ue("e", B2), ue("E", B2), ue("dd", function(e3, t4) {
        return t4.weekdaysMinRegex(e3);
      }), ue("ddd", function(e3, t4) {
        return t4.weekdaysShortRegex(e3);
      }), ue("dddd", function(e3, t4) {
        return t4.weekdaysRegex(e3);
      }), fe(["dd", "ddd", "dddd"], function(e3, t4, n2, s3) {
        var i2 = n2._locale.weekdaysParse(e3, s3, n2._strict);
        null != i2 ? t4.d = i2 : g(n2).invalidWeekday = e3;
      }), fe(["d", "e", "E"], function(e3, t4, n2, s3) {
        t4[s3] = D2(e3);
      });
      var Ze = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");
      var ze = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");
      var $e = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
      var qe = ae;
      var Je = ae;
      var Be = ae;
      function Qe() {
        function e3(e4, t5) {
          return t5.length - e4.length;
        }
        var t4, n2, s3, i2, r2, a3 = [], o2 = [], u2 = [], l2 = [];
        for (t4 = 0; t4 < 7; t4++)
          n2 = y2([2e3, 1]).day(t4), s3 = this.weekdaysMin(n2, ""), i2 = this.weekdaysShort(n2, ""), r2 = this.weekdays(n2, ""), a3.push(s3), o2.push(i2), u2.push(r2), l2.push(s3), l2.push(i2), l2.push(r2);
        for (a3.sort(e3), o2.sort(e3), u2.sort(e3), l2.sort(e3), t4 = 0; t4 < 7; t4++)
          o2[t4] = he(o2[t4]), u2[t4] = he(u2[t4]), l2[t4] = he(l2[t4]);
        this._weekdaysRegex = new RegExp("^(" + l2.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + u2.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + o2.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + a3.join("|") + ")", "i");
      }
      function Xe() {
        return this.hours() % 12 || 12;
      }
      function Ke(e3, t4) {
        I(e3, 0, 0, function() {
          return this.localeData().meridiem(this.hours(), this.minutes(), t4);
        });
      }
      function et(e3, t4) {
        return t4._meridiemParse;
      }
      I("H", ["HH", 2], 0, "hour"), I("h", ["hh", 2], 0, Xe), I("k", ["kk", 2], 0, function() {
        return this.hours() || 24;
      }), I("hmm", 0, 0, function() {
        return "" + Xe.apply(this) + L(this.minutes(), 2);
      }), I("hmmss", 0, 0, function() {
        return "" + Xe.apply(this) + L(this.minutes(), 2) + L(this.seconds(), 2);
      }), I("Hmm", 0, 0, function() {
        return "" + this.hours() + L(this.minutes(), 2);
      }), I("Hmmss", 0, 0, function() {
        return "" + this.hours() + L(this.minutes(), 2) + L(this.seconds(), 2);
      }), Ke("a", true), Ke("A", false), C2("hour", "h"), F("hour", 13), ue("a", et), ue("A", et), ue("H", B2), ue("h", B2), ue("k", B2), ue("HH", B2, z), ue("hh", B2, z), ue("kk", B2, z), ue("hmm", Q), ue("hmmss", X3), ue("Hmm", Q), ue("Hmmss", X3), ce(["H", "HH"], ge), ce(["k", "kk"], function(e3, t4, n2) {
        var s3 = D2(e3);
        t4[ge] = 24 === s3 ? 0 : s3;
      }), ce(["a", "A"], function(e3, t4, n2) {
        n2._isPm = n2._locale.isPM(e3), n2._meridiem = e3;
      }), ce(["h", "hh"], function(e3, t4, n2) {
        t4[ge] = D2(e3), g(n2).bigHour = true;
      }), ce("hmm", function(e3, t4, n2) {
        var s3 = e3.length - 2;
        t4[ge] = D2(e3.substr(0, s3)), t4[ve] = D2(e3.substr(s3)), g(n2).bigHour = true;
      }), ce("hmmss", function(e3, t4, n2) {
        var s3 = e3.length - 4, i2 = e3.length - 2;
        t4[ge] = D2(e3.substr(0, s3)), t4[ve] = D2(e3.substr(s3, 2)), t4[pe] = D2(e3.substr(i2)), g(n2).bigHour = true;
      }), ce("Hmm", function(e3, t4, n2) {
        var s3 = e3.length - 2;
        t4[ge] = D2(e3.substr(0, s3)), t4[ve] = D2(e3.substr(s3));
      }), ce("Hmmss", function(e3, t4, n2) {
        var s3 = e3.length - 4, i2 = e3.length - 2;
        t4[ge] = D2(e3.substr(0, s3)), t4[ve] = D2(e3.substr(s3, 2)), t4[pe] = D2(e3.substr(i2));
      });
      var tt, nt = Te("Hours", true), st = { calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, longDateFormat: { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, invalidDate: "Invalid date", ordinal: "%d", dayOfMonthOrdinalParse: /\d{1,2}/, relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, months: Ce, monthsShort: He, week: { dow: 0, doy: 6 }, weekdays: Ze, weekdaysMin: $e, weekdaysShort: ze, meridiemParse: /[ap]\.?m?\.?/i }, it = {}, rt = {};
      function at(e3) {
        return e3 ? e3.toLowerCase().replace("_", "-") : e3;
      }
      function ot(e3) {
        var t4 = null;
        if (!it[e3] && true && module && module.exports)
          try {
            t4 = tt._abbr, commonjsRequire("./locale/" + e3), ut(t4);
          } catch (e4) {
          }
        return it[e3];
      }
      function ut(e3, t4) {
        var n2;
        return e3 && ((n2 = l(t4) ? ht(e3) : lt(e3, t4)) ? tt = n2 : "undefined" != typeof console && console.warn && console.warn("Locale " + e3 + " not found. Did you forget to load it?")), tt._abbr;
      }
      function lt(e3, t4) {
        if (null === t4)
          return delete it[e3], null;
        var n2, s3 = st;
        if (t4.abbr = e3, null != it[e3])
          T("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), s3 = it[e3]._config;
        else if (null != t4.parentLocale)
          if (null != it[t4.parentLocale])
            s3 = it[t4.parentLocale]._config;
          else {
            if (null == (n2 = ot(t4.parentLocale)))
              return rt[t4.parentLocale] || (rt[t4.parentLocale] = []), rt[t4.parentLocale].push({ name: e3, config: t4 }), null;
            s3 = n2._config;
          }
        return it[e3] = new P(x2(s3, t4)), rt[e3] && rt[e3].forEach(function(e4) {
          lt(e4.name, e4.config);
        }), ut(e3), it[e3];
      }
      function ht(e3) {
        var t4;
        if (e3 && e3._locale && e3._locale._abbr && (e3 = e3._locale._abbr), !e3)
          return tt;
        if (!o(e3)) {
          if (t4 = ot(e3))
            return t4;
          e3 = [e3];
        }
        return function(e4) {
          for (var t5, n2, s3, i2, r2 = 0; r2 < e4.length; ) {
            for (t5 = (i2 = at(e4[r2]).split("-")).length, n2 = (n2 = at(e4[r2 + 1])) ? n2.split("-") : null; 0 < t5; ) {
              if (s3 = ot(i2.slice(0, t5).join("-")))
                return s3;
              if (n2 && n2.length >= t5 && a2(i2, n2, true) >= t5 - 1)
                break;
              t5--;
            }
            r2++;
          }
          return tt;
        }(e3);
      }
      function dt(e3) {
        var t4, n2 = e3._a;
        return n2 && -2 === g(e3).overflow && (t4 = n2[_e] < 0 || 11 < n2[_e] ? _e : n2[ye] < 1 || n2[ye] > Pe(n2[me], n2[_e]) ? ye : n2[ge] < 0 || 24 < n2[ge] || 24 === n2[ge] && (0 !== n2[ve] || 0 !== n2[pe] || 0 !== n2[we]) ? ge : n2[ve] < 0 || 59 < n2[ve] ? ve : n2[pe] < 0 || 59 < n2[pe] ? pe : n2[we] < 0 || 999 < n2[we] ? we : -1, g(e3)._overflowDayOfYear && (t4 < me || ye < t4) && (t4 = ye), g(e3)._overflowWeeks && -1 === t4 && (t4 = Me), g(e3)._overflowWeekday && -1 === t4 && (t4 = ke), g(e3).overflow = t4), e3;
      }
      function ct(e3, t4, n2) {
        return null != e3 ? e3 : null != t4 ? t4 : n2;
      }
      function ft(e3) {
        var t4, n2, s3, i2, r2, a3 = [];
        if (!e3._d) {
          var o2, u2;
          for (o2 = e3, u2 = new Date(c2.now()), s3 = o2._useUTC ? [u2.getUTCFullYear(), u2.getUTCMonth(), u2.getUTCDate()] : [u2.getFullYear(), u2.getMonth(), u2.getDate()], e3._w && null == e3._a[ye] && null == e3._a[_e] && function(e4) {
            var t5, n3, s4, i3, r3, a4, o3, u3;
            if (null != (t5 = e4._w).GG || null != t5.W || null != t5.E)
              r3 = 1, a4 = 4, n3 = ct(t5.GG, e4._a[me], Ie(bt(), 1, 4).year), s4 = ct(t5.W, 1), ((i3 = ct(t5.E, 1)) < 1 || 7 < i3) && (u3 = true);
            else {
              r3 = e4._locale._week.dow, a4 = e4._locale._week.doy;
              var l2 = Ie(bt(), r3, a4);
              n3 = ct(t5.gg, e4._a[me], l2.year), s4 = ct(t5.w, l2.week), null != t5.d ? ((i3 = t5.d) < 0 || 6 < i3) && (u3 = true) : null != t5.e ? (i3 = t5.e + r3, (t5.e < 0 || 6 < t5.e) && (u3 = true)) : i3 = r3;
            }
            s4 < 1 || s4 > Ae(n3, r3, a4) ? g(e4)._overflowWeeks = true : null != u3 ? g(e4)._overflowWeekday = true : (o3 = Ee(n3, s4, i3, r3, a4), e4._a[me] = o3.year, e4._dayOfYear = o3.dayOfYear);
          }(e3), null != e3._dayOfYear && (r2 = ct(e3._a[me], s3[me]), (e3._dayOfYear > Se(r2) || 0 === e3._dayOfYear) && (g(e3)._overflowDayOfYear = true), n2 = Ge(r2, 0, e3._dayOfYear), e3._a[_e] = n2.getUTCMonth(), e3._a[ye] = n2.getUTCDate()), t4 = 0; t4 < 3 && null == e3._a[t4]; ++t4)
            e3._a[t4] = a3[t4] = s3[t4];
          for (; t4 < 7; t4++)
            e3._a[t4] = a3[t4] = null == e3._a[t4] ? 2 === t4 ? 1 : 0 : e3._a[t4];
          24 === e3._a[ge] && 0 === e3._a[ve] && 0 === e3._a[pe] && 0 === e3._a[we] && (e3._nextDay = true, e3._a[ge] = 0), e3._d = (e3._useUTC ? Ge : function(e4, t5, n3, s4, i3, r3, a4) {
            var o3;
            return e4 < 100 && 0 <= e4 ? (o3 = new Date(e4 + 400, t5, n3, s4, i3, r3, a4), isFinite(o3.getFullYear()) && o3.setFullYear(e4)) : o3 = new Date(e4, t5, n3, s4, i3, r3, a4), o3;
          }).apply(null, a3), i2 = e3._useUTC ? e3._d.getUTCDay() : e3._d.getDay(), null != e3._tzm && e3._d.setUTCMinutes(e3._d.getUTCMinutes() - e3._tzm), e3._nextDay && (e3._a[ge] = 24), e3._w && void 0 !== e3._w.d && e3._w.d !== i2 && (g(e3).weekdayMismatch = true);
        }
      }
      var mt = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, _t = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, yt = /Z|[+-]\d\d(?::?\d\d)?/, gt = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, false], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, false], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, false], ["YYYYDDD", /\d{7}/]], vt = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], pt = /^\/?Date\((\-?\d+)/i;
      function wt(e3) {
        var t4, n2, s3, i2, r2, a3, o2 = e3._i, u2 = mt.exec(o2) || _t.exec(o2);
        if (u2) {
          for (g(e3).iso = true, t4 = 0, n2 = gt.length; t4 < n2; t4++)
            if (gt[t4][1].exec(u2[1])) {
              i2 = gt[t4][0], s3 = false !== gt[t4][2];
              break;
            }
          if (null == i2)
            return void (e3._isValid = false);
          if (u2[3]) {
            for (t4 = 0, n2 = vt.length; t4 < n2; t4++)
              if (vt[t4][1].exec(u2[3])) {
                r2 = (u2[2] || " ") + vt[t4][0];
                break;
              }
            if (null == r2)
              return void (e3._isValid = false);
          }
          if (!s3 && null != r2)
            return void (e3._isValid = false);
          if (u2[4]) {
            if (!yt.exec(u2[4]))
              return void (e3._isValid = false);
            a3 = "Z";
          }
          e3._f = i2 + (r2 || "") + (a3 || ""), Yt(e3);
        } else
          e3._isValid = false;
      }
      var Mt = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;
      function kt(e3, t4, n2, s3, i2, r2) {
        var a3 = [function(e4) {
          var t5 = parseInt(e4, 10);
          {
            if (t5 <= 49)
              return 2e3 + t5;
            if (t5 <= 999)
              return 1900 + t5;
          }
          return t5;
        }(e3), He.indexOf(t4), parseInt(n2, 10), parseInt(s3, 10), parseInt(i2, 10)];
        return r2 && a3.push(parseInt(r2, 10)), a3;
      }
      var St = { UT: 0, GMT: 0, EDT: -240, EST: -300, CDT: -300, CST: -360, MDT: -360, MST: -420, PDT: -420, PST: -480 };
      function Dt(e3) {
        var t4, n2, s3, i2 = Mt.exec(e3._i.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, ""));
        if (i2) {
          var r2 = kt(i2[4], i2[3], i2[2], i2[5], i2[6], i2[7]);
          if (t4 = i2[1], n2 = r2, s3 = e3, t4 && ze.indexOf(t4) !== new Date(n2[0], n2[1], n2[2]).getDay() && (g(s3).weekdayMismatch = true, !(s3._isValid = false)))
            return;
          e3._a = r2, e3._tzm = function(e4, t5, n3) {
            if (e4)
              return St[e4];
            if (t5)
              return 0;
            var s4 = parseInt(n3, 10), i3 = s4 % 100;
            return (s4 - i3) / 100 * 60 + i3;
          }(i2[8], i2[9], i2[10]), e3._d = Ge.apply(null, e3._a), e3._d.setUTCMinutes(e3._d.getUTCMinutes() - e3._tzm), g(e3).rfc2822 = true;
        } else
          e3._isValid = false;
      }
      function Yt(e3) {
        if (e3._f !== c2.ISO_8601)
          if (e3._f !== c2.RFC_2822) {
            e3._a = [], g(e3).empty = true;
            var t4, n2, s3, i2, r2, a3, o2, u2, l2 = "" + e3._i, h2 = l2.length, d2 = 0;
            for (s3 = j(e3._f, e3._locale).match(N) || [], t4 = 0; t4 < s3.length; t4++)
              i2 = s3[t4], (n2 = (l2.match(le(i2, e3)) || [])[0]) && (0 < (r2 = l2.substr(0, l2.indexOf(n2))).length && g(e3).unusedInput.push(r2), l2 = l2.slice(l2.indexOf(n2) + n2.length), d2 += n2.length), E2[i2] ? (n2 ? g(e3).empty = false : g(e3).unusedTokens.push(i2), a3 = i2, u2 = e3, null != (o2 = n2) && m(de, a3) && de[a3](o2, u2._a, u2, a3)) : e3._strict && !n2 && g(e3).unusedTokens.push(i2);
            g(e3).charsLeftOver = h2 - d2, 0 < l2.length && g(e3).unusedInput.push(l2), e3._a[ge] <= 12 && true === g(e3).bigHour && 0 < e3._a[ge] && (g(e3).bigHour = void 0), g(e3).parsedDateParts = e3._a.slice(0), g(e3).meridiem = e3._meridiem, e3._a[ge] = function(e4, t5, n3) {
              var s4;
              if (null == n3)
                return t5;
              return null != e4.meridiemHour ? e4.meridiemHour(t5, n3) : (null != e4.isPM && ((s4 = e4.isPM(n3)) && t5 < 12 && (t5 += 12), s4 || 12 !== t5 || (t5 = 0)), t5);
            }(e3._locale, e3._a[ge], e3._meridiem), ft(e3), dt(e3);
          } else
            Dt(e3);
        else
          wt(e3);
      }
      function Ot(e3) {
        var t4, n2, s3, i2, r2 = e3._i, a3 = e3._f;
        return e3._locale = e3._locale || ht(e3._l), null === r2 || void 0 === a3 && "" === r2 ? p({ nullInput: true }) : ("string" == typeof r2 && (e3._i = r2 = e3._locale.preparse(r2)), k2(r2) ? new M2(dt(r2)) : (d(r2) ? e3._d = r2 : o(a3) ? function(e4) {
          var t5, n3, s4, i3, r3;
          if (0 === e4._f.length)
            return g(e4).invalidFormat = true, e4._d = new Date(NaN);
          for (i3 = 0; i3 < e4._f.length; i3++)
            r3 = 0, t5 = w({}, e4), null != e4._useUTC && (t5._useUTC = e4._useUTC), t5._f = e4._f[i3], Yt(t5), v(t5) && (r3 += g(t5).charsLeftOver, r3 += 10 * g(t5).unusedTokens.length, g(t5).score = r3, (null == s4 || r3 < s4) && (s4 = r3, n3 = t5));
          _2(e4, n3 || t5);
        }(e3) : a3 ? Yt(e3) : l(n2 = (t4 = e3)._i) ? t4._d = new Date(c2.now()) : d(n2) ? t4._d = new Date(n2.valueOf()) : "string" == typeof n2 ? (s3 = t4, null === (i2 = pt.exec(s3._i)) ? (wt(s3), false === s3._isValid && (delete s3._isValid, Dt(s3), false === s3._isValid && (delete s3._isValid, c2.createFromInputFallback(s3)))) : s3._d = new Date(+i2[1])) : o(n2) ? (t4._a = f(n2.slice(0), function(e4) {
          return parseInt(e4, 10);
        }), ft(t4)) : u(n2) ? function(e4) {
          if (!e4._d) {
            var t5 = R(e4._i);
            e4._a = f([t5.year, t5.month, t5.day || t5.date, t5.hour, t5.minute, t5.second, t5.millisecond], function(e6) {
              return e6 && parseInt(e6, 10);
            }), ft(e4);
          }
        }(t4) : h(n2) ? t4._d = new Date(n2) : c2.createFromInputFallback(t4), v(e3) || (e3._d = null), e3));
      }
      function Tt(e3, t4, n2, s3, i2) {
        var r2, a3 = {};
        return true !== n2 && false !== n2 || (s3 = n2, n2 = void 0), (u(e3) && function(e4) {
          if (Object.getOwnPropertyNames)
            return 0 === Object.getOwnPropertyNames(e4).length;
          var t5;
          for (t5 in e4)
            if (e4.hasOwnProperty(t5))
              return false;
          return true;
        }(e3) || o(e3) && 0 === e3.length) && (e3 = void 0), a3._isAMomentObject = true, a3._useUTC = a3._isUTC = i2, a3._l = n2, a3._i = e3, a3._f = t4, a3._strict = s3, (r2 = new M2(dt(Ot(a3))))._nextDay && (r2.add(1, "d"), r2._nextDay = void 0), r2;
      }
      function bt(e3, t4, n2, s3) {
        return Tt(e3, t4, n2, s3, false);
      }
      c2.createFromInputFallback = n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(e3) {
        e3._d = new Date(e3._i + (e3._useUTC ? " UTC" : ""));
      }), c2.ISO_8601 = function() {
      }, c2.RFC_2822 = function() {
      };
      var xt = n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e3 = bt.apply(null, arguments);
        return this.isValid() && e3.isValid() ? e3 < this ? this : e3 : p();
      }), Pt = n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
        var e3 = bt.apply(null, arguments);
        return this.isValid() && e3.isValid() ? this < e3 ? this : e3 : p();
      });
      function Wt(e3, t4) {
        var n2, s3;
        if (1 === t4.length && o(t4[0]) && (t4 = t4[0]), !t4.length)
          return bt();
        for (n2 = t4[0], s3 = 1; s3 < t4.length; ++s3)
          t4[s3].isValid() && !t4[s3][e3](n2) || (n2 = t4[s3]);
        return n2;
      }
      var Ct = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"];
      function Ht(e3) {
        var t4 = R(e3), n2 = t4.year || 0, s3 = t4.quarter || 0, i2 = t4.month || 0, r2 = t4.week || t4.isoWeek || 0, a3 = t4.day || 0, o2 = t4.hour || 0, u2 = t4.minute || 0, l2 = t4.second || 0, h2 = t4.millisecond || 0;
        this._isValid = function(e4) {
          for (var t5 in e4)
            if (-1 === Ye.call(Ct, t5) || null != e4[t5] && isNaN(e4[t5]))
              return false;
          for (var n3 = false, s4 = 0; s4 < Ct.length; ++s4)
            if (e4[Ct[s4]]) {
              if (n3)
                return false;
              parseFloat(e4[Ct[s4]]) !== D2(e4[Ct[s4]]) && (n3 = true);
            }
          return true;
        }(t4), this._milliseconds = +h2 + 1e3 * l2 + 6e4 * u2 + 1e3 * o2 * 60 * 60, this._days = +a3 + 7 * r2, this._months = +i2 + 3 * s3 + 12 * n2, this._data = {}, this._locale = ht(), this._bubble();
      }
      function Rt(e3) {
        return e3 instanceof Ht;
      }
      function Ut(e3) {
        return e3 < 0 ? -1 * Math.round(-1 * e3) : Math.round(e3);
      }
      function Ft(e3, n2) {
        I(e3, 0, 0, function() {
          var e4 = this.utcOffset(), t4 = "+";
          return e4 < 0 && (e4 = -e4, t4 = "-"), t4 + L(~~(e4 / 60), 2) + n2 + L(~~e4 % 60, 2);
        });
      }
      Ft("Z", ":"), Ft("ZZ", ""), ue("Z", re2), ue("ZZ", re2), ce(["Z", "ZZ"], function(e3, t4, n2) {
        n2._useUTC = true, n2._tzm = Nt(re2, e3);
      });
      var Lt = /([\+\-]|\d\d)/gi;
      function Nt(e3, t4) {
        var n2 = (t4 || "").match(e3);
        if (null === n2)
          return null;
        var s3 = ((n2[n2.length - 1] || []) + "").match(Lt) || ["-", 0, 0], i2 = 60 * s3[1] + D2(s3[2]);
        return 0 === i2 ? 0 : "+" === s3[0] ? i2 : -i2;
      }
      function Gt(e3, t4) {
        var n2, s3;
        return t4._isUTC ? (n2 = t4.clone(), s3 = (k2(e3) || d(e3) ? e3.valueOf() : bt(e3).valueOf()) - n2.valueOf(), n2._d.setTime(n2._d.valueOf() + s3), c2.updateOffset(n2, false), n2) : bt(e3).local();
      }
      function Vt(e3) {
        return 15 * -Math.round(e3._d.getTimezoneOffset() / 15);
      }
      function Et() {
        return !!this.isValid() && (this._isUTC && 0 === this._offset);
      }
      c2.updateOffset = function() {
      };
      var It = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, At = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
      function jt(e3, t4) {
        var n2, s3, i2, r2 = e3, a3 = null;
        return Rt(e3) ? r2 = { ms: e3._milliseconds, d: e3._days, M: e3._months } : h(e3) ? (r2 = {}, t4 ? r2[t4] = e3 : r2.milliseconds = e3) : (a3 = It.exec(e3)) ? (n2 = "-" === a3[1] ? -1 : 1, r2 = { y: 0, d: D2(a3[ye]) * n2, h: D2(a3[ge]) * n2, m: D2(a3[ve]) * n2, s: D2(a3[pe]) * n2, ms: D2(Ut(1e3 * a3[we])) * n2 }) : (a3 = At.exec(e3)) ? (n2 = "-" === a3[1] ? -1 : 1, r2 = { y: Zt(a3[2], n2), M: Zt(a3[3], n2), w: Zt(a3[4], n2), d: Zt(a3[5], n2), h: Zt(a3[6], n2), m: Zt(a3[7], n2), s: Zt(a3[8], n2) }) : null == r2 ? r2 = {} : "object" == typeof r2 && ("from" in r2 || "to" in r2) && (i2 = function(e4, t5) {
          var n3;
          if (!e4.isValid() || !t5.isValid())
            return { milliseconds: 0, months: 0 };
          t5 = Gt(t5, e4), e4.isBefore(t5) ? n3 = zt(e4, t5) : ((n3 = zt(t5, e4)).milliseconds = -n3.milliseconds, n3.months = -n3.months);
          return n3;
        }(bt(r2.from), bt(r2.to)), (r2 = {}).ms = i2.milliseconds, r2.M = i2.months), s3 = new Ht(r2), Rt(e3) && m(e3, "_locale") && (s3._locale = e3._locale), s3;
      }
      function Zt(e3, t4) {
        var n2 = e3 && parseFloat(e3.replace(",", "."));
        return (isNaN(n2) ? 0 : n2) * t4;
      }
      function zt(e3, t4) {
        var n2 = {};
        return n2.months = t4.month() - e3.month() + 12 * (t4.year() - e3.year()), e3.clone().add(n2.months, "M").isAfter(t4) && --n2.months, n2.milliseconds = +t4 - +e3.clone().add(n2.months, "M"), n2;
      }
      function $t(s3, i2) {
        return function(e3, t4) {
          var n2;
          return null === t4 || isNaN(+t4) || (T(i2, "moment()." + i2 + "(period, number) is deprecated. Please use moment()." + i2 + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), n2 = e3, e3 = t4, t4 = n2), qt(this, jt(e3 = "string" == typeof e3 ? +e3 : e3, t4), s3), this;
        };
      }
      function qt(e3, t4, n2, s3) {
        var i2 = t4._milliseconds, r2 = Ut(t4._days), a3 = Ut(t4._months);
        e3.isValid() && (s3 = null == s3 || s3, a3 && Re(e3, be(e3, "Month") + a3 * n2), r2 && xe(e3, "Date", be(e3, "Date") + r2 * n2), i2 && e3._d.setTime(e3._d.valueOf() + i2 * n2), s3 && c2.updateOffset(e3, r2 || a3));
      }
      jt.fn = Ht.prototype, jt.invalid = function() {
        return jt(NaN);
      };
      var Jt = $t(1, "add"), Bt = $t(-1, "subtract");
      function Qt(e3, t4) {
        var n2 = 12 * (t4.year() - e3.year()) + (t4.month() - e3.month()), s3 = e3.clone().add(n2, "months");
        return -(n2 + (t4 - s3 < 0 ? (t4 - s3) / (s3 - e3.clone().add(n2 - 1, "months")) : (t4 - s3) / (e3.clone().add(n2 + 1, "months") - s3))) || 0;
      }
      function Xt(e3) {
        var t4;
        return void 0 === e3 ? this._locale._abbr : (null != (t4 = ht(e3)) && (this._locale = t4), this);
      }
      c2.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", c2.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
      var Kt = n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e3) {
        return void 0 === e3 ? this.localeData() : this.locale(e3);
      });
      function en() {
        return this._locale;
      }
      var tn = 126227808e5;
      function nn(e3, t4) {
        return (e3 % t4 + t4) % t4;
      }
      function sn(e3, t4, n2) {
        return e3 < 100 && 0 <= e3 ? new Date(e3 + 400, t4, n2) - tn : new Date(e3, t4, n2).valueOf();
      }
      function rn(e3, t4, n2) {
        return e3 < 100 && 0 <= e3 ? Date.UTC(e3 + 400, t4, n2) - tn : Date.UTC(e3, t4, n2);
      }
      function an(e3, t4) {
        I(0, [e3, e3.length], 0, t4);
      }
      function on(e3, t4, n2, s3, i2) {
        var r2;
        return null == e3 ? Ie(this, s3, i2).year : ((r2 = Ae(e3, s3, i2)) < t4 && (t4 = r2), function(e4, t5, n3, s4, i3) {
          var r3 = Ee(e4, t5, n3, s4, i3), a3 = Ge(r3.year, 0, r3.dayOfYear);
          return this.year(a3.getUTCFullYear()), this.month(a3.getUTCMonth()), this.date(a3.getUTCDate()), this;
        }.call(this, e3, t4, n2, s3, i2));
      }
      I(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100;
      }), I(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100;
      }), an("gggg", "weekYear"), an("ggggg", "weekYear"), an("GGGG", "isoWeekYear"), an("GGGGG", "isoWeekYear"), C2("weekYear", "gg"), C2("isoWeekYear", "GG"), F("weekYear", 1), F("isoWeekYear", 1), ue("G", se), ue("g", se), ue("GG", B2, z), ue("gg", B2, z), ue("GGGG", ee, q), ue("gggg", ee, q), ue("GGGGG", te, J), ue("ggggg", te, J), fe(["gggg", "ggggg", "GGGG", "GGGGG"], function(e3, t4, n2, s3) {
        t4[s3.substr(0, 2)] = D2(e3);
      }), fe(["gg", "GG"], function(e3, t4, n2, s3) {
        t4[s3] = c2.parseTwoDigitYear(e3);
      }), I("Q", 0, "Qo", "quarter"), C2("quarter", "Q"), F("quarter", 7), ue("Q", Z), ce("Q", function(e3, t4) {
        t4[_e] = 3 * (D2(e3) - 1);
      }), I("D", ["DD", 2], "Do", "date"), C2("date", "D"), F("date", 9), ue("D", B2), ue("DD", B2, z), ue("Do", function(e3, t4) {
        return e3 ? t4._dayOfMonthOrdinalParse || t4._ordinalParse : t4._dayOfMonthOrdinalParseLenient;
      }), ce(["D", "DD"], ye), ce("Do", function(e3, t4) {
        t4[ye] = D2(e3.match(B2)[0]);
      });
      var un = Te("Date", true);
      I("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), C2("dayOfYear", "DDD"), F("dayOfYear", 4), ue("DDD", K2), ue("DDDD", $), ce(["DDD", "DDDD"], function(e3, t4, n2) {
        n2._dayOfYear = D2(e3);
      }), I("m", ["mm", 2], 0, "minute"), C2("minute", "m"), F("minute", 14), ue("m", B2), ue("mm", B2, z), ce(["m", "mm"], ve);
      var ln = Te("Minutes", false);
      I("s", ["ss", 2], 0, "second"), C2("second", "s"), F("second", 15), ue("s", B2), ue("ss", B2, z), ce(["s", "ss"], pe);
      var hn, dn = Te("Seconds", false);
      for (I("S", 0, 0, function() {
        return ~~(this.millisecond() / 100);
      }), I(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10);
      }), I(0, ["SSS", 3], 0, "millisecond"), I(0, ["SSSS", 4], 0, function() {
        return 10 * this.millisecond();
      }), I(0, ["SSSSS", 5], 0, function() {
        return 100 * this.millisecond();
      }), I(0, ["SSSSSS", 6], 0, function() {
        return 1e3 * this.millisecond();
      }), I(0, ["SSSSSSS", 7], 0, function() {
        return 1e4 * this.millisecond();
      }), I(0, ["SSSSSSSS", 8], 0, function() {
        return 1e5 * this.millisecond();
      }), I(0, ["SSSSSSSSS", 9], 0, function() {
        return 1e6 * this.millisecond();
      }), C2("millisecond", "ms"), F("millisecond", 16), ue("S", K2, Z), ue("SS", K2, z), ue("SSS", K2, $), hn = "SSSS"; hn.length <= 9; hn += "S")
        ue(hn, ne);
      function cn(e3, t4) {
        t4[we] = D2(1e3 * ("0." + e3));
      }
      for (hn = "S"; hn.length <= 9; hn += "S")
        ce(hn, cn);
      var fn = Te("Milliseconds", false);
      I("z", 0, 0, "zoneAbbr"), I("zz", 0, 0, "zoneName");
      var mn = M2.prototype;
      function _n(e3) {
        return e3;
      }
      mn.add = Jt, mn.calendar = function(e3, t4) {
        var n2 = e3 || bt(), s3 = Gt(n2, this).startOf("day"), i2 = c2.calendarFormat(this, s3) || "sameElse", r2 = t4 && (b(t4[i2]) ? t4[i2].call(this, n2) : t4[i2]);
        return this.format(r2 || this.localeData().calendar(i2, this, bt(n2)));
      }, mn.clone = function() {
        return new M2(this);
      }, mn.diff = function(e3, t4, n2) {
        var s3, i2, r2;
        if (!this.isValid())
          return NaN;
        if (!(s3 = Gt(e3, this)).isValid())
          return NaN;
        switch (i2 = 6e4 * (s3.utcOffset() - this.utcOffset()), t4 = H(t4)) {
          case "year":
            r2 = Qt(this, s3) / 12;
            break;
          case "month":
            r2 = Qt(this, s3);
            break;
          case "quarter":
            r2 = Qt(this, s3) / 3;
            break;
          case "second":
            r2 = (this - s3) / 1e3;
            break;
          case "minute":
            r2 = (this - s3) / 6e4;
            break;
          case "hour":
            r2 = (this - s3) / 36e5;
            break;
          case "day":
            r2 = (this - s3 - i2) / 864e5;
            break;
          case "week":
            r2 = (this - s3 - i2) / 6048e5;
            break;
          default:
            r2 = this - s3;
        }
        return n2 ? r2 : S(r2);
      }, mn.endOf = function(e3) {
        var t4;
        if (void 0 === (e3 = H(e3)) || "millisecond" === e3 || !this.isValid())
          return this;
        var n2 = this._isUTC ? rn : sn;
        switch (e3) {
          case "year":
            t4 = n2(this.year() + 1, 0, 1) - 1;
            break;
          case "quarter":
            t4 = n2(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;
            break;
          case "month":
            t4 = n2(this.year(), this.month() + 1, 1) - 1;
            break;
          case "week":
            t4 = n2(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
            break;
          case "isoWeek":
            t4 = n2(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
            break;
          case "day":
          case "date":
            t4 = n2(this.year(), this.month(), this.date() + 1) - 1;
            break;
          case "hour":
            t4 = this._d.valueOf(), t4 += 36e5 - nn(t4 + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5) - 1;
            break;
          case "minute":
            t4 = this._d.valueOf(), t4 += 6e4 - nn(t4, 6e4) - 1;
            break;
          case "second":
            t4 = this._d.valueOf(), t4 += 1e3 - nn(t4, 1e3) - 1;
            break;
        }
        return this._d.setTime(t4), c2.updateOffset(this, true), this;
      }, mn.format = function(e3) {
        e3 || (e3 = this.isUtc() ? c2.defaultFormatUtc : c2.defaultFormat);
        var t4 = A5(this, e3);
        return this.localeData().postformat(t4);
      }, mn.from = function(e3, t4) {
        return this.isValid() && (k2(e3) && e3.isValid() || bt(e3).isValid()) ? jt({ to: this, from: e3 }).locale(this.locale()).humanize(!t4) : this.localeData().invalidDate();
      }, mn.fromNow = function(e3) {
        return this.from(bt(), e3);
      }, mn.to = function(e3, t4) {
        return this.isValid() && (k2(e3) && e3.isValid() || bt(e3).isValid()) ? jt({ from: this, to: e3 }).locale(this.locale()).humanize(!t4) : this.localeData().invalidDate();
      }, mn.toNow = function(e3) {
        return this.to(bt(), e3);
      }, mn.get = function(e3) {
        return b(this[e3 = H(e3)]) ? this[e3]() : this;
      }, mn.invalidAt = function() {
        return g(this).overflow;
      }, mn.isAfter = function(e3, t4) {
        var n2 = k2(e3) ? e3 : bt(e3);
        return !(!this.isValid() || !n2.isValid()) && ("millisecond" === (t4 = H(t4) || "millisecond") ? this.valueOf() > n2.valueOf() : n2.valueOf() < this.clone().startOf(t4).valueOf());
      }, mn.isBefore = function(e3, t4) {
        var n2 = k2(e3) ? e3 : bt(e3);
        return !(!this.isValid() || !n2.isValid()) && ("millisecond" === (t4 = H(t4) || "millisecond") ? this.valueOf() < n2.valueOf() : this.clone().endOf(t4).valueOf() < n2.valueOf());
      }, mn.isBetween = function(e3, t4, n2, s3) {
        var i2 = k2(e3) ? e3 : bt(e3), r2 = k2(t4) ? t4 : bt(t4);
        return !!(this.isValid() && i2.isValid() && r2.isValid()) && ("(" === (s3 = s3 || "()")[0] ? this.isAfter(i2, n2) : !this.isBefore(i2, n2)) && (")" === s3[1] ? this.isBefore(r2, n2) : !this.isAfter(r2, n2));
      }, mn.isSame = function(e3, t4) {
        var n2, s3 = k2(e3) ? e3 : bt(e3);
        return !(!this.isValid() || !s3.isValid()) && ("millisecond" === (t4 = H(t4) || "millisecond") ? this.valueOf() === s3.valueOf() : (n2 = s3.valueOf(), this.clone().startOf(t4).valueOf() <= n2 && n2 <= this.clone().endOf(t4).valueOf()));
      }, mn.isSameOrAfter = function(e3, t4) {
        return this.isSame(e3, t4) || this.isAfter(e3, t4);
      }, mn.isSameOrBefore = function(e3, t4) {
        return this.isSame(e3, t4) || this.isBefore(e3, t4);
      }, mn.isValid = function() {
        return v(this);
      }, mn.lang = Kt, mn.locale = Xt, mn.localeData = en, mn.max = Pt, mn.min = xt, mn.parsingFlags = function() {
        return _2({}, g(this));
      }, mn.set = function(e3, t4) {
        if ("object" == typeof e3)
          for (var n2 = function(e4) {
            var t5 = [];
            for (var n3 in e4)
              t5.push({ unit: n3, priority: U[n3] });
            return t5.sort(function(e6, t6) {
              return e6.priority - t6.priority;
            }), t5;
          }(e3 = R(e3)), s3 = 0; s3 < n2.length; s3++)
            this[n2[s3].unit](e3[n2[s3].unit]);
        else if (b(this[e3 = H(e3)]))
          return this[e3](t4);
        return this;
      }, mn.startOf = function(e3) {
        var t4;
        if (void 0 === (e3 = H(e3)) || "millisecond" === e3 || !this.isValid())
          return this;
        var n2 = this._isUTC ? rn : sn;
        switch (e3) {
          case "year":
            t4 = n2(this.year(), 0, 1);
            break;
          case "quarter":
            t4 = n2(this.year(), this.month() - this.month() % 3, 1);
            break;
          case "month":
            t4 = n2(this.year(), this.month(), 1);
            break;
          case "week":
            t4 = n2(this.year(), this.month(), this.date() - this.weekday());
            break;
          case "isoWeek":
            t4 = n2(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
            break;
          case "day":
          case "date":
            t4 = n2(this.year(), this.month(), this.date());
            break;
          case "hour":
            t4 = this._d.valueOf(), t4 -= nn(t4 + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5);
            break;
          case "minute":
            t4 = this._d.valueOf(), t4 -= nn(t4, 6e4);
            break;
          case "second":
            t4 = this._d.valueOf(), t4 -= nn(t4, 1e3);
            break;
        }
        return this._d.setTime(t4), c2.updateOffset(this, true), this;
      }, mn.subtract = Bt, mn.toArray = function() {
        var e3 = this;
        return [e3.year(), e3.month(), e3.date(), e3.hour(), e3.minute(), e3.second(), e3.millisecond()];
      }, mn.toObject = function() {
        var e3 = this;
        return { years: e3.year(), months: e3.month(), date: e3.date(), hours: e3.hours(), minutes: e3.minutes(), seconds: e3.seconds(), milliseconds: e3.milliseconds() };
      }, mn.toDate = function() {
        return new Date(this.valueOf());
      }, mn.toISOString = function(e3) {
        if (!this.isValid())
          return null;
        var t4 = true !== e3, n2 = t4 ? this.clone().utc() : this;
        return n2.year() < 0 || 9999 < n2.year() ? A5(n2, t4 ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : b(Date.prototype.toISOString) ? t4 ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", A5(n2, "Z")) : A5(n2, t4 ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ");
      }, mn.inspect = function() {
        if (!this.isValid())
          return "moment.invalid(/* " + this._i + " */)";
        var e3 = "moment", t4 = "";
        this.isLocal() || (e3 = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", t4 = "Z");
        var n2 = "[" + e3 + '("]', s3 = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", i2 = t4 + '[")]';
        return this.format(n2 + s3 + "-MM-DD[T]HH:mm:ss.SSS" + i2);
      }, mn.toJSON = function() {
        return this.isValid() ? this.toISOString() : null;
      }, mn.toString = function() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
      }, mn.unix = function() {
        return Math.floor(this.valueOf() / 1e3);
      }, mn.valueOf = function() {
        return this._d.valueOf() - 6e4 * (this._offset || 0);
      }, mn.creationData = function() {
        return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict };
      }, mn.year = Oe, mn.isLeapYear = function() {
        return De(this.year());
      }, mn.weekYear = function(e3) {
        return on.call(this, e3, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
      }, mn.isoWeekYear = function(e3) {
        return on.call(this, e3, this.isoWeek(), this.isoWeekday(), 1, 4);
      }, mn.quarter = mn.quarters = function(e3) {
        return null == e3 ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e3 - 1) + this.month() % 3);
      }, mn.month = Ue, mn.daysInMonth = function() {
        return Pe(this.year(), this.month());
      }, mn.week = mn.weeks = function(e3) {
        var t4 = this.localeData().week(this);
        return null == e3 ? t4 : this.add(7 * (e3 - t4), "d");
      }, mn.isoWeek = mn.isoWeeks = function(e3) {
        var t4 = Ie(this, 1, 4).week;
        return null == e3 ? t4 : this.add(7 * (e3 - t4), "d");
      }, mn.weeksInYear = function() {
        var e3 = this.localeData()._week;
        return Ae(this.year(), e3.dow, e3.doy);
      }, mn.isoWeeksInYear = function() {
        return Ae(this.year(), 1, 4);
      }, mn.date = un, mn.day = mn.days = function(e3) {
        if (!this.isValid())
          return null != e3 ? this : NaN;
        var t4, n2, s3 = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != e3 ? (t4 = e3, n2 = this.localeData(), e3 = "string" != typeof t4 ? t4 : isNaN(t4) ? "number" == typeof (t4 = n2.weekdaysParse(t4)) ? t4 : null : parseInt(t4, 10), this.add(e3 - s3, "d")) : s3;
      }, mn.weekday = function(e3) {
        if (!this.isValid())
          return null != e3 ? this : NaN;
        var t4 = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == e3 ? t4 : this.add(e3 - t4, "d");
      }, mn.isoWeekday = function(e3) {
        if (!this.isValid())
          return null != e3 ? this : NaN;
        if (null == e3)
          return this.day() || 7;
        var t4, n2, s3 = (t4 = e3, n2 = this.localeData(), "string" == typeof t4 ? n2.weekdaysParse(t4) % 7 || 7 : isNaN(t4) ? null : t4);
        return this.day(this.day() % 7 ? s3 : s3 - 7);
      }, mn.dayOfYear = function(e3) {
        var t4 = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == e3 ? t4 : this.add(e3 - t4, "d");
      }, mn.hour = mn.hours = nt, mn.minute = mn.minutes = ln, mn.second = mn.seconds = dn, mn.millisecond = mn.milliseconds = fn, mn.utcOffset = function(e3, t4, n2) {
        var s3, i2 = this._offset || 0;
        if (!this.isValid())
          return null != e3 ? this : NaN;
        if (null == e3)
          return this._isUTC ? i2 : Vt(this);
        if ("string" == typeof e3) {
          if (null === (e3 = Nt(re2, e3)))
            return this;
        } else
          Math.abs(e3) < 16 && !n2 && (e3 *= 60);
        return !this._isUTC && t4 && (s3 = Vt(this)), this._offset = e3, this._isUTC = true, null != s3 && this.add(s3, "m"), i2 !== e3 && (!t4 || this._changeInProgress ? qt(this, jt(e3 - i2, "m"), 1, false) : this._changeInProgress || (this._changeInProgress = true, c2.updateOffset(this, true), this._changeInProgress = null)), this;
      }, mn.utc = function(e3) {
        return this.utcOffset(0, e3);
      }, mn.local = function(e3) {
        return this._isUTC && (this.utcOffset(0, e3), this._isUTC = false, e3 && this.subtract(Vt(this), "m")), this;
      }, mn.parseZone = function() {
        if (null != this._tzm)
          this.utcOffset(this._tzm, false, true);
        else if ("string" == typeof this._i) {
          var e3 = Nt(ie, this._i);
          null != e3 ? this.utcOffset(e3) : this.utcOffset(0, true);
        }
        return this;
      }, mn.hasAlignedHourOffset = function(e3) {
        return !!this.isValid() && (e3 = e3 ? bt(e3).utcOffset() : 0, (this.utcOffset() - e3) % 60 == 0);
      }, mn.isDST = function() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
      }, mn.isLocal = function() {
        return !!this.isValid() && !this._isUTC;
      }, mn.isUtcOffset = function() {
        return !!this.isValid() && this._isUTC;
      }, mn.isUtc = Et, mn.isUTC = Et, mn.zoneAbbr = function() {
        return this._isUTC ? "UTC" : "";
      }, mn.zoneName = function() {
        return this._isUTC ? "Coordinated Universal Time" : "";
      }, mn.dates = n("dates accessor is deprecated. Use date instead.", un), mn.months = n("months accessor is deprecated. Use month instead", Ue), mn.years = n("years accessor is deprecated. Use year instead", Oe), mn.zone = n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function(e3, t4) {
        return null != e3 ? ("string" != typeof e3 && (e3 = -e3), this.utcOffset(e3, t4), this) : -this.utcOffset();
      }), mn.isDSTShifted = n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function() {
        if (!l(this._isDSTShifted))
          return this._isDSTShifted;
        var e3 = {};
        if (w(e3, this), (e3 = Ot(e3))._a) {
          var t4 = e3._isUTC ? y2(e3._a) : bt(e3._a);
          this._isDSTShifted = this.isValid() && 0 < a2(e3._a, t4.toArray());
        } else
          this._isDSTShifted = false;
        return this._isDSTShifted;
      });
      var yn = P.prototype;
      function gn(e3, t4, n2, s3) {
        var i2 = ht(), r2 = y2().set(s3, t4);
        return i2[n2](r2, e3);
      }
      function vn(e3, t4, n2) {
        if (h(e3) && (t4 = e3, e3 = void 0), e3 = e3 || "", null != t4)
          return gn(e3, t4, n2, "month");
        var s3, i2 = [];
        for (s3 = 0; s3 < 12; s3++)
          i2[s3] = gn(e3, s3, n2, "month");
        return i2;
      }
      function pn(e3, t4, n2, s3) {
        t4 = ("boolean" == typeof e3 ? h(t4) && (n2 = t4, t4 = void 0) : (t4 = e3, e3 = false, h(n2 = t4) && (n2 = t4, t4 = void 0)), t4 || "");
        var i2, r2 = ht(), a3 = e3 ? r2._week.dow : 0;
        if (null != n2)
          return gn(t4, (n2 + a3) % 7, s3, "day");
        var o2 = [];
        for (i2 = 0; i2 < 7; i2++)
          o2[i2] = gn(t4, (i2 + a3) % 7, s3, "day");
        return o2;
      }
      yn.calendar = function(e3, t4, n2) {
        var s3 = this._calendar[e3] || this._calendar.sameElse;
        return b(s3) ? s3.call(t4, n2) : s3;
      }, yn.longDateFormat = function(e3) {
        var t4 = this._longDateFormat[e3], n2 = this._longDateFormat[e3.toUpperCase()];
        return t4 || !n2 ? t4 : (this._longDateFormat[e3] = n2.replace(/MMMM|MM|DD|dddd/g, function(e4) {
          return e4.slice(1);
        }), this._longDateFormat[e3]);
      }, yn.invalidDate = function() {
        return this._invalidDate;
      }, yn.ordinal = function(e3) {
        return this._ordinal.replace("%d", e3);
      }, yn.preparse = _n, yn.postformat = _n, yn.relativeTime = function(e3, t4, n2, s3) {
        var i2 = this._relativeTime[n2];
        return b(i2) ? i2(e3, t4, n2, s3) : i2.replace(/%d/i, e3);
      }, yn.pastFuture = function(e3, t4) {
        var n2 = this._relativeTime[0 < e3 ? "future" : "past"];
        return b(n2) ? n2(t4) : n2.replace(/%s/i, t4);
      }, yn.set = function(e3) {
        var t4, n2;
        for (n2 in e3)
          b(t4 = e3[n2]) ? this[n2] = t4 : this["_" + n2] = t4;
        this._config = e3, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source);
      }, yn.months = function(e3, t4) {
        return e3 ? o(this._months) ? this._months[e3.month()] : this._months[(this._months.isFormat || We).test(t4) ? "format" : "standalone"][e3.month()] : o(this._months) ? this._months : this._months.standalone;
      }, yn.monthsShort = function(e3, t4) {
        return e3 ? o(this._monthsShort) ? this._monthsShort[e3.month()] : this._monthsShort[We.test(t4) ? "format" : "standalone"][e3.month()] : o(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;
      }, yn.monthsParse = function(e3, t4, n2) {
        var s3, i2, r2;
        if (this._monthsParseExact)
          return function(e4, t5, n3) {
            var s4, i3, r3, a3 = e4.toLocaleLowerCase();
            if (!this._monthsParse)
              for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], s4 = 0; s4 < 12; ++s4)
                r3 = y2([2e3, s4]), this._shortMonthsParse[s4] = this.monthsShort(r3, "").toLocaleLowerCase(), this._longMonthsParse[s4] = this.months(r3, "").toLocaleLowerCase();
            return n3 ? "MMM" === t5 ? -1 !== (i3 = Ye.call(this._shortMonthsParse, a3)) ? i3 : null : -1 !== (i3 = Ye.call(this._longMonthsParse, a3)) ? i3 : null : "MMM" === t5 ? -1 !== (i3 = Ye.call(this._shortMonthsParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._longMonthsParse, a3)) ? i3 : null : -1 !== (i3 = Ye.call(this._longMonthsParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._shortMonthsParse, a3)) ? i3 : null;
          }.call(this, e3, t4, n2);
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), s3 = 0; s3 < 12; s3++) {
          if (i2 = y2([2e3, s3]), n2 && !this._longMonthsParse[s3] && (this._longMonthsParse[s3] = new RegExp("^" + this.months(i2, "").replace(".", "") + "$", "i"), this._shortMonthsParse[s3] = new RegExp("^" + this.monthsShort(i2, "").replace(".", "") + "$", "i")), n2 || this._monthsParse[s3] || (r2 = "^" + this.months(i2, "") + "|^" + this.monthsShort(i2, ""), this._monthsParse[s3] = new RegExp(r2.replace(".", ""), "i")), n2 && "MMMM" === t4 && this._longMonthsParse[s3].test(e3))
            return s3;
          if (n2 && "MMM" === t4 && this._shortMonthsParse[s3].test(e3))
            return s3;
          if (!n2 && this._monthsParse[s3].test(e3))
            return s3;
        }
      }, yn.monthsRegex = function(e3) {
        return this._monthsParseExact ? (m(this, "_monthsRegex") || Ne.call(this), e3 ? this._monthsStrictRegex : this._monthsRegex) : (m(this, "_monthsRegex") || (this._monthsRegex = Le), this._monthsStrictRegex && e3 ? this._monthsStrictRegex : this._monthsRegex);
      }, yn.monthsShortRegex = function(e3) {
        return this._monthsParseExact ? (m(this, "_monthsRegex") || Ne.call(this), e3 ? this._monthsShortStrictRegex : this._monthsShortRegex) : (m(this, "_monthsShortRegex") || (this._monthsShortRegex = Fe), this._monthsShortStrictRegex && e3 ? this._monthsShortStrictRegex : this._monthsShortRegex);
      }, yn.week = function(e3) {
        return Ie(e3, this._week.dow, this._week.doy).week;
      }, yn.firstDayOfYear = function() {
        return this._week.doy;
      }, yn.firstDayOfWeek = function() {
        return this._week.dow;
      }, yn.weekdays = function(e3, t4) {
        var n2 = o(this._weekdays) ? this._weekdays : this._weekdays[e3 && true !== e3 && this._weekdays.isFormat.test(t4) ? "format" : "standalone"];
        return true === e3 ? je(n2, this._week.dow) : e3 ? n2[e3.day()] : n2;
      }, yn.weekdaysMin = function(e3) {
        return true === e3 ? je(this._weekdaysMin, this._week.dow) : e3 ? this._weekdaysMin[e3.day()] : this._weekdaysMin;
      }, yn.weekdaysShort = function(e3) {
        return true === e3 ? je(this._weekdaysShort, this._week.dow) : e3 ? this._weekdaysShort[e3.day()] : this._weekdaysShort;
      }, yn.weekdaysParse = function(e3, t4, n2) {
        var s3, i2, r2;
        if (this._weekdaysParseExact)
          return function(e4, t5, n3) {
            var s4, i3, r3, a3 = e4.toLocaleLowerCase();
            if (!this._weekdaysParse)
              for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], s4 = 0; s4 < 7; ++s4)
                r3 = y2([2e3, 1]).day(s4), this._minWeekdaysParse[s4] = this.weekdaysMin(r3, "").toLocaleLowerCase(), this._shortWeekdaysParse[s4] = this.weekdaysShort(r3, "").toLocaleLowerCase(), this._weekdaysParse[s4] = this.weekdays(r3, "").toLocaleLowerCase();
            return n3 ? "dddd" === t5 ? -1 !== (i3 = Ye.call(this._weekdaysParse, a3)) ? i3 : null : "ddd" === t5 ? -1 !== (i3 = Ye.call(this._shortWeekdaysParse, a3)) ? i3 : null : -1 !== (i3 = Ye.call(this._minWeekdaysParse, a3)) ? i3 : null : "dddd" === t5 ? -1 !== (i3 = Ye.call(this._weekdaysParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._shortWeekdaysParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._minWeekdaysParse, a3)) ? i3 : null : "ddd" === t5 ? -1 !== (i3 = Ye.call(this._shortWeekdaysParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._weekdaysParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._minWeekdaysParse, a3)) ? i3 : null : -1 !== (i3 = Ye.call(this._minWeekdaysParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._weekdaysParse, a3)) ? i3 : -1 !== (i3 = Ye.call(this._shortWeekdaysParse, a3)) ? i3 : null;
          }.call(this, e3, t4, n2);
        for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), s3 = 0; s3 < 7; s3++) {
          if (i2 = y2([2e3, 1]).day(s3), n2 && !this._fullWeekdaysParse[s3] && (this._fullWeekdaysParse[s3] = new RegExp("^" + this.weekdays(i2, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[s3] = new RegExp("^" + this.weekdaysShort(i2, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[s3] = new RegExp("^" + this.weekdaysMin(i2, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[s3] || (r2 = "^" + this.weekdays(i2, "") + "|^" + this.weekdaysShort(i2, "") + "|^" + this.weekdaysMin(i2, ""), this._weekdaysParse[s3] = new RegExp(r2.replace(".", ""), "i")), n2 && "dddd" === t4 && this._fullWeekdaysParse[s3].test(e3))
            return s3;
          if (n2 && "ddd" === t4 && this._shortWeekdaysParse[s3].test(e3))
            return s3;
          if (n2 && "dd" === t4 && this._minWeekdaysParse[s3].test(e3))
            return s3;
          if (!n2 && this._weekdaysParse[s3].test(e3))
            return s3;
        }
      }, yn.weekdaysRegex = function(e3) {
        return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Qe.call(this), e3 ? this._weekdaysStrictRegex : this._weekdaysRegex) : (m(this, "_weekdaysRegex") || (this._weekdaysRegex = qe), this._weekdaysStrictRegex && e3 ? this._weekdaysStrictRegex : this._weekdaysRegex);
      }, yn.weekdaysShortRegex = function(e3) {
        return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Qe.call(this), e3 ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (m(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Je), this._weekdaysShortStrictRegex && e3 ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
      }, yn.weekdaysMinRegex = function(e3) {
        return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Qe.call(this), e3 ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (m(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Be), this._weekdaysMinStrictRegex && e3 ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
      }, yn.isPM = function(e3) {
        return "p" === (e3 + "").toLowerCase().charAt(0);
      }, yn.meridiem = function(e3, t4, n2) {
        return 11 < e3 ? n2 ? "pm" : "PM" : n2 ? "am" : "AM";
      }, ut("en", { dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function(e3) {
        var t4 = e3 % 10;
        return e3 + (1 === D2(e3 % 100 / 10) ? "th" : 1 === t4 ? "st" : 2 === t4 ? "nd" : 3 === t4 ? "rd" : "th");
      } }), c2.lang = n("moment.lang is deprecated. Use moment.locale instead.", ut), c2.langData = n("moment.langData is deprecated. Use moment.localeData instead.", ht);
      var wn = Math.abs;
      function Mn(e3, t4, n2, s3) {
        var i2 = jt(t4, n2);
        return e3._milliseconds += s3 * i2._milliseconds, e3._days += s3 * i2._days, e3._months += s3 * i2._months, e3._bubble();
      }
      function kn(e3) {
        return e3 < 0 ? Math.floor(e3) : Math.ceil(e3);
      }
      function Sn(e3) {
        return 4800 * e3 / 146097;
      }
      function Dn(e3) {
        return 146097 * e3 / 4800;
      }
      function Yn2(e3) {
        return function() {
          return this.as(e3);
        };
      }
      var On = Yn2("ms"), Tn = Yn2("s"), bn = Yn2("m"), xn = Yn2("h"), Pn = Yn2("d"), Wn = Yn2("w"), Cn = Yn2("M"), Hn = Yn2("Q"), Rn = Yn2("y");
      function Un(e3) {
        return function() {
          return this.isValid() ? this._data[e3] : NaN;
        };
      }
      var Fn = Un("milliseconds"), Ln = Un("seconds"), Nn = Un("minutes"), Gn = Un("hours"), Vn = Un("days"), En = Un("months"), In = Un("years");
      var An = Math.round, jn = { ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11 };
      var Zn2 = Math.abs;
      function zn(e3) {
        return (0 < e3) - (e3 < 0) || +e3;
      }
      function $n() {
        if (!this.isValid())
          return this.localeData().invalidDate();
        var e3, t4, n2 = Zn2(this._milliseconds) / 1e3, s3 = Zn2(this._days), i2 = Zn2(this._months);
        t4 = S((e3 = S(n2 / 60)) / 60), n2 %= 60, e3 %= 60;
        var r2 = S(i2 / 12), a3 = i2 %= 12, o2 = s3, u2 = t4, l2 = e3, h2 = n2 ? n2.toFixed(3).replace(/\.?0+$/, "") : "", d2 = this.asSeconds();
        if (!d2)
          return "P0D";
        var c3 = d2 < 0 ? "-" : "", f2 = zn(this._months) !== zn(d2) ? "-" : "", m2 = zn(this._days) !== zn(d2) ? "-" : "", _3 = zn(this._milliseconds) !== zn(d2) ? "-" : "";
        return c3 + "P" + (r2 ? f2 + r2 + "Y" : "") + (a3 ? f2 + a3 + "M" : "") + (o2 ? m2 + o2 + "D" : "") + (u2 || l2 || h2 ? "T" : "") + (u2 ? _3 + u2 + "H" : "") + (l2 ? _3 + l2 + "M" : "") + (h2 ? _3 + h2 + "S" : "");
      }
      var qn = Ht.prototype;
      return qn.isValid = function() {
        return this._isValid;
      }, qn.abs = function() {
        var e3 = this._data;
        return this._milliseconds = wn(this._milliseconds), this._days = wn(this._days), this._months = wn(this._months), e3.milliseconds = wn(e3.milliseconds), e3.seconds = wn(e3.seconds), e3.minutes = wn(e3.minutes), e3.hours = wn(e3.hours), e3.months = wn(e3.months), e3.years = wn(e3.years), this;
      }, qn.add = function(e3, t4) {
        return Mn(this, e3, t4, 1);
      }, qn.subtract = function(e3, t4) {
        return Mn(this, e3, t4, -1);
      }, qn.as = function(e3) {
        if (!this.isValid())
          return NaN;
        var t4, n2, s3 = this._milliseconds;
        if ("month" === (e3 = H(e3)) || "quarter" === e3 || "year" === e3)
          switch (t4 = this._days + s3 / 864e5, n2 = this._months + Sn(t4), e3) {
            case "month":
              return n2;
            case "quarter":
              return n2 / 3;
            case "year":
              return n2 / 12;
          }
        else
          switch (t4 = this._days + Math.round(Dn(this._months)), e3) {
            case "week":
              return t4 / 7 + s3 / 6048e5;
            case "day":
              return t4 + s3 / 864e5;
            case "hour":
              return 24 * t4 + s3 / 36e5;
            case "minute":
              return 1440 * t4 + s3 / 6e4;
            case "second":
              return 86400 * t4 + s3 / 1e3;
            case "millisecond":
              return Math.floor(864e5 * t4) + s3;
            default:
              throw new Error("Unknown unit " + e3);
          }
      }, qn.asMilliseconds = On, qn.asSeconds = Tn, qn.asMinutes = bn, qn.asHours = xn, qn.asDays = Pn, qn.asWeeks = Wn, qn.asMonths = Cn, qn.asQuarters = Hn, qn.asYears = Rn, qn.valueOf = function() {
        return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * D2(this._months / 12) : NaN;
      }, qn._bubble = function() {
        var e3, t4, n2, s3, i2, r2 = this._milliseconds, a3 = this._days, o2 = this._months, u2 = this._data;
        return 0 <= r2 && 0 <= a3 && 0 <= o2 || r2 <= 0 && a3 <= 0 && o2 <= 0 || (r2 += 864e5 * kn(Dn(o2) + a3), o2 = a3 = 0), u2.milliseconds = r2 % 1e3, e3 = S(r2 / 1e3), u2.seconds = e3 % 60, t4 = S(e3 / 60), u2.minutes = t4 % 60, n2 = S(t4 / 60), u2.hours = n2 % 24, o2 += i2 = S(Sn(a3 += S(n2 / 24))), a3 -= kn(Dn(i2)), s3 = S(o2 / 12), o2 %= 12, u2.days = a3, u2.months = o2, u2.years = s3, this;
      }, qn.clone = function() {
        return jt(this);
      }, qn.get = function(e3) {
        return e3 = H(e3), this.isValid() ? this[e3 + "s"]() : NaN;
      }, qn.milliseconds = Fn, qn.seconds = Ln, qn.minutes = Nn, qn.hours = Gn, qn.days = Vn, qn.weeks = function() {
        return S(this.days() / 7);
      }, qn.months = En, qn.years = In, qn.humanize = function(e3) {
        if (!this.isValid())
          return this.localeData().invalidDate();
        var t4, n2, s3, i2, r2, a3, o2, u2, l2, h2, d2, c3 = this.localeData(), f2 = (n2 = !e3, s3 = c3, i2 = jt(t4 = this).abs(), r2 = An(i2.as("s")), a3 = An(i2.as("m")), o2 = An(i2.as("h")), u2 = An(i2.as("d")), l2 = An(i2.as("M")), h2 = An(i2.as("y")), (d2 = r2 <= jn.ss && ["s", r2] || r2 < jn.s && ["ss", r2] || a3 <= 1 && ["m"] || a3 < jn.m && ["mm", a3] || o2 <= 1 && ["h"] || o2 < jn.h && ["hh", o2] || u2 <= 1 && ["d"] || u2 < jn.d && ["dd", u2] || l2 <= 1 && ["M"] || l2 < jn.M && ["MM", l2] || h2 <= 1 && ["y"] || ["yy", h2])[2] = n2, d2[3] = 0 < +t4, d2[4] = s3, function(e4, t5, n3, s4, i3) {
          return i3.relativeTime(t5 || 1, !!n3, e4, s4);
        }.apply(null, d2));
        return e3 && (f2 = c3.pastFuture(+this, f2)), c3.postformat(f2);
      }, qn.toISOString = $n, qn.toString = $n, qn.toJSON = $n, qn.locale = Xt, qn.localeData = en, qn.toIsoString = n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", $n), qn.lang = Kt, I("X", 0, 0, "unix"), I("x", 0, 0, "valueOf"), ue("x", se), ue("X", /[+-]?\d+(\.\d{1,3})?/), ce("X", function(e3, t4, n2) {
        n2._d = new Date(1e3 * parseFloat(e3, 10));
      }), ce("x", function(e3, t4, n2) {
        n2._d = new Date(D2(e3));
      }), c2.version = "2.24.0", e = bt, c2.fn = mn, c2.min = function() {
        return Wt("isBefore", [].slice.call(arguments, 0));
      }, c2.max = function() {
        return Wt("isAfter", [].slice.call(arguments, 0));
      }, c2.now = function() {
        return Date.now ? Date.now() : +new Date();
      }, c2.utc = y2, c2.unix = function(e3) {
        return bt(1e3 * e3);
      }, c2.months = function(e3, t4) {
        return vn(e3, t4, "months");
      }, c2.isDate = d, c2.locale = ut, c2.invalid = p, c2.duration = jt, c2.isMoment = k2, c2.weekdays = function(e3, t4, n2) {
        return pn(e3, t4, n2, "weekdays");
      }, c2.parseZone = function() {
        return bt.apply(null, arguments).parseZone();
      }, c2.localeData = ht, c2.isDuration = Rt, c2.monthsShort = function(e3, t4) {
        return vn(e3, t4, "monthsShort");
      }, c2.weekdaysMin = function(e3, t4, n2) {
        return pn(e3, t4, n2, "weekdaysMin");
      }, c2.defineLocale = lt, c2.updateLocale = function(e3, t4) {
        if (null != t4) {
          var n2, s3, i2 = st;
          null != (s3 = ot(e3)) && (i2 = s3._config), (n2 = new P(t4 = x2(i2, t4))).parentLocale = it[e3], it[e3] = n2, ut(e3);
        } else
          null != it[e3] && (null != it[e3].parentLocale ? it[e3] = it[e3].parentLocale : null != it[e3] && delete it[e3]);
        return it[e3];
      }, c2.locales = function() {
        return s2(it);
      }, c2.weekdaysShort = function(e3, t4, n2) {
        return pn(e3, t4, n2, "weekdaysShort");
      }, c2.normalizeUnits = H, c2.relativeTimeRounding = function(e3) {
        return void 0 === e3 ? An : "function" == typeof e3 && (An = e3, true);
      }, c2.relativeTimeThreshold = function(e3, t4) {
        return void 0 !== jn[e3] && (void 0 === t4 ? jn[e3] : (jn[e3] = t4, "s" === e3 && (jn.ss = t4 - 1), true));
      }, c2.calendarFormat = function(e3, t4) {
        var n2 = e3.diff(t4, "days", true);
        return n2 < -6 ? "sameElse" : n2 < -1 ? "lastWeek" : n2 < 0 ? "lastDay" : n2 < 1 ? "sameDay" : n2 < 2 ? "nextDay" : n2 < 7 ? "nextWeek" : "sameElse";
      }, c2.prototype = mn, c2.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, c2;
    });
  })(moment_min);
  return moment_min.exports;
}
var stylis = { exports: {} };
var hasRequiredStylis;
function requireStylis() {
  if (hasRequiredStylis)
    return stylis.exports;
  hasRequiredStylis = 1;
  (function(module, exports) {
    (function(e, r) {
      r(exports);
    })(commonjsGlobal, function(e) {
      var r = "-ms-";
      var a2 = "-moz-";
      var c2 = "-webkit-";
      var t = "comm";
      var n = "rule";
      var s2 = "decl";
      var i = "@page";
      var u = "@media";
      var o = "@import";
      var f = "@charset";
      var l = "@viewport";
      var p = "@supports";
      var h = "@document";
      var v = "@namespace";
      var d = "@keyframes";
      var b = "@font-face";
      var w = "@counter-style";
      var m = "@font-feature-values";
      var g = Math.abs;
      var k2 = String.fromCharCode;
      var $ = Object.assign;
      function x2(e3, r2) {
        return A5(e3, 0) ^ 45 ? (((r2 << 2 ^ A5(e3, 0)) << 2 ^ A5(e3, 1)) << 2 ^ A5(e3, 2)) << 2 ^ A5(e3, 3) : 0;
      }
      function E2(e3) {
        return e3.trim();
      }
      function y2(e3, r2) {
        return (e3 = r2.exec(e3)) ? e3[0] : e3;
      }
      function T(e3, r2, a3) {
        return e3.replace(r2, a3);
      }
      function O(e3, r2) {
        return e3.indexOf(r2);
      }
      function A5(e3, r2) {
        return e3.charCodeAt(r2) | 0;
      }
      function M2(e3, r2, a3) {
        return e3.slice(r2, a3);
      }
      function C2(e3) {
        return e3.length;
      }
      function S(e3) {
        return e3.length;
      }
      function R(e3, r2) {
        return r2.push(e3), e3;
      }
      function z(e3, r2) {
        return e3.map(r2).join("");
      }
      e.line = 1;
      e.column = 1;
      e.length = 0;
      e.position = 0;
      e.character = 0;
      e.characters = "";
      function N(r2, a3, c3, t4, n2, s3, i2) {
        return { value: r2, root: a3, parent: c3, type: t4, props: n2, children: s3, line: e.line, column: e.column, length: i2, return: "" };
      }
      function P(e3, r2) {
        return $(N("", null, null, "", null, null, 0), e3, { length: -e3.length }, r2);
      }
      function j() {
        return e.character;
      }
      function U() {
        e.character = e.position > 0 ? A5(e.characters, --e.position) : 0;
        if (e.column--, e.character === 10)
          e.column = 1, e.line--;
        return e.character;
      }
      function _2() {
        e.character = e.position < e.length ? A5(e.characters, e.position++) : 0;
        if (e.column++, e.character === 10)
          e.column = 1, e.line++;
        return e.character;
      }
      function F() {
        return A5(e.characters, e.position);
      }
      function I() {
        return e.position;
      }
      function L(r2, a3) {
        return M2(e.characters, r2, a3);
      }
      function D2(e3) {
        switch (e3) {
          case 0:
          case 9:
          case 10:
          case 13:
          case 32:
            return 5;
          case 33:
          case 43:
          case 44:
          case 47:
          case 62:
          case 64:
          case 126:
          case 59:
          case 123:
          case 125:
            return 4;
          case 58:
            return 3;
          case 34:
          case 39:
          case 40:
          case 91:
            return 2;
          case 41:
          case 93:
            return 1;
        }
        return 0;
      }
      function K2(r2) {
        return e.line = e.column = 1, e.length = C2(e.characters = r2), e.position = 0, [];
      }
      function V(r2) {
        return e.characters = "", r2;
      }
      function W(r2) {
        return E2(L(e.position - 1, Z(r2 === 91 ? r2 + 2 : r2 === 40 ? r2 + 1 : r2)));
      }
      function Y3(e3) {
        return V(G(K2(e3)));
      }
      function B2(r2) {
        while (e.character = F())
          if (e.character < 33)
            _2();
          else
            break;
        return D2(r2) > 2 || D2(e.character) > 3 ? "" : " ";
      }
      function G(r2) {
        while (_2())
          switch (D2(e.character)) {
            case 0:
              R(J(e.position - 1), r2);
              break;
            case 2:
              R(W(e.character), r2);
              break;
            default:
              R(k2(e.character), r2);
          }
        return r2;
      }
      function H(r2, a3) {
        while (--a3 && _2())
          if (e.character < 48 || e.character > 102 || e.character > 57 && e.character < 65 || e.character > 70 && e.character < 97)
            break;
        return L(r2, I() + (a3 < 6 && F() == 32 && _2() == 32));
      }
      function Z(r2) {
        while (_2())
          switch (e.character) {
            case r2:
              return e.position;
            case 34:
            case 39:
              if (r2 !== 34 && r2 !== 39)
                Z(e.character);
              break;
            case 40:
              if (r2 === 41)
                Z(r2);
              break;
            case 92:
              _2();
              break;
          }
        return e.position;
      }
      function q(r2, a3) {
        while (_2())
          if (r2 + e.character === 47 + 10)
            break;
          else if (r2 + e.character === 42 + 42 && F() === 47)
            break;
        return "/*" + L(a3, e.position - 1) + "*" + k2(r2 === 47 ? r2 : _2());
      }
      function J(r2) {
        while (!D2(F()))
          _2();
        return L(r2, e.position);
      }
      function Q(e3) {
        return V(X3("", null, null, null, [""], e3 = K2(e3), 0, [0], e3));
      }
      function X3(e3, r2, a3, c3, t4, n2, s3, i2, u2) {
        var o2 = 0;
        var f2 = 0;
        var l2 = s3;
        var p2 = 0;
        var h2 = 0;
        var v2 = 0;
        var d2 = 1;
        var b10 = 1;
        var w2 = 1;
        var m2 = 0;
        var g2 = "";
        var $2 = t4;
        var x3 = n2;
        var E3 = c3;
        var y3 = g2;
        while (b10)
          switch (v2 = m2, m2 = _2()) {
            case 40:
              if (v2 != 108 && A5(y3, l2 - 1) == 58) {
                if (O(y3 += T(W(m2), "&", "&\f"), "&\f") != -1)
                  w2 = -1;
                break;
              }
            case 34:
            case 39:
            case 91:
              y3 += W(m2);
              break;
            case 9:
            case 10:
            case 13:
            case 32:
              y3 += B2(v2);
              break;
            case 92:
              y3 += H(I() - 1, 7);
              continue;
            case 47:
              switch (F()) {
                case 42:
                case 47:
                  R(re2(q(_2(), I()), r2, a3), u2);
                  break;
                default:
                  y3 += "/";
              }
              break;
            case 123 * d2:
              i2[o2++] = C2(y3) * w2;
            case 125 * d2:
            case 59:
            case 0:
              switch (m2) {
                case 0:
                case 125:
                  b10 = 0;
                case 59 + f2:
                  if (h2 > 0 && C2(y3) - l2)
                    R(h2 > 32 ? ae(y3 + ";", c3, a3, l2 - 1) : ae(T(y3, " ", "") + ";", c3, a3, l2 - 2), u2);
                  break;
                case 59:
                  y3 += ";";
                default:
                  R(E3 = ee(y3, r2, a3, o2, f2, t4, i2, g2, $2 = [], x3 = [], l2), n2);
                  if (m2 === 123)
                    if (f2 === 0)
                      X3(y3, r2, E3, E3, $2, n2, l2, i2, x3);
                    else
                      switch (p2) {
                        case 100:
                        case 109:
                        case 115:
                          X3(e3, E3, E3, c3 && R(ee(e3, E3, E3, 0, 0, t4, i2, g2, t4, $2 = [], l2), x3), t4, x3, l2, i2, c3 ? $2 : x3);
                          break;
                        default:
                          X3(y3, E3, E3, E3, [""], x3, 0, i2, x3);
                      }
              }
              o2 = f2 = h2 = 0, d2 = w2 = 1, g2 = y3 = "", l2 = s3;
              break;
            case 58:
              l2 = 1 + C2(y3), h2 = v2;
            default:
              if (d2 < 1) {
                if (m2 == 123)
                  --d2;
                else if (m2 == 125 && d2++ == 0 && U() == 125)
                  continue;
              }
              switch (y3 += k2(m2), m2 * d2) {
                case 38:
                  w2 = f2 > 0 ? 1 : (y3 += "\f", -1);
                  break;
                case 44:
                  i2[o2++] = (C2(y3) - 1) * w2, w2 = 1;
                  break;
                case 64:
                  if (F() === 45)
                    y3 += W(_2());
                  p2 = F(), f2 = l2 = C2(g2 = y3 += J(I())), m2++;
                  break;
                case 45:
                  if (v2 === 45 && C2(y3) == 2)
                    d2 = 0;
              }
          }
        return n2;
      }
      function ee(e3, r2, a3, c3, t4, s3, i2, u2, o2, f2, l2) {
        var p2 = t4 - 1;
        var h2 = t4 === 0 ? s3 : [""];
        var v2 = S(h2);
        for (var d2 = 0, b10 = 0, w2 = 0; d2 < c3; ++d2)
          for (var m2 = 0, k3 = M2(e3, p2 + 1, p2 = g(b10 = i2[d2])), $2 = e3; m2 < v2; ++m2)
            if ($2 = E2(b10 > 0 ? h2[m2] + " " + k3 : T(k3, /&\f/g, h2[m2])))
              o2[w2++] = $2;
        return N(e3, r2, a3, t4 === 0 ? n : u2, o2, f2, l2);
      }
      function re2(e3, r2, a3) {
        return N(e3, r2, a3, t, k2(j()), M2(e3, 2, -2), 0);
      }
      function ae(e3, r2, a3, c3) {
        return N(e3, r2, a3, s2, M2(e3, 0, c3), M2(e3, c3 + 1, -1), c3);
      }
      function ce(e3, t4, n2) {
        switch (x2(e3, t4)) {
          case 5103:
            return c2 + "print-" + e3 + e3;
          case 5737:
          case 4201:
          case 3177:
          case 3433:
          case 1641:
          case 4457:
          case 2921:
          case 5572:
          case 6356:
          case 5844:
          case 3191:
          case 6645:
          case 3005:
          case 6391:
          case 5879:
          case 5623:
          case 6135:
          case 4599:
          case 4855:
          case 4215:
          case 6389:
          case 5109:
          case 5365:
          case 5621:
          case 3829:
            return c2 + e3 + e3;
          case 4789:
            return a2 + e3 + e3;
          case 5349:
          case 4246:
          case 4810:
          case 6968:
          case 2756:
            return c2 + e3 + a2 + e3 + r + e3 + e3;
          case 5936:
            switch (A5(e3, t4 + 11)) {
              case 114:
                return c2 + e3 + r + T(e3, /[svh]\w+-[tblr]{2}/, "tb") + e3;
              case 108:
                return c2 + e3 + r + T(e3, /[svh]\w+-[tblr]{2}/, "tb-rl") + e3;
              case 45:
                return c2 + e3 + r + T(e3, /[svh]\w+-[tblr]{2}/, "lr") + e3;
            }
          case 6828:
          case 4268:
          case 2903:
            return c2 + e3 + r + e3 + e3;
          case 6165:
            return c2 + e3 + r + "flex-" + e3 + e3;
          case 5187:
            return c2 + e3 + T(e3, /(\w+).+(:[^]+)/, c2 + "box-$1$2" + r + "flex-$1$2") + e3;
          case 5443:
            return c2 + e3 + r + "flex-item-" + T(e3, /flex-|-self/g, "") + (!y2(e3, /flex-|baseline/) ? r + "grid-row-" + T(e3, /flex-|-self/g, "") : "") + e3;
          case 4675:
            return c2 + e3 + r + "flex-line-pack" + T(e3, /align-content|flex-|-self/g, "") + e3;
          case 5548:
            return c2 + e3 + r + T(e3, "shrink", "negative") + e3;
          case 5292:
            return c2 + e3 + r + T(e3, "basis", "preferred-size") + e3;
          case 6060:
            return c2 + "box-" + T(e3, "-grow", "") + c2 + e3 + r + T(e3, "grow", "positive") + e3;
          case 4554:
            return c2 + T(e3, /([^-])(transform)/g, "$1" + c2 + "$2") + e3;
          case 6187:
            return T(T(T(e3, /(zoom-|grab)/, c2 + "$1"), /(image-set)/, c2 + "$1"), e3, "") + e3;
          case 5495:
          case 3959:
            return T(e3, /(image-set\([^]*)/, c2 + "$1$`$1");
          case 4968:
            return T(T(e3, /(.+:)(flex-)?(.*)/, c2 + "box-pack:$3" + r + "flex-pack:$3"), /s.+-b[^;]+/, "justify") + c2 + e3 + e3;
          case 4200:
            if (!y2(e3, /flex-|baseline/))
              return r + "grid-column-align" + M2(e3, t4) + e3;
            break;
          case 2592:
          case 3360:
            return r + T(e3, "template-", "") + e3;
          case 4384:
          case 3616:
            if (n2 && n2.some(function(e4, r2) {
              return t4 = r2, y2(e4.props, /grid-\w+-end/);
            })) {
              return ~O(e3 + (n2 = n2[t4].value), "span") ? e3 : r + T(e3, "-start", "") + e3 + r + "grid-row-span:" + (~O(n2, "span") ? y2(n2, /\d+/) : +y2(n2, /\d+/) - +y2(e3, /\d+/)) + ";";
            }
            return r + T(e3, "-start", "") + e3;
          case 4896:
          case 4128:
            return n2 && n2.some(function(e4) {
              return y2(e4.props, /grid-\w+-start/);
            }) ? e3 : r + T(T(e3, "-end", "-span"), "span ", "") + e3;
          case 4095:
          case 3583:
          case 4068:
          case 2532:
            return T(e3, /(.+)-inline(.+)/, c2 + "$1$2") + e3;
          case 8116:
          case 7059:
          case 5753:
          case 5535:
          case 5445:
          case 5701:
          case 4933:
          case 4677:
          case 5533:
          case 5789:
          case 5021:
          case 4765:
            if (C2(e3) - 1 - t4 > 6)
              switch (A5(e3, t4 + 1)) {
                case 109:
                  if (A5(e3, t4 + 4) !== 45)
                    break;
                case 102:
                  return T(e3, /(.+:)(.+)-([^]+)/, "$1" + c2 + "$2-$3$1" + a2 + (A5(e3, t4 + 3) == 108 ? "$3" : "$2-$3")) + e3;
                case 115:
                  return ~O(e3, "stretch") ? ce(T(e3, "stretch", "fill-available"), t4, n2) + e3 : e3;
              }
            break;
          case 5152:
          case 5920:
            return T(e3, /(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/, function(a3, c3, t5, n3, s3, i2, u2) {
              return r + c3 + ":" + t5 + u2 + (n3 ? r + c3 + "-span:" + (s3 ? i2 : +i2 - +t5) + u2 : "") + e3;
            });
          case 4949:
            if (A5(e3, t4 + 6) === 121)
              return T(e3, ":", ":" + c2) + e3;
            break;
          case 6444:
            switch (A5(e3, A5(e3, 14) === 45 ? 18 : 11)) {
              case 120:
                return T(e3, /(.+:)([^;\s!]+)(;|(\s+)?!.+)?/, "$1" + c2 + (A5(e3, 14) === 45 ? "inline-" : "") + "box$3$1" + c2 + "$2$3$1" + r + "$2box$3") + e3;
              case 100:
                return T(e3, ":", ":" + r) + e3;
            }
            break;
          case 5719:
          case 2647:
          case 2135:
          case 3927:
          case 2391:
            return T(e3, "scroll-", "scroll-snap-") + e3;
        }
        return e3;
      }
      function te(e3, r2) {
        var a3 = "";
        var c3 = S(e3);
        for (var t4 = 0; t4 < c3; t4++)
          a3 += r2(e3[t4], t4, e3, r2) || "";
        return a3;
      }
      function ne(e3, r2, a3, c3) {
        switch (e3.type) {
          case o:
          case s2:
            return e3.return = e3.return || e3.value;
          case t:
            return "";
          case d:
            return e3.return = e3.value + "{" + te(e3.children, c3) + "}";
          case n:
            e3.value = e3.props.join(",");
        }
        return C2(a3 = te(e3.children, c3)) ? e3.return = e3.value + "{" + a3 + "}" : "";
      }
      function se(e3) {
        var r2 = S(e3);
        return function(a3, c3, t4, n2) {
          var s3 = "";
          for (var i2 = 0; i2 < r2; i2++)
            s3 += e3[i2](a3, c3, t4, n2) || "";
          return s3;
        };
      }
      function ie(e3) {
        return function(r2) {
          if (!r2.root) {
            if (r2 = r2.return)
              e3(r2);
          }
        };
      }
      function ue(e3, t4, i2, u2) {
        if (e3.length > -1) {
          if (!e3.return)
            switch (e3.type) {
              case s2:
                e3.return = ce(e3.value, e3.length, i2);
                return;
              case d:
                return te([P(e3, { value: T(e3.value, "@", "@" + c2) })], u2);
              case n:
                if (e3.length)
                  return z(e3.props, function(t5) {
                    switch (y2(t5, /(::plac\w+|:read-\w+)/)) {
                      case ":read-only":
                      case ":read-write":
                        return te([P(e3, { props: [T(t5, /:(read-\w+)/, ":" + a2 + "$1")] })], u2);
                      case "::placeholder":
                        return te([P(e3, { props: [T(t5, /:(plac\w+)/, ":" + c2 + "input-$1")] }), P(e3, { props: [T(t5, /:(plac\w+)/, ":" + a2 + "$1")] }), P(e3, { props: [T(t5, /:(plac\w+)/, r + "input-$1")] })], u2);
                    }
                    return "";
                  });
            }
        }
      }
      function oe(e3) {
        switch (e3.type) {
          case n:
            e3.props = e3.props.map(function(r2) {
              return z(Y3(r2), function(r3, a3, c3) {
                switch (A5(r3, 0)) {
                  case 12:
                    return M2(r3, 1, C2(r3));
                  case 0:
                  case 40:
                  case 43:
                  case 62:
                  case 126:
                    return r3;
                  case 58:
                    if (c3[++a3] === "global")
                      c3[a3] = "", c3[++a3] = "\f" + M2(c3[a3], a3 = 1, -1);
                  case 32:
                    return a3 === 1 ? "" : r3;
                  default:
                    switch (a3) {
                      case 0:
                        e3 = r3;
                        return S(c3) > 1 ? "" : r3;
                      case (a3 = S(c3) - 1):
                      case 2:
                        return a3 === 2 ? r3 + e3 + e3 : r3 + e3;
                      default:
                        return r3;
                    }
                }
              });
            });
        }
      }
      e.CHARSET = f;
      e.COMMENT = t;
      e.COUNTER_STYLE = w;
      e.DECLARATION = s2;
      e.DOCUMENT = h;
      e.FONT_FACE = b;
      e.FONT_FEATURE_VALUES = m;
      e.IMPORT = o;
      e.KEYFRAMES = d;
      e.MEDIA = u;
      e.MOZ = a2;
      e.MS = r;
      e.NAMESPACE = v;
      e.PAGE = i;
      e.RULESET = n;
      e.SUPPORTS = p;
      e.VIEWPORT = l;
      e.WEBKIT = c2;
      e.abs = g;
      e.alloc = K2;
      e.append = R;
      e.assign = $;
      e.caret = I;
      e.char = j;
      e.charat = A5;
      e.combine = z;
      e.comment = re2;
      e.commenter = q;
      e.compile = Q;
      e.copy = P;
      e.dealloc = V;
      e.declaration = ae;
      e.delimit = W;
      e.delimiter = Z;
      e.escaping = H;
      e.from = k2;
      e.hash = x2;
      e.identifier = J;
      e.indexof = O;
      e.match = y2;
      e.middleware = se;
      e.namespace = oe;
      e.next = _2;
      e.node = N;
      e.parse = X3;
      e.peek = F;
      e.prefix = ce;
      e.prefixer = ue;
      e.prev = U;
      e.replace = T;
      e.ruleset = ee;
      e.rulesheet = ie;
      e.serialize = te;
      e.sizeof = S;
      e.slice = L;
      e.stringify = ne;
      e.strlen = C2;
      e.substr = M2;
      e.token = D2;
      e.tokenize = Y3;
      e.tokenizer = G;
      e.trim = E2;
      e.whitespace = B2;
      Object.defineProperty(e, "__esModule", { value: true });
    });
  })(stylis, stylis.exports);
  return stylis.exports;
}
(function(module, exports) {
  (function webpackUniversalModuleDefinition(root2, factory) {
    module.exports = factory();
  })(typeof self !== "undefined" ? self : commonjsGlobal, () => {
    return (() => {
      var __webpack_modules__ = {
        "./src/diagrams/c4/parser/c4Diagram.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 6], $V1 = [1, 7], $V2 = [1, 8], $V3 = [1, 9], $V4 = [1, 16], $V5 = [1, 11], $V6 = [1, 12], $V7 = [1, 13], $V8 = [1, 14], $V9 = [1, 15], $Va = [1, 27], $Vb = [1, 33], $Vc = [1, 34], $Vd = [1, 35], $Ve = [1, 36], $Vf = [1, 37], $Vg = [1, 72], $Vh = [1, 73], $Vi = [1, 74], $Vj = [1, 75], $Vk = [1, 76], $Vl = [1, 77], $Vm = [1, 78], $Vn = [1, 38], $Vo = [1, 39], $Vp = [1, 40], $Vq = [1, 41], $Vr = [1, 42], $Vs = [1, 43], $Vt = [1, 44], $Vu = [1, 45], $Vv = [1, 46], $Vw = [1, 47], $Vx = [1, 48], $Vy = [1, 49], $Vz = [1, 50], $VA = [1, 51], $VB = [1, 52], $VC = [1, 53], $VD = [1, 54], $VE = [1, 55], $VF = [1, 56], $VG = [1, 57], $VH = [1, 59], $VI = [1, 60], $VJ = [1, 61], $VK = [1, 62], $VL = [1, 63], $VM = [1, 64], $VN = [1, 65], $VO = [1, 66], $VP = [1, 67], $VQ = [1, 68], $VR = [1, 69], $VS = [24, 52], $VT = [24, 44, 46, 47, 48, 49, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84], $VU = [15, 24, 44, 46, 47, 48, 49, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84], $VV = [1, 94], $VW = [1, 95], $VX = [1, 96], $VY = [1, 97], $VZ = [15, 24, 52], $V_ = [7, 8, 9, 10, 18, 22, 25, 26, 27, 28], $V$ = [15, 24, 43, 52], $V01 = [15, 24, 43, 52, 86, 87, 89, 90], $V11 = [15, 43], $V21 = [44, 46, 47, 48, 49, 50, 51, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "direction": 5, "directive": 6, "direction_tb": 7, "direction_bt": 8, "direction_rl": 9, "direction_lr": 10, "graphConfig": 11, "openDirective": 12, "typeDirective": 13, "closeDirective": 14, "NEWLINE": 15, ":": 16, "argDirective": 17, "open_directive": 18, "type_directive": 19, "arg_directive": 20, "close_directive": 21, "C4_CONTEXT": 22, "statements": 23, "EOF": 24, "C4_CONTAINER": 25, "C4_COMPONENT": 26, "C4_DYNAMIC": 27, "C4_DEPLOYMENT": 28, "otherStatements": 29, "diagramStatements": 30, "otherStatement": 31, "title": 32, "accDescription": 33, "acc_title": 34, "acc_title_value": 35, "acc_descr": 36, "acc_descr_value": 37, "acc_descr_multiline_value": 38, "boundaryStatement": 39, "boundaryStartStatement": 40, "boundaryStopStatement": 41, "boundaryStart": 42, "LBRACE": 43, "ENTERPRISE_BOUNDARY": 44, "attributes": 45, "SYSTEM_BOUNDARY": 46, "BOUNDARY": 47, "CONTAINER_BOUNDARY": 48, "NODE": 49, "NODE_L": 50, "NODE_R": 51, "RBRACE": 52, "diagramStatement": 53, "PERSON": 54, "PERSON_EXT": 55, "SYSTEM": 56, "SYSTEM_DB": 57, "SYSTEM_QUEUE": 58, "SYSTEM_EXT": 59, "SYSTEM_EXT_DB": 60, "SYSTEM_EXT_QUEUE": 61, "CONTAINER": 62, "CONTAINER_DB": 63, "CONTAINER_QUEUE": 64, "CONTAINER_EXT": 65, "CONTAINER_EXT_DB": 66, "CONTAINER_EXT_QUEUE": 67, "COMPONENT": 68, "COMPONENT_DB": 69, "COMPONENT_QUEUE": 70, "COMPONENT_EXT": 71, "COMPONENT_EXT_DB": 72, "COMPONENT_EXT_QUEUE": 73, "REL": 74, "BIREL": 75, "REL_U": 76, "REL_D": 77, "REL_L": 78, "REL_R": 79, "REL_B": 80, "REL_INDEX": 81, "UPDATE_EL_STYLE": 82, "UPDATE_REL_STYLE": 83, "UPDATE_LAYOUT_CONFIG": 84, "attribute": 85, "STR": 86, "STR_KEY": 87, "STR_VALUE": 88, "ATTRIBUTE": 89, "ATTRIBUTE_EMPTY": 90, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 7: "direction_tb", 8: "direction_bt", 9: "direction_rl", 10: "direction_lr", 15: "NEWLINE", 16: ":", 18: "open_directive", 19: "type_directive", 20: "arg_directive", 21: "close_directive", 22: "C4_CONTEXT", 24: "EOF", 25: "C4_CONTAINER", 26: "C4_COMPONENT", 27: "C4_DYNAMIC", 28: "C4_DEPLOYMENT", 32: "title", 33: "accDescription", 34: "acc_title", 35: "acc_title_value", 36: "acc_descr", 37: "acc_descr_value", 38: "acc_descr_multiline_value", 43: "LBRACE", 44: "ENTERPRISE_BOUNDARY", 46: "SYSTEM_BOUNDARY", 47: "BOUNDARY", 48: "CONTAINER_BOUNDARY", 49: "NODE", 50: "NODE_L", 51: "NODE_R", 52: "RBRACE", 54: "PERSON", 55: "PERSON_EXT", 56: "SYSTEM", 57: "SYSTEM_DB", 58: "SYSTEM_QUEUE", 59: "SYSTEM_EXT", 60: "SYSTEM_EXT_DB", 61: "SYSTEM_EXT_QUEUE", 62: "CONTAINER", 63: "CONTAINER_DB", 64: "CONTAINER_QUEUE", 65: "CONTAINER_EXT", 66: "CONTAINER_EXT_DB", 67: "CONTAINER_EXT_QUEUE", 68: "COMPONENT", 69: "COMPONENT_DB", 70: "COMPONENT_QUEUE", 71: "COMPONENT_EXT", 72: "COMPONENT_EXT_DB", 73: "COMPONENT_EXT_QUEUE", 74: "REL", 75: "BIREL", 76: "REL_U", 77: "REL_D", 78: "REL_L", 79: "REL_R", 80: "REL_B", 81: "REL_INDEX", 82: "UPDATE_EL_STYLE", 83: "UPDATE_REL_STYLE", 84: "UPDATE_LAYOUT_CONFIG", 86: "STR", 87: "STR_KEY", 88: "STR_VALUE", 89: "ATTRIBUTE", 90: "ATTRIBUTE_EMPTY" },
              productions_: [0, [3, 1], [3, 1], [3, 2], [5, 1], [5, 1], [5, 1], [5, 1], [4, 1], [6, 4], [6, 6], [12, 1], [13, 1], [17, 1], [14, 1], [11, 4], [11, 4], [11, 4], [11, 4], [11, 4], [23, 1], [23, 1], [23, 2], [29, 1], [29, 2], [29, 3], [31, 1], [31, 1], [31, 2], [31, 2], [31, 1], [39, 3], [40, 3], [40, 3], [40, 4], [42, 2], [42, 2], [42, 2], [42, 2], [42, 2], [42, 2], [42, 2], [41, 1], [30, 1], [30, 2], [30, 3], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 1], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [53, 2], [45, 1], [45, 2], [85, 1], [85, 2], [85, 1], [85, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 4:
                    yy.setDirection("TB");
                    break;
                  case 5:
                    yy.setDirection("BT");
                    break;
                  case 6:
                    yy.setDirection("RL");
                    break;
                  case 7:
                    yy.setDirection("LR");
                    break;
                  case 11:
                    console.log("open_directive: ", $$[$0]);
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 12:
                    break;
                  case 13:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    console.log("arg_directive: ", $$[$0]);
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 14:
                    console.log("close_directive: ", $$[$0]);
                    yy.parseDirective("}%%", "close_directive", "c4Context");
                    break;
                  case 15:
                  case 16:
                  case 17:
                  case 18:
                  case 19:
                    yy.setC4Type($$[$0 - 3]);
                    break;
                  case 26:
                    yy.setTitle($$[$0].substring(6));
                    this.$ = $$[$0].substring(6);
                    break;
                  case 27:
                    yy.setAccDescription($$[$0].substring(15));
                    this.$ = $$[$0].substring(15);
                    break;
                  case 28:
                    this.$ = $$[$0].trim();
                    yy.setTitle(this.$);
                    break;
                  case 29:
                  case 30:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 35:
                  case 36:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    $$[$0].splice(2, 0, "ENTERPRISE");
                    yy.addPersonOrSystemBoundary(...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 37:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystemBoundary(...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 38:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    $$[$0].splice(2, 0, "CONTAINER");
                    yy.addContainerBoundary(...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 39:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addDeploymentNode("node", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 40:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addDeploymentNode("nodeL", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 41:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addDeploymentNode("nodeR", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 42:
                    yy.popBoundaryParseStack();
                    break;
                  case 46:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("person", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 47:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("external_person", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 48:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("system", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 49:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("system_db", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 50:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("system_queue", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 51:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("external_system", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 52:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("external_system_db", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 53:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addPersonOrSystem("external_system_queue", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 54:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addContainer("container", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 55:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addContainer("container_db", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 56:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addContainer("container_queue", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 57:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addContainer("external_container", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 58:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addContainer("external_container_db", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 59:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addContainer("external_container_queue", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 60:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addComponent("component", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 61:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addComponent("component_db", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 62:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addComponent("component_queue", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 63:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addComponent("external_component", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 64:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addComponent("external_component_db", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 65:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addComponent("external_component_queue", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 67:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addRel("rel", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 68:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addRel("birel", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 69:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addRel("rel_u", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 70:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addRel("rel_d", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 71:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addRel("rel_l", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 72:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addRel("rel_r", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 73:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.addRel("rel_b", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 74:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    $$[$0].splice(0, 1);
                    yy.addRel("rel", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 75:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.updateElStyle("update_el_style", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 76:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.updateRelStyle("update_rel_style", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 77:
                    console.log($$[$0 - 1], JSON.stringify($$[$0]));
                    yy.updateLayoutConfig("update_layout_config", ...$$[$0]);
                    this.$ = $$[$0];
                    break;
                  case 78:
                    console.log("PUSH ATTRIBUTE: ", $$[$0]);
                    this.$ = [$$[$0]];
                    break;
                  case 79:
                    console.log("PUSH ATTRIBUTE: ", $$[$0 - 1]);
                    $$[$0].unshift($$[$0 - 1]);
                    this.$ = $$[$0];
                    break;
                  case 80:
                  case 82:
                    this.$ = $$[$0].trim();
                    break;
                  case 81:
                    console.log("kv: ", $$[$0 - 1], $$[$0]);
                    let kv = {};
                    kv[$$[$0 - 1].trim()] = $$[$0].trim();
                    this.$ = kv;
                    break;
                  case 83:
                    this.$ = "";
                    break;
                }
              },
              table: [{ 3: 1, 4: 2, 5: 3, 6: 4, 7: $V0, 8: $V1, 9: $V2, 10: $V3, 11: 5, 12: 10, 18: $V4, 22: $V5, 25: $V6, 26: $V7, 27: $V8, 28: $V9 }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 3: 17, 4: 2, 5: 3, 6: 4, 7: $V0, 8: $V1, 9: $V2, 10: $V3, 11: 5, 12: 10, 18: $V4, 22: $V5, 25: $V6, 26: $V7, 27: $V8, 28: $V9 }, { 1: [2, 8] }, { 1: [2, 4] }, { 1: [2, 5] }, { 1: [2, 6] }, { 1: [2, 7] }, { 13: 18, 19: [1, 19] }, { 15: [1, 20] }, { 15: [1, 21] }, { 15: [1, 22] }, { 15: [1, 23] }, { 15: [1, 24] }, { 19: [2, 11] }, { 1: [2, 3] }, { 14: 25, 16: [1, 26], 21: $Va }, o([16, 21], [2, 12]), { 23: 28, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 79, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 80, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 81, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 23: 82, 29: 29, 30: 30, 31: 31, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 15: [1, 83] }, { 17: 84, 20: [1, 85] }, { 15: [2, 14] }, { 24: [1, 86] }, o($VS, [2, 20], { 53: 32, 39: 58, 40: 70, 42: 71, 30: 87, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }), o($VS, [2, 21]), o($VT, [2, 23], { 15: [1, 88] }), o($VS, [2, 43], { 15: [1, 89] }), o($VU, [2, 26]), o($VU, [2, 27]), { 35: [1, 90] }, { 37: [1, 91] }, o($VU, [2, 30]), { 45: 92, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 98, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 99, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 100, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 101, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 102, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 103, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 104, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 105, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 106, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 107, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 108, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 109, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 110, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 111, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 112, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 113, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 114, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 115, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 116, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, o($VZ, [2, 66]), { 45: 117, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 118, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 119, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 120, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 121, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 122, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 123, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 124, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 125, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 126, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 127, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 30: 128, 39: 58, 40: 70, 42: 71, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 53: 32, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }, { 15: [1, 130], 43: [1, 129] }, { 45: 131, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 132, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 133, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 134, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 135, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 136, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 45: 137, 85: 93, 86: $VV, 87: $VW, 89: $VX, 90: $VY }, { 24: [1, 138] }, { 24: [1, 139] }, { 24: [1, 140] }, { 24: [1, 141] }, o($V_, [2, 9]), { 14: 142, 21: $Va }, { 21: [2, 13] }, { 1: [2, 15] }, o($VS, [2, 22]), o($VT, [2, 24], { 31: 31, 29: 143, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf }), o($VS, [2, 44], { 29: 29, 30: 30, 31: 31, 53: 32, 39: 58, 40: 70, 42: 71, 23: 144, 32: $Vb, 33: $Vc, 34: $Vd, 36: $Ve, 38: $Vf, 44: $Vg, 46: $Vh, 47: $Vi, 48: $Vj, 49: $Vk, 50: $Vl, 51: $Vm, 54: $Vn, 55: $Vo, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv, 63: $Vw, 64: $Vx, 65: $Vy, 66: $Vz, 67: $VA, 68: $VB, 69: $VC, 70: $VD, 71: $VE, 72: $VF, 73: $VG, 74: $VH, 75: $VI, 76: $VJ, 77: $VK, 78: $VL, 79: $VM, 80: $VN, 81: $VO, 82: $VP, 83: $VQ, 84: $VR }), o($VU, [2, 28]), o($VU, [2, 29]), o($VZ, [2, 46]), o($V$, [2, 78], { 85: 93, 45: 145, 86: $VV, 87: $VW, 89: $VX, 90: $VY }), o($V01, [2, 80]), { 88: [1, 146] }, o($V01, [2, 82]), o($V01, [2, 83]), o($VZ, [2, 47]), o($VZ, [2, 48]), o($VZ, [2, 49]), o($VZ, [2, 50]), o($VZ, [2, 51]), o($VZ, [2, 52]), o($VZ, [2, 53]), o($VZ, [2, 54]), o($VZ, [2, 55]), o($VZ, [2, 56]), o($VZ, [2, 57]), o($VZ, [2, 58]), o($VZ, [2, 59]), o($VZ, [2, 60]), o($VZ, [2, 61]), o($VZ, [2, 62]), o($VZ, [2, 63]), o($VZ, [2, 64]), o($VZ, [2, 65]), o($VZ, [2, 67]), o($VZ, [2, 68]), o($VZ, [2, 69]), o($VZ, [2, 70]), o($VZ, [2, 71]), o($VZ, [2, 72]), o($VZ, [2, 73]), o($VZ, [2, 74]), o($VZ, [2, 75]), o($VZ, [2, 76]), o($VZ, [2, 77]), { 41: 147, 52: [1, 148] }, { 15: [1, 149] }, { 43: [1, 150] }, o($V11, [2, 35]), o($V11, [2, 36]), o($V11, [2, 37]), o($V11, [2, 38]), o($V11, [2, 39]), o($V11, [2, 40]), o($V11, [2, 41]), { 1: [2, 16] }, { 1: [2, 17] }, { 1: [2, 18] }, { 1: [2, 19] }, { 15: [1, 151] }, o($VT, [2, 25]), o($VS, [2, 45]), o($V$, [2, 79]), o($V01, [2, 81]), o($VZ, [2, 31]), o($VZ, [2, 42]), o($V21, [2, 32]), o($V21, [2, 33], { 15: [1, 152] }), o($V_, [2, 10]), o($V21, [2, 34])],
              defaultActions: { 2: [2, 1], 3: [2, 2], 5: [2, 8], 6: [2, 4], 7: [2, 5], 8: [2, 6], 9: [2, 7], 16: [2, 11], 17: [2, 3], 27: [2, 14], 85: [2, 13], 86: [2, 15], 138: [2, 16], 139: [2, 17], 140: [2, 18], 141: [2, 19] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: {},
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 18;
                    case 1:
                      return 7;
                    case 2:
                      return 8;
                    case 3:
                      return 9;
                    case 4:
                      return 10;
                    case 5:
                      this.begin("type_directive");
                      return 19;
                    case 6:
                      this.popState();
                      this.begin("arg_directive");
                      return 16;
                    case 7:
                      this.popState();
                      this.popState();
                      return 21;
                    case 8:
                      return 20;
                    case 9:
                      return 32;
                    case 10:
                      return 33;
                    case 11:
                      this.begin("acc_title");
                      return 34;
                    case 12:
                      this.popState();
                      return "acc_title_value";
                    case 13:
                      this.begin("acc_descr");
                      return 36;
                    case 14:
                      this.popState();
                      return "acc_descr_value";
                    case 15:
                      this.begin("acc_descr_multiline");
                      break;
                    case 16:
                      this.popState();
                      break;
                    case 17:
                      return "acc_descr_multiline_value";
                    case 18:
                      break;
                    case 19:
                      c;
                      break;
                    case 20:
                      return 15;
                    case 21:
                      break;
                    case 22:
                      return 22;
                    case 23:
                      return 25;
                    case 24:
                      return 26;
                    case 25:
                      return 27;
                    case 26:
                      return 28;
                    case 27:
                      this.begin("person_ext");
                      console.log("begin person_ext");
                      return 55;
                    case 28:
                      this.begin("person");
                      console.log("begin person");
                      return 54;
                    case 29:
                      this.begin("system_ext_queue");
                      console.log("begin system_ext_queue");
                      return 61;
                    case 30:
                      this.begin("system_ext_db");
                      console.log("begin system_ext_db");
                      return 60;
                    case 31:
                      this.begin("system_ext");
                      console.log("begin system_ext");
                      return 59;
                    case 32:
                      this.begin("system_queue");
                      console.log("begin system_queue");
                      return 58;
                    case 33:
                      this.begin("system_db");
                      console.log("begin system_db");
                      return 57;
                    case 34:
                      this.begin("system");
                      console.log("begin system");
                      return 56;
                    case 35:
                      this.begin("boundary");
                      console.log("begin boundary");
                      return 47;
                    case 36:
                      this.begin("enterprise_boundary");
                      console.log("begin enterprise_boundary");
                      return 44;
                    case 37:
                      this.begin("system_boundary");
                      console.log("begin system_boundary");
                      return 46;
                    case 38:
                      this.begin("container_ext_queue");
                      console.log("begin container_ext_queue");
                      return 67;
                    case 39:
                      this.begin("container_ext_db");
                      console.log("begin container_ext_db");
                      return 66;
                    case 40:
                      this.begin("container_ext");
                      console.log("begin container_ext");
                      return 65;
                    case 41:
                      this.begin("container_queue");
                      console.log("begin container_queue");
                      return 64;
                    case 42:
                      this.begin("container_db");
                      console.log("begin container_db");
                      return 63;
                    case 43:
                      this.begin("container");
                      console.log("begin container");
                      return 62;
                    case 44:
                      this.begin("container_boundary");
                      console.log("begin container_boundary");
                      return 48;
                    case 45:
                      this.begin("component_ext_queue");
                      console.log("begin component_ext_queue");
                      return 73;
                    case 46:
                      this.begin("component_ext_db");
                      console.log("begin component_ext_db");
                      return 72;
                    case 47:
                      this.begin("component_ext");
                      console.log("begin component_ext");
                      return 71;
                    case 48:
                      this.begin("component_queue");
                      console.log("begin component_queue");
                      return 70;
                    case 49:
                      this.begin("component_db");
                      console.log("begin component_db");
                      return 69;
                    case 50:
                      this.begin("component");
                      console.log("begin component");
                      return 68;
                    case 51:
                      this.begin("node");
                      console.log("begin node");
                      return 49;
                    case 52:
                      this.begin("node");
                      console.log("begin node");
                      return 49;
                    case 53:
                      this.begin("node_l");
                      console.log("begin node_l");
                      return 50;
                    case 54:
                      this.begin("node_r");
                      console.log("begin node_r");
                      return 51;
                    case 55:
                      this.begin("rel");
                      console.log("begin rel");
                      return 74;
                    case 56:
                      this.begin("birel");
                      console.log("begin birel");
                      return 75;
                    case 57:
                      this.begin("rel_u");
                      console.log("begin rel_u");
                      return 76;
                    case 58:
                      this.begin("rel_u");
                      console.log("begin rel_u");
                      return 76;
                    case 59:
                      this.begin("rel_d");
                      console.log("begin rel_d");
                      return 77;
                    case 60:
                      this.begin("rel_d");
                      console.log("begin rel_d");
                      return 77;
                    case 61:
                      this.begin("rel_l");
                      console.log("begin rel_l");
                      return 78;
                    case 62:
                      this.begin("rel_l");
                      console.log("begin rel_l");
                      return 78;
                    case 63:
                      this.begin("rel_r");
                      console.log("begin rel_r");
                      return 79;
                    case 64:
                      this.begin("rel_r");
                      console.log("begin rel_r");
                      return 79;
                    case 65:
                      this.begin("rel_b");
                      console.log("begin rel_b");
                      return 80;
                    case 66:
                      this.begin("rel_index");
                      console.log("begin rel_index");
                      return 81;
                    case 67:
                      this.begin("update_el_style");
                      console.log("begin update_el_style");
                      return 82;
                    case 68:
                      this.begin("update_rel_style");
                      console.log("begin update_rel_style");
                      return 83;
                    case 69:
                      this.begin("update_layout_config");
                      console.log("begin update_layout_config");
                      return 84;
                    case 70:
                      return "EOF_IN_STRUCT";
                    case 71:
                      console.log("begin attribute with ATTRIBUTE_EMPTY");
                      this.begin("attribute");
                      return "ATTRIBUTE_EMPTY";
                    case 72:
                      console.log("begin attribute");
                      this.begin("attribute");
                      break;
                    case 73:
                      console.log("STOP attribute");
                      this.popState();
                      console.log("STOP diagram");
                      this.popState();
                      break;
                    case 74:
                      console.log(",,");
                      return 90;
                    case 75:
                      console.log(",");
                      break;
                    case 76:
                      console.log("ATTRIBUTE_EMPTY");
                      return 90;
                    case 77:
                      console.log("begin string");
                      this.begin("string");
                      break;
                    case 78:
                      console.log("STOP string");
                      this.popState();
                      break;
                    case 79:
                      console.log("STR");
                      return "STR";
                    case 80:
                      console.log("begin string_kv");
                      this.begin("string_kv");
                      break;
                    case 81:
                      console.log("STR_KEY");
                      this.begin("string_kv_key");
                      return "STR_KEY";
                    case 82:
                      console.log("begin string_kv_value");
                      this.popState();
                      this.begin("string_kv_value");
                      break;
                    case 83:
                      console.log("STR_VALUE");
                      return "STR_VALUE";
                    case 84:
                      console.log("STOP string_kv_value");
                      this.popState();
                      this.popState();
                      break;
                    case 85:
                      console.log("not STR");
                      return "STR";
                    case 86:
                      console.log("begin boundary block");
                      return "LBRACE";
                    case 87:
                      console.log("STOP boundary block");
                      return "RBRACE";
                    case 88:
                      return "SPACE";
                    case 89:
                      return "EOL";
                    case 90:
                      return 24;
                  }
                },
                rules: [/^(?:%%\{)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:((?:(?!\}%%)[^:.])*))/, /^(?::)/, /^(?:\}%%)/, /^(?:((?:(?!\}%%).|\n)*))/, /^(?:title\s[^#\n;]+)/, /^(?:accDescription\s[^#\n;]+)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:C4Context\b)/, /^(?:C4Container\b)/, /^(?:C4Component\b)/, /^(?:C4Dynamic\b)/, /^(?:C4Deployment\b)/, /^(?:Person_Ext\b)/, /^(?:Person\b)/, /^(?:SystemQueue_Ext\b)/, /^(?:SystemDb_Ext\b)/, /^(?:System_Ext\b)/, /^(?:SystemQueue\b)/, /^(?:SystemDb\b)/, /^(?:System\b)/, /^(?:Boundary\b)/, /^(?:Enterprise_Boundary\b)/, /^(?:System_Boundary\b)/, /^(?:ContainerQueue_Ext\b)/, /^(?:ContainerDb_Ext\b)/, /^(?:Container_Ext\b)/, /^(?:ContainerQueue\b)/, /^(?:ContainerDb\b)/, /^(?:Container\b)/, /^(?:Container_Boundary\b)/, /^(?:ComponentQueue_Ext\b)/, /^(?:ComponentDb_Ext\b)/, /^(?:Component_Ext\b)/, /^(?:ComponentQueue\b)/, /^(?:ComponentDb\b)/, /^(?:Component\b)/, /^(?:Deployment_Node\b)/, /^(?:Node\b)/, /^(?:Node_L\b)/, /^(?:Node_R\b)/, /^(?:Rel\b)/, /^(?:BiRel\b)/, /^(?:Rel_Up\b)/, /^(?:Rel_U\b)/, /^(?:Rel_Down\b)/, /^(?:Rel_D\b)/, /^(?:Rel_Left\b)/, /^(?:Rel_L\b)/, /^(?:Rel_Right\b)/, /^(?:Rel_R\b)/, /^(?:Rel_Back\b)/, /^(?:RelIndex\b)/, /^(?:UpdateElementStyle\b)/, /^(?:UpdateRelStyle\b)/, /^(?:UpdateLayoutConfig\b)/, /^(?:$)/, /^(?:[(][ ]*[,])/, /^(?:[(])/, /^(?:[)])/, /^(?:,,)/, /^(?:,)/, /^(?:[ ]*["]["])/, /^(?:[ ]*["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:[ ]*[\$])/, /^(?:[^=]*)/, /^(?:[=][ ]*["])/, /^(?:[^"]+)/, /^(?:["])/, /^(?:[^,]+)/, /^(?:\{)/, /^(?:\})/, /^(?:[\s]+)/, /^(?:[\n\r]+)/, /^(?:$)/],
                conditions: { "acc_descr_multiline": { "rules": [16, 17], "inclusive": false }, "acc_descr": { "rules": [14], "inclusive": false }, "acc_title": { "rules": [12], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [7, 8], "inclusive": false }, "type_directive": { "rules": [6, 7], "inclusive": false }, "open_directive": { "rules": [5], "inclusive": false }, "string_kv_value": { "rules": [83, 84], "inclusive": false }, "string_kv_key": { "rules": [82], "inclusive": false }, "string_kv": { "rules": [81], "inclusive": false }, "string": { "rules": [78, 79], "inclusive": false }, "attribute": { "rules": [73, 74, 75, 76, 77, 80, 85], "inclusive": false }, "update_layout_config": { "rules": [70, 71, 72, 73], "inclusive": false }, "update_rel_style": { "rules": [70, 71, 72, 73], "inclusive": false }, "update_el_style": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_b": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_r": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_l": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_d": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_u": { "rules": [70, 71, 72, 73], "inclusive": false }, "rel_bi": { "rules": [], "inclusive": false }, "rel": { "rules": [70, 71, 72, 73], "inclusive": false }, "node_r": { "rules": [70, 71, 72, 73], "inclusive": false }, "node_l": { "rules": [70, 71, 72, 73], "inclusive": false }, "node": { "rules": [70, 71, 72, 73], "inclusive": false }, "index": { "rules": [], "inclusive": false }, "rel_index": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_ext_queue": { "rules": [], "inclusive": false }, "component_ext_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "component_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "component": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_ext_queue": { "rules": [], "inclusive": false }, "container_ext_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "container_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "container": { "rules": [70, 71, 72, 73], "inclusive": false }, "birel": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "enterprise_boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "boundary": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_ext_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_ext_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_queue": { "rules": [70, 71, 72, 73], "inclusive": false }, "system_db": { "rules": [70, 71, 72, 73], "inclusive": false }, "system": { "rules": [70, 71, 72, 73], "inclusive": false }, "person_ext": { "rules": [70, 71, 72, 73], "inclusive": false }, "person": { "rules": [70, 71, 72, 73], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 9, 10, 11, 13, 15, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 86, 87, 88, 89, 90], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?1da1").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/class/parser/classDiagram.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 3], $V1 = [1, 7], $V2 = [1, 8], $V3 = [1, 9], $V4 = [1, 10], $V5 = [1, 13], $V6 = [1, 12], $V7 = [1, 16, 25], $V8 = [1, 20], $V9 = [1, 31], $Va = [1, 32], $Vb = [1, 33], $Vc = [1, 35], $Vd = [1, 38], $Ve = [1, 36], $Vf = [1, 37], $Vg = [1, 39], $Vh = [1, 40], $Vi = [1, 41], $Vj = [1, 42], $Vk = [1, 45], $Vl = [1, 46], $Vm = [1, 47], $Vn = [1, 48], $Vo = [16, 25], $Vp = [1, 62], $Vq = [1, 63], $Vr = [1, 64], $Vs = [1, 65], $Vt = [1, 66], $Vu = [1, 67], $Vv = [1, 68], $Vw = [16, 25, 32, 44, 45, 53, 56, 57, 58, 59, 60, 61, 62, 67, 69], $Vx = [16, 25, 30, 32, 44, 45, 49, 53, 56, 57, 58, 59, 60, 61, 62, 67, 69, 84, 85, 86, 87], $Vy = [5, 8, 9, 10, 11, 16, 19, 23, 25], $Vz = [53, 84, 85, 86, 87], $VA = [53, 61, 62, 84, 85, 86, 87], $VB = [53, 56, 57, 58, 59, 60, 84, 85, 86, 87], $VC = [16, 25, 32], $VD = [1, 100];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "statments": 5, "direction": 6, "directive": 7, "direction_tb": 8, "direction_bt": 9, "direction_rl": 10, "direction_lr": 11, "graphConfig": 12, "openDirective": 13, "typeDirective": 14, "closeDirective": 15, "NEWLINE": 16, ":": 17, "argDirective": 18, "open_directive": 19, "type_directive": 20, "arg_directive": 21, "close_directive": 22, "CLASS_DIAGRAM": 23, "statements": 24, "EOF": 25, "statement": 26, "className": 27, "alphaNumToken": 28, "classLiteralName": 29, "GENERICTYPE": 30, "relationStatement": 31, "LABEL": 32, "classStatement": 33, "methodStatement": 34, "annotationStatement": 35, "clickStatement": 36, "cssClassStatement": 37, "acc_title": 38, "acc_title_value": 39, "acc_descr": 40, "acc_descr_value": 41, "acc_descr_multiline_value": 42, "CLASS": 43, "STYLE_SEPARATOR": 44, "STRUCT_START": 45, "members": 46, "STRUCT_STOP": 47, "ANNOTATION_START": 48, "ANNOTATION_END": 49, "MEMBER": 50, "SEPARATOR": 51, "relation": 52, "STR": 53, "relationType": 54, "lineType": 55, "AGGREGATION": 56, "EXTENSION": 57, "COMPOSITION": 58, "DEPENDENCY": 59, "LOLLIPOP": 60, "LINE": 61, "DOTTED_LINE": 62, "CALLBACK": 63, "LINK": 64, "LINK_TARGET": 65, "CLICK": 66, "CALLBACK_NAME": 67, "CALLBACK_ARGS": 68, "HREF": 69, "CSSCLASS": 70, "commentToken": 71, "textToken": 72, "graphCodeTokens": 73, "textNoTagsToken": 74, "TAGSTART": 75, "TAGEND": 76, "==": 77, "--": 78, "PCT": 79, "DEFAULT": 80, "SPACE": 81, "MINUS": 82, "keywords": 83, "UNICODE_TEXT": 84, "NUM": 85, "ALPHA": 86, "BQUOTE_STR": 87, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 5: "statments", 8: "direction_tb", 9: "direction_bt", 10: "direction_rl", 11: "direction_lr", 16: "NEWLINE", 17: ":", 19: "open_directive", 20: "type_directive", 21: "arg_directive", 22: "close_directive", 23: "CLASS_DIAGRAM", 25: "EOF", 30: "GENERICTYPE", 32: "LABEL", 38: "acc_title", 39: "acc_title_value", 40: "acc_descr", 41: "acc_descr_value", 42: "acc_descr_multiline_value", 43: "CLASS", 44: "STYLE_SEPARATOR", 45: "STRUCT_START", 47: "STRUCT_STOP", 48: "ANNOTATION_START", 49: "ANNOTATION_END", 50: "MEMBER", 51: "SEPARATOR", 53: "STR", 56: "AGGREGATION", 57: "EXTENSION", 58: "COMPOSITION", 59: "DEPENDENCY", 60: "LOLLIPOP", 61: "LINE", 62: "DOTTED_LINE", 63: "CALLBACK", 64: "LINK", 65: "LINK_TARGET", 66: "CLICK", 67: "CALLBACK_NAME", 68: "CALLBACK_ARGS", 69: "HREF", 70: "CSSCLASS", 73: "graphCodeTokens", 75: "TAGSTART", 76: "TAGEND", 77: "==", 78: "--", 79: "PCT", 80: "DEFAULT", 81: "SPACE", 82: "MINUS", 83: "keywords", 84: "UNICODE_TEXT", 85: "NUM", 86: "ALPHA", 87: "BQUOTE_STR" },
              productions_: [0, [3, 1], [3, 1], [3, 1], [3, 2], [6, 1], [6, 1], [6, 1], [6, 1], [4, 1], [7, 4], [7, 6], [13, 1], [14, 1], [18, 1], [15, 1], [12, 4], [24, 1], [24, 2], [24, 3], [27, 1], [27, 1], [27, 2], [27, 2], [27, 2], [26, 1], [26, 2], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 2], [26, 2], [26, 1], [33, 2], [33, 4], [33, 5], [33, 7], [35, 4], [46, 1], [46, 2], [34, 1], [34, 2], [34, 1], [34, 1], [31, 3], [31, 4], [31, 4], [31, 5], [52, 3], [52, 2], [52, 2], [52, 1], [54, 1], [54, 1], [54, 1], [54, 1], [54, 1], [55, 1], [55, 1], [36, 3], [36, 4], [36, 3], [36, 4], [36, 4], [36, 5], [36, 3], [36, 4], [36, 4], [36, 5], [36, 3], [36, 4], [36, 4], [36, 5], [37, 3], [71, 1], [71, 1], [72, 1], [72, 1], [72, 1], [72, 1], [72, 1], [72, 1], [72, 1], [74, 1], [74, 1], [74, 1], [74, 1], [28, 1], [28, 1], [28, 1], [29, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 5:
                    yy.setDirection("TB");
                    break;
                  case 6:
                    yy.setDirection("BT");
                    break;
                  case 7:
                    yy.setDirection("RL");
                    break;
                  case 8:
                    yy.setDirection("LR");
                    break;
                  case 12:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 13:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 14:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 15:
                    yy.parseDirective("}%%", "close_directive", "class");
                    break;
                  case 20:
                  case 21:
                    this.$ = $$[$0];
                    break;
                  case 22:
                    this.$ = $$[$0 - 1] + $$[$0];
                    break;
                  case 23:
                  case 24:
                    this.$ = $$[$0 - 1] + "~" + $$[$0];
                    break;
                  case 25:
                    yy.addRelation($$[$0]);
                    break;
                  case 26:
                    $$[$0 - 1].title = yy.cleanupLabel($$[$0]);
                    yy.addRelation($$[$0 - 1]);
                    break;
                  case 34:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 35:
                  case 36:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 37:
                    yy.addClass($$[$0]);
                    break;
                  case 38:
                    yy.addClass($$[$0 - 2]);
                    yy.setCssClass($$[$0 - 2], $$[$0]);
                    break;
                  case 39:
                    yy.addClass($$[$0 - 3]);
                    yy.addMembers($$[$0 - 3], $$[$0 - 1]);
                    break;
                  case 40:
                    yy.addClass($$[$0 - 5]);
                    yy.setCssClass($$[$0 - 5], $$[$0 - 3]);
                    yy.addMembers($$[$0 - 5], $$[$0 - 1]);
                    break;
                  case 41:
                    yy.addAnnotation($$[$0], $$[$0 - 2]);
                    break;
                  case 42:
                    this.$ = [$$[$0]];
                    break;
                  case 43:
                    $$[$0].push($$[$0 - 1]);
                    this.$ = $$[$0];
                    break;
                  case 44:
                    break;
                  case 45:
                    yy.addMember($$[$0 - 1], yy.cleanupLabel($$[$0]));
                    break;
                  case 46:
                    break;
                  case 47:
                    break;
                  case 48:
                    this.$ = { "id1": $$[$0 - 2], "id2": $$[$0], relation: $$[$0 - 1], relationTitle1: "none", relationTitle2: "none" };
                    break;
                  case 49:
                    this.$ = { id1: $$[$0 - 3], id2: $$[$0], relation: $$[$0 - 1], relationTitle1: $$[$0 - 2], relationTitle2: "none" };
                    break;
                  case 50:
                    this.$ = { id1: $$[$0 - 3], id2: $$[$0], relation: $$[$0 - 2], relationTitle1: "none", relationTitle2: $$[$0 - 1] };
                    break;
                  case 51:
                    this.$ = { id1: $$[$0 - 4], id2: $$[$0], relation: $$[$0 - 2], relationTitle1: $$[$0 - 3], relationTitle2: $$[$0 - 1] };
                    break;
                  case 52:
                    this.$ = { type1: $$[$0 - 2], type2: $$[$0], lineType: $$[$0 - 1] };
                    break;
                  case 53:
                    this.$ = { type1: "none", type2: $$[$0], lineType: $$[$0 - 1] };
                    break;
                  case 54:
                    this.$ = { type1: $$[$0 - 1], type2: "none", lineType: $$[$0] };
                    break;
                  case 55:
                    this.$ = { type1: "none", type2: "none", lineType: $$[$0] };
                    break;
                  case 56:
                    this.$ = yy.relationType.AGGREGATION;
                    break;
                  case 57:
                    this.$ = yy.relationType.EXTENSION;
                    break;
                  case 58:
                    this.$ = yy.relationType.COMPOSITION;
                    break;
                  case 59:
                    this.$ = yy.relationType.DEPENDENCY;
                    break;
                  case 60:
                    this.$ = yy.relationType.LOLLIPOP;
                    break;
                  case 61:
                    this.$ = yy.lineType.LINE;
                    break;
                  case 62:
                    this.$ = yy.lineType.DOTTED_LINE;
                    break;
                  case 63:
                  case 69:
                    this.$ = $$[$0 - 2];
                    yy.setClickEvent($$[$0 - 1], $$[$0]);
                    break;
                  case 64:
                  case 70:
                    this.$ = $$[$0 - 3];
                    yy.setClickEvent($$[$0 - 2], $$[$0 - 1]);
                    yy.setTooltip($$[$0 - 2], $$[$0]);
                    break;
                  case 65:
                  case 73:
                    this.$ = $$[$0 - 2];
                    yy.setLink($$[$0 - 1], $$[$0]);
                    break;
                  case 66:
                    this.$ = $$[$0 - 3];
                    yy.setLink($$[$0 - 2], $$[$0 - 1], $$[$0]);
                    break;
                  case 67:
                  case 75:
                    this.$ = $$[$0 - 3];
                    yy.setLink($$[$0 - 2], $$[$0 - 1]);
                    yy.setTooltip($$[$0 - 2], $$[$0]);
                    break;
                  case 68:
                  case 76:
                    this.$ = $$[$0 - 4];
                    yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);
                    yy.setTooltip($$[$0 - 3], $$[$0 - 1]);
                    break;
                  case 71:
                    this.$ = $$[$0 - 3];
                    yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);
                    break;
                  case 72:
                    this.$ = $$[$0 - 4];
                    yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);
                    yy.setTooltip($$[$0 - 3], $$[$0]);
                    break;
                  case 74:
                    this.$ = $$[$0 - 3];
                    yy.setLink($$[$0 - 2], $$[$0 - 1], $$[$0]);
                    break;
                  case 77:
                    yy.setCssClass($$[$0 - 1], $$[$0]);
                    break;
                }
              },
              table: [{ 3: 1, 4: 2, 5: $V0, 6: 4, 7: 5, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 12: 6, 13: 11, 19: $V5, 23: $V6 }, { 1: [3] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, { 3: 14, 4: 2, 5: $V0, 6: 4, 7: 5, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 12: 6, 13: 11, 19: $V5, 23: $V6 }, { 1: [2, 9] }, o($V7, [2, 5]), o($V7, [2, 6]), o($V7, [2, 7]), o($V7, [2, 8]), { 14: 15, 20: [1, 16] }, { 16: [1, 17] }, { 20: [2, 12] }, { 1: [2, 4] }, { 15: 18, 17: [1, 19], 22: $V8 }, o([17, 22], [2, 13]), { 6: 30, 7: 29, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 13: 11, 19: $V5, 24: 21, 26: 22, 27: 34, 28: 43, 29: 44, 31: 23, 33: 24, 34: 25, 35: 26, 36: 27, 37: 28, 38: $V9, 40: $Va, 42: $Vb, 43: $Vc, 48: $Vd, 50: $Ve, 51: $Vf, 63: $Vg, 64: $Vh, 66: $Vi, 70: $Vj, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 16: [1, 49] }, { 18: 50, 21: [1, 51] }, { 16: [2, 15] }, { 25: [1, 52] }, { 16: [1, 53], 25: [2, 17] }, o($Vo, [2, 25], { 32: [1, 54] }), o($Vo, [2, 27]), o($Vo, [2, 28]), o($Vo, [2, 29]), o($Vo, [2, 30]), o($Vo, [2, 31]), o($Vo, [2, 32]), o($Vo, [2, 33]), { 39: [1, 55] }, { 41: [1, 56] }, o($Vo, [2, 36]), o($Vo, [2, 44], { 52: 57, 54: 60, 55: 61, 32: [1, 59], 53: [1, 58], 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv }), { 27: 69, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vo, [2, 46]), o($Vo, [2, 47]), { 28: 70, 84: $Vk, 85: $Vl, 86: $Vm }, { 27: 71, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 27: 72, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 27: 73, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 53: [1, 74] }, o($Vw, [2, 20], { 28: 43, 29: 44, 27: 75, 30: [1, 76], 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }), o($Vw, [2, 21], { 30: [1, 77] }), o($Vx, [2, 91]), o($Vx, [2, 92]), o($Vx, [2, 93]), o([16, 25, 30, 32, 44, 45, 53, 56, 57, 58, 59, 60, 61, 62, 67, 69], [2, 94]), o($Vy, [2, 10]), { 15: 78, 22: $V8 }, { 22: [2, 14] }, { 1: [2, 16] }, { 6: 30, 7: 29, 8: $V1, 9: $V2, 10: $V3, 11: $V4, 13: 11, 19: $V5, 24: 79, 25: [2, 18], 26: 22, 27: 34, 28: 43, 29: 44, 31: 23, 33: 24, 34: 25, 35: 26, 36: 27, 37: 28, 38: $V9, 40: $Va, 42: $Vb, 43: $Vc, 48: $Vd, 50: $Ve, 51: $Vf, 63: $Vg, 64: $Vh, 66: $Vi, 70: $Vj, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vo, [2, 26]), o($Vo, [2, 34]), o($Vo, [2, 35]), { 27: 80, 28: 43, 29: 44, 53: [1, 81], 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 52: 82, 54: 60, 55: 61, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt, 61: $Vu, 62: $Vv }, o($Vo, [2, 45]), { 55: 83, 61: $Vu, 62: $Vv }, o($Vz, [2, 55], { 54: 84, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt }), o($VA, [2, 56]), o($VA, [2, 57]), o($VA, [2, 58]), o($VA, [2, 59]), o($VA, [2, 60]), o($VB, [2, 61]), o($VB, [2, 62]), o($Vo, [2, 37], { 44: [1, 85], 45: [1, 86] }), { 49: [1, 87] }, { 53: [1, 88] }, { 53: [1, 89] }, { 67: [1, 90], 69: [1, 91] }, { 28: 92, 84: $Vk, 85: $Vl, 86: $Vm }, o($Vw, [2, 22]), o($Vw, [2, 23]), o($Vw, [2, 24]), { 16: [1, 93] }, { 25: [2, 19] }, o($VC, [2, 48]), { 27: 94, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, { 27: 95, 28: 43, 29: 44, 53: [1, 96], 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vz, [2, 54], { 54: 97, 56: $Vp, 57: $Vq, 58: $Vr, 59: $Vs, 60: $Vt }), o($Vz, [2, 53]), { 28: 98, 84: $Vk, 85: $Vl, 86: $Vm }, { 46: 99, 50: $VD }, { 27: 101, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vo, [2, 63], { 53: [1, 102] }), o($Vo, [2, 65], { 53: [1, 104], 65: [1, 103] }), o($Vo, [2, 69], { 53: [1, 105], 68: [1, 106] }), o($Vo, [2, 73], { 53: [1, 108], 65: [1, 107] }), o($Vo, [2, 77]), o($Vy, [2, 11]), o($VC, [2, 50]), o($VC, [2, 49]), { 27: 109, 28: 43, 29: 44, 84: $Vk, 85: $Vl, 86: $Vm, 87: $Vn }, o($Vz, [2, 52]), o($Vo, [2, 38], { 45: [1, 110] }), { 47: [1, 111] }, { 46: 112, 47: [2, 42], 50: $VD }, o($Vo, [2, 41]), o($Vo, [2, 64]), o($Vo, [2, 66]), o($Vo, [2, 67], { 65: [1, 113] }), o($Vo, [2, 70]), o($Vo, [2, 71], { 53: [1, 114] }), o($Vo, [2, 74]), o($Vo, [2, 75], { 65: [1, 115] }), o($VC, [2, 51]), { 46: 116, 50: $VD }, o($Vo, [2, 39]), { 47: [2, 43] }, o($Vo, [2, 68]), o($Vo, [2, 72]), o($Vo, [2, 76]), { 47: [1, 117] }, o($Vo, [2, 40])],
              defaultActions: { 2: [2, 1], 3: [2, 2], 4: [2, 3], 6: [2, 9], 13: [2, 12], 14: [2, 4], 20: [2, 15], 51: [2, 14], 52: [2, 16], 79: [2, 19], 112: [2, 43] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: {},
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 19;
                    case 1:
                      return 8;
                    case 2:
                      return 9;
                    case 3:
                      return 10;
                    case 4:
                      return 11;
                    case 5:
                      this.begin("type_directive");
                      return 20;
                    case 6:
                      this.popState();
                      this.begin("arg_directive");
                      return 17;
                    case 7:
                      this.popState();
                      this.popState();
                      return 22;
                    case 8:
                      return 21;
                    case 9:
                      break;
                    case 10:
                      break;
                    case 11:
                      this.begin("acc_title");
                      return 38;
                    case 12:
                      this.popState();
                      return "acc_title_value";
                    case 13:
                      this.begin("acc_descr");
                      return 40;
                    case 14:
                      this.popState();
                      return "acc_descr_value";
                    case 15:
                      this.begin("acc_descr_multiline");
                      break;
                    case 16:
                      this.popState();
                      break;
                    case 17:
                      return "acc_descr_multiline_value";
                    case 18:
                      return 16;
                    case 19:
                      break;
                    case 20:
                      return 23;
                    case 21:
                      return 23;
                    case 22:
                      this.begin("struct");
                      return 45;
                    case 23:
                      return "EDGE_STATE";
                    case 24:
                      return "EOF_IN_STRUCT";
                    case 25:
                      return "OPEN_IN_STRUCT";
                    case 26:
                      this.popState();
                      return 47;
                    case 27:
                      break;
                    case 28:
                      return "MEMBER";
                    case 29:
                      return 43;
                    case 30:
                      return 70;
                    case 31:
                      return 63;
                    case 32:
                      return 64;
                    case 33:
                      return 66;
                    case 34:
                      return 48;
                    case 35:
                      return 49;
                    case 36:
                      this.begin("generic");
                      break;
                    case 37:
                      this.popState();
                      break;
                    case 38:
                      return "GENERICTYPE";
                    case 39:
                      this.begin("string");
                      break;
                    case 40:
                      this.popState();
                      break;
                    case 41:
                      return "STR";
                    case 42:
                      this.begin("bqstring");
                      break;
                    case 43:
                      this.popState();
                      break;
                    case 44:
                      return "BQUOTE_STR";
                    case 45:
                      this.begin("href");
                      break;
                    case 46:
                      this.popState();
                      break;
                    case 47:
                      return 69;
                    case 48:
                      this.begin("callback_name");
                      break;
                    case 49:
                      this.popState();
                      break;
                    case 50:
                      this.popState();
                      this.begin("callback_args");
                      break;
                    case 51:
                      return 67;
                    case 52:
                      this.popState();
                      break;
                    case 53:
                      return 68;
                    case 54:
                      return 65;
                    case 55:
                      return 65;
                    case 56:
                      return 65;
                    case 57:
                      return 65;
                    case 58:
                      return 57;
                    case 59:
                      return 57;
                    case 60:
                      return 59;
                    case 61:
                      return 59;
                    case 62:
                      return 58;
                    case 63:
                      return 56;
                    case 64:
                      return 60;
                    case 65:
                      return 61;
                    case 66:
                      return 62;
                    case 67:
                      return 32;
                    case 68:
                      return 44;
                    case 69:
                      return 82;
                    case 70:
                      return "DOT";
                    case 71:
                      return "PLUS";
                    case 72:
                      return 79;
                    case 73:
                      return "EQUALS";
                    case 74:
                      return "EQUALS";
                    case 75:
                      return 86;
                    case 76:
                      return "PUNCTUATION";
                    case 77:
                      return 85;
                    case 78:
                      return 84;
                    case 79:
                      return 81;
                    case 80:
                      return 25;
                  }
                },
                rules: [/^(?:%%\{)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:((?:(?!\}%%)[^:.])*))/, /^(?::)/, /^(?:\}%%)/, /^(?:((?:(?!\}%%).|\n)*))/, /^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/, /^(?:%%[^\n]*(\r?\n)*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:\s*(\r?\n)+)/, /^(?:\s+)/, /^(?:classDiagram-v2\b)/, /^(?:classDiagram\b)/, /^(?:[{])/, /^(?:\[\*\])/, /^(?:$)/, /^(?:[{])/, /^(?:[}])/, /^(?:[\n])/, /^(?:[^{}\n]*)/, /^(?:class\b)/, /^(?:cssClass\b)/, /^(?:callback\b)/, /^(?:link\b)/, /^(?:click\b)/, /^(?:<<)/, /^(?:>>)/, /^(?:[~])/, /^(?:[~])/, /^(?:[^~]*)/, /^(?:["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:[`])/, /^(?:[`])/, /^(?:[^`]+)/, /^(?:href[\s]+["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:\s*<\|)/, /^(?:\s*\|>)/, /^(?:\s*>)/, /^(?:\s*<)/, /^(?:\s*\*)/, /^(?:\s*o\b)/, /^(?:\s*\(\))/, /^(?:--)/, /^(?:\.\.)/, /^(?::{1}[^:\n;]+)/, /^(?::{3})/, /^(?:-)/, /^(?:\.)/, /^(?:\+)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:\w+)/, /^(?:[!"#$%&'*+,-.`?\\/])/, /^(?:[0-9]+)/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\s)/, /^(?:$)/],
                conditions: { "acc_descr_multiline": { "rules": [16, 17], "inclusive": false }, "acc_descr": { "rules": [14], "inclusive": false }, "acc_title": { "rules": [12], "inclusive": false }, "arg_directive": { "rules": [7, 8], "inclusive": false }, "type_directive": { "rules": [6, 7], "inclusive": false }, "open_directive": { "rules": [5], "inclusive": false }, "callback_args": { "rules": [52, 53], "inclusive": false }, "callback_name": { "rules": [49, 50, 51], "inclusive": false }, "href": { "rules": [46, 47], "inclusive": false }, "struct": { "rules": [23, 24, 25, 26, 27, 28], "inclusive": false }, "generic": { "rules": [37, 38], "inclusive": false }, "bqstring": { "rules": [43, 44], "inclusive": false }, "string": { "rules": [40, 41], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 9, 10, 11, 13, 15, 18, 19, 20, 21, 22, 23, 29, 30, 31, 32, 33, 34, 35, 36, 39, 42, 45, 48, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?35ed").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/er/parser/erDiagram.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 2], $V1 = [1, 5], $V2 = [6, 9, 11, 23, 25, 27, 29, 30, 49], $V3 = [1, 17], $V4 = [1, 18], $V5 = [1, 19], $V6 = [1, 20], $V7 = [1, 21], $V8 = [1, 24], $V9 = [1, 29], $Va = [1, 30], $Vb = [1, 31], $Vc = [1, 32], $Vd = [6, 9, 11, 15, 20, 23, 25, 27, 29, 30, 42, 43, 44, 45, 49], $Ve = [1, 45], $Vf = [30, 46, 47], $Vg = [4, 6, 9, 11, 23, 25, 27, 29, 30, 49], $Vh = [42, 43, 44, 45], $Vi = [22, 37], $Vj = [1, 64];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "ER_DIAGRAM": 4, "document": 5, "EOF": 6, "directive": 7, "line": 8, "SPACE": 9, "statement": 10, "NEWLINE": 11, "openDirective": 12, "typeDirective": 13, "closeDirective": 14, ":": 15, "argDirective": 16, "entityName": 17, "relSpec": 18, "role": 19, "BLOCK_START": 20, "attributes": 21, "BLOCK_STOP": 22, "title": 23, "title_value": 24, "acc_title": 25, "acc_title_value": 26, "acc_descr": 27, "acc_descr_value": 28, "acc_descr_multiline_value": 29, "ALPHANUM": 30, ".": 31, "attribute": 32, "attributeType": 33, "attributeName": 34, "attributeKeyType": 35, "attributeComment": 36, "ATTRIBUTE_WORD": 37, "ATTRIBUTE_KEY": 38, "COMMENT": 39, "cardinality": 40, "relType": 41, "ZERO_OR_ONE": 42, "ZERO_OR_MORE": 43, "ONE_OR_MORE": 44, "ONLY_ONE": 45, "NON_IDENTIFYING": 46, "IDENTIFYING": 47, "WORD": 48, "open_directive": 49, "type_directive": 50, "arg_directive": 51, "close_directive": 52, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 4: "ER_DIAGRAM", 6: "EOF", 9: "SPACE", 11: "NEWLINE", 15: ":", 20: "BLOCK_START", 22: "BLOCK_STOP", 23: "title", 24: "title_value", 25: "acc_title", 26: "acc_title_value", 27: "acc_descr", 28: "acc_descr_value", 29: "acc_descr_multiline_value", 30: "ALPHANUM", 31: ".", 37: "ATTRIBUTE_WORD", 38: "ATTRIBUTE_KEY", 39: "COMMENT", 42: "ZERO_OR_ONE", 43: "ZERO_OR_MORE", 44: "ONE_OR_MORE", 45: "ONLY_ONE", 46: "NON_IDENTIFYING", 47: "IDENTIFYING", 48: "WORD", 49: "open_directive", 50: "type_directive", 51: "arg_directive", 52: "close_directive" },
              productions_: [0, [3, 3], [3, 2], [5, 0], [5, 2], [8, 2], [8, 1], [8, 1], [8, 1], [7, 4], [7, 6], [10, 1], [10, 5], [10, 4], [10, 3], [10, 1], [10, 2], [10, 2], [10, 2], [10, 1], [17, 1], [17, 3], [21, 1], [21, 2], [32, 2], [32, 3], [32, 3], [32, 4], [33, 1], [34, 1], [35, 1], [36, 1], [18, 3], [40, 1], [40, 1], [40, 1], [40, 1], [41, 1], [41, 1], [19, 1], [19, 1], [12, 1], [13, 1], [16, 1], [14, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 1:
                    break;
                  case 3:
                    this.$ = [];
                    break;
                  case 4:
                    $$[$0 - 1].push($$[$0]);
                    this.$ = $$[$0 - 1];
                    break;
                  case 5:
                  case 6:
                    this.$ = $$[$0];
                    break;
                  case 7:
                  case 8:
                    this.$ = [];
                    break;
                  case 12:
                    yy.addEntity($$[$0 - 4]);
                    yy.addEntity($$[$0 - 2]);
                    yy.addRelationship($$[$0 - 4], $$[$0], $$[$0 - 2], $$[$0 - 3]);
                    break;
                  case 13:
                    yy.addEntity($$[$0 - 3]);
                    yy.addAttributes($$[$0 - 3], $$[$0 - 1]);
                    break;
                  case 14:
                    yy.addEntity($$[$0 - 2]);
                    break;
                  case 15:
                    yy.addEntity($$[$0]);
                    break;
                  case 16:
                  case 17:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 18:
                  case 19:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 20:
                    this.$ = $$[$0];
                    break;
                  case 21:
                    this.$ = $$[$0 - 2] + $$[$0 - 1] + $$[$0];
                    break;
                  case 22:
                    this.$ = [$$[$0]];
                    break;
                  case 23:
                    $$[$0].push($$[$0 - 1]);
                    this.$ = $$[$0];
                    break;
                  case 24:
                    this.$ = { attributeType: $$[$0 - 1], attributeName: $$[$0] };
                    break;
                  case 25:
                    this.$ = { attributeType: $$[$0 - 2], attributeName: $$[$0 - 1], attributeKeyType: $$[$0] };
                    break;
                  case 26:
                    this.$ = { attributeType: $$[$0 - 2], attributeName: $$[$0 - 1], attributeComment: $$[$0] };
                    break;
                  case 27:
                    this.$ = { attributeType: $$[$0 - 3], attributeName: $$[$0 - 2], attributeKeyType: $$[$0 - 1], attributeComment: $$[$0] };
                    break;
                  case 28:
                  case 29:
                  case 30:
                    this.$ = $$[$0];
                    break;
                  case 31:
                    this.$ = $$[$0].replace(/"/g, "");
                    break;
                  case 32:
                    this.$ = { cardA: $$[$0], relType: $$[$0 - 1], cardB: $$[$0 - 2] };
                    break;
                  case 33:
                    this.$ = yy.Cardinality.ZERO_OR_ONE;
                    break;
                  case 34:
                    this.$ = yy.Cardinality.ZERO_OR_MORE;
                    break;
                  case 35:
                    this.$ = yy.Cardinality.ONE_OR_MORE;
                    break;
                  case 36:
                    this.$ = yy.Cardinality.ONLY_ONE;
                    break;
                  case 37:
                    this.$ = yy.Identification.NON_IDENTIFYING;
                    break;
                  case 38:
                    this.$ = yy.Identification.IDENTIFYING;
                    break;
                  case 39:
                    this.$ = $$[$0].replace(/"/g, "");
                    break;
                  case 40:
                    this.$ = $$[$0];
                    break;
                  case 41:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 42:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 43:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 44:
                    yy.parseDirective("}%%", "close_directive", "er");
                    break;
                }
              },
              table: [{ 3: 1, 4: $V0, 7: 3, 12: 4, 49: $V1 }, { 1: [3] }, o($V2, [2, 3], { 5: 6 }), { 3: 7, 4: $V0, 7: 3, 12: 4, 49: $V1 }, { 13: 8, 50: [1, 9] }, { 50: [2, 41] }, { 6: [1, 10], 7: 15, 8: 11, 9: [1, 12], 10: 13, 11: [1, 14], 12: 4, 17: 16, 23: $V3, 25: $V4, 27: $V5, 29: $V6, 30: $V7, 49: $V1 }, { 1: [2, 2] }, { 14: 22, 15: [1, 23], 52: $V8 }, o([15, 52], [2, 42]), o($V2, [2, 8], { 1: [2, 1] }), o($V2, [2, 4]), { 7: 15, 10: 25, 12: 4, 17: 16, 23: $V3, 25: $V4, 27: $V5, 29: $V6, 30: $V7, 49: $V1 }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 11]), o($V2, [2, 15], { 18: 26, 40: 28, 20: [1, 27], 42: $V9, 43: $Va, 44: $Vb, 45: $Vc }), { 24: [1, 33] }, { 26: [1, 34] }, { 28: [1, 35] }, o($V2, [2, 19]), o($Vd, [2, 20], { 31: [1, 36] }), { 11: [1, 37] }, { 16: 38, 51: [1, 39] }, { 11: [2, 44] }, o($V2, [2, 5]), { 17: 40, 30: $V7 }, { 21: 41, 22: [1, 42], 32: 43, 33: 44, 37: $Ve }, { 41: 46, 46: [1, 47], 47: [1, 48] }, o($Vf, [2, 33]), o($Vf, [2, 34]), o($Vf, [2, 35]), o($Vf, [2, 36]), o($V2, [2, 16]), o($V2, [2, 17]), o($V2, [2, 18]), { 17: 49, 30: $V7 }, o($Vg, [2, 9]), { 14: 50, 52: $V8 }, { 52: [2, 43] }, { 15: [1, 51] }, { 22: [1, 52] }, o($V2, [2, 14]), { 21: 53, 22: [2, 22], 32: 43, 33: 44, 37: $Ve }, { 34: 54, 37: [1, 55] }, { 37: [2, 28] }, { 40: 56, 42: $V9, 43: $Va, 44: $Vb, 45: $Vc }, o($Vh, [2, 37]), o($Vh, [2, 38]), o($Vd, [2, 21]), { 11: [1, 57] }, { 19: 58, 30: [1, 60], 48: [1, 59] }, o($V2, [2, 13]), { 22: [2, 23] }, o($Vi, [2, 24], { 35: 61, 36: 62, 38: [1, 63], 39: $Vj }), o([22, 37, 38, 39], [2, 29]), { 30: [2, 32] }, o($Vg, [2, 10]), o($V2, [2, 12]), o($V2, [2, 39]), o($V2, [2, 40]), o($Vi, [2, 25], { 36: 65, 39: $Vj }), o($Vi, [2, 26]), o([22, 37, 39], [2, 30]), o($Vi, [2, 31]), o($Vi, [2, 27])],
              defaultActions: { 5: [2, 41], 7: [2, 2], 24: [2, 44], 39: [2, 43], 45: [2, 28], 53: [2, 23], 56: [2, 32] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("acc_title");
                      return 25;
                    case 1:
                      this.popState();
                      return "acc_title_value";
                    case 2:
                      this.begin("acc_descr");
                      return 27;
                    case 3:
                      this.popState();
                      return "acc_descr_value";
                    case 4:
                      this.begin("acc_descr_multiline");
                      break;
                    case 5:
                      this.popState();
                      break;
                    case 6:
                      return "acc_descr_multiline_value";
                    case 7:
                      this.begin("open_directive");
                      return 49;
                    case 8:
                      this.begin("type_directive");
                      return 50;
                    case 9:
                      this.popState();
                      this.begin("arg_directive");
                      return 15;
                    case 10:
                      this.popState();
                      this.popState();
                      return 52;
                    case 11:
                      return 51;
                    case 12:
                      break;
                    case 13:
                      break;
                    case 14:
                      return 11;
                    case 15:
                      break;
                    case 16:
                      return 9;
                    case 17:
                      return 48;
                    case 18:
                      return 4;
                    case 19:
                      this.begin("block");
                      return 20;
                    case 20:
                      break;
                    case 21:
                      return 38;
                    case 22:
                      return 37;
                    case 23:
                      return 37;
                    case 24:
                      return 39;
                    case 25:
                      break;
                    case 26:
                      this.popState();
                      return 22;
                    case 27:
                      return yy_.yytext[0];
                    case 28:
                      return 42;
                    case 29:
                      return 43;
                    case 30:
                      return 44;
                    case 31:
                      return 45;
                    case 32:
                      return 42;
                    case 33:
                      return 43;
                    case 34:
                      return 44;
                    case 35:
                      return 46;
                    case 36:
                      return 47;
                    case 37:
                      return 46;
                    case 38:
                      return 46;
                    case 39:
                      return 30;
                    case 40:
                      return yy_.yytext[0];
                    case 41:
                      return 6;
                  }
                },
                rules: [/^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:[\s]+)/i, /^(?:"[^"]*")/i, /^(?:erDiagram\b)/i, /^(?:\{)/i, /^(?:\s+)/i, /^(?:\b((?:PK)|(?:FK))\b)/i, /^(?:(.*?)[~](.*?)*[~])/i, /^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i, /^(?:"[^"]*")/i, /^(?:[\n]+)/i, /^(?:\})/i, /^(?:.)/i, /^(?:\|o\b)/i, /^(?:\}o\b)/i, /^(?:\}\|)/i, /^(?:\|\|)/i, /^(?:o\|)/i, /^(?:o\{)/i, /^(?:\|\{)/i, /^(?:\.\.)/i, /^(?:--)/i, /^(?:\.-)/i, /^(?:-\.)/i, /^(?:[A-Za-z][A-Za-z0-9\-_]*)/i, /^(?:.)/i, /^(?:$)/i],
                conditions: { "acc_descr_multiline": { "rules": [5, 6], "inclusive": false }, "acc_descr": { "rules": [3], "inclusive": false }, "acc_title": { "rules": [1], "inclusive": false }, "open_directive": { "rules": [8], "inclusive": false }, "type_directive": { "rules": [9, 10], "inclusive": false }, "arg_directive": { "rules": [10, 11], "inclusive": false }, "block": { "rules": [20, 21, 22, 23, 24, 25, 26, 27], "inclusive": false }, "INITIAL": { "rules": [0, 2, 4, 7, 12, 13, 14, 15, 16, 17, 18, 19, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?3c87").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/flowchart/parser/flow.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 9], $V1 = [1, 7], $V2 = [1, 6], $V3 = [1, 8], $V4 = [1, 20, 21, 22, 23, 38, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $V5 = [2, 10], $V6 = [1, 20], $V7 = [1, 21], $V8 = [1, 22], $V9 = [1, 23], $Va = [1, 30], $Vb = [1, 32], $Vc = [1, 33], $Vd = [1, 34], $Ve = [1, 62], $Vf = [1, 48], $Vg = [1, 52], $Vh = [1, 36], $Vi = [1, 37], $Vj = [1, 38], $Vk = [1, 39], $Vl = [1, 40], $Vm = [1, 56], $Vn = [1, 63], $Vo = [1, 51], $Vp = [1, 53], $Vq = [1, 55], $Vr = [1, 59], $Vs = [1, 60], $Vt = [1, 41], $Vu = [1, 42], $Vv = [1, 43], $Vw = [1, 44], $Vx = [1, 61], $Vy = [1, 50], $Vz = [1, 54], $VA = [1, 57], $VB = [1, 58], $VC = [1, 49], $VD = [1, 66], $VE = [1, 71], $VF = [1, 20, 21, 22, 23, 38, 42, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $VG = [1, 75], $VH = [1, 74], $VI = [1, 76], $VJ = [20, 21, 23, 81, 82], $VK = [1, 99], $VL = [1, 104], $VM = [1, 107], $VN = [1, 108], $VO = [1, 101], $VP = [1, 106], $VQ = [1, 109], $VR = [1, 102], $VS = [1, 114], $VT = [1, 113], $VU = [1, 103], $VV = [1, 105], $VW = [1, 110], $VX = [1, 111], $VY = [1, 112], $VZ = [1, 115], $V_ = [20, 21, 22, 23, 81, 82], $V$ = [20, 21, 22, 23, 53, 81, 82], $V01 = [20, 21, 22, 23, 40, 52, 53, 55, 57, 59, 61, 63, 65, 66, 67, 69, 71, 73, 74, 76, 81, 82, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $V11 = [20, 21, 23], $V21 = [20, 21, 23, 52, 66, 67, 81, 82, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $V31 = [1, 12, 20, 21, 22, 23, 24, 38, 42, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $V41 = [52, 66, 67, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $V51 = [1, 149], $V61 = [1, 157], $V71 = [1, 158], $V81 = [1, 159], $V91 = [1, 160], $Va1 = [1, 144], $Vb1 = [1, 145], $Vc1 = [1, 141], $Vd1 = [1, 152], $Ve1 = [1, 153], $Vf1 = [1, 154], $Vg1 = [1, 155], $Vh1 = [1, 156], $Vi1 = [1, 161], $Vj1 = [1, 162], $Vk1 = [1, 147], $Vl1 = [1, 150], $Vm1 = [1, 146], $Vn1 = [1, 143], $Vo1 = [20, 21, 22, 23, 38, 42, 44, 46, 48, 52, 66, 67, 86, 87, 88, 89, 90, 91, 95, 105, 106, 109, 111, 112, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127], $Vp1 = [1, 165], $Vq1 = [20, 21, 22, 23, 26, 52, 66, 67, 91, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], $Vr1 = [20, 21, 22, 23, 24, 26, 38, 40, 41, 42, 52, 56, 58, 60, 62, 64, 66, 67, 68, 70, 72, 73, 75, 77, 81, 82, 86, 87, 88, 89, 90, 91, 92, 95, 105, 106, 109, 111, 112, 113, 114, 122, 123, 124, 125, 126, 127], $Vs1 = [12, 21, 22, 24], $Vt1 = [22, 106], $Vu1 = [1, 250], $Vv1 = [1, 245], $Vw1 = [1, 246], $Vx1 = [1, 254], $Vy1 = [1, 251], $Vz1 = [1, 248], $VA1 = [1, 247], $VB1 = [1, 249], $VC1 = [1, 252], $VD1 = [1, 253], $VE1 = [1, 255], $VF1 = [1, 273], $VG1 = [20, 21, 23, 106], $VH1 = [20, 21, 22, 23, 66, 67, 86, 102, 105, 106, 109, 110, 111, 112, 113];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "mermaidDoc": 4, "directive": 5, "openDirective": 6, "typeDirective": 7, "closeDirective": 8, "separator": 9, ":": 10, "argDirective": 11, "open_directive": 12, "type_directive": 13, "arg_directive": 14, "close_directive": 15, "graphConfig": 16, "document": 17, "line": 18, "statement": 19, "SEMI": 20, "NEWLINE": 21, "SPACE": 22, "EOF": 23, "GRAPH": 24, "NODIR": 25, "DIR": 26, "FirstStmtSeperator": 27, "ending": 28, "endToken": 29, "spaceList": 30, "spaceListNewline": 31, "verticeStatement": 32, "styleStatement": 33, "linkStyleStatement": 34, "classDefStatement": 35, "classStatement": 36, "clickStatement": 37, "subgraph": 38, "text": 39, "SQS": 40, "SQE": 41, "end": 42, "direction": 43, "acc_title": 44, "acc_title_value": 45, "acc_descr": 46, "acc_descr_value": 47, "acc_descr_multiline_value": 48, "link": 49, "node": 50, "vertex": 51, "AMP": 52, "STYLE_SEPARATOR": 53, "idString": 54, "DOUBLECIRCLESTART": 55, "DOUBLECIRCLEEND": 56, "PS": 57, "PE": 58, "(-": 59, "-)": 60, "STADIUMSTART": 61, "STADIUMEND": 62, "SUBROUTINESTART": 63, "SUBROUTINEEND": 64, "VERTEX_WITH_PROPS_START": 65, "ALPHA": 66, "COLON": 67, "PIPE": 68, "CYLINDERSTART": 69, "CYLINDEREND": 70, "DIAMOND_START": 71, "DIAMOND_STOP": 72, "TAGEND": 73, "TRAPSTART": 74, "TRAPEND": 75, "INVTRAPSTART": 76, "INVTRAPEND": 77, "linkStatement": 78, "arrowText": 79, "TESTSTR": 80, "START_LINK": 81, "LINK": 82, "textToken": 83, "STR": 84, "keywords": 85, "STYLE": 86, "LINKSTYLE": 87, "CLASSDEF": 88, "CLASS": 89, "CLICK": 90, "DOWN": 91, "UP": 92, "textNoTags": 93, "textNoTagsToken": 94, "DEFAULT": 95, "stylesOpt": 96, "alphaNum": 97, "CALLBACKNAME": 98, "CALLBACKARGS": 99, "HREF": 100, "LINK_TARGET": 101, "HEX": 102, "numList": 103, "INTERPOLATE": 104, "NUM": 105, "COMMA": 106, "style": 107, "styleComponent": 108, "MINUS": 109, "UNIT": 110, "BRKT": 111, "DOT": 112, "PCT": 113, "TAGSTART": 114, "alphaNumToken": 115, "idStringToken": 116, "alphaNumStatement": 117, "direction_tb": 118, "direction_bt": 119, "direction_rl": 120, "direction_lr": 121, "PUNCTUATION": 122, "UNICODE_TEXT": 123, "PLUS": 124, "EQUALS": 125, "MULT": 126, "UNDERSCORE": 127, "graphCodeTokens": 128, "ARROW_CROSS": 129, "ARROW_POINT": 130, "ARROW_CIRCLE": 131, "ARROW_OPEN": 132, "QUOTE": 133, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 10: ":", 12: "open_directive", 13: "type_directive", 14: "arg_directive", 15: "close_directive", 20: "SEMI", 21: "NEWLINE", 22: "SPACE", 23: "EOF", 24: "GRAPH", 25: "NODIR", 26: "DIR", 38: "subgraph", 40: "SQS", 41: "SQE", 42: "end", 44: "acc_title", 45: "acc_title_value", 46: "acc_descr", 47: "acc_descr_value", 48: "acc_descr_multiline_value", 52: "AMP", 53: "STYLE_SEPARATOR", 55: "DOUBLECIRCLESTART", 56: "DOUBLECIRCLEEND", 57: "PS", 58: "PE", 59: "(-", 60: "-)", 61: "STADIUMSTART", 62: "STADIUMEND", 63: "SUBROUTINESTART", 64: "SUBROUTINEEND", 65: "VERTEX_WITH_PROPS_START", 66: "ALPHA", 67: "COLON", 68: "PIPE", 69: "CYLINDERSTART", 70: "CYLINDEREND", 71: "DIAMOND_START", 72: "DIAMOND_STOP", 73: "TAGEND", 74: "TRAPSTART", 75: "TRAPEND", 76: "INVTRAPSTART", 77: "INVTRAPEND", 80: "TESTSTR", 81: "START_LINK", 82: "LINK", 84: "STR", 86: "STYLE", 87: "LINKSTYLE", 88: "CLASSDEF", 89: "CLASS", 90: "CLICK", 91: "DOWN", 92: "UP", 95: "DEFAULT", 98: "CALLBACKNAME", 99: "CALLBACKARGS", 100: "HREF", 101: "LINK_TARGET", 102: "HEX", 104: "INTERPOLATE", 105: "NUM", 106: "COMMA", 109: "MINUS", 110: "UNIT", 111: "BRKT", 112: "DOT", 113: "PCT", 114: "TAGSTART", 118: "direction_tb", 119: "direction_bt", 120: "direction_rl", 121: "direction_lr", 122: "PUNCTUATION", 123: "UNICODE_TEXT", 124: "PLUS", 125: "EQUALS", 126: "MULT", 127: "UNDERSCORE", 129: "ARROW_CROSS", 130: "ARROW_POINT", 131: "ARROW_CIRCLE", 132: "ARROW_OPEN", 133: "QUOTE" },
              productions_: [0, [3, 1], [3, 2], [5, 4], [5, 6], [6, 1], [7, 1], [11, 1], [8, 1], [4, 2], [17, 0], [17, 2], [18, 1], [18, 1], [18, 1], [18, 1], [18, 1], [16, 2], [16, 2], [16, 2], [16, 3], [28, 2], [28, 1], [29, 1], [29, 1], [29, 1], [27, 1], [27, 1], [27, 2], [31, 2], [31, 2], [31, 1], [31, 1], [30, 2], [30, 1], [19, 2], [19, 2], [19, 2], [19, 2], [19, 2], [19, 2], [19, 9], [19, 6], [19, 4], [19, 1], [19, 2], [19, 2], [19, 1], [9, 1], [9, 1], [9, 1], [32, 3], [32, 4], [32, 2], [32, 1], [50, 1], [50, 5], [50, 3], [51, 4], [51, 4], [51, 6], [51, 4], [51, 4], [51, 4], [51, 8], [51, 4], [51, 4], [51, 4], [51, 6], [51, 4], [51, 4], [51, 4], [51, 4], [51, 4], [51, 1], [49, 2], [49, 3], [49, 3], [49, 1], [49, 3], [78, 1], [79, 3], [39, 1], [39, 2], [39, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [85, 1], [93, 1], [93, 2], [35, 5], [35, 5], [36, 5], [37, 2], [37, 4], [37, 3], [37, 5], [37, 2], [37, 4], [37, 4], [37, 6], [37, 2], [37, 4], [37, 2], [37, 4], [37, 4], [37, 6], [33, 5], [33, 5], [34, 5], [34, 5], [34, 9], [34, 9], [34, 7], [34, 7], [103, 1], [103, 3], [96, 1], [96, 3], [107, 1], [107, 2], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [108, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [83, 1], [94, 1], [94, 1], [94, 1], [94, 1], [54, 1], [54, 2], [97, 1], [97, 2], [117, 1], [117, 1], [117, 1], [117, 1], [43, 1], [43, 1], [43, 1], [43, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [115, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [116, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1], [128, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 5:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 6:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 7:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 8:
                    yy.parseDirective("}%%", "close_directive", "flowchart");
                    break;
                  case 10:
                    this.$ = [];
                    break;
                  case 11:
                    if ($$[$0] !== []) {
                      $$[$0 - 1].push($$[$0]);
                    }
                    this.$ = $$[$0 - 1];
                    break;
                  case 12:
                  case 82:
                  case 84:
                  case 96:
                  case 152:
                  case 154:
                  case 155:
                    this.$ = $$[$0];
                    break;
                  case 19:
                    yy.setDirection("TB");
                    this.$ = "TB";
                    break;
                  case 20:
                    yy.setDirection($$[$0 - 1]);
                    this.$ = $$[$0 - 1];
                    break;
                  case 35:
                    this.$ = $$[$0 - 1].nodes;
                    break;
                  case 36:
                  case 37:
                  case 38:
                  case 39:
                  case 40:
                    this.$ = [];
                    break;
                  case 41:
                    this.$ = yy.addSubGraph($$[$0 - 6], $$[$0 - 1], $$[$0 - 4]);
                    break;
                  case 42:
                    this.$ = yy.addSubGraph($$[$0 - 3], $$[$0 - 1], $$[$0 - 3]);
                    break;
                  case 43:
                    this.$ = yy.addSubGraph(void 0, $$[$0 - 1], void 0);
                    break;
                  case 45:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 46:
                  case 47:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 51:
                    yy.addLink($$[$0 - 2].stmt, $$[$0], $$[$0 - 1]);
                    this.$ = { stmt: $$[$0], nodes: $$[$0].concat($$[$0 - 2].nodes) };
                    break;
                  case 52:
                    yy.addLink($$[$0 - 3].stmt, $$[$0 - 1], $$[$0 - 2]);
                    this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1].concat($$[$0 - 3].nodes) };
                    break;
                  case 53:
                    this.$ = { stmt: $$[$0 - 1], nodes: $$[$0 - 1] };
                    break;
                  case 54:
                    this.$ = { stmt: $$[$0], nodes: $$[$0] };
                    break;
                  case 55:
                    this.$ = [$$[$0]];
                    break;
                  case 56:
                    this.$ = $$[$0 - 4].concat($$[$0]);
                    break;
                  case 57:
                    this.$ = [$$[$0 - 2]];
                    yy.setClass($$[$0 - 2], $$[$0]);
                    break;
                  case 58:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "square");
                    break;
                  case 59:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "doublecircle");
                    break;
                  case 60:
                    this.$ = $$[$0 - 5];
                    yy.addVertex($$[$0 - 5], $$[$0 - 2], "circle");
                    break;
                  case 61:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "ellipse");
                    break;
                  case 62:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "stadium");
                    break;
                  case 63:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "subroutine");
                    break;
                  case 64:
                    this.$ = $$[$0 - 7];
                    yy.addVertex($$[$0 - 7], $$[$0 - 1], "rect", void 0, void 0, void 0, Object.fromEntries([[$$[$0 - 5], $$[$0 - 3]]]));
                    break;
                  case 65:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "cylinder");
                    break;
                  case 66:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "round");
                    break;
                  case 67:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "diamond");
                    break;
                  case 68:
                    this.$ = $$[$0 - 5];
                    yy.addVertex($$[$0 - 5], $$[$0 - 2], "hexagon");
                    break;
                  case 69:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "odd");
                    break;
                  case 70:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "trapezoid");
                    break;
                  case 71:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "inv_trapezoid");
                    break;
                  case 72:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "lean_right");
                    break;
                  case 73:
                    this.$ = $$[$0 - 3];
                    yy.addVertex($$[$0 - 3], $$[$0 - 1], "lean_left");
                    break;
                  case 74:
                    this.$ = $$[$0];
                    yy.addVertex($$[$0]);
                    break;
                  case 75:
                    $$[$0 - 1].text = $$[$0];
                    this.$ = $$[$0 - 1];
                    break;
                  case 76:
                  case 77:
                    $$[$0 - 2].text = $$[$0 - 1];
                    this.$ = $$[$0 - 2];
                    break;
                  case 78:
                    this.$ = $$[$0];
                    break;
                  case 79:
                    var inf = yy.destructLink($$[$0], $$[$0 - 2]);
                    this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length, "text": $$[$0 - 1] };
                    break;
                  case 80:
                    var inf = yy.destructLink($$[$0]);
                    this.$ = { "type": inf.type, "stroke": inf.stroke, "length": inf.length };
                    break;
                  case 81:
                    this.$ = $$[$0 - 1];
                    break;
                  case 83:
                  case 97:
                  case 153:
                    this.$ = $$[$0 - 1] + "" + $$[$0];
                    break;
                  case 98:
                  case 99:
                    this.$ = $$[$0 - 4];
                    yy.addClass($$[$0 - 2], $$[$0]);
                    break;
                  case 100:
                    this.$ = $$[$0 - 4];
                    yy.setClass($$[$0 - 2], $$[$0]);
                    break;
                  case 101:
                  case 109:
                    this.$ = $$[$0 - 1];
                    yy.setClickEvent($$[$0 - 1], $$[$0]);
                    break;
                  case 102:
                  case 110:
                    this.$ = $$[$0 - 3];
                    yy.setClickEvent($$[$0 - 3], $$[$0 - 2]);
                    yy.setTooltip($$[$0 - 3], $$[$0]);
                    break;
                  case 103:
                    this.$ = $$[$0 - 2];
                    yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);
                    break;
                  case 104:
                    this.$ = $$[$0 - 4];
                    yy.setClickEvent($$[$0 - 4], $$[$0 - 3], $$[$0 - 2]);
                    yy.setTooltip($$[$0 - 4], $$[$0]);
                    break;
                  case 105:
                  case 111:
                    this.$ = $$[$0 - 1];
                    yy.setLink($$[$0 - 1], $$[$0]);
                    break;
                  case 106:
                  case 112:
                    this.$ = $$[$0 - 3];
                    yy.setLink($$[$0 - 3], $$[$0 - 2]);
                    yy.setTooltip($$[$0 - 3], $$[$0]);
                    break;
                  case 107:
                  case 113:
                    this.$ = $$[$0 - 3];
                    yy.setLink($$[$0 - 3], $$[$0 - 2], $$[$0]);
                    break;
                  case 108:
                  case 114:
                    this.$ = $$[$0 - 5];
                    yy.setLink($$[$0 - 5], $$[$0 - 4], $$[$0]);
                    yy.setTooltip($$[$0 - 5], $$[$0 - 2]);
                    break;
                  case 115:
                    this.$ = $$[$0 - 4];
                    yy.addVertex($$[$0 - 2], void 0, void 0, $$[$0]);
                    break;
                  case 116:
                  case 118:
                    this.$ = $$[$0 - 4];
                    yy.updateLink($$[$0 - 2], $$[$0]);
                    break;
                  case 117:
                    this.$ = $$[$0 - 4];
                    yy.updateLink([$$[$0 - 2]], $$[$0]);
                    break;
                  case 119:
                    this.$ = $$[$0 - 8];
                    yy.updateLinkInterpolate([$$[$0 - 6]], $$[$0 - 2]);
                    yy.updateLink([$$[$0 - 6]], $$[$0]);
                    break;
                  case 120:
                    this.$ = $$[$0 - 8];
                    yy.updateLinkInterpolate($$[$0 - 6], $$[$0 - 2]);
                    yy.updateLink($$[$0 - 6], $$[$0]);
                    break;
                  case 121:
                    this.$ = $$[$0 - 6];
                    yy.updateLinkInterpolate([$$[$0 - 4]], $$[$0]);
                    break;
                  case 122:
                    this.$ = $$[$0 - 6];
                    yy.updateLinkInterpolate($$[$0 - 4], $$[$0]);
                    break;
                  case 123:
                  case 125:
                    this.$ = [$$[$0]];
                    break;
                  case 124:
                  case 126:
                    $$[$0 - 2].push($$[$0]);
                    this.$ = $$[$0 - 2];
                    break;
                  case 128:
                    this.$ = $$[$0 - 1] + $$[$0];
                    break;
                  case 150:
                    this.$ = $$[$0];
                    break;
                  case 151:
                    this.$ = $$[$0 - 1] + "" + $$[$0];
                    break;
                  case 156:
                    this.$ = "v";
                    break;
                  case 157:
                    this.$ = "-";
                    break;
                  case 158:
                    this.$ = { stmt: "dir", value: "TB" };
                    break;
                  case 159:
                    this.$ = { stmt: "dir", value: "BT" };
                    break;
                  case 160:
                    this.$ = { stmt: "dir", value: "RL" };
                    break;
                  case 161:
                    this.$ = { stmt: "dir", value: "LR" };
                    break;
                }
              },
              table: [{ 3: 1, 4: 2, 5: 3, 6: 5, 12: $V0, 16: 4, 21: $V1, 22: $V2, 24: $V3 }, { 1: [3] }, { 1: [2, 1] }, { 3: 10, 4: 2, 5: 3, 6: 5, 12: $V0, 16: 4, 21: $V1, 22: $V2, 24: $V3 }, o($V4, $V5, { 17: 11 }), { 7: 12, 13: [1, 13] }, { 16: 14, 21: $V1, 22: $V2, 24: $V3 }, { 16: 15, 21: $V1, 22: $V2, 24: $V3 }, { 25: [1, 16], 26: [1, 17] }, { 13: [2, 5] }, { 1: [2, 2] }, { 1: [2, 9], 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 8: 64, 10: [1, 65], 15: $VD }, o([10, 15], [2, 6]), o($V4, [2, 17]), o($V4, [2, 18]), o($V4, [2, 19]), { 20: [1, 68], 21: [1, 69], 22: $VE, 27: 67, 30: 70 }, o($VF, [2, 11]), o($VF, [2, 12]), o($VF, [2, 13]), o($VF, [2, 14]), o($VF, [2, 15]), o($VF, [2, 16]), { 9: 72, 20: $VG, 21: $VH, 23: $VI, 49: 73, 78: 77, 81: [1, 78], 82: [1, 79] }, { 9: 80, 20: $VG, 21: $VH, 23: $VI }, { 9: 81, 20: $VG, 21: $VH, 23: $VI }, { 9: 82, 20: $VG, 21: $VH, 23: $VI }, { 9: 83, 20: $VG, 21: $VH, 23: $VI }, { 9: 84, 20: $VG, 21: $VH, 23: $VI }, { 9: 86, 20: $VG, 21: $VH, 22: [1, 85], 23: $VI }, o($VF, [2, 44]), { 45: [1, 87] }, { 47: [1, 88] }, o($VF, [2, 47]), o($VJ, [2, 54], { 30: 89, 22: $VE }), { 22: [1, 90] }, { 22: [1, 91] }, { 22: [1, 92] }, { 22: [1, 93] }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 84: [1, 97], 91: $VO, 97: 96, 98: [1, 94], 100: [1, 95], 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($VF, [2, 158]), o($VF, [2, 159]), o($VF, [2, 160]), o($VF, [2, 161]), o($V_, [2, 55], { 53: [1, 116] }), o($V$, [2, 74], { 116: 129, 40: [1, 117], 52: $Ve, 55: [1, 118], 57: [1, 119], 59: [1, 120], 61: [1, 121], 63: [1, 122], 65: [1, 123], 66: $Vf, 67: $Vg, 69: [1, 124], 71: [1, 125], 73: [1, 126], 74: [1, 127], 76: [1, 128], 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }), o($V01, [2, 150]), o($V01, [2, 175]), o($V01, [2, 176]), o($V01, [2, 177]), o($V01, [2, 178]), o($V01, [2, 179]), o($V01, [2, 180]), o($V01, [2, 181]), o($V01, [2, 182]), o($V01, [2, 183]), o($V01, [2, 184]), o($V01, [2, 185]), o($V01, [2, 186]), o($V01, [2, 187]), o($V01, [2, 188]), o($V01, [2, 189]), o($V01, [2, 190]), { 9: 130, 20: $VG, 21: $VH, 23: $VI }, { 11: 131, 14: [1, 132] }, o($V11, [2, 8]), o($V4, [2, 20]), o($V4, [2, 26]), o($V4, [2, 27]), { 21: [1, 133] }, o($V21, [2, 34], { 30: 134, 22: $VE }), o($VF, [2, 35]), { 50: 135, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, o($V31, [2, 48]), o($V31, [2, 49]), o($V31, [2, 50]), o($V41, [2, 78], { 79: 136, 68: [1, 138], 80: [1, 137] }), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 139, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o([52, 66, 67, 68, 80, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], [2, 80]), o($VF, [2, 36]), o($VF, [2, 37]), o($VF, [2, 38]), o($VF, [2, 39]), o($VF, [2, 40]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 163, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($Vo1, $V5, { 17: 164 }), o($VF, [2, 45]), o($VF, [2, 46]), o($VJ, [2, 53], { 52: $Vp1 }), { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 166, 102: [1, 167], 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 95: [1, 168], 103: 169, 105: [1, 170] }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 95: [1, 171], 97: 172, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 173, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V11, [2, 101], { 22: [1, 174], 99: [1, 175] }), o($V11, [2, 105], { 22: [1, 176] }), o($V11, [2, 109], { 115: 100, 117: 178, 22: [1, 177], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), o($V11, [2, 111], { 22: [1, 179] }), o($Vq1, [2, 152]), o($Vq1, [2, 154]), o($Vq1, [2, 155]), o($Vq1, [2, 156]), o($Vq1, [2, 157]), o($Vr1, [2, 162]), o($Vr1, [2, 163]), o($Vr1, [2, 164]), o($Vr1, [2, 165]), o($Vr1, [2, 166]), o($Vr1, [2, 167]), o($Vr1, [2, 168]), o($Vr1, [2, 169]), o($Vr1, [2, 170]), o($Vr1, [2, 171]), o($Vr1, [2, 172]), o($Vr1, [2, 173]), o($Vr1, [2, 174]), { 52: $Ve, 54: 180, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 181, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 182, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 184, 42: $V91, 52: $VL, 57: [1, 183], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 185, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 186, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 187, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 66: [1, 188] }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 189, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 190, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 71: [1, 191], 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 192, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 193, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 194, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V01, [2, 151]), o($Vs1, [2, 3]), { 8: 195, 15: $VD }, { 15: [2, 7] }, o($V4, [2, 28]), o($V21, [2, 33]), o($VJ, [2, 51], { 30: 196, 22: $VE }), o($V41, [2, 75], { 22: [1, 197] }), { 22: [1, 198] }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 199, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 82: [1, 200], 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($Vr1, [2, 82]), o($Vr1, [2, 84]), o($Vr1, [2, 140]), o($Vr1, [2, 141]), o($Vr1, [2, 142]), o($Vr1, [2, 143]), o($Vr1, [2, 144]), o($Vr1, [2, 145]), o($Vr1, [2, 146]), o($Vr1, [2, 147]), o($Vr1, [2, 148]), o($Vr1, [2, 149]), o($Vr1, [2, 85]), o($Vr1, [2, 86]), o($Vr1, [2, 87]), o($Vr1, [2, 88]), o($Vr1, [2, 89]), o($Vr1, [2, 90]), o($Vr1, [2, 91]), o($Vr1, [2, 92]), o($Vr1, [2, 93]), o($Vr1, [2, 94]), o($Vr1, [2, 95]), { 9: 203, 20: $VG, 21: $VH, 22: $V51, 23: $VI, 24: $V61, 26: $V71, 38: $V81, 40: [1, 202], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 42: [1, 204], 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $VE, 30: 205 }, { 22: [1, 206], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 178, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: [1, 207] }, { 22: [1, 208] }, { 22: [1, 209], 106: [1, 210] }, o($Vt1, [2, 123]), { 22: [1, 211] }, { 22: [1, 212], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 178, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: [1, 213], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 178, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 84: [1, 214] }, o($V11, [2, 103], { 22: [1, 215] }), { 84: [1, 216], 101: [1, 217] }, { 84: [1, 218] }, o($Vq1, [2, 153]), { 84: [1, 219], 101: [1, 220] }, o($V_, [2, 57], { 116: 129, 52: $Ve, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 221], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 56: [1, 222], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 223, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 58: [1, 224], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 60: [1, 225], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 62: [1, 226], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 64: [1, 227], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 67: [1, 228] }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 70: [1, 229], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 72: [1, 230], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 231, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 232], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 75: [1, 233], 77: [1, 234], 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 75: [1, 236], 77: [1, 235], 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 9: 237, 20: $VG, 21: $VH, 23: $VI }, o($VJ, [2, 52], { 52: $Vp1 }), o($V41, [2, 77]), o($V41, [2, 76]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 68: [1, 238], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V41, [2, 79]), o($Vr1, [2, 83]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 239, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($Vo1, $V5, { 17: 240 }), o($VF, [2, 43]), { 51: 241, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 242, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 256, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 257, 102: $Vy1, 104: [1, 258], 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 259, 102: $Vy1, 104: [1, 260], 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 105: [1, 261] }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 262, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 263, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 264, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V11, [2, 102]), { 84: [1, 265] }, o($V11, [2, 106], { 22: [1, 266] }), o($V11, [2, 107]), o($V11, [2, 110]), o($V11, [2, 112], { 22: [1, 267] }), o($V11, [2, 113]), o($V$, [2, 58]), o($V$, [2, 59]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 58: [1, 268], 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V$, [2, 66]), o($V$, [2, 61]), o($V$, [2, 62]), o($V$, [2, 63]), { 66: [1, 269] }, o($V$, [2, 65]), o($V$, [2, 67]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 72: [1, 270], 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V$, [2, 69]), o($V$, [2, 70]), o($V$, [2, 72]), o($V$, [2, 71]), o($V$, [2, 73]), o($Vs1, [2, 4]), o([22, 52, 66, 67, 91, 95, 105, 106, 109, 111, 112, 122, 123, 124, 125, 126, 127], [2, 81]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 271], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 42: [1, 272], 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, o($V_, [2, 56]), o($V11, [2, 115], { 106: $VF1 }), o($VG1, [2, 125], { 108: 274, 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 102: $Vy1, 105: $Vz1, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }), o($VH1, [2, 127]), o($VH1, [2, 129]), o($VH1, [2, 130]), o($VH1, [2, 131]), o($VH1, [2, 132]), o($VH1, [2, 133]), o($VH1, [2, 134]), o($VH1, [2, 135]), o($VH1, [2, 136]), o($VH1, [2, 137]), o($VH1, [2, 138]), o($VH1, [2, 139]), o($V11, [2, 116], { 106: $VF1 }), o($V11, [2, 117], { 106: $VF1 }), { 22: [1, 275] }, o($V11, [2, 118], { 106: $VF1 }), { 22: [1, 276] }, o($Vt1, [2, 124]), o($V11, [2, 98], { 106: $VF1 }), o($V11, [2, 99], { 106: $VF1 }), o($V11, [2, 100], { 115: 100, 117: 178, 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), o($V11, [2, 104]), { 101: [1, 277] }, { 101: [1, 278] }, { 58: [1, 279] }, { 68: [1, 280] }, { 72: [1, 281] }, { 9: 282, 20: $VG, 21: $VH, 23: $VI }, o($VF, [2, 42]), { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 102: $Vy1, 105: $Vz1, 107: 283, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, o($VH1, [2, 128]), { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 284, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 97: 285, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 115: 100, 117: 98, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V11, [2, 108]), o($V11, [2, 114]), o($V$, [2, 60]), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 39: 286, 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 140, 84: $Vc1, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, o($V$, [2, 68]), o($Vo1, $V5, { 17: 287 }), o($VG1, [2, 126], { 108: 274, 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 102: $Vy1, 105: $Vz1, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }), o($V11, [2, 121], { 115: 100, 117: 178, 22: [1, 288], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), o($V11, [2, 122], { 115: 100, 117: 178, 22: [1, 289], 26: $VK, 52: $VL, 66: $VM, 67: $VN, 91: $VO, 105: $VP, 106: $VQ, 109: $VR, 111: $VS, 112: $VT, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }), { 22: $V51, 24: $V61, 26: $V71, 38: $V81, 41: [1, 290], 42: $V91, 52: $VL, 66: $VM, 67: $VN, 73: $Va1, 81: $Vb1, 83: 201, 85: 151, 86: $Vd1, 87: $Ve1, 88: $Vf1, 89: $Vg1, 90: $Vh1, 91: $Vi1, 92: $Vj1, 94: 142, 95: $Vk1, 105: $VP, 106: $VQ, 109: $Vl1, 111: $VS, 112: $VT, 113: $Vm1, 114: $Vn1, 115: 148, 122: $VU, 123: $VV, 124: $VW, 125: $VX, 126: $VY, 127: $VZ }, { 18: 18, 19: 19, 20: $V6, 21: $V7, 22: $V8, 23: $V9, 32: 24, 33: 25, 34: 26, 35: 27, 36: 28, 37: 29, 38: $Va, 42: [1, 291], 43: 31, 44: $Vb, 46: $Vc, 48: $Vd, 50: 35, 51: 45, 52: $Ve, 54: 46, 66: $Vf, 67: $Vg, 86: $Vh, 87: $Vi, 88: $Vj, 89: $Vk, 90: $Vl, 91: $Vm, 95: $Vn, 105: $Vo, 106: $Vp, 109: $Vq, 111: $Vr, 112: $Vs, 116: 47, 118: $Vt, 119: $Vu, 120: $Vv, 121: $Vw, 122: $Vx, 123: $Vy, 124: $Vz, 125: $VA, 126: $VB, 127: $VC }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 292, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, { 22: $Vu1, 66: $Vv1, 67: $Vw1, 86: $Vx1, 96: 293, 102: $Vy1, 105: $Vz1, 107: 243, 108: 244, 109: $VA1, 110: $VB1, 111: $VC1, 112: $VD1, 113: $VE1 }, o($V$, [2, 64]), o($VF, [2, 41]), o($V11, [2, 119], { 106: $VF1 }), o($V11, [2, 120], { 106: $VF1 })],
              defaultActions: { 2: [2, 1], 9: [2, 5], 10: [2, 2], 132: [2, 7] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: {},
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 12;
                    case 1:
                      this.begin("type_directive");
                      return 13;
                    case 2:
                      this.popState();
                      this.begin("arg_directive");
                      return 10;
                    case 3:
                      this.popState();
                      this.popState();
                      return 15;
                    case 4:
                      return 14;
                    case 5:
                      break;
                    case 6:
                      break;
                    case 7:
                      this.begin("acc_title");
                      return 44;
                    case 8:
                      this.popState();
                      return "acc_title_value";
                    case 9:
                      this.begin("acc_descr");
                      return 46;
                    case 10:
                      this.popState();
                      return "acc_descr_value";
                    case 11:
                      this.begin("acc_descr_multiline");
                      break;
                    case 12:
                      this.popState();
                      break;
                    case 13:
                      return "acc_descr_multiline_value";
                    case 14:
                      this.begin("string");
                      break;
                    case 15:
                      this.popState();
                      break;
                    case 16:
                      return "STR";
                    case 17:
                      return 86;
                    case 18:
                      return 95;
                    case 19:
                      return 87;
                    case 20:
                      return 104;
                    case 21:
                      return 88;
                    case 22:
                      return 89;
                    case 23:
                      this.begin("href");
                      break;
                    case 24:
                      this.popState();
                      break;
                    case 25:
                      return 100;
                    case 26:
                      this.begin("callbackname");
                      break;
                    case 27:
                      this.popState();
                      break;
                    case 28:
                      this.popState();
                      this.begin("callbackargs");
                      break;
                    case 29:
                      return 98;
                    case 30:
                      this.popState();
                      break;
                    case 31:
                      return 99;
                    case 32:
                      this.begin("click");
                      break;
                    case 33:
                      this.popState();
                      break;
                    case 34:
                      return 90;
                    case 35:
                      if (yy.lex.firstGraph()) {
                        this.begin("dir");
                      }
                      return 24;
                    case 36:
                      if (yy.lex.firstGraph()) {
                        this.begin("dir");
                      }
                      return 24;
                    case 37:
                      return 38;
                    case 38:
                      return 42;
                    case 39:
                      return 101;
                    case 40:
                      return 101;
                    case 41:
                      return 101;
                    case 42:
                      return 101;
                    case 43:
                      this.popState();
                      return 25;
                    case 44:
                      this.popState();
                      return 26;
                    case 45:
                      this.popState();
                      return 26;
                    case 46:
                      this.popState();
                      return 26;
                    case 47:
                      this.popState();
                      return 26;
                    case 48:
                      this.popState();
                      return 26;
                    case 49:
                      this.popState();
                      return 26;
                    case 50:
                      this.popState();
                      return 26;
                    case 51:
                      this.popState();
                      return 26;
                    case 52:
                      this.popState();
                      return 26;
                    case 53:
                      this.popState();
                      return 26;
                    case 54:
                      return 118;
                    case 55:
                      return 119;
                    case 56:
                      return 120;
                    case 57:
                      return 121;
                    case 58:
                      return 105;
                    case 59:
                      return 111;
                    case 60:
                      return 53;
                    case 61:
                      return 67;
                    case 62:
                      return 52;
                    case 63:
                      return 20;
                    case 64:
                      return 106;
                    case 65:
                      return 126;
                    case 66:
                      return 82;
                    case 67:
                      return 82;
                    case 68:
                      return 82;
                    case 69:
                      return 81;
                    case 70:
                      return 81;
                    case 71:
                      return 81;
                    case 72:
                      return 59;
                    case 73:
                      return 60;
                    case 74:
                      return 61;
                    case 75:
                      return 62;
                    case 76:
                      return 63;
                    case 77:
                      return 64;
                    case 78:
                      return 65;
                    case 79:
                      return 69;
                    case 80:
                      return 70;
                    case 81:
                      return 55;
                    case 82:
                      return 56;
                    case 83:
                      return 109;
                    case 84:
                      return 112;
                    case 85:
                      return 127;
                    case 86:
                      return 124;
                    case 87:
                      return 113;
                    case 88:
                      return 125;
                    case 89:
                      return 125;
                    case 90:
                      return 114;
                    case 91:
                      return 73;
                    case 92:
                      return 92;
                    case 93:
                      return "SEP";
                    case 94:
                      return 91;
                    case 95:
                      return 66;
                    case 96:
                      return 75;
                    case 97:
                      return 74;
                    case 98:
                      return 77;
                    case 99:
                      return 76;
                    case 100:
                      return 122;
                    case 101:
                      return 123;
                    case 102:
                      return 68;
                    case 103:
                      return 57;
                    case 104:
                      return 58;
                    case 105:
                      return 40;
                    case 106:
                      return 41;
                    case 107:
                      return 71;
                    case 108:
                      return 72;
                    case 109:
                      return 133;
                    case 110:
                      return 21;
                    case 111:
                      return 22;
                    case 112:
                      return 23;
                  }
                },
                rules: [/^(?:%%\{)/, /^(?:((?:(?!\}%%)[^:.])*))/, /^(?::)/, /^(?:\}%%)/, /^(?:((?:(?!\}%%).|\n)*))/, /^(?:%%(?!\{)[^\n]*)/, /^(?:[^\}]%%[^\n]*)/, /^(?:accTitle\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*:\s*)/, /^(?:(?!\n||)*[^\n]*)/, /^(?:accDescr\s*\{\s*)/, /^(?:[\}])/, /^(?:[^\}]*)/, /^(?:["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:style\b)/, /^(?:default\b)/, /^(?:linkStyle\b)/, /^(?:interpolate\b)/, /^(?:classDef\b)/, /^(?:class\b)/, /^(?:href[\s]+["])/, /^(?:["])/, /^(?:[^"]*)/, /^(?:call[\s]+)/, /^(?:\([\s]*\))/, /^(?:\()/, /^(?:[^(]*)/, /^(?:\))/, /^(?:[^)]*)/, /^(?:click[\s]+)/, /^(?:[\s\n])/, /^(?:[^\s\n]*)/, /^(?:graph\b)/, /^(?:flowchart\b)/, /^(?:subgraph\b)/, /^(?:end\b\s*)/, /^(?:_self\b)/, /^(?:_blank\b)/, /^(?:_parent\b)/, /^(?:_top\b)/, /^(?:(\r?\n)*\s*\n)/, /^(?:\s*LR\b)/, /^(?:\s*RL\b)/, /^(?:\s*TB\b)/, /^(?:\s*BT\b)/, /^(?:\s*TD\b)/, /^(?:\s*BR\b)/, /^(?:\s*<)/, /^(?:\s*>)/, /^(?:\s*\^)/, /^(?:\s*v\b)/, /^(?:.*direction\s+TB[^\n]*)/, /^(?:.*direction\s+BT[^\n]*)/, /^(?:.*direction\s+RL[^\n]*)/, /^(?:.*direction\s+LR[^\n]*)/, /^(?:[0-9]+)/, /^(?:#)/, /^(?::::)/, /^(?::)/, /^(?:&)/, /^(?:;)/, /^(?:,)/, /^(?:\*)/, /^(?:\s*[xo<]?--+[-xo>]\s*)/, /^(?:\s*[xo<]?==+[=xo>]\s*)/, /^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/, /^(?:\s*[xo<]?--\s*)/, /^(?:\s*[xo<]?==\s*)/, /^(?:\s*[xo<]?-\.\s*)/, /^(?:\(-)/, /^(?:-\))/, /^(?:\(\[)/, /^(?:\]\))/, /^(?:\[\[)/, /^(?:\]\])/, /^(?:\[\|)/, /^(?:\[\()/, /^(?:\)\])/, /^(?:\(\(\()/, /^(?:\)\)\))/, /^(?:-)/, /^(?:\.)/, /^(?:[\_])/, /^(?:\+)/, /^(?:%)/, /^(?:=)/, /^(?:=)/, /^(?:<)/, /^(?:>)/, /^(?:\^)/, /^(?:\\\|)/, /^(?:v\b)/, /^(?:[A-Za-z]+)/, /^(?:\\\])/, /^(?:\[\/)/, /^(?:\/\])/, /^(?:\[\\)/, /^(?:[!"#$%&'*+,-.`?\\_/])/, /^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/, /^(?:\|)/, /^(?:\()/, /^(?:\))/, /^(?:\[)/, /^(?:\])/, /^(?:\{)/, /^(?:\})/, /^(?:")/, /^(?:(\r?\n)+)/, /^(?:\s)/, /^(?:$)/],
                conditions: { "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "callbackargs": { "rules": [30, 31], "inclusive": false }, "callbackname": { "rules": [27, 28, 29], "inclusive": false }, "href": { "rules": [24, 25], "inclusive": false }, "click": { "rules": [33, 34], "inclusive": false }, "vertex": { "rules": [], "inclusive": false }, "dir": { "rules": [43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53], "inclusive": false }, "acc_descr_multiline": { "rules": [12, 13], "inclusive": false }, "acc_descr": { "rules": [10], "inclusive": false }, "acc_title": { "rules": [8], "inclusive": false }, "string": { "rules": [15, 16], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 7, 9, 11, 14, 17, 18, 19, 20, 21, 22, 23, 26, 32, 35, 36, 37, 38, 39, 40, 41, 42, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?dbae").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/gantt/parser/gantt.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 3], $V1 = [1, 5], $V2 = [7, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 24, 25, 27, 34, 39], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 17], $V6 = [1, 18], $V7 = [1, 19], $V8 = [1, 20], $V9 = [1, 21], $Va = [1, 22], $Vb = [1, 23], $Vc = [1, 24], $Vd = [1, 25], $Ve = [1, 26], $Vf = [1, 28], $Vg = [1, 30], $Vh = [1, 33], $Vi = [5, 7, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 22, 24, 25, 27, 34, 39];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "directive": 4, "gantt": 5, "document": 6, "EOF": 7, "line": 8, "SPACE": 9, "statement": 10, "NL": 11, "dateFormat": 12, "inclusiveEndDates": 13, "topAxis": 14, "axisFormat": 15, "excludes": 16, "includes": 17, "todayMarker": 18, "title": 19, "acc_title": 20, "acc_title_value": 21, "acc_descr": 22, "acc_descr_value": 23, "acc_descr_multiline_value": 24, "section": 25, "clickStatement": 26, "taskTxt": 27, "taskData": 28, "openDirective": 29, "typeDirective": 30, "closeDirective": 31, ":": 32, "argDirective": 33, "click": 34, "callbackname": 35, "callbackargs": 36, "href": 37, "clickStatementDebug": 38, "open_directive": 39, "type_directive": 40, "arg_directive": 41, "close_directive": 42, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 5: "gantt", 7: "EOF", 9: "SPACE", 11: "NL", 12: "dateFormat", 13: "inclusiveEndDates", 14: "topAxis", 15: "axisFormat", 16: "excludes", 17: "includes", 18: "todayMarker", 19: "title", 20: "acc_title", 21: "acc_title_value", 22: "acc_descr", 23: "acc_descr_value", 24: "acc_descr_multiline_value", 25: "section", 27: "taskTxt", 28: "taskData", 32: ":", 34: "click", 35: "callbackname", 36: "callbackargs", 37: "href", 39: "open_directive", 40: "type_directive", 41: "arg_directive", 42: "close_directive" },
              productions_: [0, [3, 2], [3, 3], [6, 0], [6, 2], [8, 2], [8, 1], [8, 1], [8, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [10, 1], [10, 1], [10, 2], [10, 1], [4, 4], [4, 6], [26, 2], [26, 3], [26, 3], [26, 4], [26, 3], [26, 4], [26, 2], [38, 2], [38, 3], [38, 3], [38, 4], [38, 3], [38, 4], [38, 2], [29, 1], [30, 1], [33, 1], [31, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 2:
                    return $$[$0 - 1];
                  case 3:
                    this.$ = [];
                    break;
                  case 4:
                    $$[$0 - 1].push($$[$0]);
                    this.$ = $$[$0 - 1];
                    break;
                  case 5:
                  case 6:
                    this.$ = $$[$0];
                    break;
                  case 7:
                  case 8:
                    this.$ = [];
                    break;
                  case 9:
                    yy.setDateFormat($$[$0].substr(11));
                    this.$ = $$[$0].substr(11);
                    break;
                  case 10:
                    yy.enableInclusiveEndDates();
                    this.$ = $$[$0].substr(18);
                    break;
                  case 11:
                    yy.TopAxis();
                    this.$ = $$[$0].substr(8);
                    break;
                  case 12:
                    yy.setAxisFormat($$[$0].substr(11));
                    this.$ = $$[$0].substr(11);
                    break;
                  case 13:
                    yy.setExcludes($$[$0].substr(9));
                    this.$ = $$[$0].substr(9);
                    break;
                  case 14:
                    yy.setIncludes($$[$0].substr(9));
                    this.$ = $$[$0].substr(9);
                    break;
                  case 15:
                    yy.setTodayMarker($$[$0].substr(12));
                    this.$ = $$[$0].substr(12);
                    break;
                  case 16:
                    yy.setDiagramTitle($$[$0].substr(6));
                    this.$ = $$[$0].substr(6);
                    break;
                  case 17:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 18:
                  case 19:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 20:
                    yy.addSection($$[$0].substr(8));
                    this.$ = $$[$0].substr(8);
                    break;
                  case 22:
                    yy.addTask($$[$0 - 1], $$[$0]);
                    this.$ = "task";
                    break;
                  case 26:
                    this.$ = $$[$0 - 1];
                    yy.setClickEvent($$[$0 - 1], $$[$0], null);
                    break;
                  case 27:
                    this.$ = $$[$0 - 2];
                    yy.setClickEvent($$[$0 - 2], $$[$0 - 1], $$[$0]);
                    break;
                  case 28:
                    this.$ = $$[$0 - 2];
                    yy.setClickEvent($$[$0 - 2], $$[$0 - 1], null);
                    yy.setLink($$[$0 - 2], $$[$0]);
                    break;
                  case 29:
                    this.$ = $$[$0 - 3];
                    yy.setClickEvent($$[$0 - 3], $$[$0 - 2], $$[$0 - 1]);
                    yy.setLink($$[$0 - 3], $$[$0]);
                    break;
                  case 30:
                    this.$ = $$[$0 - 2];
                    yy.setClickEvent($$[$0 - 2], $$[$0], null);
                    yy.setLink($$[$0 - 2], $$[$0 - 1]);
                    break;
                  case 31:
                    this.$ = $$[$0 - 3];
                    yy.setClickEvent($$[$0 - 3], $$[$0 - 1], $$[$0]);
                    yy.setLink($$[$0 - 3], $$[$0 - 2]);
                    break;
                  case 32:
                    this.$ = $$[$0 - 1];
                    yy.setLink($$[$0 - 1], $$[$0]);
                    break;
                  case 33:
                  case 39:
                    this.$ = $$[$0 - 1] + " " + $$[$0];
                    break;
                  case 34:
                  case 35:
                  case 37:
                    this.$ = $$[$0 - 2] + " " + $$[$0 - 1] + " " + $$[$0];
                    break;
                  case 36:
                  case 38:
                    this.$ = $$[$0 - 3] + " " + $$[$0 - 2] + " " + $$[$0 - 1] + " " + $$[$0];
                    break;
                  case 40:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 41:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 42:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 43:
                    yy.parseDirective("}%%", "close_directive", "gantt");
                    break;
                }
              },
              table: [{ 3: 1, 4: 2, 5: $V0, 29: 4, 39: $V1 }, { 1: [3] }, { 3: 6, 4: 2, 5: $V0, 29: 4, 39: $V1 }, o($V2, [2, 3], { 6: 7 }), { 30: 8, 40: [1, 9] }, { 40: [2, 40] }, { 1: [2, 1] }, { 4: 29, 7: [1, 10], 8: 11, 9: [1, 12], 10: 13, 11: [1, 14], 12: $V3, 13: $V4, 14: $V5, 15: $V6, 16: $V7, 17: $V8, 18: $V9, 19: $Va, 20: $Vb, 22: $Vc, 24: $Vd, 25: $Ve, 26: 27, 27: $Vf, 29: 4, 34: $Vg, 39: $V1 }, { 31: 31, 32: [1, 32], 42: $Vh }, o([32, 42], [2, 41]), o($V2, [2, 8], { 1: [2, 2] }), o($V2, [2, 4]), { 4: 29, 10: 34, 12: $V3, 13: $V4, 14: $V5, 15: $V6, 16: $V7, 17: $V8, 18: $V9, 19: $Va, 20: $Vb, 22: $Vc, 24: $Vd, 25: $Ve, 26: 27, 27: $Vf, 29: 4, 34: $Vg, 39: $V1 }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 9]), o($V2, [2, 10]), o($V2, [2, 11]), o($V2, [2, 12]), o($V2, [2, 13]), o($V2, [2, 14]), o($V2, [2, 15]), o($V2, [2, 16]), { 21: [1, 35] }, { 23: [1, 36] }, o($V2, [2, 19]), o($V2, [2, 20]), o($V2, [2, 21]), { 28: [1, 37] }, o($V2, [2, 23]), { 35: [1, 38], 37: [1, 39] }, { 11: [1, 40] }, { 33: 41, 41: [1, 42] }, { 11: [2, 43] }, o($V2, [2, 5]), o($V2, [2, 17]), o($V2, [2, 18]), o($V2, [2, 22]), o($V2, [2, 26], { 36: [1, 43], 37: [1, 44] }), o($V2, [2, 32], { 35: [1, 45] }), o($Vi, [2, 24]), { 31: 46, 42: $Vh }, { 42: [2, 42] }, o($V2, [2, 27], { 37: [1, 47] }), o($V2, [2, 28]), o($V2, [2, 30], { 36: [1, 48] }), { 11: [1, 49] }, o($V2, [2, 29]), o($V2, [2, 31]), o($Vi, [2, 25])],
              defaultActions: { 5: [2, 40], 6: [2, 1], 33: [2, 43], 42: [2, 42] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 39;
                    case 1:
                      this.begin("type_directive");
                      return 40;
                    case 2:
                      this.popState();
                      this.begin("arg_directive");
                      return 32;
                    case 3:
                      this.popState();
                      this.popState();
                      return 42;
                    case 4:
                      return 41;
                    case 5:
                      this.begin("acc_title");
                      return 20;
                    case 6:
                      this.popState();
                      return "acc_title_value";
                    case 7:
                      this.begin("acc_descr");
                      return 22;
                    case 8:
                      this.popState();
                      return "acc_descr_value";
                    case 9:
                      this.begin("acc_descr_multiline");
                      break;
                    case 10:
                      this.popState();
                      break;
                    case 11:
                      return "acc_descr_multiline_value";
                    case 12:
                      break;
                    case 13:
                      break;
                    case 14:
                      break;
                    case 15:
                      return 11;
                    case 16:
                      break;
                    case 17:
                      break;
                    case 18:
                      break;
                    case 19:
                      this.begin("href");
                      break;
                    case 20:
                      this.popState();
                      break;
                    case 21:
                      return 37;
                    case 22:
                      this.begin("callbackname");
                      break;
                    case 23:
                      this.popState();
                      break;
                    case 24:
                      this.popState();
                      this.begin("callbackargs");
                      break;
                    case 25:
                      return 35;
                    case 26:
                      this.popState();
                      break;
                    case 27:
                      return 36;
                    case 28:
                      this.begin("click");
                      break;
                    case 29:
                      this.popState();
                      break;
                    case 30:
                      return 34;
                    case 31:
                      return 5;
                    case 32:
                      return 12;
                    case 33:
                      return 13;
                    case 34:
                      return 14;
                    case 35:
                      return 15;
                    case 36:
                      return 17;
                    case 37:
                      return 16;
                    case 38:
                      return 18;
                    case 39:
                      return "date";
                    case 40:
                      return 19;
                    case 41:
                      return "accDescription";
                    case 42:
                      return 25;
                    case 43:
                      return 27;
                    case 44:
                      return 28;
                    case 45:
                      return 32;
                    case 46:
                      return 7;
                    case 47:
                      return "INVALID";
                  }
                },
                rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:%%(?!\{)*[^\n]*)/i, /^(?:[^\}]%%*[^\n]*)/i, /^(?:%%*[^\n]*[\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:href[\s]+["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:call[\s]+)/i, /^(?:\([\s]*\))/i, /^(?:\()/i, /^(?:[^(]*)/i, /^(?:\))/i, /^(?:[^)]*)/i, /^(?:click[\s]+)/i, /^(?:[\s\n])/i, /^(?:[^\s\n]*)/i, /^(?:gantt\b)/i, /^(?:dateFormat\s[^#\n;]+)/i, /^(?:inclusiveEndDates\b)/i, /^(?:topAxis\b)/i, /^(?:axisFormat\s[^#\n;]+)/i, /^(?:includes\s[^#\n;]+)/i, /^(?:excludes\s[^#\n;]+)/i, /^(?:todayMarker\s[^\n;]+)/i, /^(?:\d\d\d\d-\d\d-\d\d\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:accDescription\s[^#\n;]+)/i, /^(?:section\s[^#:\n;]+)/i, /^(?:[^#:\n;]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],
                conditions: { "acc_descr_multiline": { "rules": [10, 11], "inclusive": false }, "acc_descr": { "rules": [8], "inclusive": false }, "acc_title": { "rules": [6], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "callbackargs": { "rules": [26, 27], "inclusive": false }, "callbackname": { "rules": [23, 24, 25], "inclusive": false }, "href": { "rules": [20, 21], "inclusive": false }, "click": { "rules": [29, 30], "inclusive": false }, "INITIAL": { "rules": [0, 5, 7, 9, 12, 13, 14, 15, 16, 17, 18, 19, 22, 28, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?8ed1").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/git/parser/gitGraph.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 4], $V1 = [1, 7], $V2 = [1, 5], $V3 = [1, 9], $V4 = [1, 6], $V5 = [2, 6], $V6 = [1, 16], $V7 = [6, 8, 14, 20, 22, 24, 25, 27, 29, 32, 35, 39, 49, 53], $V8 = [8, 14, 20, 22, 24, 25, 27, 29, 32, 35, 39], $V9 = [8, 13, 14, 20, 22, 24, 25, 27, 29, 32, 35, 39], $Va = [1, 26], $Vb = [6, 8, 14, 49, 53], $Vc = [8, 14, 53], $Vd = [1, 64], $Ve = [1, 65], $Vf = [1, 66], $Vg = [8, 14, 33, 38, 41, 53];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "eol": 4, "directive": 5, "GG": 6, "document": 7, "EOF": 8, ":": 9, "DIR": 10, "options": 11, "body": 12, "OPT": 13, "NL": 14, "line": 15, "statement": 16, "commitStatement": 17, "mergeStatement": 18, "cherryPickStatement": 19, "acc_title": 20, "acc_title_value": 21, "acc_descr": 22, "acc_descr_value": 23, "acc_descr_multiline_value": 24, "section": 25, "branchStatement": 26, "CHECKOUT": 27, "ID": 28, "BRANCH": 29, "ORDER": 30, "NUM": 31, "CHERRY_PICK": 32, "COMMIT_ID": 33, "STR": 34, "MERGE": 35, "COMMIT_TYPE": 36, "commitType": 37, "COMMIT_TAG": 38, "COMMIT": 39, "commit_arg": 40, "COMMIT_MSG": 41, "NORMAL": 42, "REVERSE": 43, "HIGHLIGHT": 44, "openDirective": 45, "typeDirective": 46, "closeDirective": 47, "argDirective": 48, "open_directive": 49, "type_directive": 50, "arg_directive": 51, "close_directive": 52, ";": 53, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 6: "GG", 8: "EOF", 9: ":", 10: "DIR", 13: "OPT", 14: "NL", 20: "acc_title", 21: "acc_title_value", 22: "acc_descr", 23: "acc_descr_value", 24: "acc_descr_multiline_value", 25: "section", 27: "CHECKOUT", 28: "ID", 29: "BRANCH", 30: "ORDER", 31: "NUM", 32: "CHERRY_PICK", 33: "COMMIT_ID", 34: "STR", 35: "MERGE", 36: "COMMIT_TYPE", 38: "COMMIT_TAG", 39: "COMMIT", 41: "COMMIT_MSG", 42: "NORMAL", 43: "REVERSE", 44: "HIGHLIGHT", 49: "open_directive", 50: "type_directive", 51: "arg_directive", 52: "close_directive", 53: ";" },
              productions_: [0, [3, 2], [3, 2], [3, 3], [3, 4], [3, 5], [7, 0], [7, 2], [11, 2], [11, 1], [12, 0], [12, 2], [15, 2], [15, 1], [16, 1], [16, 1], [16, 1], [16, 2], [16, 2], [16, 1], [16, 1], [16, 1], [16, 2], [26, 2], [26, 4], [19, 3], [18, 2], [18, 4], [18, 4], [18, 4], [18, 6], [18, 6], [18, 6], [18, 6], [18, 6], [18, 6], [18, 8], [18, 8], [18, 8], [18, 8], [18, 8], [18, 8], [17, 2], [17, 3], [17, 3], [17, 5], [17, 5], [17, 3], [17, 5], [17, 5], [17, 5], [17, 5], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 3], [17, 5], [17, 5], [17, 5], [17, 5], [17, 5], [17, 5], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 7], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [17, 9], [40, 0], [40, 1], [37, 1], [37, 1], [37, 1], [5, 3], [5, 5], [45, 1], [46, 1], [48, 1], [47, 1], [4, 1], [4, 1], [4, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 3:
                    return $$[$0];
                  case 4:
                    return $$[$0 - 1];
                  case 5:
                    yy.setDirection($$[$0 - 3]);
                    return $$[$0 - 1];
                  case 7:
                    yy.setOptions($$[$0 - 1]);
                    this.$ = $$[$0];
                    break;
                  case 8:
                    $$[$0 - 1] += $$[$0];
                    this.$ = $$[$0 - 1];
                    break;
                  case 10:
                    this.$ = [];
                    break;
                  case 11:
                    $$[$0 - 1].push($$[$0]);
                    this.$ = $$[$0 - 1];
                    break;
                  case 12:
                    this.$ = $$[$0 - 1];
                    break;
                  case 17:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 18:
                  case 19:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 20:
                    yy.addSection($$[$0].substr(8));
                    this.$ = $$[$0].substr(8);
                    break;
                  case 22:
                    yy.checkout($$[$0]);
                    break;
                  case 23:
                    yy.branch($$[$0]);
                    break;
                  case 24:
                    yy.branch($$[$0 - 2], $$[$0]);
                    break;
                  case 25:
                    yy.cherryPick($$[$0]);
                    break;
                  case 26:
                    yy.merge($$[$0], "", "", "");
                    break;
                  case 27:
                    yy.merge($$[$0 - 2], $$[$0], "", "");
                    break;
                  case 28:
                    yy.merge($$[$0 - 2], "", $$[$0], "");
                    break;
                  case 29:
                    yy.merge($$[$0 - 2], "", "", $$[$0]);
                    break;
                  case 30:
                    yy.merge($$[$0 - 4], $$[$0], "", $$[$0 - 2]);
                    break;
                  case 31:
                    yy.merge($$[$0 - 4], "", $$[$0], $$[$0 - 2]);
                    break;
                  case 32:
                    yy.merge($$[$0 - 4], "", $$[$0 - 2], $$[$0]);
                    break;
                  case 33:
                    yy.merge($$[$0 - 4], $$[$0 - 2], $$[$0], "");
                    break;
                  case 34:
                    yy.merge($$[$0 - 4], $$[$0 - 2], "", $$[$0]);
                    break;
                  case 35:
                    yy.merge($$[$0 - 4], $$[$0], $$[$0 - 2], "");
                    break;
                  case 36:
                    yy.merge($$[$0 - 6], $$[$0 - 4], $$[$0 - 2], $$[$0]);
                    break;
                  case 37:
                    yy.merge($$[$0 - 6], $$[$0], $$[$0 - 4], $$[$0 - 2]);
                    break;
                  case 38:
                    yy.merge($$[$0 - 6], $$[$0 - 4], $$[$0], $$[$0 - 2]);
                    break;
                  case 39:
                    yy.merge($$[$0 - 6], $$[$0 - 2], $$[$0 - 4], $$[$0]);
                    break;
                  case 40:
                    yy.merge($$[$0 - 6], $$[$0], $$[$0 - 2], $$[$0 - 4]);
                    break;
                  case 41:
                    yy.merge($$[$0 - 6], $$[$0 - 2], $$[$0], $$[$0 - 4]);
                    break;
                  case 42:
                    yy.commit($$[$0]);
                    break;
                  case 43:
                    yy.commit("", "", yy.commitType.NORMAL, $$[$0]);
                    break;
                  case 44:
                    yy.commit("", "", $$[$0], "");
                    break;
                  case 45:
                    yy.commit("", "", $$[$0], $$[$0 - 2]);
                    break;
                  case 46:
                    yy.commit("", "", $$[$0 - 2], $$[$0]);
                    break;
                  case 47:
                    yy.commit("", $$[$0], yy.commitType.NORMAL, "");
                    break;
                  case 48:
                    yy.commit("", $$[$0 - 2], yy.commitType.NORMAL, $$[$0]);
                    break;
                  case 49:
                    yy.commit("", $$[$0], yy.commitType.NORMAL, $$[$0 - 2]);
                    break;
                  case 50:
                    yy.commit("", $$[$0 - 2], $$[$0], "");
                    break;
                  case 51:
                    yy.commit("", $$[$0], $$[$0 - 2], "");
                    break;
                  case 52:
                    yy.commit("", $$[$0 - 4], $$[$0 - 2], $$[$0]);
                    break;
                  case 53:
                    yy.commit("", $$[$0 - 4], $$[$0], $$[$0 - 2]);
                    break;
                  case 54:
                    yy.commit("", $$[$0 - 2], $$[$0 - 4], $$[$0]);
                    break;
                  case 55:
                    yy.commit("", $$[$0], $$[$0 - 4], $$[$0 - 2]);
                    break;
                  case 56:
                    yy.commit("", $$[$0], $$[$0 - 2], $$[$0 - 4]);
                    break;
                  case 57:
                    yy.commit("", $$[$0 - 2], $$[$0], $$[$0 - 4]);
                    break;
                  case 58:
                    yy.commit($$[$0], "", yy.commitType.NORMAL, "");
                    break;
                  case 59:
                    yy.commit($$[$0], "", yy.commitType.NORMAL, $$[$0 - 2]);
                    break;
                  case 60:
                    yy.commit($$[$0 - 2], "", yy.commitType.NORMAL, $$[$0]);
                    break;
                  case 61:
                    yy.commit($$[$0 - 2], "", $$[$0], "");
                    break;
                  case 62:
                    yy.commit($$[$0], "", $$[$0 - 2], "");
                    break;
                  case 63:
                    yy.commit($$[$0], $$[$0 - 2], yy.commitType.NORMAL, "");
                    break;
                  case 64:
                    yy.commit($$[$0 - 2], $$[$0], yy.commitType.NORMAL, "");
                    break;
                  case 65:
                    yy.commit($$[$0 - 4], "", $$[$0 - 2], $$[$0]);
                    break;
                  case 66:
                    yy.commit($$[$0 - 4], "", $$[$0], $$[$0 - 2]);
                    break;
                  case 67:
                    yy.commit($$[$0 - 2], "", $$[$0 - 4], $$[$0]);
                    break;
                  case 68:
                    yy.commit($$[$0], "", $$[$0 - 4], $$[$0 - 2]);
                    break;
                  case 69:
                    yy.commit($$[$0], "", $$[$0 - 2], $$[$0 - 4]);
                    break;
                  case 70:
                    yy.commit($$[$0 - 2], "", $$[$0], $$[$0 - 4]);
                    break;
                  case 71:
                    yy.commit($$[$0 - 4], $$[$0], $$[$0 - 2], "");
                    break;
                  case 72:
                    yy.commit($$[$0 - 4], $$[$0 - 2], $$[$0], "");
                    break;
                  case 73:
                    yy.commit($$[$0 - 2], $$[$0], $$[$0 - 4], "");
                    break;
                  case 74:
                    yy.commit($$[$0], $$[$0 - 2], $$[$0 - 4], "");
                    break;
                  case 75:
                    yy.commit($$[$0], $$[$0 - 4], $$[$0 - 2], "");
                    break;
                  case 76:
                    yy.commit($$[$0 - 2], $$[$0 - 4], $$[$0], "");
                    break;
                  case 77:
                    yy.commit($$[$0 - 4], $$[$0], yy.commitType.NORMAL, $$[$0 - 2]);
                    break;
                  case 78:
                    yy.commit($$[$0 - 4], $$[$0 - 2], yy.commitType.NORMAL, $$[$0]);
                    break;
                  case 79:
                    yy.commit($$[$0 - 2], $$[$0], yy.commitType.NORMAL, $$[$0 - 4]);
                    break;
                  case 80:
                    yy.commit($$[$0], $$[$0 - 2], yy.commitType.NORMAL, $$[$0 - 4]);
                    break;
                  case 81:
                    yy.commit($$[$0], $$[$0 - 4], yy.commitType.NORMAL, $$[$0 - 2]);
                    break;
                  case 82:
                    yy.commit($$[$0 - 2], $$[$0 - 4], yy.commitType.NORMAL, $$[$0]);
                    break;
                  case 83:
                    yy.commit($$[$0 - 6], $$[$0 - 4], $$[$0 - 2], $$[$0]);
                    break;
                  case 84:
                    yy.commit($$[$0 - 6], $$[$0 - 4], $$[$0], $$[$0 - 2]);
                    break;
                  case 85:
                    yy.commit($$[$0 - 6], $$[$0 - 2], $$[$0 - 4], $$[$0]);
                    break;
                  case 86:
                    yy.commit($$[$0 - 6], $$[$0], $$[$0 - 4], $$[$0 - 2]);
                    break;
                  case 87:
                    yy.commit($$[$0 - 6], $$[$0 - 2], $$[$0], $$[$0 - 4]);
                    break;
                  case 88:
                    yy.commit($$[$0 - 6], $$[$0], $$[$0 - 2], $$[$0 - 4]);
                    break;
                  case 89:
                    yy.commit($$[$0 - 4], $$[$0 - 6], $$[$0 - 2], $$[$0]);
                    break;
                  case 90:
                    yy.commit($$[$0 - 4], $$[$0 - 6], $$[$0], $$[$0 - 2]);
                    break;
                  case 91:
                    yy.commit($$[$0 - 2], $$[$0 - 6], $$[$0 - 4], $$[$0]);
                    break;
                  case 92:
                    yy.commit($$[$0], $$[$0 - 6], $$[$0 - 4], $$[$0 - 2]);
                    break;
                  case 93:
                    yy.commit($$[$0 - 2], $$[$0 - 6], $$[$0], $$[$0 - 4]);
                    break;
                  case 94:
                    yy.commit($$[$0], $$[$0 - 6], $$[$0 - 2], $$[$0 - 4]);
                    break;
                  case 95:
                    yy.commit($$[$0], $$[$0 - 4], $$[$0 - 2], $$[$0 - 6]);
                    break;
                  case 96:
                    yy.commit($$[$0 - 2], $$[$0 - 4], $$[$0], $$[$0 - 6]);
                    break;
                  case 97:
                    yy.commit($$[$0], $$[$0 - 2], $$[$0 - 4], $$[$0 - 6]);
                    break;
                  case 98:
                    yy.commit($$[$0 - 2], $$[$0], $$[$0 - 4], $$[$0 - 6]);
                    break;
                  case 99:
                    yy.commit($$[$0 - 4], $$[$0 - 2], $$[$0], $$[$0 - 6]);
                    break;
                  case 100:
                    yy.commit($$[$0 - 4], $$[$0], $$[$0 - 2], $$[$0 - 6]);
                    break;
                  case 101:
                    yy.commit($$[$0 - 2], $$[$0 - 4], $$[$0 - 6], $$[$0]);
                    break;
                  case 102:
                    yy.commit($$[$0], $$[$0 - 4], $$[$0 - 6], $$[$0 - 2]);
                    break;
                  case 103:
                    yy.commit($$[$0 - 2], $$[$0], $$[$0 - 6], $$[$0 - 4]);
                    break;
                  case 104:
                    yy.commit($$[$0], $$[$0 - 2], $$[$0 - 6], $$[$0 - 4]);
                    break;
                  case 105:
                    yy.commit($$[$0 - 4], $$[$0 - 2], $$[$0 - 6], $$[$0]);
                    break;
                  case 106:
                    yy.commit($$[$0 - 4], $$[$0], $$[$0 - 6], $$[$0 - 2]);
                    break;
                  case 107:
                    this.$ = "";
                    break;
                  case 108:
                    this.$ = $$[$0];
                    break;
                  case 109:
                    this.$ = yy.commitType.NORMAL;
                    break;
                  case 110:
                    this.$ = yy.commitType.REVERSE;
                    break;
                  case 111:
                    this.$ = yy.commitType.HIGHLIGHT;
                    break;
                  case 114:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 115:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 116:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 117:
                    yy.parseDirective("}%%", "close_directive", "gitGraph");
                    break;
                }
              },
              table: [{ 3: 1, 4: 2, 5: 3, 6: $V0, 8: $V1, 14: $V2, 45: 8, 49: $V3, 53: $V4 }, { 1: [3] }, { 3: 10, 4: 2, 5: 3, 6: $V0, 8: $V1, 14: $V2, 45: 8, 49: $V3, 53: $V4 }, { 3: 11, 4: 2, 5: 3, 6: $V0, 8: $V1, 14: $V2, 45: 8, 49: $V3, 53: $V4 }, { 7: 12, 8: $V5, 9: [1, 13], 10: [1, 14], 11: 15, 14: $V6 }, o($V7, [2, 118]), o($V7, [2, 119]), o($V7, [2, 120]), { 46: 17, 50: [1, 18] }, { 50: [2, 114] }, { 1: [2, 1] }, { 1: [2, 2] }, { 8: [1, 19] }, { 7: 20, 8: $V5, 11: 15, 14: $V6 }, { 9: [1, 21] }, o($V8, [2, 10], { 12: 22, 13: [1, 23] }), o($V9, [2, 9]), { 9: [1, 25], 47: 24, 52: $Va }, o([9, 52], [2, 115]), { 1: [2, 3] }, { 8: [1, 27] }, { 7: 28, 8: $V5, 11: 15, 14: $V6 }, { 8: [2, 7], 14: [1, 31], 15: 29, 16: 30, 17: 32, 18: 33, 19: 34, 20: [1, 35], 22: [1, 36], 24: [1, 37], 25: [1, 38], 26: 39, 27: [1, 40], 29: [1, 44], 32: [1, 43], 35: [1, 42], 39: [1, 41] }, o($V9, [2, 8]), o($Vb, [2, 112]), { 48: 45, 51: [1, 46] }, o($Vb, [2, 117]), { 1: [2, 4] }, { 8: [1, 47] }, o($V8, [2, 11]), { 4: 48, 8: $V1, 14: $V2, 53: $V4 }, o($V8, [2, 13]), o($Vc, [2, 14]), o($Vc, [2, 15]), o($Vc, [2, 16]), { 21: [1, 49] }, { 23: [1, 50] }, o($Vc, [2, 19]), o($Vc, [2, 20]), o($Vc, [2, 21]), { 28: [1, 51] }, o($Vc, [2, 107], { 40: 52, 33: [1, 55], 34: [1, 57], 36: [1, 54], 38: [1, 53], 41: [1, 56] }), { 28: [1, 58] }, { 33: [1, 59] }, { 28: [1, 60] }, { 47: 61, 52: $Va }, { 52: [2, 116] }, { 1: [2, 5] }, o($V8, [2, 12]), o($Vc, [2, 17]), o($Vc, [2, 18]), o($Vc, [2, 22]), o($Vc, [2, 42]), { 34: [1, 62] }, { 37: 63, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 67] }, { 34: [1, 68] }, o($Vc, [2, 108]), o($Vc, [2, 26], { 33: [1, 69], 36: [1, 70], 38: [1, 71] }), { 34: [1, 72] }, o($Vc, [2, 23], { 30: [1, 73] }), o($Vb, [2, 113]), o($Vc, [2, 43], { 33: [1, 75], 36: [1, 74], 41: [1, 76] }), o($Vc, [2, 44], { 33: [1, 78], 38: [1, 77], 41: [1, 79] }), o($Vg, [2, 109]), o($Vg, [2, 110]), o($Vg, [2, 111]), o($Vc, [2, 47], { 36: [1, 81], 38: [1, 80], 41: [1, 82] }), o($Vc, [2, 58], { 33: [1, 85], 36: [1, 84], 38: [1, 83] }), { 34: [1, 86] }, { 37: 87, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 88] }, o($Vc, [2, 25]), { 31: [1, 89] }, { 37: 90, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 91] }, { 34: [1, 92] }, { 34: [1, 93] }, { 34: [1, 94] }, { 34: [1, 95] }, { 34: [1, 96] }, { 37: 97, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 98] }, { 34: [1, 99] }, { 37: 100, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 101] }, o($Vc, [2, 27], { 36: [1, 102], 38: [1, 103] }), o($Vc, [2, 28], { 33: [1, 105], 38: [1, 104] }), o($Vc, [2, 29], { 33: [1, 106], 36: [1, 107] }), o($Vc, [2, 24]), o($Vc, [2, 45], { 33: [1, 108], 41: [1, 109] }), o($Vc, [2, 49], { 36: [1, 110], 41: [1, 111] }), o($Vc, [2, 59], { 33: [1, 113], 36: [1, 112] }), o($Vc, [2, 46], { 33: [1, 114], 41: [1, 115] }), o($Vc, [2, 51], { 38: [1, 116], 41: [1, 117] }), o($Vc, [2, 62], { 33: [1, 119], 38: [1, 118] }), o($Vc, [2, 48], { 36: [1, 120], 41: [1, 121] }), o($Vc, [2, 50], { 38: [1, 122], 41: [1, 123] }), o($Vc, [2, 63], { 36: [1, 124], 38: [1, 125] }), o($Vc, [2, 60], { 33: [1, 127], 36: [1, 126] }), o($Vc, [2, 61], { 33: [1, 129], 38: [1, 128] }), o($Vc, [2, 64], { 36: [1, 130], 38: [1, 131] }), { 37: 132, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 133] }, { 34: [1, 134] }, { 34: [1, 135] }, { 34: [1, 136] }, { 37: 137, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 138] }, { 34: [1, 139] }, { 37: 140, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 141] }, { 37: 142, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 143] }, { 34: [1, 144] }, { 34: [1, 145] }, { 34: [1, 146] }, { 34: [1, 147] }, { 34: [1, 148] }, { 34: [1, 149] }, { 37: 150, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 151] }, { 34: [1, 152] }, { 34: [1, 153] }, { 37: 154, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 155] }, { 37: 156, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 157] }, { 34: [1, 158] }, { 34: [1, 159] }, { 37: 160, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 161] }, o($Vc, [2, 33], { 38: [1, 162] }), o($Vc, [2, 34], { 36: [1, 163] }), o($Vc, [2, 32], { 33: [1, 164] }), o($Vc, [2, 35], { 38: [1, 165] }), o($Vc, [2, 30], { 36: [1, 166] }), o($Vc, [2, 31], { 33: [1, 167] }), o($Vc, [2, 56], { 41: [1, 168] }), o($Vc, [2, 69], { 33: [1, 169] }), o($Vc, [2, 57], { 41: [1, 170] }), o($Vc, [2, 80], { 36: [1, 171] }), o($Vc, [2, 70], { 33: [1, 172] }), o($Vc, [2, 79], { 36: [1, 173] }), o($Vc, [2, 55], { 41: [1, 174] }), o($Vc, [2, 68], { 33: [1, 175] }), o($Vc, [2, 54], { 41: [1, 176] }), o($Vc, [2, 74], { 38: [1, 177] }), o($Vc, [2, 67], { 33: [1, 178] }), o($Vc, [2, 73], { 38: [1, 179] }), o($Vc, [2, 53], { 41: [1, 180] }), o($Vc, [2, 81], { 36: [1, 181] }), o($Vc, [2, 52], { 41: [1, 182] }), o($Vc, [2, 75], { 38: [1, 183] }), o($Vc, [2, 76], { 38: [1, 184] }), o($Vc, [2, 82], { 36: [1, 185] }), o($Vc, [2, 66], { 33: [1, 186] }), o($Vc, [2, 77], { 36: [1, 187] }), o($Vc, [2, 65], { 33: [1, 188] }), o($Vc, [2, 71], { 38: [1, 189] }), o($Vc, [2, 72], { 38: [1, 190] }), o($Vc, [2, 78], { 36: [1, 191] }), { 34: [1, 192] }, { 37: 193, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 194] }, { 34: [1, 195] }, { 37: 196, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 197] }, { 34: [1, 198] }, { 34: [1, 199] }, { 34: [1, 200] }, { 37: 201, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 202] }, { 37: 203, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 204] }, { 34: [1, 205] }, { 34: [1, 206] }, { 34: [1, 207] }, { 34: [1, 208] }, { 34: [1, 209] }, { 34: [1, 210] }, { 37: 211, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 212] }, { 34: [1, 213] }, { 34: [1, 214] }, { 37: 215, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 216] }, { 37: 217, 42: $Vd, 43: $Ve, 44: $Vf }, { 34: [1, 218] }, { 34: [1, 219] }, { 34: [1, 220] }, { 37: 221, 42: $Vd, 43: $Ve, 44: $Vf }, o($Vc, [2, 36]), o($Vc, [2, 38]), o($Vc, [2, 37]), o($Vc, [2, 39]), o($Vc, [2, 41]), o($Vc, [2, 40]), o($Vc, [2, 97]), o($Vc, [2, 98]), o($Vc, [2, 95]), o($Vc, [2, 96]), o($Vc, [2, 100]), o($Vc, [2, 99]), o($Vc, [2, 104]), o($Vc, [2, 103]), o($Vc, [2, 102]), o($Vc, [2, 101]), o($Vc, [2, 106]), o($Vc, [2, 105]), o($Vc, [2, 94]), o($Vc, [2, 93]), o($Vc, [2, 92]), o($Vc, [2, 91]), o($Vc, [2, 89]), o($Vc, [2, 90]), o($Vc, [2, 88]), o($Vc, [2, 87]), o($Vc, [2, 86]), o($Vc, [2, 85]), o($Vc, [2, 83]), o($Vc, [2, 84])],
              defaultActions: { 9: [2, 114], 10: [2, 1], 11: [2, 2], 19: [2, 3], 27: [2, 4], 46: [2, 116], 47: [2, 5] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 49;
                    case 1:
                      this.begin("type_directive");
                      return 50;
                    case 2:
                      this.popState();
                      this.begin("arg_directive");
                      return 9;
                    case 3:
                      this.popState();
                      this.popState();
                      return 52;
                    case 4:
                      return 51;
                    case 5:
                      this.begin("acc_title");
                      return 20;
                    case 6:
                      this.popState();
                      return "acc_title_value";
                    case 7:
                      this.begin("acc_descr");
                      return 22;
                    case 8:
                      this.popState();
                      return "acc_descr_value";
                    case 9:
                      this.begin("acc_descr_multiline");
                      break;
                    case 10:
                      this.popState();
                      break;
                    case 11:
                      return "acc_descr_multiline_value";
                    case 12:
                      return 14;
                    case 13:
                      break;
                    case 14:
                      break;
                    case 15:
                      break;
                    case 16:
                      return 6;
                    case 17:
                      return 39;
                    case 18:
                      return 33;
                    case 19:
                      return 36;
                    case 20:
                      return 41;
                    case 21:
                      return 42;
                    case 22:
                      return 43;
                    case 23:
                      return 44;
                    case 24:
                      return 38;
                    case 25:
                      return 29;
                    case 26:
                      return 30;
                    case 27:
                      return 35;
                    case 28:
                      return 32;
                    case 29:
                      return 27;
                    case 30:
                      return 10;
                    case 31:
                      return 10;
                    case 32:
                      return 9;
                    case 33:
                      return "CARET";
                    case 34:
                      this.begin("options");
                      break;
                    case 35:
                      this.popState();
                      break;
                    case 36:
                      return 13;
                    case 37:
                      this.begin("string");
                      break;
                    case 38:
                      this.popState();
                      break;
                    case 39:
                      return 34;
                    case 40:
                      return 31;
                    case 41:
                      return 28;
                    case 42:
                      return 8;
                  }
                },
                rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:(\r?\n)+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:gitGraph\b)/i, /^(?:commit\b)/i, /^(?:id:)/i, /^(?:type:)/i, /^(?:msg:)/i, /^(?:NORMAL\b)/i, /^(?:REVERSE\b)/i, /^(?:HIGHLIGHT\b)/i, /^(?:tag:)/i, /^(?:branch\b)/i, /^(?:order:)/i, /^(?:merge\b)/i, /^(?:cherry-pick\b)/i, /^(?:checkout\b)/i, /^(?:LR\b)/i, /^(?:BT\b)/i, /^(?::)/i, /^(?:\^)/i, /^(?:options\r?\n)/i, /^(?:[ \r\n\t]+end\b)/i, /^(?:[\s\S]+(?=[ \r\n\t]+end))/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[0-9]+)/i, /^(?:[a-zA-Z][-_\./a-zA-Z0-9]*[-_a-zA-Z0-9])/i, /^(?:$)/i],
                conditions: { "acc_descr_multiline": { "rules": [10, 11], "inclusive": false }, "acc_descr": { "rules": [8], "inclusive": false }, "acc_title": { "rules": [6], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "options": { "rules": [35, 36], "inclusive": false }, "string": { "rules": [38, 39], "inclusive": false }, "INITIAL": { "rules": [0, 5, 7, 9, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 37, 40, 41, 42], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?2b40").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/info/parser/info.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [6, 9, 10];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "info": 4, "document": 5, "EOF": 6, "line": 7, "statement": 8, "NL": 9, "showInfo": 10, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 4: "info", 6: "EOF", 9: "NL", 10: "showInfo" },
              productions_: [0, [3, 3], [5, 0], [5, 2], [7, 1], [7, 1], [8, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                $$.length - 1;
                switch (yystate) {
                  case 1:
                    return yy;
                  case 4:
                    break;
                  case 6:
                    yy.setInfo(true);
                    break;
                }
              },
              table: [{ 3: 1, 4: [1, 2] }, { 1: [3] }, o($V0, [2, 2], { 5: 3 }), { 6: [1, 4], 7: 5, 8: 6, 9: [1, 7], 10: [1, 8] }, { 1: [2, 1] }, o($V0, [2, 3]), o($V0, [2, 4]), o($V0, [2, 5]), o($V0, [2, 6])],
              defaultActions: { 4: [2, 1] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      return 4;
                    case 1:
                      return 9;
                    case 2:
                      return "space";
                    case 3:
                      return 10;
                    case 4:
                      return 6;
                    case 5:
                      return "TXT";
                  }
                },
                rules: [/^(?:info\b)/i, /^(?:[\s\n\r]+)/i, /^(?:[\s]+)/i, /^(?:showInfo\b)/i, /^(?:$)/i, /^(?:.)/i],
                conditions: { "INITIAL": { "rules": [0, 1, 2, 3, 4, 5], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?c5f1").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/pie/parser/pie.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 4], $V1 = [1, 5], $V2 = [1, 6], $V3 = [1, 7], $V4 = [1, 9], $V5 = [1, 11, 13, 15, 17, 19, 20, 26, 27, 28, 29], $V6 = [2, 5], $V7 = [1, 6, 11, 13, 15, 17, 19, 20, 26, 27, 28, 29], $V8 = [26, 27, 28], $V9 = [2, 8], $Va = [1, 18], $Vb = [1, 19], $Vc = [1, 20], $Vd = [1, 21], $Ve = [1, 22], $Vf = [1, 23], $Vg = [1, 28], $Vh = [6, 26, 27, 28, 29];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "eol": 4, "directive": 5, "PIE": 6, "document": 7, "showData": 8, "line": 9, "statement": 10, "txt": 11, "value": 12, "title": 13, "title_value": 14, "acc_title": 15, "acc_title_value": 16, "acc_descr": 17, "acc_descr_value": 18, "acc_descr_multiline_value": 19, "section": 20, "openDirective": 21, "typeDirective": 22, "closeDirective": 23, ":": 24, "argDirective": 25, "NEWLINE": 26, ";": 27, "EOF": 28, "open_directive": 29, "type_directive": 30, "arg_directive": 31, "close_directive": 32, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 6: "PIE", 8: "showData", 11: "txt", 12: "value", 13: "title", 14: "title_value", 15: "acc_title", 16: "acc_title_value", 17: "acc_descr", 18: "acc_descr_value", 19: "acc_descr_multiline_value", 20: "section", 24: ":", 26: "NEWLINE", 27: ";", 28: "EOF", 29: "open_directive", 30: "type_directive", 31: "arg_directive", 32: "close_directive" },
              productions_: [0, [3, 2], [3, 2], [3, 2], [3, 3], [7, 0], [7, 2], [9, 2], [10, 0], [10, 2], [10, 2], [10, 2], [10, 2], [10, 1], [10, 1], [10, 1], [5, 3], [5, 5], [4, 1], [4, 1], [4, 1], [21, 1], [22, 1], [25, 1], [23, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 4:
                    yy.setShowData(true);
                    break;
                  case 7:
                    this.$ = $$[$0 - 1];
                    break;
                  case 9:
                    yy.addSection($$[$0 - 1], yy.cleanupValue($$[$0]));
                    break;
                  case 10:
                    this.$ = $$[$0].trim();
                    yy.setDiagramTitle(this.$);
                    break;
                  case 11:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 12:
                  case 13:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 14:
                    yy.addSection($$[$0].substr(8));
                    this.$ = $$[$0].substr(8);
                    break;
                  case 21:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 22:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 23:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 24:
                    yy.parseDirective("}%%", "close_directive", "pie");
                    break;
                }
              },
              table: [{ 3: 1, 4: 2, 5: 3, 6: $V0, 21: 8, 26: $V1, 27: $V2, 28: $V3, 29: $V4 }, { 1: [3] }, { 3: 10, 4: 2, 5: 3, 6: $V0, 21: 8, 26: $V1, 27: $V2, 28: $V3, 29: $V4 }, { 3: 11, 4: 2, 5: 3, 6: $V0, 21: 8, 26: $V1, 27: $V2, 28: $V3, 29: $V4 }, o($V5, $V6, { 7: 12, 8: [1, 13] }), o($V7, [2, 18]), o($V7, [2, 19]), o($V7, [2, 20]), { 22: 14, 30: [1, 15] }, { 30: [2, 21] }, { 1: [2, 1] }, { 1: [2, 2] }, o($V8, $V9, { 21: 8, 9: 16, 10: 17, 5: 24, 1: [2, 3], 11: $Va, 13: $Vb, 15: $Vc, 17: $Vd, 19: $Ve, 20: $Vf, 29: $V4 }), o($V5, $V6, { 7: 25 }), { 23: 26, 24: [1, 27], 32: $Vg }, o([24, 32], [2, 22]), o($V5, [2, 6]), { 4: 29, 26: $V1, 27: $V2, 28: $V3 }, { 12: [1, 30] }, { 14: [1, 31] }, { 16: [1, 32] }, { 18: [1, 33] }, o($V8, [2, 13]), o($V8, [2, 14]), o($V8, [2, 15]), o($V8, $V9, { 21: 8, 9: 16, 10: 17, 5: 24, 1: [2, 4], 11: $Va, 13: $Vb, 15: $Vc, 17: $Vd, 19: $Ve, 20: $Vf, 29: $V4 }), o($Vh, [2, 16]), { 25: 34, 31: [1, 35] }, o($Vh, [2, 24]), o($V5, [2, 7]), o($V8, [2, 9]), o($V8, [2, 10]), o($V8, [2, 11]), o($V8, [2, 12]), { 23: 36, 32: $Vg }, { 32: [2, 23] }, o($Vh, [2, 17])],
              defaultActions: { 9: [2, 21], 10: [2, 1], 11: [2, 2], 35: [2, 23] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 29;
                    case 1:
                      this.begin("type_directive");
                      return 30;
                    case 2:
                      this.popState();
                      this.begin("arg_directive");
                      return 24;
                    case 3:
                      this.popState();
                      this.popState();
                      return 32;
                    case 4:
                      return 31;
                    case 5:
                      break;
                    case 6:
                      break;
                    case 7:
                      return 26;
                    case 8:
                      break;
                    case 9:
                      break;
                    case 10:
                      this.begin("title");
                      return 13;
                    case 11:
                      this.popState();
                      return "title_value";
                    case 12:
                      this.begin("acc_title");
                      return 15;
                    case 13:
                      this.popState();
                      return "acc_title_value";
                    case 14:
                      this.begin("acc_descr");
                      return 17;
                    case 15:
                      this.popState();
                      return "acc_descr_value";
                    case 16:
                      this.begin("acc_descr_multiline");
                      break;
                    case 17:
                      this.popState();
                      break;
                    case 18:
                      return "acc_descr_multiline_value";
                    case 19:
                      this.begin("string");
                      break;
                    case 20:
                      this.popState();
                      break;
                    case 21:
                      return "txt";
                    case 22:
                      return 6;
                    case 23:
                      return 8;
                    case 24:
                      return "value";
                    case 25:
                      return 28;
                  }
                },
                rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n\r]+)/i, /^(?:%%[^\n]*)/i, /^(?:[\s]+)/i, /^(?:title\b)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:pie\b)/i, /^(?:showData\b)/i, /^(?::[\s]*[\d]+(?:\.[\d]+)?)/i, /^(?:$)/i],
                conditions: { "acc_descr_multiline": { "rules": [17, 18], "inclusive": false }, "acc_descr": { "rules": [15], "inclusive": false }, "acc_title": { "rules": [13], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "title": { "rules": [11], "inclusive": false }, "string": { "rules": [20, 21], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 7, 8, 9, 10, 12, 14, 16, 19, 22, 23, 24, 25], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?a3fa").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/requirement/parser/requirementDiagram.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 3], $V1 = [1, 5], $V2 = [1, 6], $V3 = [1, 7], $V4 = [1, 8], $V5 = [5, 6, 8, 14, 16, 18, 19, 40, 41, 42, 43, 44, 45, 53, 71, 72], $V6 = [1, 22], $V7 = [2, 13], $V8 = [1, 26], $V9 = [1, 27], $Va = [1, 28], $Vb = [1, 29], $Vc = [1, 30], $Vd = [1, 31], $Ve = [1, 24], $Vf = [1, 32], $Vg = [1, 33], $Vh = [1, 36], $Vi = [71, 72], $Vj = [5, 8, 14, 16, 18, 19, 40, 41, 42, 43, 44, 45, 53, 60, 62, 71, 72], $Vk = [1, 56], $Vl = [1, 57], $Vm = [1, 58], $Vn = [1, 59], $Vo = [1, 60], $Vp = [1, 61], $Vq = [1, 62], $Vr = [62, 63], $Vs = [1, 74], $Vt = [1, 70], $Vu = [1, 71], $Vv = [1, 72], $Vw = [1, 73], $Vx = [1, 75], $Vy = [1, 79], $Vz = [1, 80], $VA = [1, 77], $VB = [1, 78], $VC = [5, 8, 14, 16, 18, 19, 40, 41, 42, 43, 44, 45, 53, 71, 72];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "directive": 4, "NEWLINE": 5, "RD": 6, "diagram": 7, "EOF": 8, "openDirective": 9, "typeDirective": 10, "closeDirective": 11, ":": 12, "argDirective": 13, "acc_title": 14, "acc_title_value": 15, "acc_descr": 16, "acc_descr_value": 17, "acc_descr_multiline_value": 18, "open_directive": 19, "type_directive": 20, "arg_directive": 21, "close_directive": 22, "requirementDef": 23, "elementDef": 24, "relationshipDef": 25, "requirementType": 26, "requirementName": 27, "STRUCT_START": 28, "requirementBody": 29, "ID": 30, "COLONSEP": 31, "id": 32, "TEXT": 33, "text": 34, "RISK": 35, "riskLevel": 36, "VERIFYMTHD": 37, "verifyType": 38, "STRUCT_STOP": 39, "REQUIREMENT": 40, "FUNCTIONAL_REQUIREMENT": 41, "INTERFACE_REQUIREMENT": 42, "PERFORMANCE_REQUIREMENT": 43, "PHYSICAL_REQUIREMENT": 44, "DESIGN_CONSTRAINT": 45, "LOW_RISK": 46, "MED_RISK": 47, "HIGH_RISK": 48, "VERIFY_ANALYSIS": 49, "VERIFY_DEMONSTRATION": 50, "VERIFY_INSPECTION": 51, "VERIFY_TEST": 52, "ELEMENT": 53, "elementName": 54, "elementBody": 55, "TYPE": 56, "type": 57, "DOCREF": 58, "ref": 59, "END_ARROW_L": 60, "relationship": 61, "LINE": 62, "END_ARROW_R": 63, "CONTAINS": 64, "COPIES": 65, "DERIVES": 66, "SATISFIES": 67, "VERIFIES": 68, "REFINES": 69, "TRACES": 70, "unqString": 71, "qString": 72, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 5: "NEWLINE", 6: "RD", 8: "EOF", 12: ":", 14: "acc_title", 15: "acc_title_value", 16: "acc_descr", 17: "acc_descr_value", 18: "acc_descr_multiline_value", 19: "open_directive", 20: "type_directive", 21: "arg_directive", 22: "close_directive", 28: "STRUCT_START", 30: "ID", 31: "COLONSEP", 33: "TEXT", 35: "RISK", 37: "VERIFYMTHD", 39: "STRUCT_STOP", 40: "REQUIREMENT", 41: "FUNCTIONAL_REQUIREMENT", 42: "INTERFACE_REQUIREMENT", 43: "PERFORMANCE_REQUIREMENT", 44: "PHYSICAL_REQUIREMENT", 45: "DESIGN_CONSTRAINT", 46: "LOW_RISK", 47: "MED_RISK", 48: "HIGH_RISK", 49: "VERIFY_ANALYSIS", 50: "VERIFY_DEMONSTRATION", 51: "VERIFY_INSPECTION", 52: "VERIFY_TEST", 53: "ELEMENT", 56: "TYPE", 58: "DOCREF", 60: "END_ARROW_L", 62: "LINE", 63: "END_ARROW_R", 64: "CONTAINS", 65: "COPIES", 66: "DERIVES", 67: "SATISFIES", 68: "VERIFIES", 69: "REFINES", 70: "TRACES", 71: "unqString", 72: "qString" },
              productions_: [0, [3, 3], [3, 2], [3, 4], [4, 3], [4, 5], [4, 2], [4, 2], [4, 1], [9, 1], [10, 1], [13, 1], [11, 1], [7, 0], [7, 2], [7, 2], [7, 2], [7, 2], [7, 2], [23, 5], [29, 5], [29, 5], [29, 5], [29, 5], [29, 2], [29, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [26, 1], [36, 1], [36, 1], [36, 1], [38, 1], [38, 1], [38, 1], [38, 1], [24, 5], [55, 5], [55, 5], [55, 2], [55, 1], [25, 5], [25, 5], [61, 1], [61, 1], [61, 1], [61, 1], [61, 1], [61, 1], [61, 1], [27, 1], [27, 1], [32, 1], [32, 1], [34, 1], [34, 1], [54, 1], [54, 1], [57, 1], [57, 1], [59, 1], [59, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 6:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 7:
                  case 8:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 9:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 10:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 11:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 12:
                    yy.parseDirective("}%%", "close_directive", "pie");
                    break;
                  case 13:
                    this.$ = [];
                    break;
                  case 19:
                    yy.addRequirement($$[$0 - 3], $$[$0 - 4]);
                    break;
                  case 20:
                    yy.setNewReqId($$[$0 - 2]);
                    break;
                  case 21:
                    yy.setNewReqText($$[$0 - 2]);
                    break;
                  case 22:
                    yy.setNewReqRisk($$[$0 - 2]);
                    break;
                  case 23:
                    yy.setNewReqVerifyMethod($$[$0 - 2]);
                    break;
                  case 26:
                    this.$ = yy.RequirementType.REQUIREMENT;
                    break;
                  case 27:
                    this.$ = yy.RequirementType.FUNCTIONAL_REQUIREMENT;
                    break;
                  case 28:
                    this.$ = yy.RequirementType.INTERFACE_REQUIREMENT;
                    break;
                  case 29:
                    this.$ = yy.RequirementType.PERFORMANCE_REQUIREMENT;
                    break;
                  case 30:
                    this.$ = yy.RequirementType.PHYSICAL_REQUIREMENT;
                    break;
                  case 31:
                    this.$ = yy.RequirementType.DESIGN_CONSTRAINT;
                    break;
                  case 32:
                    this.$ = yy.RiskLevel.LOW_RISK;
                    break;
                  case 33:
                    this.$ = yy.RiskLevel.MED_RISK;
                    break;
                  case 34:
                    this.$ = yy.RiskLevel.HIGH_RISK;
                    break;
                  case 35:
                    this.$ = yy.VerifyType.VERIFY_ANALYSIS;
                    break;
                  case 36:
                    this.$ = yy.VerifyType.VERIFY_DEMONSTRATION;
                    break;
                  case 37:
                    this.$ = yy.VerifyType.VERIFY_INSPECTION;
                    break;
                  case 38:
                    this.$ = yy.VerifyType.VERIFY_TEST;
                    break;
                  case 39:
                    yy.addElement($$[$0 - 3]);
                    break;
                  case 40:
                    yy.setNewElementType($$[$0 - 2]);
                    break;
                  case 41:
                    yy.setNewElementDocRef($$[$0 - 2]);
                    break;
                  case 44:
                    yy.addRelationship($$[$0 - 2], $$[$0], $$[$0 - 4]);
                    break;
                  case 45:
                    yy.addRelationship($$[$0 - 2], $$[$0 - 4], $$[$0]);
                    break;
                  case 46:
                    this.$ = yy.Relationships.CONTAINS;
                    break;
                  case 47:
                    this.$ = yy.Relationships.COPIES;
                    break;
                  case 48:
                    this.$ = yy.Relationships.DERIVES;
                    break;
                  case 49:
                    this.$ = yy.Relationships.SATISFIES;
                    break;
                  case 50:
                    this.$ = yy.Relationships.VERIFIES;
                    break;
                  case 51:
                    this.$ = yy.Relationships.REFINES;
                    break;
                  case 52:
                    this.$ = yy.Relationships.TRACES;
                    break;
                }
              },
              table: [{ 3: 1, 4: 2, 6: $V0, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4 }, { 1: [3] }, { 3: 10, 4: 2, 5: [1, 9], 6: $V0, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4 }, { 5: [1, 11] }, { 10: 12, 20: [1, 13] }, { 15: [1, 14] }, { 17: [1, 15] }, o($V5, [2, 8]), { 20: [2, 9] }, { 3: 16, 4: 2, 6: $V0, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4 }, { 1: [2, 2] }, { 4: 21, 5: $V6, 7: 17, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 11: 34, 12: [1, 35], 22: $Vh }, o([12, 22], [2, 10]), o($V5, [2, 6]), o($V5, [2, 7]), { 1: [2, 1] }, { 8: [1, 37] }, { 4: 21, 5: $V6, 7: 38, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 39, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 40, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 41, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 4: 21, 5: $V6, 7: 42, 8: $V7, 9: 4, 14: $V1, 16: $V2, 18: $V3, 19: $V4, 23: 18, 24: 19, 25: 20, 26: 23, 32: 25, 40: $V8, 41: $V9, 42: $Va, 43: $Vb, 44: $Vc, 45: $Vd, 53: $Ve, 71: $Vf, 72: $Vg }, { 27: 43, 71: [1, 44], 72: [1, 45] }, { 54: 46, 71: [1, 47], 72: [1, 48] }, { 60: [1, 49], 62: [1, 50] }, o($Vi, [2, 26]), o($Vi, [2, 27]), o($Vi, [2, 28]), o($Vi, [2, 29]), o($Vi, [2, 30]), o($Vi, [2, 31]), o($Vj, [2, 55]), o($Vj, [2, 56]), o($V5, [2, 4]), { 13: 51, 21: [1, 52] }, o($V5, [2, 12]), { 1: [2, 3] }, { 8: [2, 14] }, { 8: [2, 15] }, { 8: [2, 16] }, { 8: [2, 17] }, { 8: [2, 18] }, { 28: [1, 53] }, { 28: [2, 53] }, { 28: [2, 54] }, { 28: [1, 54] }, { 28: [2, 59] }, { 28: [2, 60] }, { 61: 55, 64: $Vk, 65: $Vl, 66: $Vm, 67: $Vn, 68: $Vo, 69: $Vp, 70: $Vq }, { 61: 63, 64: $Vk, 65: $Vl, 66: $Vm, 67: $Vn, 68: $Vo, 69: $Vp, 70: $Vq }, { 11: 64, 22: $Vh }, { 22: [2, 11] }, { 5: [1, 65] }, { 5: [1, 66] }, { 62: [1, 67] }, o($Vr, [2, 46]), o($Vr, [2, 47]), o($Vr, [2, 48]), o($Vr, [2, 49]), o($Vr, [2, 50]), o($Vr, [2, 51]), o($Vr, [2, 52]), { 63: [1, 68] }, o($V5, [2, 5]), { 5: $Vs, 29: 69, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vy, 39: $Vz, 55: 76, 56: $VA, 58: $VB }, { 32: 81, 71: $Vf, 72: $Vg }, { 32: 82, 71: $Vf, 72: $Vg }, o($VC, [2, 19]), { 31: [1, 83] }, { 31: [1, 84] }, { 31: [1, 85] }, { 31: [1, 86] }, { 5: $Vs, 29: 87, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, o($VC, [2, 25]), o($VC, [2, 39]), { 31: [1, 88] }, { 31: [1, 89] }, { 5: $Vy, 39: $Vz, 55: 90, 56: $VA, 58: $VB }, o($VC, [2, 43]), o($VC, [2, 44]), o($VC, [2, 45]), { 32: 91, 71: $Vf, 72: $Vg }, { 34: 92, 71: [1, 93], 72: [1, 94] }, { 36: 95, 46: [1, 96], 47: [1, 97], 48: [1, 98] }, { 38: 99, 49: [1, 100], 50: [1, 101], 51: [1, 102], 52: [1, 103] }, o($VC, [2, 24]), { 57: 104, 71: [1, 105], 72: [1, 106] }, { 59: 107, 71: [1, 108], 72: [1, 109] }, o($VC, [2, 42]), { 5: [1, 110] }, { 5: [1, 111] }, { 5: [2, 57] }, { 5: [2, 58] }, { 5: [1, 112] }, { 5: [2, 32] }, { 5: [2, 33] }, { 5: [2, 34] }, { 5: [1, 113] }, { 5: [2, 35] }, { 5: [2, 36] }, { 5: [2, 37] }, { 5: [2, 38] }, { 5: [1, 114] }, { 5: [2, 61] }, { 5: [2, 62] }, { 5: [1, 115] }, { 5: [2, 63] }, { 5: [2, 64] }, { 5: $Vs, 29: 116, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vs, 29: 117, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vs, 29: 118, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vs, 29: 119, 30: $Vt, 33: $Vu, 35: $Vv, 37: $Vw, 39: $Vx }, { 5: $Vy, 39: $Vz, 55: 120, 56: $VA, 58: $VB }, { 5: $Vy, 39: $Vz, 55: 121, 56: $VA, 58: $VB }, o($VC, [2, 20]), o($VC, [2, 21]), o($VC, [2, 22]), o($VC, [2, 23]), o($VC, [2, 40]), o($VC, [2, 41])],
              defaultActions: { 8: [2, 9], 10: [2, 2], 16: [2, 1], 37: [2, 3], 38: [2, 14], 39: [2, 15], 40: [2, 16], 41: [2, 17], 42: [2, 18], 44: [2, 53], 45: [2, 54], 47: [2, 59], 48: [2, 60], 52: [2, 11], 93: [2, 57], 94: [2, 58], 96: [2, 32], 97: [2, 33], 98: [2, 34], 100: [2, 35], 101: [2, 36], 102: [2, 37], 103: [2, 38], 105: [2, 61], 106: [2, 62], 108: [2, 63], 109: [2, 64] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 19;
                    case 1:
                      this.begin("type_directive");
                      return 20;
                    case 2:
                      this.popState();
                      this.begin("arg_directive");
                      return 12;
                    case 3:
                      this.popState();
                      this.popState();
                      return 22;
                    case 4:
                      return 21;
                    case 5:
                      return "title";
                    case 6:
                      this.begin("acc_title");
                      return 14;
                    case 7:
                      this.popState();
                      return "acc_title_value";
                    case 8:
                      this.begin("acc_descr");
                      return 16;
                    case 9:
                      this.popState();
                      return "acc_descr_value";
                    case 10:
                      this.begin("acc_descr_multiline");
                      break;
                    case 11:
                      this.popState();
                      break;
                    case 12:
                      return "acc_descr_multiline_value";
                    case 13:
                      return 5;
                    case 14:
                      break;
                    case 15:
                      break;
                    case 16:
                      break;
                    case 17:
                      return 8;
                    case 18:
                      return 6;
                    case 19:
                      return 28;
                    case 20:
                      return 39;
                    case 21:
                      return 31;
                    case 22:
                      return 30;
                    case 23:
                      return 33;
                    case 24:
                      return 35;
                    case 25:
                      return 37;
                    case 26:
                      return 40;
                    case 27:
                      return 41;
                    case 28:
                      return 42;
                    case 29:
                      return 43;
                    case 30:
                      return 44;
                    case 31:
                      return 45;
                    case 32:
                      return 46;
                    case 33:
                      return 47;
                    case 34:
                      return 48;
                    case 35:
                      return 49;
                    case 36:
                      return 50;
                    case 37:
                      return 51;
                    case 38:
                      return 52;
                    case 39:
                      return 53;
                    case 40:
                      return 64;
                    case 41:
                      return 65;
                    case 42:
                      return 66;
                    case 43:
                      return 67;
                    case 44:
                      return 68;
                    case 45:
                      return 69;
                    case 46:
                      return 70;
                    case 47:
                      return 56;
                    case 48:
                      return 58;
                    case 49:
                      return 60;
                    case 50:
                      return 63;
                    case 51:
                      return 62;
                    case 52:
                      this.begin("string");
                      break;
                    case 53:
                      this.popState();
                      break;
                    case 54:
                      return "qString";
                    case 55:
                      yy_.yytext = yy_.yytext.trim();
                      return 71;
                  }
                },
                rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:(\r?\n)+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:$)/i, /^(?:requirementDiagram\b)/i, /^(?:\{)/i, /^(?:\})/i, /^(?::)/i, /^(?:id\b)/i, /^(?:text\b)/i, /^(?:risk\b)/i, /^(?:verifyMethod\b)/i, /^(?:requirement\b)/i, /^(?:functionalRequirement\b)/i, /^(?:interfaceRequirement\b)/i, /^(?:performanceRequirement\b)/i, /^(?:physicalRequirement\b)/i, /^(?:designConstraint\b)/i, /^(?:low\b)/i, /^(?:medium\b)/i, /^(?:high\b)/i, /^(?:analysis\b)/i, /^(?:demonstration\b)/i, /^(?:inspection\b)/i, /^(?:test\b)/i, /^(?:element\b)/i, /^(?:contains\b)/i, /^(?:copies\b)/i, /^(?:derives\b)/i, /^(?:satisfies\b)/i, /^(?:verifies\b)/i, /^(?:refines\b)/i, /^(?:traces\b)/i, /^(?:type\b)/i, /^(?:docref\b)/i, /^(?:<-)/i, /^(?:->)/i, /^(?:-)/i, /^(?:["])/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[\w][^\r\n\{\<\>\-\=]*)/i],
                conditions: { "acc_descr_multiline": { "rules": [11, 12], "inclusive": false }, "acc_descr": { "rules": [9], "inclusive": false }, "acc_title": { "rules": [7], "inclusive": false }, "close_directive": { "rules": [], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "open_directive": { "rules": [1], "inclusive": false }, "unqString": { "rules": [], "inclusive": false }, "token": { "rules": [], "inclusive": false }, "string": { "rules": [53, 54], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 8, 10, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 55], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?ebf4").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/sequence/parser/sequenceDiagram.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 5], $V3 = [1, 7], $V4 = [2, 5], $V5 = [1, 15], $V6 = [1, 17], $V7 = [1, 18], $V8 = [1, 19], $V9 = [1, 21], $Va = [1, 22], $Vb = [1, 23], $Vc = [1, 29], $Vd = [1, 30], $Ve = [1, 31], $Vf = [1, 32], $Vg = [1, 33], $Vh = [1, 34], $Vi = [1, 35], $Vj = [1, 36], $Vk = [1, 37], $Vl = [1, 38], $Vm = [1, 39], $Vn = [1, 40], $Vo = [1, 43], $Vp = [1, 44], $Vq = [1, 45], $Vr = [1, 46], $Vs = [1, 47], $Vt = [1, 48], $Vu = [1, 51], $Vv = [1, 4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 50, 51, 52, 53, 58, 59, 60, 61, 69, 79], $Vw = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 53, 58, 59, 60, 61, 69, 79], $Vx = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 52, 53, 58, 59, 60, 61, 69, 79], $Vy = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 51, 53, 58, 59, 60, 61, 69, 79], $Vz = [4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 50, 53, 58, 59, 60, 61, 69, 79], $VA = [67, 68, 69], $VB = [1, 121], $VC = [1, 4, 5, 7, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 40, 41, 42, 43, 45, 47, 49, 50, 51, 52, 53, 58, 59, 60, 61, 69, 79];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "SPACE": 4, "NEWLINE": 5, "directive": 6, "SD": 7, "document": 8, "line": 9, "statement": 10, "openDirective": 11, "typeDirective": 12, "closeDirective": 13, ":": 14, "argDirective": 15, "participant": 16, "actor": 17, "AS": 18, "restOfLine": 19, "participant_actor": 20, "signal": 21, "autonumber": 22, "NUM": 23, "off": 24, "activate": 25, "deactivate": 26, "note_statement": 27, "links_statement": 28, "link_statement": 29, "properties_statement": 30, "details_statement": 31, "title": 32, "legacy_title": 33, "acc_title": 34, "acc_title_value": 35, "acc_descr": 36, "acc_descr_value": 37, "acc_descr_multiline_value": 38, "loop": 39, "end": 40, "rect": 41, "opt": 42, "alt": 43, "else_sections": 44, "par": 45, "par_sections": 46, "critical": 47, "option_sections": 48, "break": 49, "option": 50, "and": 51, "else": 52, "note": 53, "placement": 54, "text2": 55, "over": 56, "actor_pair": 57, "links": 58, "link": 59, "properties": 60, "details": 61, "spaceList": 62, ",": 63, "left_of": 64, "right_of": 65, "signaltype": 66, "+": 67, "-": 68, "ACTOR": 69, "SOLID_OPEN_ARROW": 70, "DOTTED_OPEN_ARROW": 71, "SOLID_ARROW": 72, "DOTTED_ARROW": 73, "SOLID_CROSS": 74, "DOTTED_CROSS": 75, "SOLID_POINT": 76, "DOTTED_POINT": 77, "TXT": 78, "open_directive": 79, "type_directive": 80, "arg_directive": 81, "close_directive": 82, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 4: "SPACE", 5: "NEWLINE", 7: "SD", 14: ":", 16: "participant", 18: "AS", 19: "restOfLine", 20: "participant_actor", 22: "autonumber", 23: "NUM", 24: "off", 25: "activate", 26: "deactivate", 32: "title", 33: "legacy_title", 34: "acc_title", 35: "acc_title_value", 36: "acc_descr", 37: "acc_descr_value", 38: "acc_descr_multiline_value", 39: "loop", 40: "end", 41: "rect", 42: "opt", 43: "alt", 45: "par", 47: "critical", 49: "break", 50: "option", 51: "and", 52: "else", 53: "note", 56: "over", 58: "links", 59: "link", 60: "properties", 61: "details", 63: ",", 64: "left_of", 65: "right_of", 67: "+", 68: "-", 69: "ACTOR", 70: "SOLID_OPEN_ARROW", 71: "DOTTED_OPEN_ARROW", 72: "SOLID_ARROW", 73: "DOTTED_ARROW", 74: "SOLID_CROSS", 75: "DOTTED_CROSS", 76: "SOLID_POINT", 77: "DOTTED_POINT", 78: "TXT", 79: "open_directive", 80: "type_directive", 81: "arg_directive", 82: "close_directive" },
              productions_: [0, [3, 2], [3, 2], [3, 2], [3, 2], [8, 0], [8, 2], [9, 2], [9, 1], [9, 1], [6, 4], [6, 6], [10, 5], [10, 3], [10, 5], [10, 3], [10, 2], [10, 4], [10, 3], [10, 3], [10, 2], [10, 3], [10, 3], [10, 2], [10, 2], [10, 2], [10, 2], [10, 2], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [10, 4], [10, 1], [48, 1], [48, 4], [46, 1], [46, 4], [44, 1], [44, 4], [27, 4], [27, 4], [28, 3], [29, 3], [30, 3], [31, 3], [62, 2], [62, 1], [57, 3], [57, 1], [54, 1], [54, 1], [21, 5], [21, 5], [21, 4], [17, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [66, 1], [55, 1], [11, 1], [12, 1], [15, 1], [13, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 4:
                    yy.apply($$[$0]);
                    return $$[$0];
                  case 5:
                    this.$ = [];
                    break;
                  case 6:
                    $$[$0 - 1].push($$[$0]);
                    this.$ = $$[$0 - 1];
                    break;
                  case 7:
                  case 8:
                    this.$ = $$[$0];
                    break;
                  case 9:
                    this.$ = [];
                    break;
                  case 12:
                    $$[$0 - 3].type = "addParticipant";
                    $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);
                    this.$ = $$[$0 - 3];
                    break;
                  case 13:
                    $$[$0 - 1].type = "addParticipant";
                    this.$ = $$[$0 - 1];
                    break;
                  case 14:
                    $$[$0 - 3].type = "addActor";
                    $$[$0 - 3].description = yy.parseMessage($$[$0 - 1]);
                    this.$ = $$[$0 - 3];
                    break;
                  case 15:
                    $$[$0 - 1].type = "addActor";
                    this.$ = $$[$0 - 1];
                    break;
                  case 17:
                    this.$ = { type: "sequenceIndex", sequenceIndex: Number($$[$0 - 2]), sequenceIndexStep: Number($$[$0 - 1]), sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };
                    break;
                  case 18:
                    this.$ = { type: "sequenceIndex", sequenceIndex: Number($$[$0 - 1]), sequenceIndexStep: 1, sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };
                    break;
                  case 19:
                    this.$ = { type: "sequenceIndex", sequenceVisible: false, signalType: yy.LINETYPE.AUTONUMBER };
                    break;
                  case 20:
                    this.$ = { type: "sequenceIndex", sequenceVisible: true, signalType: yy.LINETYPE.AUTONUMBER };
                    break;
                  case 21:
                    this.$ = { type: "activeStart", signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0 - 1] };
                    break;
                  case 22:
                    this.$ = { type: "activeEnd", signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0 - 1] };
                    break;
                  case 28:
                    yy.setDiagramTitle($$[$0].substring(6));
                    this.$ = $$[$0].substring(6);
                    break;
                  case 29:
                    yy.setDiagramTitle($$[$0].substring(7));
                    this.$ = $$[$0].substring(7);
                    break;
                  case 30:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 31:
                  case 32:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 33:
                    $$[$0 - 1].unshift({ type: "loopStart", loopText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.LOOP_START });
                    $$[$0 - 1].push({ type: "loopEnd", loopText: $$[$0 - 2], signalType: yy.LINETYPE.LOOP_END });
                    this.$ = $$[$0 - 1];
                    break;
                  case 34:
                    $$[$0 - 1].unshift({ type: "rectStart", color: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.RECT_START });
                    $$[$0 - 1].push({ type: "rectEnd", color: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.RECT_END });
                    this.$ = $$[$0 - 1];
                    break;
                  case 35:
                    $$[$0 - 1].unshift({ type: "optStart", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.OPT_START });
                    $$[$0 - 1].push({ type: "optEnd", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.OPT_END });
                    this.$ = $$[$0 - 1];
                    break;
                  case 36:
                    $$[$0 - 1].unshift({ type: "altStart", altText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.ALT_START });
                    $$[$0 - 1].push({ type: "altEnd", signalType: yy.LINETYPE.ALT_END });
                    this.$ = $$[$0 - 1];
                    break;
                  case 37:
                    $$[$0 - 1].unshift({ type: "parStart", parText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.PAR_START });
                    $$[$0 - 1].push({ type: "parEnd", signalType: yy.LINETYPE.PAR_END });
                    this.$ = $$[$0 - 1];
                    break;
                  case 38:
                    $$[$0 - 1].unshift({ type: "criticalStart", criticalText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.CRITICAL_START });
                    $$[$0 - 1].push({ type: "criticalEnd", signalType: yy.LINETYPE.CRITICAL_END });
                    this.$ = $$[$0 - 1];
                    break;
                  case 39:
                    $$[$0 - 1].unshift({ type: "breakStart", breakText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.BREAK_START });
                    $$[$0 - 1].push({ type: "breakEnd", optText: yy.parseMessage($$[$0 - 2]), signalType: yy.LINETYPE.BREAK_END });
                    this.$ = $$[$0 - 1];
                    break;
                  case 42:
                    this.$ = $$[$0 - 3].concat([{ type: "option", optionText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.CRITICAL_OPTION }, $$[$0]]);
                    break;
                  case 44:
                    this.$ = $$[$0 - 3].concat([{ type: "and", parText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.PAR_AND }, $$[$0]]);
                    break;
                  case 46:
                    this.$ = $$[$0 - 3].concat([{ type: "else", altText: yy.parseMessage($$[$0 - 1]), signalType: yy.LINETYPE.ALT_ELSE }, $$[$0]]);
                    break;
                  case 47:
                    this.$ = [$$[$0 - 1], { type: "addNote", placement: $$[$0 - 2], actor: $$[$0 - 1].actor, text: $$[$0] }];
                    break;
                  case 48:
                    $$[$0 - 2] = [].concat($$[$0 - 1], $$[$0 - 1]).slice(0, 2);
                    $$[$0 - 2][0] = $$[$0 - 2][0].actor;
                    $$[$0 - 2][1] = $$[$0 - 2][1].actor;
                    this.$ = [$$[$0 - 1], { type: "addNote", placement: yy.PLACEMENT.OVER, actor: $$[$0 - 2].slice(0, 2), text: $$[$0] }];
                    break;
                  case 49:
                    this.$ = [$$[$0 - 1], { type: "addLinks", actor: $$[$0 - 1].actor, text: $$[$0] }];
                    break;
                  case 50:
                    this.$ = [$$[$0 - 1], { type: "addALink", actor: $$[$0 - 1].actor, text: $$[$0] }];
                    break;
                  case 51:
                    this.$ = [$$[$0 - 1], { type: "addProperties", actor: $$[$0 - 1].actor, text: $$[$0] }];
                    break;
                  case 52:
                    this.$ = [$$[$0 - 1], { type: "addDetails", actor: $$[$0 - 1].actor, text: $$[$0] }];
                    break;
                  case 55:
                    this.$ = [$$[$0 - 2], $$[$0]];
                    break;
                  case 56:
                    this.$ = $$[$0];
                    break;
                  case 57:
                    this.$ = yy.PLACEMENT.LEFTOF;
                    break;
                  case 58:
                    this.$ = yy.PLACEMENT.RIGHTOF;
                    break;
                  case 59:
                    this.$ = [
                      $$[$0 - 4],
                      $$[$0 - 1],
                      { type: "addMessage", from: $$[$0 - 4].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 3], msg: $$[$0] },
                      { type: "activeStart", signalType: yy.LINETYPE.ACTIVE_START, actor: $$[$0 - 1] }
                    ];
                    break;
                  case 60:
                    this.$ = [
                      $$[$0 - 4],
                      $$[$0 - 1],
                      { type: "addMessage", from: $$[$0 - 4].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 3], msg: $$[$0] },
                      { type: "activeEnd", signalType: yy.LINETYPE.ACTIVE_END, actor: $$[$0 - 4] }
                    ];
                    break;
                  case 61:
                    this.$ = [$$[$0 - 3], $$[$0 - 1], { type: "addMessage", from: $$[$0 - 3].actor, to: $$[$0 - 1].actor, signalType: $$[$0 - 2], msg: $$[$0] }];
                    break;
                  case 62:
                    this.$ = { type: "addParticipant", actor: $$[$0] };
                    break;
                  case 63:
                    this.$ = yy.LINETYPE.SOLID_OPEN;
                    break;
                  case 64:
                    this.$ = yy.LINETYPE.DOTTED_OPEN;
                    break;
                  case 65:
                    this.$ = yy.LINETYPE.SOLID;
                    break;
                  case 66:
                    this.$ = yy.LINETYPE.DOTTED;
                    break;
                  case 67:
                    this.$ = yy.LINETYPE.SOLID_CROSS;
                    break;
                  case 68:
                    this.$ = yy.LINETYPE.DOTTED_CROSS;
                    break;
                  case 69:
                    this.$ = yy.LINETYPE.SOLID_POINT;
                    break;
                  case 70:
                    this.$ = yy.LINETYPE.DOTTED_POINT;
                    break;
                  case 71:
                    this.$ = yy.parseMessage($$[$0].trim().substring(1));
                    break;
                  case 72:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 73:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 74:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 75:
                    yy.parseDirective("}%%", "close_directive", "sequence");
                    break;
                }
              },
              table: [{ 3: 1, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, { 1: [3] }, { 3: 8, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, { 3: 9, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, { 3: 10, 4: $V0, 5: $V1, 6: 4, 7: $V2, 11: 6, 79: $V3 }, o([1, 4, 5, 16, 20, 22, 25, 26, 32, 33, 34, 36, 38, 39, 41, 42, 43, 45, 47, 49, 53, 58, 59, 60, 61, 69, 79], $V4, { 8: 11 }), { 12: 12, 80: [1, 13] }, { 80: [2, 72] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, { 1: [2, 4], 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 13: 49, 14: [1, 50], 82: $Vu }, o([14, 82], [2, 73]), o($Vv, [2, 6]), { 6: 41, 10: 52, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, o($Vv, [2, 8]), o($Vv, [2, 9]), { 17: 53, 69: $Vt }, { 17: 54, 69: $Vt }, { 5: [1, 55] }, { 5: [1, 58], 23: [1, 56], 24: [1, 57] }, { 17: 59, 69: $Vt }, { 17: 60, 69: $Vt }, { 5: [1, 61] }, { 5: [1, 62] }, { 5: [1, 63] }, { 5: [1, 64] }, { 5: [1, 65] }, o($Vv, [2, 28]), o($Vv, [2, 29]), { 35: [1, 66] }, { 37: [1, 67] }, o($Vv, [2, 32]), { 19: [1, 68] }, { 19: [1, 69] }, { 19: [1, 70] }, { 19: [1, 71] }, { 19: [1, 72] }, { 19: [1, 73] }, { 19: [1, 74] }, o($Vv, [2, 40]), { 66: 75, 70: [1, 76], 71: [1, 77], 72: [1, 78], 73: [1, 79], 74: [1, 80], 75: [1, 81], 76: [1, 82], 77: [1, 83] }, { 54: 84, 56: [1, 85], 64: [1, 86], 65: [1, 87] }, { 17: 88, 69: $Vt }, { 17: 89, 69: $Vt }, { 17: 90, 69: $Vt }, { 17: 91, 69: $Vt }, o([5, 18, 63, 70, 71, 72, 73, 74, 75, 76, 77, 78], [2, 62]), { 5: [1, 92] }, { 15: 93, 81: [1, 94] }, { 5: [2, 75] }, o($Vv, [2, 7]), { 5: [1, 96], 18: [1, 95] }, { 5: [1, 98], 18: [1, 97] }, o($Vv, [2, 16]), { 5: [1, 100], 23: [1, 99] }, { 5: [1, 101] }, o($Vv, [2, 20]), { 5: [1, 102] }, { 5: [1, 103] }, o($Vv, [2, 23]), o($Vv, [2, 24]), o($Vv, [2, 25]), o($Vv, [2, 26]), o($Vv, [2, 27]), o($Vv, [2, 30]), o($Vv, [2, 31]), o($Vw, $V4, { 8: 104 }), o($Vw, $V4, { 8: 105 }), o($Vw, $V4, { 8: 106 }), o($Vx, $V4, { 44: 107, 8: 108 }), o($Vy, $V4, { 46: 109, 8: 110 }), o($Vz, $V4, { 48: 111, 8: 112 }), o($Vw, $V4, { 8: 113 }), { 17: 116, 67: [1, 114], 68: [1, 115], 69: $Vt }, o($VA, [2, 63]), o($VA, [2, 64]), o($VA, [2, 65]), o($VA, [2, 66]), o($VA, [2, 67]), o($VA, [2, 68]), o($VA, [2, 69]), o($VA, [2, 70]), { 17: 117, 69: $Vt }, { 17: 119, 57: 118, 69: $Vt }, { 69: [2, 57] }, { 69: [2, 58] }, { 55: 120, 78: $VB }, { 55: 122, 78: $VB }, { 55: 123, 78: $VB }, { 55: 124, 78: $VB }, o($VC, [2, 10]), { 13: 125, 82: $Vu }, { 82: [2, 74] }, { 19: [1, 126] }, o($Vv, [2, 13]), { 19: [1, 127] }, o($Vv, [2, 15]), { 5: [1, 128] }, o($Vv, [2, 18]), o($Vv, [2, 19]), o($Vv, [2, 21]), o($Vv, [2, 22]), { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 129], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 130], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 131], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 40: [1, 132] }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [2, 45], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 52: [1, 133], 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 40: [1, 134] }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [2, 43], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 51: [1, 135], 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 40: [1, 136] }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [2, 41], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 50: [1, 137], 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 4: $V5, 5: $V6, 6: 41, 9: 14, 10: 16, 11: 6, 16: $V7, 17: 42, 20: $V8, 21: 20, 22: $V9, 25: $Va, 26: $Vb, 27: 24, 28: 25, 29: 26, 30: 27, 31: 28, 32: $Vc, 33: $Vd, 34: $Ve, 36: $Vf, 38: $Vg, 39: $Vh, 40: [1, 138], 41: $Vi, 42: $Vj, 43: $Vk, 45: $Vl, 47: $Vm, 49: $Vn, 53: $Vo, 58: $Vp, 59: $Vq, 60: $Vr, 61: $Vs, 69: $Vt, 79: $V3 }, { 17: 139, 69: $Vt }, { 17: 140, 69: $Vt }, { 55: 141, 78: $VB }, { 55: 142, 78: $VB }, { 55: 143, 78: $VB }, { 63: [1, 144], 78: [2, 56] }, { 5: [2, 49] }, { 5: [2, 71] }, { 5: [2, 50] }, { 5: [2, 51] }, { 5: [2, 52] }, { 5: [1, 145] }, { 5: [1, 146] }, { 5: [1, 147] }, o($Vv, [2, 17]), o($Vv, [2, 33]), o($Vv, [2, 34]), o($Vv, [2, 35]), o($Vv, [2, 36]), { 19: [1, 148] }, o($Vv, [2, 37]), { 19: [1, 149] }, o($Vv, [2, 38]), { 19: [1, 150] }, o($Vv, [2, 39]), { 55: 151, 78: $VB }, { 55: 152, 78: $VB }, { 5: [2, 61] }, { 5: [2, 47] }, { 5: [2, 48] }, { 17: 153, 69: $Vt }, o($VC, [2, 11]), o($Vv, [2, 12]), o($Vv, [2, 14]), o($Vx, $V4, { 8: 108, 44: 154 }), o($Vy, $V4, { 8: 110, 46: 155 }), o($Vz, $V4, { 8: 112, 48: 156 }), { 5: [2, 59] }, { 5: [2, 60] }, { 78: [2, 55] }, { 40: [2, 46] }, { 40: [2, 44] }, { 40: [2, 42] }],
              defaultActions: { 7: [2, 72], 8: [2, 1], 9: [2, 2], 10: [2, 3], 51: [2, 75], 86: [2, 57], 87: [2, 58], 94: [2, 74], 120: [2, 49], 121: [2, 71], 122: [2, 50], 123: [2, 51], 124: [2, 52], 141: [2, 61], 142: [2, 47], 143: [2, 48], 151: [2, 59], 152: [2, 60], 153: [2, 55], 154: [2, 46], 155: [2, 44], 156: [2, 42] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 79;
                    case 1:
                      this.begin("type_directive");
                      return 80;
                    case 2:
                      this.popState();
                      this.begin("arg_directive");
                      return 14;
                    case 3:
                      this.popState();
                      this.popState();
                      return 82;
                    case 4:
                      return 81;
                    case 5:
                      return 5;
                    case 6:
                      break;
                    case 7:
                      break;
                    case 8:
                      break;
                    case 9:
                      break;
                    case 10:
                      break;
                    case 11:
                      return 23;
                    case 12:
                      this.begin("ID");
                      return 16;
                    case 13:
                      this.begin("ID");
                      return 20;
                    case 14:
                      yy_.yytext = yy_.yytext.trim();
                      this.begin("ALIAS");
                      return 69;
                    case 15:
                      this.popState();
                      this.popState();
                      this.begin("LINE");
                      return 18;
                    case 16:
                      this.popState();
                      this.popState();
                      return 5;
                    case 17:
                      this.begin("LINE");
                      return 39;
                    case 18:
                      this.begin("LINE");
                      return 41;
                    case 19:
                      this.begin("LINE");
                      return 42;
                    case 20:
                      this.begin("LINE");
                      return 43;
                    case 21:
                      this.begin("LINE");
                      return 52;
                    case 22:
                      this.begin("LINE");
                      return 45;
                    case 23:
                      this.begin("LINE");
                      return 51;
                    case 24:
                      this.begin("LINE");
                      return 47;
                    case 25:
                      this.begin("LINE");
                      return 50;
                    case 26:
                      this.begin("LINE");
                      return 49;
                    case 27:
                      this.popState();
                      return 19;
                    case 28:
                      return 40;
                    case 29:
                      return 64;
                    case 30:
                      return 65;
                    case 31:
                      return 58;
                    case 32:
                      return 59;
                    case 33:
                      return 60;
                    case 34:
                      return 61;
                    case 35:
                      return 56;
                    case 36:
                      return 53;
                    case 37:
                      this.begin("ID");
                      return 25;
                    case 38:
                      this.begin("ID");
                      return 26;
                    case 39:
                      return 32;
                    case 40:
                      return 33;
                    case 41:
                      this.begin("acc_title");
                      return 34;
                    case 42:
                      this.popState();
                      return "acc_title_value";
                    case 43:
                      this.begin("acc_descr");
                      return 36;
                    case 44:
                      this.popState();
                      return "acc_descr_value";
                    case 45:
                      this.begin("acc_descr_multiline");
                      break;
                    case 46:
                      this.popState();
                      break;
                    case 47:
                      return "acc_descr_multiline_value";
                    case 48:
                      return 7;
                    case 49:
                      return 22;
                    case 50:
                      return 24;
                    case 51:
                      return 63;
                    case 52:
                      return 5;
                    case 53:
                      yy_.yytext = yy_.yytext.trim();
                      return 69;
                    case 54:
                      return 72;
                    case 55:
                      return 73;
                    case 56:
                      return 70;
                    case 57:
                      return 71;
                    case 58:
                      return 74;
                    case 59:
                      return 75;
                    case 60:
                      return 76;
                    case 61:
                      return 77;
                    case 62:
                      return 78;
                    case 63:
                      return 67;
                    case 64:
                      return 68;
                    case 65:
                      return 5;
                    case 66:
                      return "INVALID";
                  }
                },
                rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[0-9]+(?=[ \n]+))/i, /^(?:participant\b)/i, /^(?:actor\b)/i, /^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i, /^(?:as\b)/i, /^(?:(?:))/i, /^(?:loop\b)/i, /^(?:rect\b)/i, /^(?:opt\b)/i, /^(?:alt\b)/i, /^(?:else\b)/i, /^(?:par\b)/i, /^(?:and\b)/i, /^(?:critical\b)/i, /^(?:option\b)/i, /^(?:break\b)/i, /^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i, /^(?:end\b)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:links\b)/i, /^(?:link\b)/i, /^(?:properties\b)/i, /^(?:details\b)/i, /^(?:over\b)/i, /^(?:note\b)/i, /^(?:activate\b)/i, /^(?:deactivate\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:title:\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:sequenceDiagram\b)/i, /^(?:autonumber\b)/i, /^(?:off\b)/i, /^(?:,)/i, /^(?:;)/i, /^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i, /^(?:->>)/i, /^(?:-->>)/i, /^(?:->)/i, /^(?:-->)/i, /^(?:-[x])/i, /^(?:--[x])/i, /^(?:-[\)])/i, /^(?:--[\)])/i, /^(?::(?:(?:no)?wrap)?[^#\n;]+)/i, /^(?:\+)/i, /^(?:-)/i, /^(?:$)/i, /^(?:.)/i],
                conditions: { "acc_descr_multiline": { "rules": [46, 47], "inclusive": false }, "acc_descr": { "rules": [44], "inclusive": false }, "acc_title": { "rules": [42], "inclusive": false }, "open_directive": { "rules": [1, 8], "inclusive": false }, "type_directive": { "rules": [2, 3, 8], "inclusive": false }, "arg_directive": { "rules": [3, 4, 8], "inclusive": false }, "ID": { "rules": [7, 8, 14], "inclusive": false }, "ALIAS": { "rules": [7, 8, 15, 16], "inclusive": false }, "LINE": { "rules": [7, 8, 27], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 8, 9, 10, 11, 12, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 43, 45, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?e940").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/state/parser/stateDiagram.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 5], $V3 = [1, 7], $V4 = [2, 5], $V5 = [1, 15], $V6 = [1, 17], $V7 = [1, 19], $V8 = [1, 20], $V9 = [1, 21], $Va = [1, 22], $Vb = [1, 33], $Vc = [1, 23], $Vd = [1, 24], $Ve = [1, 25], $Vf = [1, 26], $Vg = [1, 27], $Vh = [1, 30], $Vi = [1, 31], $Vj = [1, 32], $Vk = [1, 35], $Vl = [1, 36], $Vm = [1, 37], $Vn = [1, 38], $Vo = [1, 34], $Vp = [1, 41], $Vq = [1, 4, 5, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $Vr = [1, 4, 5, 12, 13, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $Vs = [1, 4, 5, 7, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $Vt = [4, 5, 14, 15, 17, 19, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "SPACE": 4, "NL": 5, "directive": 6, "SD": 7, "document": 8, "line": 9, "statement": 10, "idStatement": 11, "DESCR": 12, "-->": 13, "HIDE_EMPTY": 14, "scale": 15, "WIDTH": 16, "COMPOSIT_STATE": 17, "STRUCT_START": 18, "STRUCT_STOP": 19, "STATE_DESCR": 20, "AS": 21, "ID": 22, "FORK": 23, "JOIN": 24, "CHOICE": 25, "CONCURRENT": 26, "note": 27, "notePosition": 28, "NOTE_TEXT": 29, "direction": 30, "acc_title": 31, "acc_title_value": 32, "acc_descr": 33, "acc_descr_value": 34, "acc_descr_multiline_value": 35, "openDirective": 36, "typeDirective": 37, "closeDirective": 38, ":": 39, "argDirective": 40, "direction_tb": 41, "direction_bt": 42, "direction_rl": 43, "direction_lr": 44, "eol": 45, ";": 46, "EDGE_STATE": 47, "left_of": 48, "right_of": 49, "open_directive": 50, "type_directive": 51, "arg_directive": 52, "close_directive": 53, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 4: "SPACE", 5: "NL", 7: "SD", 12: "DESCR", 13: "-->", 14: "HIDE_EMPTY", 15: "scale", 16: "WIDTH", 17: "COMPOSIT_STATE", 18: "STRUCT_START", 19: "STRUCT_STOP", 20: "STATE_DESCR", 21: "AS", 22: "ID", 23: "FORK", 24: "JOIN", 25: "CHOICE", 26: "CONCURRENT", 27: "note", 29: "NOTE_TEXT", 31: "acc_title", 32: "acc_title_value", 33: "acc_descr", 34: "acc_descr_value", 35: "acc_descr_multiline_value", 39: ":", 41: "direction_tb", 42: "direction_bt", 43: "direction_rl", 44: "direction_lr", 46: ";", 47: "EDGE_STATE", 48: "left_of", 49: "right_of", 50: "open_directive", 51: "type_directive", 52: "arg_directive", 53: "close_directive" },
              productions_: [0, [3, 2], [3, 2], [3, 2], [3, 2], [8, 0], [8, 2], [9, 2], [9, 1], [9, 1], [10, 1], [10, 2], [10, 3], [10, 4], [10, 1], [10, 2], [10, 1], [10, 4], [10, 3], [10, 6], [10, 1], [10, 1], [10, 1], [10, 1], [10, 4], [10, 4], [10, 1], [10, 1], [10, 2], [10, 2], [10, 1], [6, 3], [6, 5], [30, 1], [30, 1], [30, 1], [30, 1], [45, 1], [45, 1], [11, 1], [11, 1], [28, 1], [28, 1], [36, 1], [37, 1], [40, 1], [38, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 4:
                    yy.setRootDoc($$[$0]);
                    return $$[$0];
                  case 5:
                    this.$ = [];
                    break;
                  case 6:
                    if ($$[$0] != "nl") {
                      $$[$0 - 1].push($$[$0]);
                      this.$ = $$[$0 - 1];
                    }
                    break;
                  case 7:
                  case 8:
                    this.$ = $$[$0];
                    break;
                  case 9:
                    this.$ = "nl";
                    break;
                  case 10:
                    this.$ = { stmt: "state", id: $$[$0], type: "default", description: "" };
                    break;
                  case 11:
                    this.$ = { stmt: "state", id: $$[$0 - 1], type: "default", description: yy.trimColon($$[$0]) };
                    break;
                  case 12:
                    this.$ = { stmt: "relation", state1: { stmt: "state", id: $$[$0 - 2], type: "default", description: "" }, state2: { stmt: "state", id: $$[$0], type: "default", description: "" } };
                    break;
                  case 13:
                    this.$ = { stmt: "relation", state1: { stmt: "state", id: $$[$0 - 3], type: "default", description: "" }, state2: { stmt: "state", id: $$[$0 - 1], type: "default", description: "" }, description: $$[$0].substr(1).trim() };
                    break;
                  case 17:
                    this.$ = { stmt: "state", id: $$[$0 - 3], type: "default", description: "", doc: $$[$0 - 1] };
                    break;
                  case 18:
                    var id2 = $$[$0];
                    var description = $$[$0 - 2].trim();
                    if ($$[$0].match(":")) {
                      var parts = $$[$0].split(":");
                      id2 = parts[0];
                      description = [description, parts[1]];
                    }
                    this.$ = { stmt: "state", id: id2, type: "default", description };
                    break;
                  case 19:
                    this.$ = { stmt: "state", id: $$[$0 - 3], type: "default", description: $$[$0 - 5], doc: $$[$0 - 1] };
                    break;
                  case 20:
                    this.$ = { stmt: "state", id: $$[$0], type: "fork" };
                    break;
                  case 21:
                    this.$ = { stmt: "state", id: $$[$0], type: "join" };
                    break;
                  case 22:
                    this.$ = { stmt: "state", id: $$[$0], type: "choice" };
                    break;
                  case 23:
                    this.$ = { stmt: "state", id: yy.getDividerId(), type: "divider" };
                    break;
                  case 24:
                    this.$ = { stmt: "state", id: $$[$0 - 1].trim(), note: { position: $$[$0 - 2].trim(), text: $$[$0].trim() } };
                    break;
                  case 28:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 29:
                  case 30:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 33:
                    yy.setDirection("TB");
                    this.$ = { stmt: "dir", value: "TB" };
                    break;
                  case 34:
                    yy.setDirection("BT");
                    this.$ = { stmt: "dir", value: "BT" };
                    break;
                  case 35:
                    yy.setDirection("RL");
                    this.$ = { stmt: "dir", value: "RL" };
                    break;
                  case 36:
                    yy.setDirection("LR");
                    this.$ = { stmt: "dir", value: "LR" };
                    break;
                  case 39:
                  case 40:
                    this.$ = $$[$0];
                    break;
                  case 43:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 44:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 45:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 46:
                    yy.parseDirective("}%%", "close_directive", "state");
                    break;
                }
              },
              table: [{ 3: 1, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, { 1: [3] }, { 3: 8, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, { 3: 9, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, { 3: 10, 4: $V0, 5: $V1, 6: 4, 7: $V2, 36: 6, 50: $V3 }, o([1, 4, 5, 14, 15, 17, 20, 22, 23, 24, 25, 26, 27, 31, 33, 35, 41, 42, 43, 44, 47, 50], $V4, { 8: 11 }), { 37: 12, 51: [1, 13] }, { 51: [2, 43] }, { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3] }, { 1: [2, 4], 4: $V5, 5: $V6, 6: 28, 9: 14, 10: 16, 11: 18, 14: $V7, 15: $V8, 17: $V9, 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, { 38: 39, 39: [1, 40], 53: $Vp }, o([39, 53], [2, 44]), o($Vq, [2, 6]), { 6: 28, 10: 42, 11: 18, 14: $V7, 15: $V8, 17: $V9, 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, o($Vq, [2, 8]), o($Vq, [2, 9]), o($Vq, [2, 10], { 12: [1, 43], 13: [1, 44] }), o($Vq, [2, 14]), { 16: [1, 45] }, o($Vq, [2, 16], { 18: [1, 46] }), { 21: [1, 47] }, o($Vq, [2, 20]), o($Vq, [2, 21]), o($Vq, [2, 22]), o($Vq, [2, 23]), { 28: 48, 29: [1, 49], 48: [1, 50], 49: [1, 51] }, o($Vq, [2, 26]), o($Vq, [2, 27]), { 32: [1, 52] }, { 34: [1, 53] }, o($Vq, [2, 30]), o($Vr, [2, 39]), o($Vr, [2, 40]), o($Vq, [2, 33]), o($Vq, [2, 34]), o($Vq, [2, 35]), o($Vq, [2, 36]), o($Vs, [2, 31]), { 40: 54, 52: [1, 55] }, o($Vs, [2, 46]), o($Vq, [2, 7]), o($Vq, [2, 11]), { 11: 56, 22: $Vb, 47: $Vo }, o($Vq, [2, 15]), o($Vt, $V4, { 8: 57 }), { 22: [1, 58] }, { 22: [1, 59] }, { 21: [1, 60] }, { 22: [2, 41] }, { 22: [2, 42] }, o($Vq, [2, 28]), o($Vq, [2, 29]), { 38: 61, 53: $Vp }, { 53: [2, 45] }, o($Vq, [2, 12], { 12: [1, 62] }), { 4: $V5, 5: $V6, 6: 28, 9: 14, 10: 16, 11: 18, 14: $V7, 15: $V8, 17: $V9, 19: [1, 63], 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, o($Vq, [2, 18], { 18: [1, 64] }), { 29: [1, 65] }, { 22: [1, 66] }, o($Vs, [2, 32]), o($Vq, [2, 13]), o($Vq, [2, 17]), o($Vt, $V4, { 8: 67 }), o($Vq, [2, 24]), o($Vq, [2, 25]), { 4: $V5, 5: $V6, 6: 28, 9: 14, 10: 16, 11: 18, 14: $V7, 15: $V8, 17: $V9, 19: [1, 68], 20: $Va, 22: $Vb, 23: $Vc, 24: $Vd, 25: $Ve, 26: $Vf, 27: $Vg, 30: 29, 31: $Vh, 33: $Vi, 35: $Vj, 36: 6, 41: $Vk, 42: $Vl, 43: $Vm, 44: $Vn, 47: $Vo, 50: $V3 }, o($Vq, [2, 19])],
              defaultActions: { 7: [2, 43], 8: [2, 1], 9: [2, 2], 10: [2, 3], 50: [2, 41], 51: [2, 42], 55: [2, 45] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      return 41;
                    case 1:
                      return 42;
                    case 2:
                      return 43;
                    case 3:
                      return 44;
                    case 4:
                      this.begin("open_directive");
                      return 50;
                    case 5:
                      this.begin("type_directive");
                      return 51;
                    case 6:
                      this.popState();
                      this.begin("arg_directive");
                      return 39;
                    case 7:
                      this.popState();
                      this.popState();
                      return 53;
                    case 8:
                      return 52;
                    case 9:
                      break;
                    case 10:
                      break;
                    case 11:
                      return 5;
                    case 12:
                      break;
                    case 13:
                      break;
                    case 14:
                      break;
                    case 15:
                      break;
                    case 16:
                      this.pushState("SCALE");
                      return 15;
                    case 17:
                      return 16;
                    case 18:
                      this.popState();
                      break;
                    case 19:
                      this.begin("acc_title");
                      return 31;
                    case 20:
                      this.popState();
                      return "acc_title_value";
                    case 21:
                      this.begin("acc_descr");
                      return 33;
                    case 22:
                      this.popState();
                      return "acc_descr_value";
                    case 23:
                      this.begin("acc_descr_multiline");
                      break;
                    case 24:
                      this.popState();
                      break;
                    case 25:
                      return "acc_descr_multiline_value";
                    case 26:
                      this.pushState("STATE");
                      break;
                    case 27:
                      this.popState();
                      yy_.yytext = yy_.yytext.slice(0, -8).trim();
                      return 23;
                    case 28:
                      this.popState();
                      yy_.yytext = yy_.yytext.slice(0, -8).trim();
                      return 24;
                    case 29:
                      this.popState();
                      yy_.yytext = yy_.yytext.slice(0, -10).trim();
                      return 25;
                    case 30:
                      this.popState();
                      yy_.yytext = yy_.yytext.slice(0, -8).trim();
                      return 23;
                    case 31:
                      this.popState();
                      yy_.yytext = yy_.yytext.slice(0, -8).trim();
                      return 24;
                    case 32:
                      this.popState();
                      yy_.yytext = yy_.yytext.slice(0, -10).trim();
                      return 25;
                    case 33:
                      return 41;
                    case 34:
                      return 42;
                    case 35:
                      return 43;
                    case 36:
                      return 44;
                    case 37:
                      this.begin("STATE_STRING");
                      break;
                    case 38:
                      this.popState();
                      this.pushState("STATE_ID");
                      return "AS";
                    case 39:
                      this.popState();
                      return "ID";
                    case 40:
                      this.popState();
                      break;
                    case 41:
                      return "STATE_DESCR";
                    case 42:
                      return 17;
                    case 43:
                      this.popState();
                      break;
                    case 44:
                      this.popState();
                      this.pushState("struct");
                      return 18;
                    case 45:
                      this.popState();
                      return 19;
                    case 46:
                      break;
                    case 47:
                      this.begin("NOTE");
                      return 27;
                    case 48:
                      this.popState();
                      this.pushState("NOTE_ID");
                      return 48;
                    case 49:
                      this.popState();
                      this.pushState("NOTE_ID");
                      return 49;
                    case 50:
                      this.popState();
                      this.pushState("FLOATING_NOTE");
                      break;
                    case 51:
                      this.popState();
                      this.pushState("FLOATING_NOTE_ID");
                      return "AS";
                    case 52:
                      break;
                    case 53:
                      return "NOTE_TEXT";
                    case 54:
                      this.popState();
                      return "ID";
                    case 55:
                      this.popState();
                      this.pushState("NOTE_TEXT");
                      return 22;
                    case 56:
                      this.popState();
                      yy_.yytext = yy_.yytext.substr(2).trim();
                      return 29;
                    case 57:
                      this.popState();
                      yy_.yytext = yy_.yytext.slice(0, -8).trim();
                      return 29;
                    case 58:
                      return 7;
                    case 59:
                      return 7;
                    case 60:
                      return 14;
                    case 61:
                      return 47;
                    case 62:
                      return 22;
                    case 63:
                      yy_.yytext = yy_.yytext.trim();
                      return 12;
                    case 64:
                      return 13;
                    case 65:
                      return 26;
                    case 66:
                      return 5;
                    case 67:
                      return "INVALID";
                  }
                },
                rules: [/^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:[\s]+)/i, /^(?:((?!\n)\s)+)/i, /^(?:#[^\n]*)/i, /^(?:%[^\n]*)/i, /^(?:scale\s+)/i, /^(?:\d+)/i, /^(?:\s+width\b)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:state\s+)/i, /^(?:.*<<fork>>)/i, /^(?:.*<<join>>)/i, /^(?:.*<<choice>>)/i, /^(?:.*\[\[fork\]\])/i, /^(?:.*\[\[join\]\])/i, /^(?:.*\[\[choice\]\])/i, /^(?:.*direction\s+TB[^\n]*)/i, /^(?:.*direction\s+BT[^\n]*)/i, /^(?:.*direction\s+RL[^\n]*)/i, /^(?:.*direction\s+LR[^\n]*)/i, /^(?:["])/i, /^(?:\s*as\s+)/i, /^(?:[^\n\{]*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n\s\{]+)/i, /^(?:\n)/i, /^(?:\{)/i, /^(?:\})/i, /^(?:[\n])/i, /^(?:note\s+)/i, /^(?:left of\b)/i, /^(?:right of\b)/i, /^(?:")/i, /^(?:\s*as\s*)/i, /^(?:["])/i, /^(?:[^"]*)/i, /^(?:[^\n]*)/i, /^(?:\s*[^:\n\s\-]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:[\s\S]*?end note\b)/i, /^(?:stateDiagram\s+)/i, /^(?:stateDiagram-v2\s+)/i, /^(?:hide empty description\b)/i, /^(?:\[\*\])/i, /^(?:[^:\n\s\-\{]+)/i, /^(?:\s*:[^:\n;]+)/i, /^(?:-->)/i, /^(?:--)/i, /^(?:$)/i, /^(?:.)/i],
                conditions: { "LINE": { "rules": [13, 14], "inclusive": false }, "close_directive": { "rules": [13, 14], "inclusive": false }, "arg_directive": { "rules": [7, 8, 13, 14], "inclusive": false }, "type_directive": { "rules": [6, 7, 13, 14], "inclusive": false }, "open_directive": { "rules": [5, 13, 14], "inclusive": false }, "struct": { "rules": [13, 14, 26, 33, 34, 35, 36, 45, 46, 47, 61, 62, 63, 64, 65], "inclusive": false }, "FLOATING_NOTE_ID": { "rules": [54], "inclusive": false }, "FLOATING_NOTE": { "rules": [51, 52, 53], "inclusive": false }, "NOTE_TEXT": { "rules": [56, 57], "inclusive": false }, "NOTE_ID": { "rules": [55], "inclusive": false }, "NOTE": { "rules": [48, 49, 50], "inclusive": false }, "acc_descr_multiline": { "rules": [24, 25], "inclusive": false }, "acc_descr": { "rules": [22], "inclusive": false }, "acc_title": { "rules": [20], "inclusive": false }, "SCALE": { "rules": [17, 18], "inclusive": false }, "ALIAS": { "rules": [], "inclusive": false }, "STATE_ID": { "rules": [39], "inclusive": false }, "STATE_STRING": { "rules": [40, 41], "inclusive": false }, "FORK_STATE": { "rules": [], "inclusive": false }, "STATE": { "rules": [13, 14, 27, 28, 29, 30, 31, 32, 37, 38, 42, 43, 44], "inclusive": false }, "ID": { "rules": [13, 14], "inclusive": false }, "INITIAL": { "rules": [0, 1, 2, 3, 4, 9, 10, 11, 12, 14, 15, 16, 19, 21, 23, 26, 44, 47, 58, 59, 60, 61, 62, 63, 64, 66, 67], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?a3b8").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/diagrams/user-journey/parser/journey.jison": (module2, exports2, __webpack_require__2) => {
          module2 = __webpack_require__2.nmd(module2);
          var parser2 = function() {
            var o = function(k2, v, o2, l) {
              for (o2 = o2 || {}, l = k2.length; l--; o2[k2[l]] = v)
                ;
              return o2;
            }, $V0 = [1, 2], $V1 = [1, 5], $V2 = [6, 9, 11, 17, 18, 20, 22, 23, 24, 26], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 17], $V6 = [1, 18], $V7 = [1, 19], $V8 = [1, 20], $V9 = [1, 24], $Va = [4, 6, 9, 11, 17, 18, 20, 22, 23, 24, 26];
            var parser3 = {
              trace: function trace() {
              },
              yy: {},
              symbols_: { "error": 2, "start": 3, "journey": 4, "document": 5, "EOF": 6, "directive": 7, "line": 8, "SPACE": 9, "statement": 10, "NEWLINE": 11, "openDirective": 12, "typeDirective": 13, "closeDirective": 14, ":": 15, "argDirective": 16, "title": 17, "acc_title": 18, "acc_title_value": 19, "acc_descr": 20, "acc_descr_value": 21, "acc_descr_multiline_value": 22, "section": 23, "taskName": 24, "taskData": 25, "open_directive": 26, "type_directive": 27, "arg_directive": 28, "close_directive": 29, "$accept": 0, "$end": 1 },
              terminals_: { 2: "error", 4: "journey", 6: "EOF", 9: "SPACE", 11: "NEWLINE", 15: ":", 17: "title", 18: "acc_title", 19: "acc_title_value", 20: "acc_descr", 21: "acc_descr_value", 22: "acc_descr_multiline_value", 23: "section", 24: "taskName", 25: "taskData", 26: "open_directive", 27: "type_directive", 28: "arg_directive", 29: "close_directive" },
              productions_: [0, [3, 3], [3, 2], [5, 0], [5, 2], [8, 2], [8, 1], [8, 1], [8, 1], [7, 4], [7, 6], [10, 1], [10, 2], [10, 2], [10, 1], [10, 1], [10, 2], [10, 1], [12, 1], [13, 1], [16, 1], [14, 1]],
              performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {
                var $0 = $$.length - 1;
                switch (yystate) {
                  case 1:
                    return $$[$0 - 1];
                  case 3:
                    this.$ = [];
                    break;
                  case 4:
                    $$[$0 - 1].push($$[$0]);
                    this.$ = $$[$0 - 1];
                    break;
                  case 5:
                  case 6:
                    this.$ = $$[$0];
                    break;
                  case 7:
                  case 8:
                    this.$ = [];
                    break;
                  case 11:
                    yy.setDiagramTitle($$[$0].substr(6));
                    this.$ = $$[$0].substr(6);
                    break;
                  case 12:
                    this.$ = $$[$0].trim();
                    yy.setAccTitle(this.$);
                    break;
                  case 13:
                  case 14:
                    this.$ = $$[$0].trim();
                    yy.setAccDescription(this.$);
                    break;
                  case 15:
                    yy.addSection($$[$0].substr(8));
                    this.$ = $$[$0].substr(8);
                    break;
                  case 16:
                    yy.addTask($$[$0 - 1], $$[$0]);
                    this.$ = "task";
                    break;
                  case 18:
                    yy.parseDirective("%%{", "open_directive");
                    break;
                  case 19:
                    yy.parseDirective($$[$0], "type_directive");
                    break;
                  case 20:
                    $$[$0] = $$[$0].trim().replace(/'/g, '"');
                    yy.parseDirective($$[$0], "arg_directive");
                    break;
                  case 21:
                    yy.parseDirective("}%%", "close_directive", "journey");
                    break;
                }
              },
              table: [{ 3: 1, 4: $V0, 7: 3, 12: 4, 26: $V1 }, { 1: [3] }, o($V2, [2, 3], { 5: 6 }), { 3: 7, 4: $V0, 7: 3, 12: 4, 26: $V1 }, { 13: 8, 27: [1, 9] }, { 27: [2, 18] }, { 6: [1, 10], 7: 21, 8: 11, 9: [1, 12], 10: 13, 11: [1, 14], 12: 4, 17: $V3, 18: $V4, 20: $V5, 22: $V6, 23: $V7, 24: $V8, 26: $V1 }, { 1: [2, 2] }, { 14: 22, 15: [1, 23], 29: $V9 }, o([15, 29], [2, 19]), o($V2, [2, 8], { 1: [2, 1] }), o($V2, [2, 4]), { 7: 21, 10: 25, 12: 4, 17: $V3, 18: $V4, 20: $V5, 22: $V6, 23: $V7, 24: $V8, 26: $V1 }, o($V2, [2, 6]), o($V2, [2, 7]), o($V2, [2, 11]), { 19: [1, 26] }, { 21: [1, 27] }, o($V2, [2, 14]), o($V2, [2, 15]), { 25: [1, 28] }, o($V2, [2, 17]), { 11: [1, 29] }, { 16: 30, 28: [1, 31] }, { 11: [2, 21] }, o($V2, [2, 5]), o($V2, [2, 12]), o($V2, [2, 13]), o($V2, [2, 16]), o($Va, [2, 9]), { 14: 32, 29: $V9 }, { 29: [2, 20] }, { 11: [1, 33] }, o($Va, [2, 10])],
              defaultActions: { 5: [2, 18], 7: [2, 2], 24: [2, 21], 31: [2, 20] },
              parseError: function parseError(str, hash) {
                if (hash.recoverable) {
                  this.trace(str);
                } else {
                  var error = new Error(str);
                  error.hash = hash;
                  throw error;
                }
              },
              parse: function parse(input) {
                var self2 = this, stack2 = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = "", yylineno = 0, yyleng = 0, TERROR = 2, EOF2 = 1;
                var args = lstack.slice.call(arguments, 1);
                var lexer2 = Object.create(this.lexer);
                var sharedState = { yy: {} };
                for (var k2 in this.yy) {
                  if (Object.prototype.hasOwnProperty.call(this.yy, k2)) {
                    sharedState.yy[k2] = this.yy[k2];
                  }
                }
                lexer2.setInput(input, sharedState.yy);
                sharedState.yy.lexer = lexer2;
                sharedState.yy.parser = this;
                if (typeof lexer2.yylloc == "undefined") {
                  lexer2.yylloc = {};
                }
                var yyloc = lexer2.yylloc;
                lstack.push(yyloc);
                var ranges2 = lexer2.options && lexer2.options.ranges;
                if (typeof sharedState.yy.parseError === "function") {
                  this.parseError = sharedState.yy.parseError;
                } else {
                  this.parseError = Object.getPrototypeOf(this).parseError;
                }
                function lex() {
                  var token;
                  token = tstack.pop() || lexer2.lex() || EOF2;
                  if (typeof token !== "number") {
                    if (token instanceof Array) {
                      tstack = token;
                      token = tstack.pop();
                    }
                    token = self2.symbols_[token] || token;
                  }
                  return token;
                }
                var symbol2, state, action, r, yyval = {}, p, len, newState, expected;
                while (true) {
                  state = stack2[stack2.length - 1];
                  if (this.defaultActions[state]) {
                    action = this.defaultActions[state];
                  } else {
                    if (symbol2 === null || typeof symbol2 == "undefined") {
                      symbol2 = lex();
                    }
                    action = table[state] && table[state][symbol2];
                  }
                  if (typeof action === "undefined" || !action.length || !action[0]) {
                    var errStr = "";
                    expected = [];
                    for (p in table[state]) {
                      if (this.terminals_[p] && p > TERROR) {
                        expected.push("'" + this.terminals_[p] + "'");
                      }
                    }
                    if (lexer2.showPosition) {
                      errStr = "Parse error on line " + (yylineno + 1) + ":\n" + lexer2.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol2] || symbol2) + "'";
                    } else {
                      errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol2 == EOF2 ? "end of input" : "'" + (this.terminals_[symbol2] || symbol2) + "'");
                    }
                    this.parseError(errStr, {
                      text: lexer2.match,
                      token: this.terminals_[symbol2] || symbol2,
                      line: lexer2.yylineno,
                      loc: yyloc,
                      expected
                    });
                  }
                  if (action[0] instanceof Array && action.length > 1) {
                    throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol2);
                  }
                  switch (action[0]) {
                    case 1:
                      stack2.push(symbol2);
                      vstack.push(lexer2.yytext);
                      lstack.push(lexer2.yylloc);
                      stack2.push(action[1]);
                      symbol2 = null;
                      {
                        yyleng = lexer2.yyleng;
                        yytext = lexer2.yytext;
                        yylineno = lexer2.yylineno;
                        yyloc = lexer2.yylloc;
                      }
                      break;
                    case 2:
                      len = this.productions_[action[1]][1];
                      yyval.$ = vstack[vstack.length - len];
                      yyval._$ = {
                        first_line: lstack[lstack.length - (len || 1)].first_line,
                        last_line: lstack[lstack.length - 1].last_line,
                        first_column: lstack[lstack.length - (len || 1)].first_column,
                        last_column: lstack[lstack.length - 1].last_column
                      };
                      if (ranges2) {
                        yyval._$.range = [
                          lstack[lstack.length - (len || 1)].range[0],
                          lstack[lstack.length - 1].range[1]
                        ];
                      }
                      r = this.performAction.apply(yyval, [
                        yytext,
                        yyleng,
                        yylineno,
                        sharedState.yy,
                        action[1],
                        vstack,
                        lstack
                      ].concat(args));
                      if (typeof r !== "undefined") {
                        return r;
                      }
                      if (len) {
                        stack2 = stack2.slice(0, -1 * len * 2);
                        vstack = vstack.slice(0, -1 * len);
                        lstack = lstack.slice(0, -1 * len);
                      }
                      stack2.push(this.productions_[action[1]][0]);
                      vstack.push(yyval.$);
                      lstack.push(yyval._$);
                      newState = table[stack2[stack2.length - 2]][stack2[stack2.length - 1]];
                      stack2.push(newState);
                      break;
                    case 3:
                      return true;
                  }
                }
                return true;
              }
            };
            var lexer = function() {
              var lexer2 = {
                EOF: 1,
                parseError: function parseError(str, hash) {
                  if (this.yy.parser) {
                    this.yy.parser.parseError(str, hash);
                  } else {
                    throw new Error(str);
                  }
                },
                setInput: function(input, yy) {
                  this.yy = yy || this.yy || {};
                  this._input = input;
                  this._more = this._backtrack = this.done = false;
                  this.yylineno = this.yyleng = 0;
                  this.yytext = this.matched = this.match = "";
                  this.conditionStack = ["INITIAL"];
                  this.yylloc = {
                    first_line: 1,
                    first_column: 0,
                    last_line: 1,
                    last_column: 0
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [0, 0];
                  }
                  this.offset = 0;
                  return this;
                },
                input: function() {
                  var ch = this._input[0];
                  this.yytext += ch;
                  this.yyleng++;
                  this.offset++;
                  this.match += ch;
                  this.matched += ch;
                  var lines = ch.match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno++;
                    this.yylloc.last_line++;
                  } else {
                    this.yylloc.last_column++;
                  }
                  if (this.options.ranges) {
                    this.yylloc.range[1]++;
                  }
                  this._input = this._input.slice(1);
                  return ch;
                },
                unput: function(ch) {
                  var len = ch.length;
                  var lines = ch.split(/(?:\r\n?|\n)/g);
                  this._input = ch + this._input;
                  this.yytext = this.yytext.substr(0, this.yytext.length - len);
                  this.offset -= len;
                  var oldLines = this.match.split(/(?:\r\n?|\n)/g);
                  this.match = this.match.substr(0, this.match.length - 1);
                  this.matched = this.matched.substr(0, this.matched.length - 1);
                  if (lines.length - 1) {
                    this.yylineno -= lines.length - 1;
                  }
                  var r = this.yylloc.range;
                  this.yylloc = {
                    first_line: this.yylloc.first_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.first_column,
                    last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
                  };
                  if (this.options.ranges) {
                    this.yylloc.range = [r[0], r[0] + this.yyleng - len];
                  }
                  this.yyleng = this.yytext.length;
                  return this;
                },
                more: function() {
                  this._more = true;
                  return this;
                },
                reject: function() {
                  if (this.options.backtrack_lexer) {
                    this._backtrack = true;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                  return this;
                },
                less: function(n) {
                  this.unput(this.match.slice(n));
                },
                pastInput: function() {
                  var past = this.matched.substr(0, this.matched.length - this.match.length);
                  return (past.length > 20 ? "..." : "") + past.substr(-20).replace(/\n/g, "");
                },
                upcomingInput: function() {
                  var next = this.match;
                  if (next.length < 20) {
                    next += this._input.substr(0, 20 - next.length);
                  }
                  return (next.substr(0, 20) + (next.length > 20 ? "..." : "")).replace(/\n/g, "");
                },
                showPosition: function() {
                  var pre = this.pastInput();
                  var c2 = new Array(pre.length + 1).join("-");
                  return pre + this.upcomingInput() + "\n" + c2 + "^";
                },
                test_match: function(match, indexed_rule) {
                  var token, lines, backup;
                  if (this.options.backtrack_lexer) {
                    backup = {
                      yylineno: this.yylineno,
                      yylloc: {
                        first_line: this.yylloc.first_line,
                        last_line: this.last_line,
                        first_column: this.yylloc.first_column,
                        last_column: this.yylloc.last_column
                      },
                      yytext: this.yytext,
                      match: this.match,
                      matches: this.matches,
                      matched: this.matched,
                      yyleng: this.yyleng,
                      offset: this.offset,
                      _more: this._more,
                      _input: this._input,
                      yy: this.yy,
                      conditionStack: this.conditionStack.slice(0),
                      done: this.done
                    };
                    if (this.options.ranges) {
                      backup.yylloc.range = this.yylloc.range.slice(0);
                    }
                  }
                  lines = match[0].match(/(?:\r\n?|\n).*/g);
                  if (lines) {
                    this.yylineno += lines.length;
                  }
                  this.yylloc = {
                    first_line: this.yylloc.last_line,
                    last_line: this.yylineno + 1,
                    first_column: this.yylloc.last_column,
                    last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length
                  };
                  this.yytext += match[0];
                  this.match += match[0];
                  this.matches = match;
                  this.yyleng = this.yytext.length;
                  if (this.options.ranges) {
                    this.yylloc.range = [this.offset, this.offset += this.yyleng];
                  }
                  this._more = false;
                  this._backtrack = false;
                  this._input = this._input.slice(match[0].length);
                  this.matched += match[0];
                  token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);
                  if (this.done && this._input) {
                    this.done = false;
                  }
                  if (token) {
                    return token;
                  } else if (this._backtrack) {
                    for (var k2 in backup) {
                      this[k2] = backup[k2];
                    }
                    return false;
                  }
                  return false;
                },
                next: function() {
                  if (this.done) {
                    return this.EOF;
                  }
                  if (!this._input) {
                    this.done = true;
                  }
                  var token, match, tempMatch, index2;
                  if (!this._more) {
                    this.yytext = "";
                    this.match = "";
                  }
                  var rules = this._currentRules();
                  for (var i = 0; i < rules.length; i++) {
                    tempMatch = this._input.match(this.rules[rules[i]]);
                    if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
                      match = tempMatch;
                      index2 = i;
                      if (this.options.backtrack_lexer) {
                        token = this.test_match(tempMatch, rules[i]);
                        if (token !== false) {
                          return token;
                        } else if (this._backtrack) {
                          match = false;
                          continue;
                        } else {
                          return false;
                        }
                      } else if (!this.options.flex) {
                        break;
                      }
                    }
                  }
                  if (match) {
                    token = this.test_match(match, rules[index2]);
                    if (token !== false) {
                      return token;
                    }
                    return false;
                  }
                  if (this._input === "") {
                    return this.EOF;
                  } else {
                    return this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                      text: "",
                      token: null,
                      line: this.yylineno
                    });
                  }
                },
                lex: function lex() {
                  var r = this.next();
                  if (r) {
                    return r;
                  } else {
                    return this.lex();
                  }
                },
                begin: function begin(condition) {
                  this.conditionStack.push(condition);
                },
                popState: function popState() {
                  var n = this.conditionStack.length - 1;
                  if (n > 0) {
                    return this.conditionStack.pop();
                  } else {
                    return this.conditionStack[0];
                  }
                },
                _currentRules: function _currentRules() {
                  if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {
                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
                  } else {
                    return this.conditions["INITIAL"].rules;
                  }
                },
                topState: function topState(n) {
                  n = this.conditionStack.length - 1 - Math.abs(n || 0);
                  if (n >= 0) {
                    return this.conditionStack[n];
                  } else {
                    return "INITIAL";
                  }
                },
                pushState: function pushState(condition) {
                  this.begin(condition);
                },
                stateStackSize: function stateStackSize() {
                  return this.conditionStack.length;
                },
                options: { "case-insensitive": true },
                performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {
                  switch ($avoiding_name_collisions) {
                    case 0:
                      this.begin("open_directive");
                      return 26;
                    case 1:
                      this.begin("type_directive");
                      return 27;
                    case 2:
                      this.popState();
                      this.begin("arg_directive");
                      return 15;
                    case 3:
                      this.popState();
                      this.popState();
                      return 29;
                    case 4:
                      return 28;
                    case 5:
                      break;
                    case 6:
                      break;
                    case 7:
                      return 11;
                    case 8:
                      break;
                    case 9:
                      break;
                    case 10:
                      return 4;
                    case 11:
                      return 17;
                    case 12:
                      this.begin("acc_title");
                      return 18;
                    case 13:
                      this.popState();
                      return "acc_title_value";
                    case 14:
                      this.begin("acc_descr");
                      return 20;
                    case 15:
                      this.popState();
                      return "acc_descr_value";
                    case 16:
                      this.begin("acc_descr_multiline");
                      break;
                    case 17:
                      this.popState();
                      break;
                    case 18:
                      return "acc_descr_multiline_value";
                    case 19:
                      return 23;
                    case 20:
                      return 24;
                    case 21:
                      return 25;
                    case 22:
                      return 15;
                    case 23:
                      return 6;
                    case 24:
                      return "INVALID";
                  }
                },
                rules: [/^(?:%%\{)/i, /^(?:((?:(?!\}%%)[^:.])*))/i, /^(?::)/i, /^(?:\}%%)/i, /^(?:((?:(?!\}%%).|\n)*))/i, /^(?:%(?!\{)[^\n]*)/i, /^(?:[^\}]%%[^\n]*)/i, /^(?:[\n]+)/i, /^(?:\s+)/i, /^(?:#[^\n]*)/i, /^(?:journey\b)/i, /^(?:title\s[^#\n;]+)/i, /^(?:accTitle\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*:\s*)/i, /^(?:(?!\n||)*[^\n]*)/i, /^(?:accDescr\s*\{\s*)/i, /^(?:[\}])/i, /^(?:[^\}]*)/i, /^(?:section\s[^#:\n;]+)/i, /^(?:[^#:\n;]+)/i, /^(?::[^#\n;]+)/i, /^(?::)/i, /^(?:$)/i, /^(?:.)/i],
                conditions: { "open_directive": { "rules": [1], "inclusive": false }, "type_directive": { "rules": [2, 3], "inclusive": false }, "arg_directive": { "rules": [3, 4], "inclusive": false }, "acc_descr_multiline": { "rules": [17, 18], "inclusive": false }, "acc_descr": { "rules": [15], "inclusive": false }, "acc_title": { "rules": [13], "inclusive": false }, "INITIAL": { "rules": [0, 5, 6, 7, 8, 9, 10, 11, 12, 14, 16, 19, 20, 21, 22, 23, 24], "inclusive": true } }
              };
              return lexer2;
            }();
            parser3.lexer = lexer;
            function Parser() {
              this.yy = {};
            }
            Parser.prototype = parser3;
            parser3.Parser = Parser;
            return new Parser();
          }();
          {
            exports2.parser = parser2;
            exports2.Parser = parser2.Parser;
            exports2.parse = function() {
              return parser2.parse.apply(parser2, arguments);
            };
            exports2.main = function commonjsMain(args) {
              if (!args[1]) {
                console.log("Usage: " + args[0] + " FILE");
                process.exit(1);
              }
              var source = __webpack_require__2("?0f62").readFileSync(__webpack_require__2("./node_modules/path-browserify/index.js").normalize(args[1]), "utf8");
              return exports2.parser.parse(source);
            };
            if (__webpack_require__2.c[__webpack_require__2.s] === module2) {
              exports2.main(process.argv.slice(1));
            }
          }
        },
        "./src/Diagram.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _diagram_api_diagramAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/diagram-api/diagramAPI.js");
          var _diagram_api_detectType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagram-api/detectType.js");
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          function _defineProperty2(obj, key, value) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value;
            }
            return obj;
          }
          var Diagram2 = /* @__PURE__ */ function() {
            function Diagram3(txt) {
              var _this$db$clear, _this$db;
              _classCallCheck(this, Diagram3);
              _defineProperty2(this, "type", "graph");
              _defineProperty2(this, "parser", void 0);
              _defineProperty2(this, "renderer", void 0);
              _defineProperty2(this, "db", void 0);
              var diagrams = (0, _diagram_api_diagramAPI__WEBPACK_IMPORTED_MODULE_0__.getDiagrams)();
              var cnf = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();
              this.txt = txt;
              this.type = (0, _diagram_api_detectType__WEBPACK_IMPORTED_MODULE_2__["default"])(txt, cnf);
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Type " + this.type);
              this.db = diagrams[this.type].db;
              (_this$db$clear = (_this$db = this.db).clear) === null || _this$db$clear === void 0 ? void 0 : _this$db$clear.call(_this$db);
              this.renderer = diagrams[this.type].renderer;
              this.parser = diagrams[this.type].parser;
              this.parser.parser.yy = this.db;
              if (typeof diagrams[this.type].init === "function") {
                diagrams[this.type].init(cnf);
                _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Initialized diagram " + this.type, cnf);
              }
              this.txt = this.txt + "\n";
              this.parser.parser.yy.graphType = this.type;
              this.parser.parser.yy.parseError = function(str, hash) {
                var error = {
                  str,
                  hash
                };
                throw error;
              };
              this.parser.parse(this.txt);
            }
            _createClass(Diagram3, [{
              key: "parse",
              value: function parse(text2) {
                var parseEncounteredException = false;
                try {
                  text2 = text2 + "\n";
                  this.db.clear();
                  this.parser.parse(text2);
                } catch (error) {
                  parseEncounteredException = true;
                  if (__webpack_require__2.g.mermaid.parseError) {
                    if (error.str != void 0) {
                      __webpack_require__2.g.mermaid.parseError(error.str, error.hash);
                    } else {
                      __webpack_require__2.g.mermaid.parseError(error);
                    }
                  } else {
                    throw error;
                  }
                }
                return !parseEncounteredException;
              }
            }, {
              key: "getParser",
              value: function getParser() {
                return this.parser;
              }
            }, {
              key: "getType",
              value: function getType() {
                return this.type;
              }
            }]);
            return Diagram3;
          }();
          const __WEBPACK_DEFAULT_EXPORT__ = Diagram2;
        },
        "./src/accessibility.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => addSVGAccessibilityFields
          });
          function addSVGAccessibilityFields(yy_parser, svg2, id2) {
            if (typeof svg2.insert === "undefined") {
              return;
            }
            var title_string = yy_parser.getAccTitle();
            var description = yy_parser.getAccDescription();
            svg2.attr("role", "img").attr("aria-labelledby", "chart-title-" + id2 + " chart-desc-" + id2);
            svg2.insert("desc", ":first-child").attr("id", "chart-desc-" + id2).text(description);
            svg2.insert("title", ":first-child").attr("id", "chart-title-" + id2).text(title_string);
          }
        },
        "./src/assignWithDepth.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          var assignWithDepth = function assignWithDepth2(dst, src2, config) {
            var _Object$assign = Object.assign({
              depth: 2,
              clobber: false
            }, config), depth = _Object$assign.depth, clobber = _Object$assign.clobber;
            if (Array.isArray(src2) && !Array.isArray(dst)) {
              src2.forEach(function(s2) {
                return assignWithDepth2(dst, s2, config);
              });
              return dst;
            } else if (Array.isArray(src2) && Array.isArray(dst)) {
              src2.forEach(function(s2) {
                if (dst.indexOf(s2) === -1) {
                  dst.push(s2);
                }
              });
              return dst;
            }
            if (typeof dst === "undefined" || depth <= 0) {
              if (dst !== void 0 && dst !== null && _typeof(dst) === "object" && _typeof(src2) === "object") {
                return Object.assign(dst, src2);
              } else {
                return src2;
              }
            }
            if (typeof src2 !== "undefined" && _typeof(dst) === "object" && _typeof(src2) === "object") {
              Object.keys(src2).forEach(function(key) {
                if (_typeof(src2[key]) === "object" && (dst[key] === void 0 || _typeof(dst[key]) === "object")) {
                  if (dst[key] === void 0) {
                    dst[key] = Array.isArray(src2[key]) ? [] : {};
                  }
                  dst[key] = assignWithDepth2(dst[key], src2[key], {
                    depth: depth - 1,
                    clobber
                  });
                } else if (clobber || _typeof(dst[key]) !== "object" && _typeof(src2[key]) !== "object") {
                  dst[key] = src2[key];
                }
              });
            }
            return dst;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = assignWithDepth;
        },
        "./src/commonDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "getAccDescription": () => getAccDescription,
            "getAccTitle": () => getAccTitle,
            "getDiagramTitle": () => getDiagramTitle,
            "setAccDescription": () => setAccDescription,
            "setAccTitle": () => setAccTitle,
            "setDiagramTitle": () => setDiagramTitle
          });
          var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var title = "";
          var diagramTitle = "";
          var description = "";
          var sanitizeText = function sanitizeText2(txt) {
            return (0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_0__.sanitizeText)(txt, (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)());
          };
          var clear = function clear2() {
            title = "";
            description = "";
            diagramTitle = "";
          };
          var setAccTitle = function setAccTitle2(txt) {
            title = sanitizeText(txt).replace(/^\s+/g, "");
          };
          var getAccTitle = function getAccTitle2() {
            return title || diagramTitle;
          };
          var setAccDescription = function setAccDescription2(txt) {
            description = sanitizeText(txt).replace(/\n\s+/g, "\n");
          };
          var getAccDescription = function getAccDescription2() {
            return description;
          };
          var setDiagramTitle = function setDiagramTitle2(txt) {
            diagramTitle = sanitizeText(txt);
          };
          var getDiagramTitle = function getDiagramTitle2() {
            return diagramTitle;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setAccTitle,
            getAccTitle,
            setDiagramTitle,
            getDiagramTitle,
            getAccDescription,
            setAccDescription,
            clear
          };
        },
        "./src/config.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addDirective": () => addDirective,
            "defaultConfig": () => defaultConfig,
            "getConfig": () => getConfig,
            "getSiteConfig": () => getSiteConfig,
            "reset": () => reset,
            "sanitize": () => sanitize,
            "saveConfigFromInitialize": () => saveConfigFromInitialize,
            "setConfig": () => setConfig,
            "setSiteConfig": () => setSiteConfig,
            "updateCurrentConfig": () => updateCurrentConfig,
            "updateSiteConfig": () => updateSiteConfig
          });
          var _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/assignWithDepth.js");
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/themes/index.js");
          var _defaultConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/defaultConfig.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          var defaultConfig = Object.freeze(_defaultConfig__WEBPACK_IMPORTED_MODULE_0__["default"]);
          var siteConfig = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, defaultConfig);
          var configFromInitialize;
          var directives = [];
          var currentConfig = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, defaultConfig);
          var updateCurrentConfig = function updateCurrentConfig2(siteCfg, _directives) {
            var cfg = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, siteCfg);
            var sumOfDirectives = {};
            for (var i = 0; i < _directives.length; i++) {
              var d = _directives[i];
              sanitize(d);
              sumOfDirectives = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])(sumOfDirectives, d);
            }
            cfg = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])(cfg, sumOfDirectives);
            if (sumOfDirectives.theme && _themes__WEBPACK_IMPORTED_MODULE_2__["default"][sumOfDirectives.theme]) {
              var tmpConfigFromInitialize = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, configFromInitialize);
              var themeVariables = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])(tmpConfigFromInitialize.themeVariables || {}, sumOfDirectives.themeVariables);
              cfg.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_2__["default"][cfg.theme].getThemeVariables(themeVariables);
            }
            currentConfig = cfg;
            return cfg;
          };
          var setSiteConfig = function setSiteConfig2(conf) {
            siteConfig = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, defaultConfig);
            siteConfig = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])(siteConfig, conf);
            if (conf.theme && _themes__WEBPACK_IMPORTED_MODULE_2__["default"][conf.theme]) {
              siteConfig.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_2__["default"][conf.theme].getThemeVariables(conf.themeVariables);
            }
            currentConfig = updateCurrentConfig(siteConfig, directives);
            return siteConfig;
          };
          var saveConfigFromInitialize = function saveConfigFromInitialize2(conf) {
            configFromInitialize = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, conf);
          };
          var updateSiteConfig = function updateSiteConfig2(conf) {
            siteConfig = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])(siteConfig, conf);
            updateCurrentConfig(siteConfig, directives);
            return siteConfig;
          };
          var getSiteConfig = function getSiteConfig2() {
            return (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, siteConfig);
          };
          var setConfig = function setConfig2(conf) {
            (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])(currentConfig, conf);
            return getConfig();
          };
          var getConfig = function getConfig2() {
            return (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_1__["default"])({}, currentConfig);
          };
          var sanitize = function sanitize2(options) {
            Object.keys(siteConfig.secure).forEach(function(key) {
              if (typeof options[siteConfig.secure[key]] !== "undefined") {
                _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Denied attempt to modify a secure key ".concat(siteConfig.secure[key]), options[siteConfig.secure[key]]);
                delete options[siteConfig.secure[key]];
              }
            });
            Object.keys(options).forEach(function(key) {
              if (key.indexOf("__") === 0) {
                delete options[key];
              }
            });
            Object.keys(options).forEach(function(key) {
              if (typeof options[key] === "string") {
                if (options[key].indexOf("<") > -1 || options[key].indexOf(">") > -1 || options[key].indexOf("url(data:") > -1) {
                  delete options[key];
                }
              }
              if (_typeof(options[key]) === "object") {
                sanitize2(options[key]);
              }
            });
          };
          var addDirective = function addDirective2(directive) {
            if (directive.fontFamily) {
              if (!directive.themeVariables) {
                directive.themeVariables = {
                  fontFamily: directive.fontFamily
                };
              } else {
                if (!directive.themeVariables.fontFamily) {
                  directive.themeVariables = {
                    fontFamily: directive.fontFamily
                  };
                }
              }
            }
            directives.push(directive);
            updateCurrentConfig(siteConfig, directives);
          };
          var reset = function reset2() {
            directives = [];
            updateCurrentConfig(siteConfig, directives);
          };
        },
        "./src/dagre-wrapper/clusters.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "clear": () => clear,
            "getClusterTitleWidth": () => getClusterTitleWidth,
            "insertCluster": () => insertCluster,
            "positionCluster": () => positionCluster
          });
          var _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-rect.js");
          var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/logger.js");
          var _createLabel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/dagre-wrapper/createLabel.js");
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/config.js");
          var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/common/common.js");
          var rect = function rect2(parent, node) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Creating subgraph rect for ", node.id, node);
            var shapeSvg = parent.insert("g").attr("class", "cluster" + (node.class ? " " + node.class : "")).attr("id", node.id);
            var rect3 = shapeSvg.insert("rect", ":first-child");
            var label = shapeSvg.insert("g").attr("class", "cluster-label");
            var text2 = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_2__["default"])(node.labelText, node.labelStyle, void 0, true));
            var bbox = text2.getBBox();
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {
              var div = text2.children[0];
              var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text2);
              bbox = div.getBoundingClientRect();
              dv.attr("width", bbox.width);
              dv.attr("height", bbox.height);
            }
            var padding = 0 * node.padding;
            var halfPadding = padding / 2;
            var width = node.width <= bbox.width + padding ? bbox.width + padding : node.width;
            if (node.width <= bbox.width + padding) {
              node.diff = (bbox.width - node.width) / 2 - node.padding / 2;
            } else {
              node.diff = -node.padding / 2;
            }
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Data ", node, JSON.stringify(node));
            rect3.attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("x", node.x - width / 2).attr("y", node.y - node.height / 2 - halfPadding).attr("width", width).attr("height", node.height + padding);
            label.attr("transform", "translate(" + (node.x - bbox.width / 2) + ", " + (node.y - node.height / 2 + node.padding / 3) + ")");
            var rectBox = rect3.node().getBBox();
            node.width = rectBox.width;
            node.height = rectBox.height;
            node.intersect = function(point2) {
              return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__["default"])(node, point2);
            };
            return shapeSvg;
          };
          var noteGroup = function noteGroup2(parent, node) {
            var shapeSvg = parent.insert("g").attr("class", "note-cluster").attr("id", node.id);
            var rect2 = shapeSvg.insert("rect", ":first-child");
            var padding = 0 * node.padding;
            var halfPadding = padding / 2;
            rect2.attr("rx", node.rx).attr("ry", node.ry).attr("x", node.x - node.width / 2 - halfPadding).attr("y", node.y - node.height / 2 - halfPadding).attr("width", node.width + padding).attr("height", node.height + padding).attr("fill", "none");
            var rectBox = rect2.node().getBBox();
            node.width = rectBox.width;
            node.height = rectBox.height;
            node.intersect = function(point2) {
              return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__["default"])(node, point2);
            };
            return shapeSvg;
          };
          var roundedWithTitle = function roundedWithTitle2(parent, node) {
            var shapeSvg = parent.insert("g").attr("class", node.classes).attr("id", node.id);
            var rect2 = shapeSvg.insert("rect", ":first-child");
            var label = shapeSvg.insert("g").attr("class", "cluster-label");
            var innerRect = shapeSvg.append("rect");
            var text2 = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_2__["default"])(node.labelText, node.labelStyle, void 0, true));
            var bbox = text2.getBBox();
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {
              var div = text2.children[0];
              var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text2);
              bbox = div.getBoundingClientRect();
              dv.attr("width", bbox.width);
              dv.attr("height", bbox.height);
            }
            bbox = text2.getBBox();
            var padding = 0 * node.padding;
            var halfPadding = padding / 2;
            var width = node.width <= bbox.width + node.padding ? bbox.width + node.padding : node.width;
            if (node.width <= bbox.width + node.padding) {
              node.diff = (bbox.width + node.padding * 0 - node.width) / 2;
            } else {
              node.diff = -node.padding / 2;
            }
            rect2.attr("class", "outer").attr("x", node.x - width / 2 - halfPadding).attr("y", node.y - node.height / 2 - halfPadding).attr("width", width + padding).attr("height", node.height + padding);
            innerRect.attr("class", "inner").attr("x", node.x - width / 2 - halfPadding).attr("y", node.y - node.height / 2 - halfPadding + bbox.height - 1).attr("width", width + padding).attr("height", node.height + padding - bbox.height - 3);
            label.attr("transform", "translate(" + (node.x - bbox.width / 2) + ", " + (node.y - node.height / 2 - node.padding / 3 + ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels) ? 5 : 3)) + ")");
            var rectBox = rect2.node().getBBox();
            node.height = rectBox.height;
            node.intersect = function(point2) {
              return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__["default"])(node, point2);
            };
            return shapeSvg;
          };
          var divider = function divider2(parent, node) {
            var shapeSvg = parent.insert("g").attr("class", node.classes).attr("id", node.id);
            var rect2 = shapeSvg.insert("rect", ":first-child");
            var padding = 0 * node.padding;
            var halfPadding = padding / 2;
            rect2.attr("class", "divider").attr("x", node.x - node.width / 2 - halfPadding).attr("y", node.y - node.height / 2).attr("width", node.width + padding).attr("height", node.height + padding);
            var rectBox = rect2.node().getBBox();
            node.width = rectBox.width;
            node.height = rectBox.height;
            node.diff = -node.padding / 2;
            node.intersect = function(point2) {
              return (0, _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__["default"])(node, point2);
            };
            return shapeSvg;
          };
          var shapes2 = {
            rect,
            roundedWithTitle,
            noteGroup,
            divider
          };
          var clusterElems = {};
          var insertCluster = function insertCluster2(elem, node) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Inserting cluster");
            var shape = node.shape || "rect";
            clusterElems[node.id] = shapes2[shape](elem, node);
          };
          var getClusterTitleWidth = function getClusterTitleWidth2(elem, node) {
            var label = (0, _createLabel__WEBPACK_IMPORTED_MODULE_2__["default"])(node.labelText, node.labelStyle, void 0, true);
            elem.node().appendChild(label);
            var width = label.getBBox().width;
            elem.node().removeChild(label);
            return width;
          };
          var clear = function clear2() {
            clusterElems = {};
          };
          var positionCluster = function positionCluster2(node) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Position cluster (" + node.id + ", " + node.x + ", " + node.y + ")");
            var el = clusterElems[node.id];
            el.attr("transform", "translate(" + node.x + ", " + node.y + ")");
          };
        },
        "./src/dagre-wrapper/createLabel.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/config.js");
          var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/mermaidAPI.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function applyStyle(dom, styleFn) {
            if (styleFn) {
              dom.attr("style", styleFn);
            }
          }
          function addHtmlLabel(node) {
            var fo = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(document.createElementNS("http://www.w3.org/2000/svg", "foreignObject"));
            var div = fo.append("xhtml:div");
            var label = node.label;
            var labelClass = node.isNode ? "nodeLabel" : "edgeLabel";
            div.html('<span class="' + labelClass + '" ' + (node.labelStyle ? 'style="' + node.labelStyle + '"' : "") + ">" + label + "</span>");
            applyStyle(div, node.labelStyle);
            div.style("display", "inline-block");
            div.style("white-space", "nowrap");
            div.attr("xmlns", "http://www.w3.org/1999/xhtml");
            return fo.node();
          }
          var createLabel = function createLabel2(_vertexText, style, isTitle, isNode) {
            var vertexText = _vertexText || "";
            if (_typeof(vertexText) === "object")
              vertexText = vertexText[0];
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {
              vertexText = vertexText.replace(/\\n|\n/g, "<br />");
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.info("vertexText" + vertexText);
              var node = {
                isNode,
                label: (0, _mermaidAPI__WEBPACK_IMPORTED_MODULE_4__.decodeEntities)(vertexText).replace(/fa[lrsb]?:fa-[\w-]+/g, function(s2) {
                  return "<i class='".concat(s2.replace(":", " "), "'></i>");
                }),
                labelStyle: style.replace("fill:", "color:")
              };
              var vertexNode = addHtmlLabel(node);
              return vertexNode;
            } else {
              var svgLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
              svgLabel.setAttribute("style", style.replace("color:", "fill:"));
              var rows = [];
              if (typeof vertexText === "string") {
                rows = vertexText.split(/\\n|\n|<br\s*\/?>/gi);
              } else if (Array.isArray(vertexText)) {
                rows = vertexText;
              } else {
                rows = [];
              }
              for (var j = 0; j < rows.length; j++) {
                var tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
                tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
                tspan.setAttribute("dy", "1em");
                tspan.setAttribute("x", "0");
                if (isTitle) {
                  tspan.setAttribute("class", "title-row");
                } else {
                  tspan.setAttribute("class", "row");
                }
                tspan.textContent = rows[j].trim();
                svgLabel.appendChild(tspan);
              }
              return svgLabel;
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = createLabel;
        },
        "./src/dagre-wrapper/edges.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "clear": () => clear,
            "insertEdge": () => insertEdge,
            "insertEdgeLabel": () => insertEdgeLabel,
            "intersection": () => intersection2,
            "positionEdgeLabel": () => positionEdgeLabel
          });
          var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/logger.js");
          var _createLabel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/dagre-wrapper/createLabel.js");
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/config.js");
          var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/utils.js");
          var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/common/common.js");
          var edgeLabels = {};
          var terminalLabels = {};
          var clear = function clear2() {
            edgeLabels = {};
            terminalLabels = {};
          };
          var insertEdgeLabel = function insertEdgeLabel2(elem, edge) {
            var labelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__["default"])(edge.label, edge.labelStyle);
            var edgeLabel = elem.insert("g").attr("class", "edgeLabel");
            var label = edgeLabel.insert("g").attr("class", "label");
            label.node().appendChild(labelElement);
            var bbox = labelElement.getBBox();
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.htmlLabels)) {
              var div = labelElement.children[0];
              var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(labelElement);
              bbox = div.getBoundingClientRect();
              dv.attr("width", bbox.width);
              dv.attr("height", bbox.height);
            }
            label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");
            edgeLabels[edge.id] = edgeLabel;
            edge.width = bbox.width;
            edge.height = bbox.height;
            var fo;
            if (edge.startLabelLeft) {
              var startLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__["default"])(edge.startLabelLeft, edge.labelStyle);
              var startEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");
              var inner = startEdgeLabelLeft.insert("g").attr("class", "inner");
              fo = inner.node().appendChild(startLabelElement);
              var slBox = startLabelElement.getBBox();
              inner.attr("transform", "translate(" + -slBox.width / 2 + ", " + -slBox.height / 2 + ")");
              if (!terminalLabels[edge.id]) {
                terminalLabels[edge.id] = {};
              }
              terminalLabels[edge.id].startLeft = startEdgeLabelLeft;
              setTerminalWidth(fo, edge.startLabelLeft);
            }
            if (edge.startLabelRight) {
              var _startLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__["default"])(edge.startLabelRight, edge.labelStyle);
              var startEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");
              var _inner = startEdgeLabelRight.insert("g").attr("class", "inner");
              fo = startEdgeLabelRight.node().appendChild(_startLabelElement);
              _inner.node().appendChild(_startLabelElement);
              var _slBox = _startLabelElement.getBBox();
              _inner.attr("transform", "translate(" + -_slBox.width / 2 + ", " + -_slBox.height / 2 + ")");
              if (!terminalLabels[edge.id]) {
                terminalLabels[edge.id] = {};
              }
              terminalLabels[edge.id].startRight = startEdgeLabelRight;
              setTerminalWidth(fo, edge.startLabelRight);
            }
            if (edge.endLabelLeft) {
              var endLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__["default"])(edge.endLabelLeft, edge.labelStyle);
              var endEdgeLabelLeft = elem.insert("g").attr("class", "edgeTerminals");
              var _inner2 = endEdgeLabelLeft.insert("g").attr("class", "inner");
              fo = _inner2.node().appendChild(endLabelElement);
              var _slBox2 = endLabelElement.getBBox();
              _inner2.attr("transform", "translate(" + -_slBox2.width / 2 + ", " + -_slBox2.height / 2 + ")");
              endEdgeLabelLeft.node().appendChild(endLabelElement);
              if (!terminalLabels[edge.id]) {
                terminalLabels[edge.id] = {};
              }
              terminalLabels[edge.id].endLeft = endEdgeLabelLeft;
              setTerminalWidth(fo, edge.endLabelLeft);
            }
            if (edge.endLabelRight) {
              var _endLabelElement = (0, _createLabel__WEBPACK_IMPORTED_MODULE_1__["default"])(edge.endLabelRight, edge.labelStyle);
              var endEdgeLabelRight = elem.insert("g").attr("class", "edgeTerminals");
              var _inner3 = endEdgeLabelRight.insert("g").attr("class", "inner");
              fo = _inner3.node().appendChild(_endLabelElement);
              var _slBox3 = _endLabelElement.getBBox();
              _inner3.attr("transform", "translate(" + -_slBox3.width / 2 + ", " + -_slBox3.height / 2 + ")");
              endEdgeLabelRight.node().appendChild(_endLabelElement);
              if (!terminalLabels[edge.id]) {
                terminalLabels[edge.id] = {};
              }
              terminalLabels[edge.id].endRight = endEdgeLabelRight;
              setTerminalWidth(fo, edge.endLabelRight);
            }
          };
          function setTerminalWidth(fo, value) {
            if ((0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.htmlLabels && fo) {
              fo.style.width = value.length * 9 + "px";
              fo.style.height = "12px";
            }
          }
          var positionEdgeLabel = function positionEdgeLabel2(edge, paths) {
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Moving label abc78 ", edge.id, edge.label, edgeLabels[edge.id]);
            var path2 = paths.updatedPath ? paths.updatedPath : paths.originalPath;
            if (edge.label) {
              var el = edgeLabels[edge.id];
              var x2 = edge.x;
              var y2 = edge.y;
              if (path2) {
                var pos = _utils__WEBPACK_IMPORTED_MODULE_5__["default"].calcLabelPosition(path2);
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Moving label from (", x2, ",", y2, ") to (", pos.x, ",", pos.y, ") abc78");
              }
              el.attr("transform", "translate(" + x2 + ", " + y2 + ")");
            }
            if (edge.startLabelLeft) {
              var _el = terminalLabels[edge.id].startLeft;
              var _x2 = edge.x;
              var _y2 = edge.y;
              if (path2) {
                var _pos = _utils__WEBPACK_IMPORTED_MODULE_5__["default"].calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, "start_left", path2);
                _x2 = _pos.x;
                _y2 = _pos.y;
              }
              _el.attr("transform", "translate(" + _x2 + ", " + _y2 + ")");
            }
            if (edge.startLabelRight) {
              var _el2 = terminalLabels[edge.id].startRight;
              var _x3 = edge.x;
              var _y3 = edge.y;
              if (path2) {
                var _pos2 = _utils__WEBPACK_IMPORTED_MODULE_5__["default"].calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, "start_right", path2);
                _x3 = _pos2.x;
                _y3 = _pos2.y;
              }
              _el2.attr("transform", "translate(" + _x3 + ", " + _y3 + ")");
            }
            if (edge.endLabelLeft) {
              var _el3 = terminalLabels[edge.id].endLeft;
              var _x4 = edge.x;
              var _y4 = edge.y;
              if (path2) {
                var _pos3 = _utils__WEBPACK_IMPORTED_MODULE_5__["default"].calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_left", path2);
                _x4 = _pos3.x;
                _y4 = _pos3.y;
              }
              _el3.attr("transform", "translate(" + _x4 + ", " + _y4 + ")");
            }
            if (edge.endLabelRight) {
              var _el4 = terminalLabels[edge.id].endRight;
              var _x5 = edge.x;
              var _y5 = edge.y;
              if (path2) {
                var _pos4 = _utils__WEBPACK_IMPORTED_MODULE_5__["default"].calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, "end_right", path2);
                _x5 = _pos4.x;
                _y5 = _pos4.y;
              }
              _el4.attr("transform", "translate(" + _x5 + ", " + _y5 + ")");
            }
          };
          var outsideNode = function outsideNode2(node, point2) {
            var x2 = node.x;
            var y2 = node.y;
            var dx = Math.abs(point2.x - x2);
            var dy = Math.abs(point2.y - y2);
            var w = node.width / 2;
            var h = node.height / 2;
            if (dx >= w || dy >= h) {
              return true;
            }
            return false;
          };
          var intersection2 = function intersection3(node, outsidePoint, insidePoint) {
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(outsidePoint), "\n  insidePoint : ").concat(JSON.stringify(insidePoint), "\n  node        : x:").concat(node.x, " y:").concat(node.y, " w:").concat(node.width, " h:").concat(node.height));
            var x2 = node.x;
            var y2 = node.y;
            var dx = Math.abs(x2 - insidePoint.x);
            var w = node.width / 2;
            var r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;
            var h = node.height / 2;
            var Q = Math.abs(outsidePoint.y - insidePoint.y);
            var R = Math.abs(outsidePoint.x - insidePoint.x);
            if (Math.abs(y2 - outsidePoint.y) * w > Math.abs(x2 - outsidePoint.x) * h) {
              var q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y2 : y2 - h - outsidePoint.y;
              r = R * q / Q;
              var res = {
                x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,
                y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q
              };
              if (r === 0) {
                res.x = outsidePoint.x;
                res.y = outsidePoint.y;
              }
              if (R === 0) {
                res.x = outsidePoint.x;
              }
              if (Q === 0) {
                res.y = outsidePoint.y;
              }
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc89 topp/bott calc, Q ".concat(Q, ", q ").concat(q, ", R ").concat(R, ", r ").concat(r), res);
              return res;
            } else {
              if (insidePoint.x < outsidePoint.x) {
                r = outsidePoint.x - w - x2;
              } else {
                r = x2 - w - outsidePoint.x;
              }
              var _q = Q * r / R;
              var _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;
              var _y = insidePoint.y < outsidePoint.y ? insidePoint.y + _q : insidePoint.y - _q;
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("sides calc abc89, Q ".concat(Q, ", q ").concat(_q, ", R ").concat(R, ", r ").concat(r), {
                _x,
                _y
              });
              if (r === 0) {
                _x = outsidePoint.x;
                _y = outsidePoint.y;
              }
              if (R === 0) {
                _x = outsidePoint.x;
              }
              if (Q === 0) {
                _y = outsidePoint.y;
              }
              return {
                x: _x,
                y: _y
              };
            }
          };
          var cutPathAtIntersect = function cutPathAtIntersect2(_points, boundryNode) {
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 cutPathAtIntersect", _points, boundryNode);
            var points = [];
            var lastPointOutside = _points[0];
            var isInside = false;
            _points.forEach(function(point2) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("abc88 checking point", point2, boundryNode);
              if (!outsideNode(boundryNode, point2) && !isInside) {
                var inter = intersection2(boundryNode, lastPointOutside, point2);
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 inside", point2, lastPointOutside, inter);
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 intersection", inter);
                var pointPresent = false;
                points.forEach(function(p) {
                  pointPresent = pointPresent || p.x === inter.x && p.y === inter.y;
                });
                if (!points.find(function(e) {
                  return e.x === inter.x && e.y === inter.y;
                })) {
                  points.push(inter);
                } else {
                  _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 no intersect", inter, points);
                }
                isInside = true;
              } else {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 outside", point2, lastPointOutside);
                lastPointOutside = point2;
                if (!isInside)
                  points.push(point2);
              }
            });
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 returning points", points);
            return points;
          };
          var insertEdge = function insertEdge2(elem, e, edge, clusterDb, diagramType, graph2) {
            var points = edge.points;
            var pointsHasChanged = false;
            var tail = graph2.node(e.v);
            var head = graph2.node(e.w);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("abc88 InsertEdge: ", edge);
            if (head.intersect && tail.intersect) {
              points = points.slice(1, edge.points.length - 1);
              points.unshift(tail.intersect(points[0]));
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Last point", points[points.length - 1], head, head.intersect(points[points.length - 1]));
              points.push(head.intersect(points[points.length - 1]));
            }
            if (edge.toCluster) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("to cluster abc88", clusterDb[edge.toCluster]);
              points = cutPathAtIntersect(edge.points, clusterDb[edge.toCluster].node);
              pointsHasChanged = true;
            }
            if (edge.fromCluster) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("from cluster abc88", clusterDb[edge.fromCluster]);
              points = cutPathAtIntersect(points.reverse(), clusterDb[edge.fromCluster].node).reverse();
              pointsHasChanged = true;
            }
            var lineData = points.filter(function(p) {
              return !Number.isNaN(p.y);
            });
            var curve;
            if (diagramType === "graph" || diagramType === "flowchart") {
              curve = edge.curve || d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis;
            } else {
              curve = d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis;
            }
            var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function(d) {
              return d.x;
            }).y(function(d) {
              return d.y;
            }).curve(curve);
            var strokeClasses;
            switch (edge.thickness) {
              case "normal":
                strokeClasses = "edge-thickness-normal";
                break;
              case "thick":
                strokeClasses = "edge-thickness-thick";
                break;
              default:
                strokeClasses = "";
            }
            switch (edge.pattern) {
              case "solid":
                strokeClasses += " edge-pattern-solid";
                break;
              case "dotted":
                strokeClasses += " edge-pattern-dotted";
                break;
              case "dashed":
                strokeClasses += " edge-pattern-dashed";
                break;
            }
            var svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", edge.id).attr("class", " " + strokeClasses + (edge.classes ? " " + edge.classes : "")).attr("style", edge.style);
            var url = "";
            if ((0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().state.arrowMarkerAbsolute) {
              url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
              url = url.replace(/\(/g, "\\(");
              url = url.replace(/\)/g, "\\)");
            }
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("arrowTypeStart", edge.arrowTypeStart);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("arrowTypeEnd", edge.arrowTypeEnd);
            switch (edge.arrowTypeStart) {
              case "arrow_cross":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-crossStart)");
                break;
              case "arrow_point":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-pointStart)");
                break;
              case "arrow_barb":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-barbStart)");
                break;
              case "arrow_circle":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-circleStart)");
                break;
              case "aggregation":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-aggregationStart)");
                break;
              case "extension":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-extensionStart)");
                break;
              case "composition":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-compositionStart)");
                break;
              case "dependency":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-dependencyStart)");
                break;
              case "lollipop":
                svgPath.attr("marker-start", "url(" + url + "#" + diagramType + "-lollipopStart)");
                break;
            }
            switch (edge.arrowTypeEnd) {
              case "arrow_cross":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-crossEnd)");
                break;
              case "arrow_point":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-pointEnd)");
                break;
              case "arrow_barb":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-barbEnd)");
                break;
              case "arrow_circle":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-circleEnd)");
                break;
              case "aggregation":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-aggregationEnd)");
                break;
              case "extension":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-extensionEnd)");
                break;
              case "composition":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-compositionEnd)");
                break;
              case "dependency":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-dependencyEnd)");
                break;
              case "lollipop":
                svgPath.attr("marker-end", "url(" + url + "#" + diagramType + "-lollipopEnd)");
                break;
            }
            var paths = {};
            if (pointsHasChanged) {
              paths.updatedPath = points;
            }
            paths.originalPath = edge.points;
            return paths;
          };
        },
        "./src/dagre-wrapper/index.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "render": () => render
          });
          var dagre__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("dagre");
          var dagre__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(dagre__WEBPACK_IMPORTED_MODULE_0__);
          var graphlib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_1__);
          var _markers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/dagre-wrapper/markers.js");
          var _shapes_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/dagre-wrapper/shapes/util.js");
          var _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/dagre-wrapper/mermaid-graphlib.js");
          var _nodes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/dagre-wrapper/nodes.js");
          var _clusters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/dagre-wrapper/clusters.js");
          var _edges__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/dagre-wrapper/edges.js");
          var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/logger.js");
          var recursiveRender = function recursiveRender2(_elem, graph2, diagramtype, parentCluster) {
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Graph in recursive render: XXX", graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph2), parentCluster);
            var dir = graph2.graph().rankdir;
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Dir in recursive render - dir:", dir);
            var elem = _elem.insert("g").attr("class", "root");
            if (!graph2.nodes()) {
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("No nodes found for", graph2);
            } else {
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Recursive render XXX", graph2.nodes());
            }
            if (graph2.edges().length > 0) {
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Recursive edges", graph2.edge(graph2.edges()[0]));
            }
            var clusters = elem.insert("g").attr("class", "clusters");
            var edgePaths = elem.insert("g").attr("class", "edgePaths");
            var edgeLabels = elem.insert("g").attr("class", "edgeLabels");
            var nodes = elem.insert("g").attr("class", "nodes");
            graph2.nodes().forEach(function(v) {
              var node = graph2.node(v);
              if (typeof parentCluster !== "undefined") {
                var data = JSON.parse(JSON.stringify(parentCluster.clusterData));
                _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Setting data for cluster XXX (", v, ") ", data, parentCluster);
                graph2.setNode(parentCluster.id, data);
                if (!graph2.parent(v)) {
                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Setting parent", v, parentCluster.id);
                  graph2.setParent(v, parentCluster.id, data);
                }
              }
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("(Insert) Node XXX" + v + ": " + JSON.stringify(graph2.node(v)));
              if (node && node.clusterNode) {
                _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Cluster identified", v, node.width, graph2.node(v));
                var o = recursiveRender2(nodes, node.graph, diagramtype, graph2.node(v));
                var newEl = o.elem;
                (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, newEl);
                node.diff = o.diff || 0;
                _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Node bounds (abc123)", v, node, node.width, node.x, node.y);
                (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.setNodeElem)(newEl, node);
                _logger__WEBPACK_IMPORTED_MODULE_2__.log.warn("Recursive render complete ", newEl, node);
              } else {
                if (graph2.children(v).length > 0) {
                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Cluster - the non recursive path XXX", v, node.id, node, graph2);
                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.info((0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.findNonClusterChild)(node.id, graph2));
                  _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[node.id] = {
                    id: (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.findNonClusterChild)(node.id, graph2),
                    node
                  };
                } else {
                  _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Node - the non recursive path", v, node.id, node);
                  (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.insertNode)(nodes, graph2.node(v), dir);
                }
              }
            });
            graph2.edges().forEach(function(e) {
              var edge = graph2.edge(e.v, e.w, e.name);
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge " + e.v + " -> " + e.w + ": ", e, " ", JSON.stringify(graph2.edge(e)));
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Fix", _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb, "ids:", e.v, e.w, "Translateing: ", _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[e.v], _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[e.w]);
              (0, _edges__WEBPACK_IMPORTED_MODULE_6__.insertEdgeLabel)(edgeLabels, edge);
            });
            graph2.edges().forEach(function(e) {
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));
            });
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("#############################################");
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("###                Layout                 ###");
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("#############################################");
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(graph2);
            dagre__WEBPACK_IMPORTED_MODULE_0___default().layout(graph2);
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Graph after layout:", graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph2));
            var diff = 0;
            (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.sortNodesByHierarchy)(graph2).forEach(function(v) {
              var node = graph2.node(v);
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Position " + v + ": " + JSON.stringify(graph2.node(v)));
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Position " + v + ": (" + node.x, "," + node.y, ") width: ", node.width, " height: ", node.height);
              if (node && node.clusterNode) {
                (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.positionNode)(node);
              } else {
                if (graph2.children(v).length > 0) {
                  (0, _clusters__WEBPACK_IMPORTED_MODULE_7__.insertCluster)(clusters, node);
                  _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[node.id].node = node;
                } else {
                  (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.positionNode)(node);
                }
              }
            });
            graph2.edges().forEach(function(e) {
              var edge = graph2.edge(e);
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(edge), edge);
              var paths = (0, _edges__WEBPACK_IMPORTED_MODULE_6__.insertEdge)(edgePaths, e, edge, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb, diagramtype, graph2);
              (0, _edges__WEBPACK_IMPORTED_MODULE_6__.positionEdgeLabel)(edge, paths);
            });
            graph2.nodes().forEach(function(v) {
              var n = graph2.node(v);
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(v, n.type, n.diff);
              if (n.type === "group") {
                diff = n.diff;
              }
            });
            return {
              elem,
              diff
            };
          };
          var render = function render2(elem, graph2, markers, diagramtype, id2) {
            (0, _markers__WEBPACK_IMPORTED_MODULE_8__["default"])(elem, markers, diagramtype, id2);
            (0, _nodes__WEBPACK_IMPORTED_MODULE_4__.clear)();
            (0, _edges__WEBPACK_IMPORTED_MODULE_6__.clear)();
            (0, _clusters__WEBPACK_IMPORTED_MODULE_7__.clear)();
            (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clear)();
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.warn("Graph at first:", graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph2));
            (0, _mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.adjustClustersAndEdges)(graph2);
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.warn("Graph after:", graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph2));
            recursiveRender(elem, graph2, diagramtype);
          };
        },
        "./src/dagre-wrapper/intersect/index.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _intersect_node_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-node.js");
          var _intersect_node_js__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(_intersect_node_js__WEBPACK_IMPORTED_MODULE_0__);
          var _intersect_circle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-circle.js");
          var _intersect_ellipse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-ellipse.js");
          var _intersect_polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-polygon.js");
          var _intersect_rect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-rect.js");
          const __WEBPACK_DEFAULT_EXPORT__ = {
            node: _intersect_node_js__WEBPACK_IMPORTED_MODULE_0___default(),
            circle: _intersect_circle_js__WEBPACK_IMPORTED_MODULE_1__["default"],
            ellipse: _intersect_ellipse_js__WEBPACK_IMPORTED_MODULE_2__["default"],
            polygon: _intersect_polygon_js__WEBPACK_IMPORTED_MODULE_3__["default"],
            rect: _intersect_rect_js__WEBPACK_IMPORTED_MODULE_4__["default"]
          };
        },
        "./src/dagre-wrapper/intersect/intersect-circle.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _intersect_ellipse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-ellipse.js");
          function intersectCircle(node, rx, point2) {
            return (0, _intersect_ellipse__WEBPACK_IMPORTED_MODULE_0__["default"])(node, rx, rx, point2);
          }
          const __WEBPACK_DEFAULT_EXPORT__ = intersectCircle;
        },
        "./src/dagre-wrapper/intersect/intersect-ellipse.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          function intersectEllipse(node, rx, ry, point2) {
            var cx = node.x;
            var cy = node.y;
            var px = cx - point2.x;
            var py = cy - point2.y;
            var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);
            var dx = Math.abs(rx * ry * px / det);
            if (point2.x < cx) {
              dx = -dx;
            }
            var dy = Math.abs(rx * ry * py / det);
            if (point2.y < cy) {
              dy = -dy;
            }
            return {
              x: cx + dx,
              y: cy + dy
            };
          }
          const __WEBPACK_DEFAULT_EXPORT__ = intersectEllipse;
        },
        "./src/dagre-wrapper/intersect/intersect-line.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          function intersectLine(p1, p2, q1, q2) {
            var a1, a2, b12, b22, c1, c2;
            var r1, r2, r3, r4;
            var denom, offset, num;
            var x2, y2;
            a1 = p2.y - p1.y;
            b12 = p1.x - p2.x;
            c1 = p2.x * p1.y - p1.x * p2.y;
            r3 = a1 * q1.x + b12 * q1.y + c1;
            r4 = a1 * q2.x + b12 * q2.y + c1;
            if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {
              return;
            }
            a2 = q2.y - q1.y;
            b22 = q1.x - q2.x;
            c2 = q2.x * q1.y - q1.x * q2.y;
            r1 = a2 * p1.x + b22 * p1.y + c2;
            r2 = a2 * p2.x + b22 * p2.y + c2;
            if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {
              return;
            }
            denom = a1 * b22 - a2 * b12;
            if (denom === 0) {
              return;
            }
            offset = Math.abs(denom / 2);
            num = b12 * c2 - b22 * c1;
            x2 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
            num = a2 * c1 - a1 * c2;
            y2 = num < 0 ? (num - offset) / denom : (num + offset) / denom;
            return {
              x: x2,
              y: y2
            };
          }
          function sameSign(r1, r2) {
            return r1 * r2 > 0;
          }
          const __WEBPACK_DEFAULT_EXPORT__ = intersectLine;
        },
        "./src/dagre-wrapper/intersect/intersect-node.js": (module2) => {
          module2.exports = intersectNode;
          function intersectNode(node, point2) {
            return node.intersect(point2);
          }
        },
        "./src/dagre-wrapper/intersect/intersect-polygon.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _intersect_line__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/dagre-wrapper/intersect/intersect-line.js");
          const __WEBPACK_DEFAULT_EXPORT__ = intersectPolygon;
          function intersectPolygon(node, polyPoints, point2) {
            var x12 = node.x;
            var y12 = node.y;
            var intersections = [];
            var minX = Number.POSITIVE_INFINITY;
            var minY = Number.POSITIVE_INFINITY;
            if (typeof polyPoints.forEach === "function") {
              polyPoints.forEach(function(entry) {
                minX = Math.min(minX, entry.x);
                minY = Math.min(minY, entry.y);
              });
            } else {
              minX = Math.min(minX, polyPoints.x);
              minY = Math.min(minY, polyPoints.y);
            }
            var left2 = x12 - node.width / 2 - minX;
            var top2 = y12 - node.height / 2 - minY;
            for (var i = 0; i < polyPoints.length; i++) {
              var p1 = polyPoints[i];
              var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];
              var intersect2 = (0, _intersect_line__WEBPACK_IMPORTED_MODULE_0__["default"])(node, point2, {
                x: left2 + p1.x,
                y: top2 + p1.y
              }, {
                x: left2 + p2.x,
                y: top2 + p2.y
              });
              if (intersect2) {
                intersections.push(intersect2);
              }
            }
            if (!intersections.length) {
              return node;
            }
            if (intersections.length > 1) {
              intersections.sort(function(p, q) {
                var pdx = p.x - point2.x;
                var pdy = p.y - point2.y;
                var distp = Math.sqrt(pdx * pdx + pdy * pdy);
                var qdx = q.x - point2.x;
                var qdy = q.y - point2.y;
                var distq = Math.sqrt(qdx * qdx + qdy * qdy);
                return distp < distq ? -1 : distp === distq ? 0 : 1;
              });
            }
            return intersections[0];
          }
        },
        "./src/dagre-wrapper/intersect/intersect-rect.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var intersectRect = function intersectRect2(node, point2) {
            var x2 = node.x;
            var y2 = node.y;
            var dx = point2.x - x2;
            var dy = point2.y - y2;
            var w = node.width / 2;
            var h = node.height / 2;
            var sx, sy;
            if (Math.abs(dy) * w > Math.abs(dx) * h) {
              if (dy < 0) {
                h = -h;
              }
              sx = dy === 0 ? 0 : h * dx / dy;
              sy = h;
            } else {
              if (dx < 0) {
                w = -w;
              }
              sx = w;
              sy = dx === 0 ? 0 : w * dy / dx;
            }
            return {
              x: x2 + sx,
              y: y2 + sy
            };
          };
          const __WEBPACK_DEFAULT_EXPORT__ = intersectRect;
        },
        "./src/dagre-wrapper/markers.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/logger.js");
          var insertMarkers = function insertMarkers2(elem, markerArray, type2, id2) {
            markerArray.forEach(function(markerName) {
              markers[markerName](elem, type2, id2);
            });
          };
          var extension = function extension2(elem, type2, id2) {
            _logger__WEBPACK_IMPORTED_MODULE_0__.log.trace("Making markers for ", id2);
            elem.append("defs").append("marker").attr("id", type2 + "-extensionStart").attr("class", "marker extension " + type2).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z");
            elem.append("defs").append("marker").attr("id", type2 + "-extensionEnd").attr("class", "marker extension " + type2).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
          };
          var composition = function composition2(elem, type2) {
            elem.append("defs").append("marker").attr("id", type2 + "-compositionStart").attr("class", "marker composition " + type2).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", type2 + "-compositionEnd").attr("class", "marker composition " + type2).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
          };
          var aggregation = function aggregation2(elem, type2) {
            elem.append("defs").append("marker").attr("id", type2 + "-aggregationStart").attr("class", "marker aggregation " + type2).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", type2 + "-aggregationEnd").attr("class", "marker aggregation " + type2).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
          };
          var dependency = function dependency2(elem, type2) {
            elem.append("defs").append("marker").attr("id", type2 + "-dependencyStart").attr("class", "marker dependency " + type2).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", type2 + "-dependencyEnd").attr("class", "marker dependency " + type2).attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
          };
          var lollipop = function lollipop2(elem, type2, id2) {
            elem.append("defs").append("marker").attr("id", type2 + "-lollipopStart").attr("class", "marker lollipop " + type2).attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("circle").attr("stroke", "black").attr("fill", "white").attr("cx", 6).attr("cy", 7).attr("r", 6);
          };
          var point2 = function point3(elem, type2) {
            elem.append("marker").attr("id", type2 + "-pointEnd").attr("class", "marker " + type2).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
            elem.append("marker").attr("id", type2 + "-pointStart").attr("class", "marker " + type2).attr("viewBox", "0 0 10 10").attr("refX", 0).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 5 L 10 10 L 10 0 z").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
          };
          var circle2 = function circle3(elem, type2) {
            elem.append("marker").attr("id", type2 + "-circleEnd").attr("class", "marker " + type2).attr("viewBox", "0 0 10 10").attr("refX", 11).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
            elem.append("marker").attr("id", type2 + "-circleStart").attr("class", "marker " + type2).attr("viewBox", "0 0 10 10").attr("refX", -1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("circle").attr("cx", "5").attr("cy", "5").attr("r", "5").attr("class", "arrowMarkerPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
          };
          var cross2 = function cross3(elem, type2) {
            elem.append("marker").attr("id", type2 + "-crossEnd").attr("class", "marker cross " + type2).attr("viewBox", "0 0 11 11").attr("refX", 12).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
            elem.append("marker").attr("id", type2 + "-crossStart").attr("class", "marker cross " + type2).attr("viewBox", "0 0 11 11").attr("refX", -1).attr("refY", 5.2).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 11).attr("markerHeight", 11).attr("orient", "auto").append("path").attr("d", "M 1,1 l 9,9 M 10,1 l -9,9").attr("class", "arrowMarkerPath").style("stroke-width", 2).style("stroke-dasharray", "1,0");
          };
          var barb = function barb2(elem, type2) {
            elem.append("defs").append("marker").attr("id", type2 + "-barbEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 14).attr("markerUnits", "strokeWidth").attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
          };
          var markers = {
            extension,
            composition,
            aggregation,
            dependency,
            lollipop,
            point: point2,
            circle: circle2,
            cross: cross2,
            barb
          };
          const __WEBPACK_DEFAULT_EXPORT__ = insertMarkers;
        },
        "./src/dagre-wrapper/mermaid-graphlib.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "adjustClustersAndEdges": () => adjustClustersAndEdges,
            "clear": () => clear,
            "clusterDb": () => clusterDb,
            "extractDecendants": () => extractDecendants,
            "extractor": () => extractor,
            "findNonClusterChild": () => findNonClusterChild,
            "sortNodesByHierarchy": () => sortNodesByHierarchy,
            "validate": () => validate
          });
          var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/logger.js");
          var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);
          var clusterDb = {};
          var decendants = {};
          var parents = {};
          var clear = function clear2() {
            decendants = {};
            parents = {};
            clusterDb = {};
          };
          var isDecendant = function isDecendant2(id2, ancenstorId) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("In isDecendant", ancenstorId, " ", id2, " = ", decendants[ancenstorId].indexOf(id2) >= 0);
            if (decendants[ancenstorId].indexOf(id2) >= 0)
              return true;
            return false;
          };
          var edgeInCluster = function edgeInCluster2(edge, clusterId) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Decendants of ", clusterId, " is ", decendants[clusterId]);
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Edge is ", edge);
            if (edge.v === clusterId)
              return false;
            if (edge.w === clusterId)
              return false;
            if (!decendants[clusterId]) {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Tilt, ", clusterId, ",not in decendants");
              return false;
            }
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Here ");
            if (decendants[clusterId].indexOf(edge.v) >= 0)
              return true;
            if (isDecendant(edge.v, clusterId))
              return true;
            if (isDecendant(edge.w, clusterId))
              return true;
            if (decendants[clusterId].indexOf(edge.w) >= 0)
              return true;
            return false;
          };
          var copy2 = function copy3(clusterId, graph2, newGraph, rootId) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Copying children of ", clusterId, "root", rootId, "data", graph2.node(clusterId), rootId);
            var nodes = graph2.children(clusterId) || [];
            if (clusterId !== rootId) {
              nodes.push(clusterId);
            }
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Copying (nodes) clusterId", clusterId, "nodes", nodes);
            nodes.forEach(function(node) {
              if (graph2.children(node).length > 0) {
                copy3(node, graph2, newGraph, rootId);
              } else {
                var data = graph2.node(node);
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("cp ", node, " to ", rootId, " with parent ", clusterId);
                newGraph.setNode(node, data);
                if (rootId !== graph2.parent(node)) {
                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Setting parent", node, graph2.parent(node));
                  newGraph.setParent(node, graph2.parent(node));
                }
                if (clusterId !== rootId && node !== clusterId) {
                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Setting parent", node, clusterId);
                  newGraph.setParent(node, clusterId);
                } else {
                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("In copy ", clusterId, "root", rootId, "data", graph2.node(clusterId), rootId);
                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Not Setting parent for node=", node, "cluster!==rootId", clusterId !== rootId, "node!==clusterId", node !== clusterId);
                }
                var edges2 = graph2.edges(node);
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Copying Edges", edges2);
                edges2.forEach(function(edge) {
                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Edge", edge);
                  var data2 = graph2.edge(edge.v, edge.w, edge.name);
                  _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Edge data", data2, rootId);
                  try {
                    if (edgeInCluster(edge, rootId)) {
                      _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Copying as ", edge.v, edge.w, data2, edge.name);
                      newGraph.setEdge(edge.v, edge.w, data2, edge.name);
                      _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("newGraph edges ", newGraph.edges(), newGraph.edge(newGraph.edges()[0]));
                    } else {
                      _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Skipping copy of edge ", edge.v, "-->", edge.w, " rootId: ", rootId, " clusterId:", clusterId);
                    }
                  } catch (e) {
                    _logger__WEBPACK_IMPORTED_MODULE_1__.log.error(e);
                  }
                });
              }
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Removing node", node);
              graph2.removeNode(node);
            });
          };
          var extractDecendants = function extractDecendants2(id2, graph2) {
            var children2 = graph2.children(id2);
            var res = [].concat(children2);
            for (var i = 0; i < children2.length; i++) {
              parents[children2[i]] = id2;
              res = res.concat(extractDecendants2(children2[i], graph2));
            }
            return res;
          };
          var validate = function validate2(graph2) {
            var edges2 = graph2.edges();
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Edges: ", edges2);
            for (var i = 0; i < edges2.length; i++) {
              if (graph2.children(edges2[i].v).length > 0) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("The node ", edges2[i].v, " is part of and edge even though it has children");
                return false;
              }
              if (graph2.children(edges2[i].w).length > 0) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("The node ", edges2[i].w, " is part of and edge even though it has children");
                return false;
              }
            }
            return true;
          };
          var findNonClusterChild = function findNonClusterChild2(id2, graph2) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Searching", id2);
            var children2 = graph2.children(id2);
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Searching children of id ", id2, children2);
            if (children2.length < 1) {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("This is a valid node", id2);
              return id2;
            }
            for (var i = 0; i < children2.length; i++) {
              var _id = findNonClusterChild2(children2[i], graph2);
              if (_id) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Found replacement for", id2, " => ", _id);
                return _id;
              }
            }
          };
          var getAnchorId = function getAnchorId2(id2) {
            if (!clusterDb[id2]) {
              return id2;
            }
            if (!clusterDb[id2].externalConnections) {
              return id2;
            }
            if (clusterDb[id2]) {
              return clusterDb[id2].id;
            }
            return id2;
          };
          var adjustClustersAndEdges = function adjustClustersAndEdges2(graph2, depth) {
            if (!graph2 || depth > 10) {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Opting out, no graph ");
              return;
            } else {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Opting in, graph ");
            }
            graph2.nodes().forEach(function(id2) {
              var children2 = graph2.children(id2);
              if (children2.length > 0) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Cluster identified", id2, " Replacement id in edges: ", findNonClusterChild(id2, graph2));
                decendants[id2] = extractDecendants(id2, graph2);
                clusterDb[id2] = {
                  id: findNonClusterChild(id2, graph2),
                  clusterData: graph2.node(id2)
                };
              }
            });
            graph2.nodes().forEach(function(id2) {
              var children2 = graph2.children(id2);
              var edges2 = graph2.edges();
              if (children2.length > 0) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Cluster identified", id2, decendants);
                edges2.forEach(function(edge) {
                  if (edge.v !== id2 && edge.w !== id2) {
                    var d1 = isDecendant(edge.v, id2);
                    var d2 = isDecendant(edge.w, id2);
                    if (d1 ^ d2) {
                      _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Edge: ", edge, " leaves cluster ", id2);
                      _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Decendants of XXX ", id2, ": ", decendants[id2]);
                      clusterDb[id2].externalConnections = true;
                    }
                  }
                });
              } else {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Not a cluster ", id2, decendants);
              }
            });
            graph2.edges().forEach(function(e) {
              var edge = graph2.edge(e);
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(e));
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(graph2.edge(e)));
              var v = e.v;
              var w = e.w;
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fix XXX", clusterDb, "ids:", e.v, e.w, "Translateing: ", clusterDb[e.v], " --- ", clusterDb[e.w]);
              if (clusterDb[e.v] && clusterDb[e.w] && clusterDb[e.v] === clusterDb[e.w]) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fixing and trixing link to self - removing XXX", e.v, e.w, e.name);
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fixing and trixing - removing XXX", e.v, e.w, e.name);
                v = getAnchorId(e.v);
                w = getAnchorId(e.w);
                graph2.removeEdge(e.v, e.w, e.name);
                var specialId = e.w + "---" + e.v;
                graph2.setNode(specialId, {
                  domId: specialId,
                  id: specialId,
                  labelStyle: "",
                  labelText: edge.label,
                  padding: 0,
                  shape: "labelRect",
                  style: ""
                });
                var edge1 = JSON.parse(JSON.stringify(edge));
                var edge2 = JSON.parse(JSON.stringify(edge));
                edge1.label = "";
                edge1.arrowTypeEnd = "none";
                edge2.label = "";
                edge1.fromCluster = e.v;
                edge2.toCluster = e.v;
                graph2.setEdge(v, specialId, edge1, e.name + "-cyclic-special");
                graph2.setEdge(specialId, w, edge2, e.name + "-cyclic-special");
              } else if (clusterDb[e.v] || clusterDb[e.w]) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fixing and trixing - removing XXX", e.v, e.w, e.name);
                v = getAnchorId(e.v);
                w = getAnchorId(e.w);
                graph2.removeEdge(e.v, e.w, e.name);
                if (v !== e.v)
                  edge.fromCluster = e.v;
                if (w !== e.w)
                  edge.toCluster = e.w;
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fix Replacing with XXX", v, w, e.name);
                graph2.setEdge(v, w, edge, e.name);
              }
            });
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Adjusted Graph", graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph2));
            extractor(graph2, 0);
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace(clusterDb);
          };
          var extractor = function extractor2(graph2, depth) {
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("extractor - ", depth, graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph2), graph2.children("D"));
            if (depth > 10) {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.error("Bailing out");
              return;
            }
            var nodes = graph2.nodes();
            var hasChildren = false;
            for (var i = 0; i < nodes.length; i++) {
              var node = nodes[i];
              var children2 = graph2.children(node);
              hasChildren = hasChildren || children2.length > 0;
            }
            if (!hasChildren) {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Done, no node has children", graph2.nodes());
              return;
            }
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Nodes = ", nodes, depth);
            for (var _i = 0; _i < nodes.length; _i++) {
              var _node = nodes[_i];
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Extracting node", _node, clusterDb, clusterDb[_node] && !clusterDb[_node].externalConnections, !graph2.parent(_node), graph2.node(_node), graph2.children("D"), " Depth ", depth);
              if (!clusterDb[_node]) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Not a cluster", _node, depth);
              } else if (!clusterDb[_node].externalConnections && graph2.children(_node) && graph2.children(_node).length > 0) {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Cluster without external connections, without a parent and with children", _node, depth);
                var graphSettings = graph2.graph();
                var dir = graphSettings.rankdir === "TB" ? "LR" : "TB";
                if (clusterDb[_node]) {
                  if (clusterDb[_node].clusterData && clusterDb[_node].clusterData.dir) {
                    dir = clusterDb[_node].clusterData.dir;
                    _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fixing dir", clusterDb[_node].clusterData.dir, dir);
                  }
                }
                var clusterGraph = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default()).Graph({
                  multigraph: true,
                  compound: true
                }).setGraph({
                  rankdir: dir,
                  nodesep: 50,
                  ranksep: 50,
                  marginx: 8,
                  marginy: 8
                }).setDefaultEdgeLabel(function() {
                  return {};
                });
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Old graph before copy", graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph2));
                copy2(_node, graph2, clusterGraph, _node);
                graph2.setNode(_node, {
                  clusterNode: true,
                  id: _node,
                  clusterData: clusterDb[_node].clusterData,
                  labelText: clusterDb[_node].labelText,
                  graph: clusterGraph
                });
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("New graph after copy node: (", _node, ")", graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(clusterGraph));
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Old graph after copy", graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph2));
              } else {
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Cluster ** ", _node, " **not meeting the criteria !externalConnections:", !clusterDb[_node].externalConnections, " no parent: ", !graph2.parent(_node), " children ", graph2.children(_node) && graph2.children(_node).length > 0, graph2.children("D"), depth);
                _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(clusterDb);
              }
            }
            nodes = graph2.nodes();
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("New list of nodes", nodes);
            for (var _i2 = 0; _i2 < nodes.length; _i2++) {
              var _node2 = nodes[_i2];
              var data = graph2.node(_node2);
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn(" Now next level", _node2, data);
              if (data.clusterNode) {
                extractor2(data.graph, depth + 1);
              }
            }
          };
          var sorter = function sorter2(graph2, nodes) {
            if (nodes.length === 0)
              return [];
            var result = Object.assign(nodes);
            nodes.forEach(function(node) {
              var children2 = graph2.children(node);
              var sorted = sorter2(graph2, children2);
              result = result.concat(sorted);
            });
            return result;
          };
          var sortNodesByHierarchy = function sortNodesByHierarchy2(graph2) {
            return sorter(graph2, graph2.children());
          };
        },
        "./src/dagre-wrapper/nodes.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "clear": () => clear,
            "insertNode": () => insertNode,
            "positionNode": () => positionNode,
            "setNodeElem": () => setNodeElem
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/logger.js");
          var _shapes_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/dagre-wrapper/shapes/util.js");
          var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/config.js");
          var _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/dagre-wrapper/intersect/index.js");
          var _createLabel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/dagre-wrapper/createLabel.js");
          var _shapes_note__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/dagre-wrapper/shapes/note.js");
          var _diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/diagrams/class/svgDraw.js");
          var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/common/common.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          var question = function question2(parent, node) {
            var _labelHelper = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper.shapeSvg, bbox = _labelHelper.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var s2 = w + h;
            var points = [{
              x: s2 / 2,
              y: 0
            }, {
              x: s2,
              y: -s2 / 2
            }, {
              x: s2 / 2,
              y: -s2
            }, {
              x: 0,
              y: -s2 / 2
            }];
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Question main (Circle)");
            var questionElem = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, s2, s2, points);
            questionElem.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, questionElem);
            node.intersect = function(point2) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("Intersect called");
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var choice = function choice2(parent, node) {
            var shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);
            var s2 = 28;
            var points = [{
              x: 0,
              y: s2 / 2
            }, {
              x: s2 / 2,
              y: 0
            }, {
              x: 0,
              y: -s2 / 2
            }, {
              x: -s2 / 2,
              y: 0
            }];
            var choice3 = shapeSvg.insert("polygon", ":first-child").attr("points", points.map(function(d) {
              return d.x + "," + d.y;
            }).join(" "));
            choice3.attr("class", "state-start").attr("r", 7).attr("width", 28).attr("height", 28);
            node.width = 28;
            node.height = 28;
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].circle(node, 14, point2);
            };
            return shapeSvg;
          };
          var hexagon = function hexagon2(parent, node) {
            var _labelHelper2 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper2.shapeSvg, bbox = _labelHelper2.bbox;
            var f = 4;
            var h = bbox.height + node.padding;
            var m = h / f;
            var w = bbox.width + 2 * m + node.padding;
            var points = [{
              x: m,
              y: 0
            }, {
              x: w - m,
              y: 0
            }, {
              x: w,
              y: -h / 2
            }, {
              x: w - m,
              y: -h
            }, {
              x: m,
              y: -h
            }, {
              x: 0,
              y: -h / 2
            }];
            var hex2 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            hex2.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, hex2);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var rect_left_inv_arrow = function rect_left_inv_arrow2(parent, node) {
            var _labelHelper3 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper3.shapeSvg, bbox = _labelHelper3.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var points = [{
              x: -h / 2,
              y: 0
            }, {
              x: w,
              y: 0
            }, {
              x: w,
              y: -h
            }, {
              x: -h / 2,
              y: -h
            }, {
              x: 0,
              y: -h / 2
            }];
            var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            el.attr("style", node.style);
            node.width = w + h;
            node.height = h;
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var lean_right = function lean_right2(parent, node) {
            var _labelHelper4 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper4.shapeSvg, bbox = _labelHelper4.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var points = [{
              x: -2 * h / 6,
              y: 0
            }, {
              x: w - h / 6,
              y: 0
            }, {
              x: w + 2 * h / 6,
              y: -h
            }, {
              x: h / 6,
              y: -h
            }];
            var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            el.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var lean_left = function lean_left2(parent, node) {
            var _labelHelper5 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper5.shapeSvg, bbox = _labelHelper5.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var points = [{
              x: 2 * h / 6,
              y: 0
            }, {
              x: w + h / 6,
              y: 0
            }, {
              x: w - 2 * h / 6,
              y: -h
            }, {
              x: -h / 6,
              y: -h
            }];
            var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            el.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var trapezoid = function trapezoid2(parent, node) {
            var _labelHelper6 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper6.shapeSvg, bbox = _labelHelper6.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var points = [{
              x: -2 * h / 6,
              y: 0
            }, {
              x: w + 2 * h / 6,
              y: 0
            }, {
              x: w - h / 6,
              y: -h
            }, {
              x: h / 6,
              y: -h
            }];
            var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            el.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var inv_trapezoid = function inv_trapezoid2(parent, node) {
            var _labelHelper7 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper7.shapeSvg, bbox = _labelHelper7.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var points = [{
              x: h / 6,
              y: 0
            }, {
              x: w - h / 6,
              y: 0
            }, {
              x: w + 2 * h / 6,
              y: -h
            }, {
              x: -2 * h / 6,
              y: -h
            }];
            var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            el.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var rect_right_inv_arrow = function rect_right_inv_arrow2(parent, node) {
            var _labelHelper8 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper8.shapeSvg, bbox = _labelHelper8.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var points = [{
              x: 0,
              y: 0
            }, {
              x: w + h / 2,
              y: 0
            }, {
              x: w,
              y: -h / 2
            }, {
              x: w + h / 2,
              y: -h
            }, {
              x: 0,
              y: -h
            }];
            var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            el.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var cylinder = function cylinder2(parent, node) {
            var _labelHelper9 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper9.shapeSvg, bbox = _labelHelper9.bbox;
            var w = bbox.width + node.padding;
            var rx = w / 2;
            var ry = rx / (2.5 + w / 50);
            var h = bbox.height + ry + node.padding;
            var shape = "M 0," + ry + " a " + rx + "," + ry + " 0,0,0 " + w + " 0 a " + rx + "," + ry + " 0,0,0 " + -w + " 0 l 0," + h + " a " + rx + "," + ry + " 0,0,0 " + w + " 0 l 0," + -h;
            var el = shapeSvg.attr("label-offset-y", ry).insert("path", ":first-child").attr("style", node.style).attr("d", shape).attr("transform", "translate(" + -w / 2 + "," + -(h / 2 + ry) + ")");
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);
            node.intersect = function(point2) {
              var pos = _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].rect(node, point2);
              var x2 = pos.x - node.x;
              if (rx != 0 && (Math.abs(x2) < node.width / 2 || Math.abs(x2) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry)) {
                var y2 = ry * ry * (1 - x2 * x2 / (rx * rx));
                if (y2 != 0)
                  y2 = Math.sqrt(y2);
                y2 = ry - y2;
                if (point2.y - node.y > 0)
                  y2 = -y2;
                pos.y += y2;
              }
              return pos;
            };
            return shapeSvg;
          };
          var rect = function rect2(parent, node) {
            var _labelHelper10 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, "node " + node.classes, true), shapeSvg = _labelHelper10.shapeSvg, bbox = _labelHelper10.bbox, halfPadding = _labelHelper10.halfPadding;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.trace("Classes = ", node.classes);
            var rect3 = shapeSvg.insert("rect", ":first-child");
            var totalWidth = bbox.width + node.padding;
            var totalHeight = bbox.height + node.padding;
            rect3.attr("class", "basic label-container").attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", totalWidth).attr("height", totalHeight);
            if (node.props) {
              var propKeys = new Set(Object.keys(node.props));
              if (node.props.borders) {
                applyNodePropertyBorders(rect3, node.props.borders, totalWidth, totalHeight);
                propKeys.delete("borders");
              }
              propKeys.forEach(function(propKey) {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("Unknown node property ".concat(propKey));
              });
            }
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect3);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].rect(node, point2);
            };
            return shapeSvg;
          };
          var labelRect = function labelRect2(parent, node) {
            var _labelHelper11 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, "label", true), shapeSvg = _labelHelper11.shapeSvg;
            _labelHelper11.bbox;
            _labelHelper11.halfPadding;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.trace("Classes = ", node.classes);
            var rect2 = shapeSvg.insert("rect", ":first-child");
            var totalWidth = 0;
            var totalHeight = 0;
            rect2.attr("width", totalWidth).attr("height", totalHeight);
            shapeSvg.attr("class", "label edgeLabel");
            if (node.props) {
              var propKeys = new Set(Object.keys(node.props));
              if (node.props.borders) {
                applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);
                propKeys.delete("borders");
              }
              propKeys.forEach(function(propKey) {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("Unknown node property ".concat(propKey));
              });
            }
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect2);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].rect(node, point2);
            };
            return shapeSvg;
          };
          function applyNodePropertyBorders(rect2, borders, totalWidth, totalHeight) {
            var strokeDashArray = [];
            var addBorder = function addBorder2(length2) {
              strokeDashArray.push(length2);
              strokeDashArray.push(0);
            };
            var skipBorder = function skipBorder2(length2) {
              strokeDashArray.push(0);
              strokeDashArray.push(length2);
            };
            if (borders.includes("t")) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add top border");
              addBorder(totalWidth);
            } else {
              skipBorder(totalWidth);
            }
            if (borders.includes("r")) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add right border");
              addBorder(totalHeight);
            } else {
              skipBorder(totalHeight);
            }
            if (borders.includes("b")) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add bottom border");
              addBorder(totalWidth);
            } else {
              skipBorder(totalWidth);
            }
            if (borders.includes("l")) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add left border");
              addBorder(totalHeight);
            } else {
              skipBorder(totalHeight);
            }
            rect2.attr("stroke-dasharray", strokeDashArray.join(" "));
          }
          var rectWithTitle = function rectWithTitle2(parent, node) {
            var classes;
            if (!node.classes) {
              classes = "node default";
            } else {
              classes = "node " + node.classes;
            }
            var shapeSvg = parent.insert("g").attr("class", classes).attr("id", node.domId || node.id);
            var rect2 = shapeSvg.insert("rect", ":first-child");
            var innerLine = shapeSvg.insert("line");
            var label = shapeSvg.insert("g").attr("class", "label");
            var text2 = node.labelText.flat ? node.labelText.flat() : node.labelText;
            var title = "";
            if (_typeof(text2) === "object") {
              title = text2[0];
            } else {
              title = text2;
            }
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Label text abc79", title, text2, _typeof(text2) === "object");
            var text3 = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__["default"])(title, node.labelStyle, true, true));
            var bbox = {
              width: 0,
              height: 0
            };
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {
              var div = text3.children[0];
              var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text3);
              bbox = div.getBoundingClientRect();
              dv.attr("width", bbox.width);
              dv.attr("height", bbox.height);
            }
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Text 2", text2);
            var textRows = text2.slice(1, text2.length);
            var titleBox = text3.getBBox();
            var descr = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__["default"])(textRows.join ? textRows.join("<br/>") : textRows, node.labelStyle, true, true));
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {
              var _div = descr.children[0];
              var _dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(descr);
              bbox = _div.getBoundingClientRect();
              _dv.attr("width", bbox.width);
              _dv.attr("height", bbox.height);
            }
            var halfPadding = node.padding / 2;
            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(descr).attr("transform", "translate( " + (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + ", " + (titleBox.height + halfPadding + 5) + ")");
            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text3).attr("transform", "translate( " + (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + ", " + 0 + ")");
            bbox = label.node().getBBox();
            label.attr("transform", "translate(" + -bbox.width / 2 + ", " + (-bbox.height / 2 - halfPadding + 3) + ")");
            rect2.attr("class", "outer title-state").attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);
            innerLine.attr("class", "divider").attr("x1", -bbox.width / 2 - halfPadding).attr("x2", bbox.width / 2 + halfPadding).attr("y1", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr("y2", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect2);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].rect(node, point2);
            };
            return shapeSvg;
          };
          var stadium = function stadium2(parent, node) {
            var _labelHelper12 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper12.shapeSvg, bbox = _labelHelper12.bbox;
            var h = bbox.height + node.padding;
            var w = bbox.width + h / 4 + node.padding;
            var rect2 = shapeSvg.insert("rect", ":first-child").attr("style", node.style).attr("rx", h / 2).attr("ry", h / 2).attr("x", -w / 2).attr("y", -h / 2).attr("width", w).attr("height", h);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect2);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].rect(node, point2);
            };
            return shapeSvg;
          };
          var circle2 = function circle3(parent, node) {
            var _labelHelper13 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper13.shapeSvg, bbox = _labelHelper13.bbox, halfPadding = _labelHelper13.halfPadding;
            var circle4 = shapeSvg.insert("circle", ":first-child");
            circle4.attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("r", bbox.width / 2 + halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Circle main");
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, circle4);
            node.intersect = function(point2) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Circle intersect", node, bbox.width / 2 + halfPadding, point2);
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].circle(node, bbox.width / 2 + halfPadding, point2);
            };
            return shapeSvg;
          };
          var doublecircle = function doublecircle2(parent, node) {
            var _labelHelper14 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper14.shapeSvg, bbox = _labelHelper14.bbox, halfPadding = _labelHelper14.halfPadding;
            var gap = 5;
            var circleGroup = shapeSvg.insert("g", ":first-child");
            var outerCircle = circleGroup.insert("circle");
            var innerCircle = circleGroup.insert("circle");
            outerCircle.attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("r", bbox.width / 2 + halfPadding + gap).attr("width", bbox.width + node.padding + gap * 2).attr("height", bbox.height + node.padding + gap * 2);
            innerCircle.attr("style", node.style).attr("rx", node.rx).attr("ry", node.ry).attr("r", bbox.width / 2 + halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("DoubleCircle main");
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, outerCircle);
            node.intersect = function(point2) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("DoubleCircle intersect", node, bbox.width / 2 + halfPadding + gap, point2);
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].circle(node, bbox.width / 2 + halfPadding + gap, point2);
            };
            return shapeSvg;
          };
          var subroutine = function subroutine2(parent, node) {
            var _labelHelper15 = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent, node, void 0, true), shapeSvg = _labelHelper15.shapeSvg, bbox = _labelHelper15.bbox;
            var w = bbox.width + node.padding;
            var h = bbox.height + node.padding;
            var points = [{
              x: 0,
              y: 0
            }, {
              x: w,
              y: 0
            }, {
              x: w,
              y: -h
            }, {
              x: 0,
              y: -h
            }, {
              x: 0,
              y: 0
            }, {
              x: -8,
              y: 0
            }, {
              x: w + 8,
              y: 0
            }, {
              x: w + 8,
              y: -h
            }, {
              x: -8,
              y: -h
            }, {
              x: -8,
              y: 0
            }];
            var el = (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg, w, h, points);
            el.attr("style", node.style);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, el);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].polygon(node, points, point2);
            };
            return shapeSvg;
          };
          var start2 = function start3(parent, node) {
            var shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);
            var circle3 = shapeSvg.insert("circle", ":first-child");
            circle3.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, circle3);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].circle(node, 7, point2);
            };
            return shapeSvg;
          };
          var forkJoin = function forkJoin2(parent, node, dir) {
            var shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);
            var width = 70;
            var height = 10;
            if (dir === "LR") {
              width = 10;
              height = 70;
            }
            var shape = shapeSvg.append("rect").attr("x", -1 * width / 2).attr("y", -1 * height / 2).attr("width", width).attr("height", height).attr("class", "fork-join");
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, shape);
            node.height = node.height + node.padding / 2;
            node.width = node.width + node.padding / 2;
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].rect(node, point2);
            };
            return shapeSvg;
          };
          var end = function end2(parent, node) {
            var shapeSvg = parent.insert("g").attr("class", "node default").attr("id", node.domId || node.id);
            var innerCircle = shapeSvg.insert("circle", ":first-child");
            var circle3 = shapeSvg.insert("circle", ":first-child");
            circle3.attr("class", "state-start").attr("r", 7).attr("width", 14).attr("height", 14);
            innerCircle.attr("class", "state-end").attr("r", 5).attr("width", 10).attr("height", 10);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, circle3);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].circle(node, 7, point2);
            };
            return shapeSvg;
          };
          var class_box = function class_box2(parent, node) {
            var halfPadding = node.padding / 2;
            var rowPadding = 4;
            var lineHeight = 8;
            var classes;
            if (!node.classes) {
              classes = "node default";
            } else {
              classes = "node " + node.classes;
            }
            var shapeSvg = parent.insert("g").attr("class", classes).attr("id", node.domId || node.id);
            var rect2 = shapeSvg.insert("rect", ":first-child");
            var topLine = shapeSvg.insert("line");
            var bottomLine = shapeSvg.insert("line");
            var maxWidth = 0;
            var maxHeight = rowPadding;
            var labelContainer = shapeSvg.insert("g").attr("class", "label");
            var verticalPos = 0;
            var hasInterface = node.classData.annotations && node.classData.annotations[0];
            var interfaceLabelText = node.classData.annotations[0] ? "\xAB" + node.classData.annotations[0] + "\xBB" : "";
            var interfaceLabel = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__["default"])(interfaceLabelText, node.labelStyle, true, true));
            var interfaceBBox = interfaceLabel.getBBox();
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {
              var div = interfaceLabel.children[0];
              var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(interfaceLabel);
              interfaceBBox = div.getBoundingClientRect();
              dv.attr("width", interfaceBBox.width);
              dv.attr("height", interfaceBBox.height);
            }
            if (node.classData.annotations[0]) {
              maxHeight += interfaceBBox.height + rowPadding;
              maxWidth += interfaceBBox.width;
            }
            var classTitleString = node.classData.id;
            if (node.classData.type !== void 0 && node.classData.type !== "") {
              if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels) {
                classTitleString += "&lt;" + node.classData.type + "&gt;";
              } else {
                classTitleString += "<" + node.classData.type + ">";
              }
            }
            var classTitleLabel = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__["default"])(classTitleString, node.labelStyle, true, true));
            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel).attr("class", "classTitle");
            var classTitleBBox = classTitleLabel.getBBox();
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {
              var _div2 = classTitleLabel.children[0];
              var _dv2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel);
              classTitleBBox = _div2.getBoundingClientRect();
              _dv2.attr("width", classTitleBBox.width);
              _dv2.attr("height", classTitleBBox.height);
            }
            maxHeight += classTitleBBox.height + rowPadding;
            if (classTitleBBox.width > maxWidth) {
              maxWidth = classTitleBBox.width;
            }
            var classAttributes = [];
            node.classData.members.forEach(function(str) {
              var parsedInfo = (0, _diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__.parseMember)(str);
              var parsedText = parsedInfo.displayText;
              if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels) {
                parsedText = parsedText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
              }
              var lbl = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__["default"])(parsedText, parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle, true, true));
              var bbox = lbl.getBBox();
              if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {
                var _div3 = lbl.children[0];
                var _dv3 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl);
                bbox = _div3.getBoundingClientRect();
                _dv3.attr("width", bbox.width);
                _dv3.attr("height", bbox.height);
              }
              if (bbox.width > maxWidth) {
                maxWidth = bbox.width;
              }
              maxHeight += bbox.height + rowPadding;
              classAttributes.push(lbl);
            });
            maxHeight += lineHeight;
            var classMethods = [];
            node.classData.methods.forEach(function(str) {
              var parsedInfo = (0, _diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__.parseMember)(str);
              var displayText = parsedInfo.displayText;
              if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels) {
                displayText = displayText.replace(/</g, "&lt;").replace(/>/g, "&gt;");
              }
              var lbl = labelContainer.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_6__["default"])(displayText, parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle, true, true));
              var bbox = lbl.getBBox();
              if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)) {
                var _div4 = lbl.children[0];
                var _dv4 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl);
                bbox = _div4.getBoundingClientRect();
                _dv4.attr("width", bbox.width);
                _dv4.attr("height", bbox.height);
              }
              if (bbox.width > maxWidth) {
                maxWidth = bbox.width;
              }
              maxHeight += bbox.height + rowPadding;
              classMethods.push(lbl);
            });
            maxHeight += lineHeight;
            if (hasInterface) {
              var _diffX = (maxWidth - interfaceBBox.width) / 2;
              (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(interfaceLabel).attr("transform", "translate( " + (-1 * maxWidth / 2 + _diffX) + ", " + -1 * maxHeight / 2 + ")");
              verticalPos = interfaceBBox.height + rowPadding;
            }
            var diffX = (maxWidth - classTitleBBox.width) / 2;
            (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel).attr("transform", "translate( " + (-1 * maxWidth / 2 + diffX) + ", " + (-1 * maxHeight / 2 + verticalPos) + ")");
            verticalPos += classTitleBBox.height + rowPadding;
            topLine.attr("class", "divider").attr("x1", -maxWidth / 2 - halfPadding).attr("x2", maxWidth / 2 + halfPadding).attr("y1", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr("y2", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);
            verticalPos += lineHeight;
            classAttributes.forEach(function(lbl) {
              (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl).attr("transform", "translate( " + -maxWidth / 2 + ", " + (-1 * maxHeight / 2 + verticalPos + lineHeight / 2) + ")");
              verticalPos += classTitleBBox.height + rowPadding;
            });
            verticalPos += lineHeight;
            bottomLine.attr("class", "divider").attr("x1", -maxWidth / 2 - halfPadding).attr("x2", maxWidth / 2 + halfPadding).attr("y1", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr("y2", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);
            verticalPos += lineHeight;
            classMethods.forEach(function(lbl) {
              (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl).attr("transform", "translate( " + -maxWidth / 2 + ", " + (-1 * maxHeight / 2 + verticalPos) + ")");
              verticalPos += classTitleBBox.height + rowPadding;
            });
            rect2.attr("class", "outer title-state").attr("x", -maxWidth / 2 - halfPadding).attr("y", -(maxHeight / 2) - halfPadding).attr("width", maxWidth + node.padding).attr("height", maxHeight + node.padding);
            (0, _shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node, rect2);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__["default"].rect(node, point2);
            };
            return shapeSvg;
          };
          var shapes2 = {
            question,
            rect,
            labelRect,
            rectWithTitle,
            choice,
            circle: circle2,
            doublecircle,
            stadium,
            hexagon,
            rect_left_inv_arrow,
            lean_right,
            lean_left,
            trapezoid,
            inv_trapezoid,
            rect_right_inv_arrow,
            cylinder,
            start: start2,
            end,
            note: _shapes_note__WEBPACK_IMPORTED_MODULE_8__["default"],
            subroutine,
            fork: forkJoin,
            join: forkJoin,
            class_box
          };
          var nodeElems = {};
          var insertNode = function insertNode2(elem, node, dir) {
            var newEl;
            var el;
            if (node.link) {
              var target;
              if ((0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().securityLevel === "sandbox") {
                target = "_top";
              } else if (node.linkTarget) {
                target = node.linkTarget || "_blank";
              }
              newEl = elem.insert("svg:a").attr("xlink:href", node.link).attr("target", target);
              el = shapes2[node.shape](newEl, node, dir);
            } else {
              el = shapes2[node.shape](elem, node, dir);
              newEl = el;
            }
            if (node.tooltip) {
              el.attr("title", node.tooltip);
            }
            if (node.class) {
              el.attr("class", "node default " + node.class);
            }
            nodeElems[node.id] = newEl;
            if (node.haveCallback) {
              nodeElems[node.id].attr("class", nodeElems[node.id].attr("class") + " clickable");
            }
          };
          var setNodeElem = function setNodeElem2(elem, node) {
            nodeElems[node.id] = elem;
          };
          var clear = function clear2() {
            nodeElems = {};
          };
          var positionNode = function positionNode2(node) {
            var el = nodeElems[node.id];
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.trace("Transforming node", node.diff, node, "translate(" + (node.x - node.width / 2 - 5) + ", " + node.width / 2 + ")");
            var padding = 8;
            var diff = node.diff || 0;
            if (node.clusterNode) {
              el.attr("transform", "translate(" + (node.x + diff - node.width / 2) + ", " + (node.y - node.height / 2 - padding) + ")");
            } else {
              el.attr("transform", "translate(" + node.x + ", " + node.y + ")");
            }
            return diff;
          };
        },
        "./src/dagre-wrapper/shapes/note.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/dagre-wrapper/shapes/util.js");
          var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/logger.js");
          var _intersect_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/dagre-wrapper/intersect/index.js");
          var note = function note2(parent, node) {
            var _labelHelper = (0, _util__WEBPACK_IMPORTED_MODULE_0__.labelHelper)(parent, node, "node " + node.classes, true), shapeSvg = _labelHelper.shapeSvg, bbox = _labelHelper.bbox, halfPadding = _labelHelper.halfPadding;
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Classes = ", node.classes);
            var rect = shapeSvg.insert("rect", ":first-child");
            rect.attr("rx", node.rx).attr("ry", node.ry).attr("x", -bbox.width / 2 - halfPadding).attr("y", -bbox.height / 2 - halfPadding).attr("width", bbox.width + node.padding).attr("height", bbox.height + node.padding);
            (0, _util__WEBPACK_IMPORTED_MODULE_0__.updateNodeBounds)(node, rect);
            node.intersect = function(point2) {
              return _intersect_index_js__WEBPACK_IMPORTED_MODULE_2__["default"].rect(node, point2);
            };
            return shapeSvg;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = note;
        },
        "./src/dagre-wrapper/shapes/util.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "insertPolygonShape": () => insertPolygonShape,
            "labelHelper": () => labelHelper,
            "updateNodeBounds": () => updateNodeBounds
          });
          var _createLabel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/dagre-wrapper/createLabel.js");
          var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/config.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/mermaidAPI.js");
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/common/common.js");
          var labelHelper = function labelHelper2(parent, node, _classes, isNode) {
            var classes;
            if (!_classes) {
              classes = "node default";
            } else {
              classes = _classes;
            }
            var shapeSvg = parent.insert("g").attr("class", classes).attr("id", node.domId || node.id);
            var label = shapeSvg.insert("g").attr("class", "label").attr("style", node.labelStyle);
            var labelText = typeof node.labelText === "string" ? node.labelText : node.labelText[0];
            var text2 = label.node().appendChild((0, _createLabel__WEBPACK_IMPORTED_MODULE_1__["default"])((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)((0, _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(labelText), (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)()), node.labelStyle, false, isNode));
            var bbox = text2.getBBox();
            if ((0, _diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {
              var div = text2.children[0];
              var dv = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(text2);
              bbox = div.getBoundingClientRect();
              dv.attr("width", bbox.width);
              dv.attr("height", bbox.height);
            }
            var halfPadding = node.padding / 2;
            label.attr("transform", "translate(" + -bbox.width / 2 + ", " + -bbox.height / 2 + ")");
            return {
              shapeSvg,
              bbox,
              halfPadding,
              label
            };
          };
          var updateNodeBounds = function updateNodeBounds2(node, element) {
            var bbox = element.node().getBBox();
            node.width = bbox.width;
            node.height = bbox.height;
          };
          function insertPolygonShape(parent, w, h, points) {
            return parent.insert("polygon", ":first-child").attr("points", points.map(function(d) {
              return d.x + "," + d.y;
            }).join(" ")).attr("class", "label-container").attr("transform", "translate(" + -w / 2 + "," + h / 2 + ")");
          }
        },
        "./src/defaultConfig.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "configKeys": () => configKeys,
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _themes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/themes/index.js");
          function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
          }
          function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
              return Array.from(iter);
          }
          function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr))
              return _arrayLikeToArray(arr);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          var config = {
            theme: "default",
            themeVariables: _themes__WEBPACK_IMPORTED_MODULE_0__["default"]["default"].getThemeVariables(),
            themeCSS: void 0,
            maxTextSize: 5e4,
            darkMode: false,
            fontFamily: '"trebuchet ms", verdana, arial, sans-serif;',
            logLevel: 5,
            securityLevel: "strict",
            startOnLoad: true,
            arrowMarkerAbsolute: false,
            secure: ["secure", "securityLevel", "startOnLoad", "maxTextSize"],
            deterministicIds: false,
            deterministicIDSeed: void 0,
            flowchart: {
              diagramPadding: 8,
              htmlLabels: true,
              nodeSpacing: 50,
              rankSpacing: 50,
              curve: "basis",
              padding: 15,
              useMaxWidth: true,
              defaultRenderer: "dagre-d3"
            },
            sequence: {
              hideUnusedParticipants: false,
              activationWidth: 10,
              diagramMarginX: 50,
              diagramMarginY: 10,
              actorMargin: 50,
              width: 150,
              height: 65,
              boxMargin: 10,
              boxTextMargin: 5,
              noteMargin: 10,
              messageMargin: 35,
              messageAlign: "center",
              mirrorActors: true,
              forceMenus: false,
              bottomMarginAdj: 1,
              useMaxWidth: true,
              rightAngles: false,
              showSequenceNumbers: false,
              actorFontSize: 14,
              actorFontFamily: '"Open Sans", sans-serif',
              actorFontWeight: 400,
              noteFontSize: 14,
              noteFontFamily: '"trebuchet ms", verdana, arial, sans-serif',
              noteFontWeight: 400,
              noteAlign: "center",
              messageFontSize: 16,
              messageFontFamily: '"trebuchet ms", verdana, arial, sans-serif',
              messageFontWeight: 400,
              wrap: false,
              wrapPadding: 10,
              labelBoxWidth: 50,
              labelBoxHeight: 20,
              messageFont: function messageFont() {
                return {
                  fontFamily: this.messageFontFamily,
                  fontSize: this.messageFontSize,
                  fontWeight: this.messageFontWeight
                };
              },
              noteFont: function noteFont() {
                return {
                  fontFamily: this.noteFontFamily,
                  fontSize: this.noteFontSize,
                  fontWeight: this.noteFontWeight
                };
              },
              actorFont: function actorFont() {
                return {
                  fontFamily: this.actorFontFamily,
                  fontSize: this.actorFontSize,
                  fontWeight: this.actorFontWeight
                };
              }
            },
            gantt: {
              titleTopMargin: 25,
              barHeight: 20,
              barGap: 4,
              topPadding: 50,
              rightPadding: 75,
              leftPadding: 75,
              gridLineStartPadding: 35,
              fontSize: 11,
              sectionFontSize: 11,
              numberSectionStyles: 4,
              axisFormat: "%Y-%m-%d",
              useMaxWidth: true,
              topAxis: false,
              useWidth: void 0
            },
            journey: {
              diagramMarginX: 50,
              diagramMarginY: 10,
              leftMargin: 150,
              width: 150,
              height: 50,
              boxMargin: 10,
              boxTextMargin: 5,
              noteMargin: 10,
              messageMargin: 35,
              messageAlign: "center",
              bottomMarginAdj: 1,
              useMaxWidth: true,
              rightAngles: false,
              taskFontSize: 14,
              taskFontFamily: '"Open Sans", sans-serif',
              taskMargin: 50,
              activationWidth: 10,
              textPlacement: "fo",
              actorColours: ["#8FBC8F", "#7CFC00", "#00FFFF", "#20B2AA", "#B0E0E6", "#FFFFE0"],
              sectionFills: ["#191970", "#8B008B", "#4B0082", "#2F4F4F", "#800000", "#8B4513", "#00008B"],
              sectionColours: ["#fff"]
            },
            class: {
              arrowMarkerAbsolute: false,
              dividerMargin: 10,
              padding: 5,
              textHeight: 10,
              useMaxWidth: true,
              defaultRenderer: "dagre-wrapper"
            },
            state: {
              dividerMargin: 10,
              sizeUnit: 5,
              padding: 8,
              textHeight: 10,
              titleShift: -15,
              noteMargin: 10,
              forkWidth: 70,
              forkHeight: 7,
              miniPadding: 2,
              fontSizeFactor: 5.02,
              fontSize: 24,
              labelHeight: 16,
              edgeLengthFactor: "20",
              compositTitleSize: 35,
              radius: 5,
              useMaxWidth: true,
              defaultRenderer: "dagre-wrapper"
            },
            er: {
              diagramPadding: 20,
              layoutDirection: "TB",
              minEntityWidth: 100,
              minEntityHeight: 75,
              entityPadding: 15,
              stroke: "gray",
              fill: "honeydew",
              fontSize: 12,
              useMaxWidth: true
            },
            pie: {
              useWidth: void 0,
              useMaxWidth: true
            },
            requirement: {
              useWidth: void 0,
              useMaxWidth: true,
              rect_fill: "#f9f9f9",
              text_color: "#333",
              rect_border_size: "0.5px",
              rect_border_color: "#bbb",
              rect_min_width: 200,
              rect_min_height: 200,
              fontSize: 14,
              rect_padding: 10,
              line_height: 20
            },
            gitGraph: {
              diagramPadding: 8,
              nodeLabel: {
                width: 75,
                height: 100,
                x: -25,
                y: 0
              },
              mainBranchName: "main",
              mainBranchOrder: 0,
              showCommitLabel: true,
              showBranches: true,
              rotateCommitLabel: true
            },
            c4: {
              useWidth: void 0,
              diagramMarginX: 50,
              diagramMarginY: 10,
              c4ShapeMargin: 50,
              c4ShapePadding: 20,
              width: 216,
              height: 60,
              boxMargin: 10,
              useMaxWidth: true,
              c4ShapeInRow: 4,
              nextLinePaddingX: 0,
              c4BoundaryInRow: 2,
              personFontSize: 14,
              personFontFamily: '"Open Sans", sans-serif',
              personFontWeight: "normal",
              external_personFontSize: 14,
              external_personFontFamily: '"Open Sans", sans-serif',
              external_personFontWeight: "normal",
              systemFontSize: 14,
              systemFontFamily: '"Open Sans", sans-serif',
              systemFontWeight: "normal",
              external_systemFontSize: 14,
              external_systemFontFamily: '"Open Sans", sans-serif',
              external_systemFontWeight: "normal",
              system_dbFontSize: 14,
              system_dbFontFamily: '"Open Sans", sans-serif',
              system_dbFontWeight: "normal",
              external_system_dbFontSize: 14,
              external_system_dbFontFamily: '"Open Sans", sans-serif',
              external_system_dbFontWeight: "normal",
              system_queueFontSize: 14,
              system_queueFontFamily: '"Open Sans", sans-serif',
              system_queueFontWeight: "normal",
              external_system_queueFontSize: 14,
              external_system_queueFontFamily: '"Open Sans", sans-serif',
              external_system_queueFontWeight: "normal",
              boundaryFontSize: 14,
              boundaryFontFamily: '"Open Sans", sans-serif',
              boundaryFontWeight: "normal",
              messageFontSize: 12,
              messageFontFamily: '"Open Sans", sans-serif',
              messageFontWeight: "normal",
              containerFontSize: 14,
              containerFontFamily: '"Open Sans", sans-serif',
              containerFontWeight: "normal",
              external_containerFontSize: 14,
              external_containerFontFamily: '"Open Sans", sans-serif',
              external_containerFontWeight: "normal",
              container_dbFontSize: 14,
              container_dbFontFamily: '"Open Sans", sans-serif',
              container_dbFontWeight: "normal",
              external_container_dbFontSize: 14,
              external_container_dbFontFamily: '"Open Sans", sans-serif',
              external_container_dbFontWeight: "normal",
              container_queueFontSize: 14,
              container_queueFontFamily: '"Open Sans", sans-serif',
              container_queueFontWeight: "normal",
              external_container_queueFontSize: 14,
              external_container_queueFontFamily: '"Open Sans", sans-serif',
              external_container_queueFontWeight: "normal",
              componentFontSize: 14,
              componentFontFamily: '"Open Sans", sans-serif',
              componentFontWeight: "normal",
              external_componentFontSize: 14,
              external_componentFontFamily: '"Open Sans", sans-serif',
              external_componentFontWeight: "normal",
              component_dbFontSize: 14,
              component_dbFontFamily: '"Open Sans", sans-serif',
              component_dbFontWeight: "normal",
              external_component_dbFontSize: 14,
              external_component_dbFontFamily: '"Open Sans", sans-serif',
              external_component_dbFontWeight: "normal",
              component_queueFontSize: 14,
              component_queueFontFamily: '"Open Sans", sans-serif',
              component_queueFontWeight: "normal",
              external_component_queueFontSize: 14,
              external_component_queueFontFamily: '"Open Sans", sans-serif',
              external_component_queueFontWeight: "normal",
              wrap: true,
              wrapPadding: 10,
              personFont: function personFont() {
                return {
                  fontFamily: this.personFontFamily,
                  fontSize: this.personFontSize,
                  fontWeight: this.personFontWeight
                };
              },
              external_personFont: function external_personFont() {
                return {
                  fontFamily: this.external_personFontFamily,
                  fontSize: this.external_personFontSize,
                  fontWeight: this.external_personFontWeight
                };
              },
              systemFont: function systemFont() {
                return {
                  fontFamily: this.systemFontFamily,
                  fontSize: this.systemFontSize,
                  fontWeight: this.systemFontWeight
                };
              },
              external_systemFont: function external_systemFont() {
                return {
                  fontFamily: this.external_systemFontFamily,
                  fontSize: this.external_systemFontSize,
                  fontWeight: this.external_systemFontWeight
                };
              },
              system_dbFont: function system_dbFont() {
                return {
                  fontFamily: this.system_dbFontFamily,
                  fontSize: this.system_dbFontSize,
                  fontWeight: this.system_dbFontWeight
                };
              },
              external_system_dbFont: function external_system_dbFont() {
                return {
                  fontFamily: this.external_system_dbFontFamily,
                  fontSize: this.external_system_dbFontSize,
                  fontWeight: this.external_system_dbFontWeight
                };
              },
              system_queueFont: function system_queueFont() {
                return {
                  fontFamily: this.system_queueFontFamily,
                  fontSize: this.system_queueFontSize,
                  fontWeight: this.system_queueFontWeight
                };
              },
              external_system_queueFont: function external_system_queueFont() {
                return {
                  fontFamily: this.external_system_queueFontFamily,
                  fontSize: this.external_system_queueFontSize,
                  fontWeight: this.external_system_queueFontWeight
                };
              },
              containerFont: function containerFont() {
                return {
                  fontFamily: this.containerFontFamily,
                  fontSize: this.containerFontSize,
                  fontWeight: this.containerFontWeight
                };
              },
              external_containerFont: function external_containerFont() {
                return {
                  fontFamily: this.external_containerFontFamily,
                  fontSize: this.external_containerFontSize,
                  fontWeight: this.external_containerFontWeight
                };
              },
              container_dbFont: function container_dbFont() {
                return {
                  fontFamily: this.container_dbFontFamily,
                  fontSize: this.container_dbFontSize,
                  fontWeight: this.container_dbFontWeight
                };
              },
              external_container_dbFont: function external_container_dbFont() {
                return {
                  fontFamily: this.external_container_dbFontFamily,
                  fontSize: this.external_container_dbFontSize,
                  fontWeight: this.external_container_dbFontWeight
                };
              },
              container_queueFont: function container_queueFont() {
                return {
                  fontFamily: this.container_queueFontFamily,
                  fontSize: this.container_queueFontSize,
                  fontWeight: this.container_queueFontWeight
                };
              },
              external_container_queueFont: function external_container_queueFont() {
                return {
                  fontFamily: this.external_container_queueFontFamily,
                  fontSize: this.external_container_queueFontSize,
                  fontWeight: this.external_container_queueFontWeight
                };
              },
              componentFont: function componentFont() {
                return {
                  fontFamily: this.componentFontFamily,
                  fontSize: this.componentFontSize,
                  fontWeight: this.componentFontWeight
                };
              },
              external_componentFont: function external_componentFont() {
                return {
                  fontFamily: this.external_componentFontFamily,
                  fontSize: this.external_componentFontSize,
                  fontWeight: this.external_componentFontWeight
                };
              },
              component_dbFont: function component_dbFont() {
                return {
                  fontFamily: this.component_dbFontFamily,
                  fontSize: this.component_dbFontSize,
                  fontWeight: this.component_dbFontWeight
                };
              },
              external_component_dbFont: function external_component_dbFont() {
                return {
                  fontFamily: this.external_component_dbFontFamily,
                  fontSize: this.external_component_dbFontSize,
                  fontWeight: this.external_component_dbFontWeight
                };
              },
              component_queueFont: function component_queueFont() {
                return {
                  fontFamily: this.component_queueFontFamily,
                  fontSize: this.component_queueFontSize,
                  fontWeight: this.component_queueFontWeight
                };
              },
              external_component_queueFont: function external_component_queueFont() {
                return {
                  fontFamily: this.external_component_queueFontFamily,
                  fontSize: this.external_component_queueFontSize,
                  fontWeight: this.external_component_queueFontWeight
                };
              },
              boundaryFont: function boundaryFont() {
                return {
                  fontFamily: this.boundaryFontFamily,
                  fontSize: this.boundaryFontSize,
                  fontWeight: this.boundaryFontWeight
                };
              },
              messageFont: function messageFont() {
                return {
                  fontFamily: this.messageFontFamily,
                  fontSize: this.messageFontSize,
                  fontWeight: this.messageFontWeight
                };
              },
              person_bg_color: "#08427B",
              person_border_color: "#073B6F",
              external_person_bg_color: "#686868",
              external_person_border_color: "#8A8A8A",
              system_bg_color: "#1168BD",
              system_border_color: "#3C7FC0",
              system_db_bg_color: "#1168BD",
              system_db_border_color: "#3C7FC0",
              system_queue_bg_color: "#1168BD",
              system_queue_border_color: "#3C7FC0",
              external_system_bg_color: "#999999",
              external_system_border_color: "#8A8A8A",
              external_system_db_bg_color: "#999999",
              external_system_db_border_color: "#8A8A8A",
              external_system_queue_bg_color: "#999999",
              external_system_queue_border_color: "#8A8A8A",
              container_bg_color: "#438DD5",
              container_border_color: "#3C7FC0",
              container_db_bg_color: "#438DD5",
              container_db_border_color: "#3C7FC0",
              container_queue_bg_color: "#438DD5",
              container_queue_border_color: "#3C7FC0",
              external_container_bg_color: "#B3B3B3",
              external_container_border_color: "#A6A6A6",
              external_container_db_bg_color: "#B3B3B3",
              external_container_db_border_color: "#A6A6A6",
              external_container_queue_bg_color: "#B3B3B3",
              external_container_queue_border_color: "#A6A6A6",
              component_bg_color: "#85BBF0",
              component_border_color: "#78A8D8",
              component_db_bg_color: "#85BBF0",
              component_db_border_color: "#78A8D8",
              component_queue_bg_color: "#85BBF0",
              component_queue_border_color: "#78A8D8",
              external_component_bg_color: "#CCCCCC",
              external_component_border_color: "#BFBFBF",
              external_component_db_bg_color: "#CCCCCC",
              external_component_db_border_color: "#BFBFBF",
              external_component_queue_bg_color: "#CCCCCC",
              external_component_queue_border_color: "#BFBFBF"
            }
          };
          config.class.arrowMarkerAbsolute = config.arrowMarkerAbsolute;
          config.gitGraph.arrowMarkerAbsolute = config.arrowMarkerAbsolute;
          var keyify = function keyify2(obj) {
            var prefix2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
            return Object.keys(obj).reduce(function(res, el) {
              if (Array.isArray(obj[el])) {
                return res;
              } else if (_typeof(obj[el]) === "object" && obj[el] !== null) {
                return [].concat(_toConsumableArray(res), [prefix2 + el], _toConsumableArray(keyify2(obj[el], "")));
              }
              return [].concat(_toConsumableArray(res), [prefix2 + el]);
            }, []);
          };
          var configKeys = keyify(config, "");
          const __WEBPACK_DEFAULT_EXPORT__ = config;
        },
        "./src/diagram-api/detectType.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addDetector": () => addDetector,
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var directive = /[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi;
          var anyComment = /\s*%%.*\n/gm;
          var detectors = {};
          var detectType = function detectType2(text2, cnf) {
            text2 = text2.replace(directive, "").replace(anyComment, "\n");
            if (text2.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)) {
              return "c4";
            }
            if (text2 === "error") {
              return "error";
            }
            if (text2.match(/^\s*sequenceDiagram/)) {
              return "sequence";
            }
            if (text2.match(/^\s*gantt/)) {
              return "gantt";
            }
            if (text2.match(/^\s*classDiagram-v2/)) {
              return "classDiagram";
            }
            if (text2.match(/^\s*classDiagram/)) {
              if (cnf && cnf.class && cnf.class.defaultRenderer === "dagre-wrapper")
                return "classDiagram";
              return "class";
            }
            if (text2.match(/^\s*stateDiagram-v2/)) {
              return "stateDiagram";
            }
            if (text2.match(/^\s*stateDiagram/)) {
              if (cnf && cnf.class && cnf.state.defaultRenderer === "dagre-wrapper")
                return "stateDiagram";
              return "state";
            }
            if (text2.match(/^\s*flowchart/)) {
              return "flowchart-v2";
            }
            if (text2.match(/^\s*info/)) {
              return "info";
            }
            if (text2.match(/^\s*pie/)) {
              return "pie";
            }
            if (text2.match(/^\s*erDiagram/)) {
              return "er";
            }
            if (text2.match(/^\s*journey/)) {
              return "journey";
            }
            if (text2.match(/^\s*requirement/) || text2.match(/^\s*requirementDiagram/)) {
              return "requirement";
            }
            if (cnf && cnf.flowchart && cnf.flowchart.defaultRenderer === "dagre-wrapper")
              return "flowchart-v2";
            var k2 = Object.keys(detectors);
            for (var i = 0; i < k2.length; i++) {
              var key = k2[i];
              var dia = detectors[key];
              if (dia && dia.detector(text2)) {
                return key;
              }
            }
            return "flowchart";
          };
          var addDetector = function addDetector2(key, detector) {
            detectors[key] = {
              detector
            };
          };
          const __WEBPACK_DEFAULT_EXPORT__ = detectType;
        },
        "./src/diagram-api/diagram-orchestration.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _diagramAPI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/diagram-api/diagramAPI.js");
          var _diagrams_git_gitGraphAst__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/git/gitGraphAst.js");
          var _diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/git/gitGraphRenderer.js");
          var _diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/git/parser/gitGraph.jison");
          var _diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_1__);
          var _diagrams_git_gitGraphDetector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/git/gitGraphDetector.js");
          var addDiagrams = function addDiagrams2() {
            (0, _diagramAPI_js__WEBPACK_IMPORTED_MODULE_0__.registerDiagram)("gitGraph", _diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_1___default(), _diagrams_git_gitGraphAst__WEBPACK_IMPORTED_MODULE_2__["default"], _diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_3__["default"], void 0, _diagrams_git_gitGraphDetector__WEBPACK_IMPORTED_MODULE_4__["default"]);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = addDiagrams;
        },
        "./src/diagram-api/diagramAPI.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "getDiagrams": () => getDiagrams,
            "registerDiagram": () => registerDiagram
          });
          var _diagrams_c4_c4Db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/diagrams/c4/c4Db.js");
          var _diagrams_c4_c4Renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/c4/c4Renderer.js");
          var _diagrams_c4_parser_c4Diagram__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/c4/parser/c4Diagram.jison");
          var _diagrams_c4_parser_c4Diagram__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_c4_parser_c4Diagram__WEBPACK_IMPORTED_MODULE_2__);
          var _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/class/classDb.js");
          var _diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/class/classRenderer.js");
          var _diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/diagrams/class/classRenderer-v2.js");
          var _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/diagrams/class/parser/classDiagram.jison");
          var _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_5___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_5__);
          var _diagrams_er_erDb__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/diagrams/er/erDb.js");
          var _diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__2("./src/diagrams/er/erRenderer.js");
          var _diagrams_error_errorRenderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/diagrams/error/errorRenderer.js");
          var _diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__2("./src/diagrams/er/parser/erDiagram.jison");
          var _diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_10___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_10__);
          var _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__2("./src/diagrams/flowchart/flowDb.js");
          var _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__2("./src/diagrams/flowchart/flowRenderer.js");
          var _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__2("./src/diagrams/flowchart/flowRenderer-v2.js");
          var _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__2("./src/diagrams/flowchart/parser/flow.jison");
          var _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_13___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_13__);
          var _diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__2("./src/diagrams/gantt/ganttDb.js");
          var _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__2("./src/diagrams/gantt/ganttRenderer.js");
          var _diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__2("./src/diagrams/gantt/parser/gantt.jison");
          var _diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_17___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_17__);
          var _diagrams_info_infoDb__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__2("./src/diagrams/info/infoDb.js");
          var _diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__2("./src/diagrams/info/infoRenderer.js");
          var _diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__2("./src/diagrams/info/parser/info.jison");
          var _diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_20___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_20__);
          var _diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__2("./src/diagrams/pie/parser/pie.jison");
          var _diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_23___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_23__);
          var _diagrams_pie_pieDb__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__2("./src/diagrams/pie/pieDb.js");
          var _diagrams_pie_pieRenderer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__2("./src/diagrams/pie/pieRenderer.js");
          var _diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__2("./src/diagrams/requirement/parser/requirementDiagram.jison");
          var _diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_26___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_26__);
          var _diagrams_requirement_requirementDb__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__2("./src/diagrams/requirement/requirementDb.js");
          var _diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__2("./src/diagrams/requirement/requirementRenderer.js");
          var _diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__2("./src/diagrams/sequence/parser/sequenceDiagram.jison");
          var _diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_29___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_29__);
          var _diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__2("./src/diagrams/sequence/sequenceDb.js");
          var _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__2("./src/diagrams/sequence/sequenceRenderer.js");
          var _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__2("./src/diagrams/state/parser/stateDiagram.jison");
          var _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_32___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_32__);
          var _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__2("./src/diagrams/state/stateDb.js");
          var _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__2("./src/diagrams/state/stateRenderer.js");
          var _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__2("./src/diagrams/state/stateRenderer-v2.js");
          var _diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__2("./src/diagrams/user-journey/journeyDb.js");
          var _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__2("./src/diagrams/user-journey/journeyRenderer.js");
          var _diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__2("./src/diagrams/user-journey/parser/journey.jison");
          var _diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_36___default = /* @__PURE__ */ __webpack_require__2.n(_diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_36__);
          var _detectType__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__2("./src/diagram-api/detectType.js");
          var diagrams = {
            c4: {
              db: _diagrams_c4_c4Db__WEBPACK_IMPORTED_MODULE_0__["default"],
              renderer: _diagrams_c4_c4Renderer__WEBPACK_IMPORTED_MODULE_1__["default"],
              parser: _diagrams_c4_parser_c4Diagram__WEBPACK_IMPORTED_MODULE_2___default(),
              init: function init2(cnf) {
                _diagrams_c4_c4Renderer__WEBPACK_IMPORTED_MODULE_1__["default"].setConf(cnf.c4);
              }
            },
            class: {
              db: _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_3__["default"],
              renderer: _diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_4__["default"],
              parser: _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_5___default(),
              init: function init2(cnf) {
                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
                _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_3__["default"].clear();
              }
            },
            error: {
              db: {},
              renderer: _diagrams_error_errorRenderer__WEBPACK_IMPORTED_MODULE_6__["default"],
              parser: {
                parser: {
                  yy: {}
                },
                parse: function parse() {
                }
              },
              init: function init2() {
              }
            },
            classDiagram: {
              db: _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_3__["default"],
              renderer: _diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_7__["default"],
              parser: _diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_5___default(),
              init: function init2(cnf) {
                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
                _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_3__["default"].clear();
              }
            },
            er: {
              db: _diagrams_er_erDb__WEBPACK_IMPORTED_MODULE_8__["default"],
              renderer: _diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_9__["default"],
              parser: _diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_10___default()
            },
            flowchart: {
              db: _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_11__["default"],
              renderer: _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_12__["default"],
              parser: _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_13___default(),
              init: function init2(cnf) {
                _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_12__["default"].setConf(cnf.flowchart);
                cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
                _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_11__["default"].clear();
                _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_11__["default"].setGen("gen-1");
              }
            },
            "flowchart-v2": {
              db: _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_11__["default"],
              renderer: _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_14__["default"],
              parser: _diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_13___default(),
              init: function init2(cnf) {
                _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_14__["default"].setConf(cnf.flowchart);
                cnf.flowchart.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
                _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_11__["default"].clear();
                _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_11__["default"].setGen("gen-2");
              }
            },
            gantt: {
              db: _diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_15__["default"],
              renderer: _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_16__["default"],
              parser: _diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_17___default(),
              init: function init2(cnf) {
                _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_16__["default"].setConf(cnf.gantt);
              }
            },
            info: {
              db: _diagrams_info_infoDb__WEBPACK_IMPORTED_MODULE_18__["default"],
              renderer: _diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_19__["default"],
              parser: _diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_20___default()
            },
            pie: {
              db: _diagrams_pie_pieDb__WEBPACK_IMPORTED_MODULE_21__["default"],
              renderer: _diagrams_pie_pieRenderer__WEBPACK_IMPORTED_MODULE_22__["default"],
              parser: _diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_23___default()
            },
            requirement: {
              db: _diagrams_requirement_requirementDb__WEBPACK_IMPORTED_MODULE_24__["default"],
              renderer: _diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_25__["default"],
              parser: _diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_26___default()
            },
            sequence: {
              db: _diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_27__["default"],
              renderer: _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_28__["default"],
              parser: _diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_29___default(),
              init: function init2(cnf) {
                cnf.sequence.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
                if (cnf.sequenceDiagram) {
                  _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_28__["default"].setConf(Object.assign(cnf.sequence, cnf.sequenceDiagram));
                  console.error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");
                }
                _diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_27__["default"].setWrap(cnf.wrap);
                _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_28__["default"].setConf(cnf.sequence);
              }
            },
            state: {
              db: _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_30__["default"],
              renderer: _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_31__["default"],
              parser: _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_32___default(),
              init: function init2(cnf) {
                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
                _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_30__["default"].clear();
              }
            },
            stateDiagram: {
              db: _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_30__["default"],
              renderer: _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_33__["default"],
              parser: _diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_32___default(),
              init: function init2(cnf) {
                cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;
                _diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_30__["default"].clear();
              }
            },
            journey: {
              db: _diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_34__["default"],
              renderer: _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_35__["default"],
              parser: _diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_36___default(),
              init: function init2(cnf) {
                _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_35__["default"].setConf(cnf.journey);
                _diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_34__["default"].clear();
              }
            }
          };
          var registerDiagram = function registerDiagram2(id2, parser2, db, renderer, init2, detector) {
            diagrams[id2] = {
              parser: parser2,
              db,
              renderer,
              init: init2
            };
            (0, _detectType__WEBPACK_IMPORTED_MODULE_37__.addDetector)(id2, detector);
          };
          var getDiagrams = function getDiagrams2() {
            return diagrams;
          };
        },
        "./src/diagrams/c4/c4Db.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "ARROWTYPE": () => ARROWTYPE,
            "LINETYPE": () => LINETYPE,
            "PLACEMENT": () => PLACEMENT,
            "addComponent": () => addComponent,
            "addContainer": () => addContainer,
            "addContainerBoundary": () => addContainerBoundary,
            "addDeploymentNode": () => addDeploymentNode,
            "addPersonOrSystem": () => addPersonOrSystem,
            "addPersonOrSystemBoundary": () => addPersonOrSystemBoundary,
            "addRel": () => addRel,
            "autoWrap": () => autoWrap,
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "getBoundarys": () => getBoundarys,
            "getC4BoundaryInRow": () => getC4BoundaryInRow,
            "getC4Shape": () => getC4Shape,
            "getC4ShapeArray": () => getC4ShapeArray,
            "getC4ShapeInRow": () => getC4ShapeInRow,
            "getC4ShapeKeys": () => getC4ShapeKeys,
            "getC4Type": () => getC4Type,
            "getCurrentBoundaryParse": () => getCurrentBoundaryParse,
            "getParentBoundaryParse": () => getParentBoundaryParse,
            "getRels": () => getRels,
            "getTitle": () => getTitle,
            "parseDirective": () => parseDirective,
            "popBoundaryParseStack": () => popBoundaryParseStack,
            "setC4Type": () => setC4Type,
            "setTitle": () => setTitle,
            "setWrap": () => setWrap,
            "updateElStyle": () => updateElStyle,
            "updateLayoutConfig": () => updateLayoutConfig,
            "updateRelStyle": () => updateRelStyle
          });
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/mermaidAPI.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/commonDb.js");
          function _slicedToArray(arr, i) {
            return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
          }
          function _nonIterableRest() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          function _iterableToArrayLimit(arr, i) {
            var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
            if (_i == null)
              return;
            var _arr = [];
            var _n = true;
            var _d = false;
            var _s, _e;
            try {
              for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
                _arr.push(_s.value);
                if (i && _arr.length === i)
                  break;
              }
            } catch (err) {
              _d = true;
              _e = err;
            } finally {
              try {
                if (!_n && _i["return"] != null)
                  _i["return"]();
              } finally {
                if (_d)
                  throw _e;
              }
            }
            return _arr;
          }
          function _arrayWithHoles(arr) {
            if (Array.isArray(arr))
              return arr;
          }
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          var c4ShapeArray = [];
          var boundaryParseStack = [""];
          var currentBoundaryParse = "global";
          var parentBoundaryParse = "";
          var boundarys = [{
            alias: "global",
            label: {
              text: "global"
            },
            type: {
              text: "global"
            },
            tags: null,
            link: null,
            parentBoundary: ""
          }];
          var rels = [];
          var title = "";
          var wrapEnabled = false;
          var c4ShapeInRow = 4;
          var c4BoundaryInRow = 2;
          var c4Type;
          var getC4Type = function getC4Type2() {
            return c4Type;
          };
          var setC4Type = function setC4Type2(c4TypeParam) {
            var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_0__.sanitizeText)(c4TypeParam, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig());
            c4Type = sanitizedText;
          };
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__["default"].parseDirective(this, statement, context, type2);
          };
          var addRel = function addRel2(type2, from, to, label, techn, descr, sprite, tags, link2) {
            if (type2 === void 0 || type2 === null || from === void 0 || from === null || to === void 0 || to === null || label === void 0 || label === null)
              return;
            var rel = {};
            var old = rels.find(function(rel2) {
              return rel2.from === from && rel2.to === to;
            });
            if (old) {
              rel = old;
            } else {
              rels.push(rel);
            }
            rel.type = type2;
            rel.from = from;
            rel.to = to;
            rel.label = {
              text: label
            };
            if (techn === void 0 || techn === null) {
              rel.techn = {
                text: ""
              };
            } else {
              if (_typeof(techn) === "object") {
                var _Object$entries$ = _slicedToArray(Object.entries(techn)[0], 2), key = _Object$entries$[0], value = _Object$entries$[1];
                rel[key] = {
                  text: value
                };
              } else {
                rel.techn = {
                  text: techn
                };
              }
            }
            if (descr === void 0 || descr === null) {
              rel.descr = {
                text: ""
              };
            } else {
              if (_typeof(descr) === "object") {
                var _Object$entries$2 = _slicedToArray(Object.entries(descr)[0], 2), _key = _Object$entries$2[0], _value = _Object$entries$2[1];
                rel[_key] = {
                  text: _value
                };
              } else {
                rel.descr = {
                  text: descr
                };
              }
            }
            if (_typeof(sprite) === "object") {
              var _Object$entries$3 = _slicedToArray(Object.entries(sprite)[0], 2), _key2 = _Object$entries$3[0], _value2 = _Object$entries$3[1];
              rel[_key2] = _value2;
            } else {
              rel.sprite = sprite;
            }
            if (_typeof(tags) === "object") {
              var _Object$entries$4 = _slicedToArray(Object.entries(tags)[0], 2), _key3 = _Object$entries$4[0], _value3 = _Object$entries$4[1];
              rel[_key3] = _value3;
            } else {
              rel.tags = tags;
            }
            if (_typeof(link2) === "object") {
              var _Object$entries$5 = _slicedToArray(Object.entries(link2)[0], 2), _key4 = _Object$entries$5[0], _value4 = _Object$entries$5[1];
              rel[_key4] = _value4;
            } else {
              rel.link = link2;
            }
            rel.wrap = autoWrap();
          };
          var addPersonOrSystem = function addPersonOrSystem2(typeC4Shape, alias, label, descr, sprite, tags, link2) {
            if (alias === null || label === null)
              return;
            var personOrSystem = {};
            var old = c4ShapeArray.find(function(personOrSystem2) {
              return personOrSystem2.alias === alias;
            });
            if (old && alias === old.alias) {
              personOrSystem = old;
            } else {
              personOrSystem.alias = alias;
              c4ShapeArray.push(personOrSystem);
            }
            if (label === void 0 || label === null) {
              personOrSystem.label = {
                text: ""
              };
            } else {
              personOrSystem.label = {
                text: label
              };
            }
            if (descr === void 0 || descr === null) {
              personOrSystem.descr = {
                text: ""
              };
            } else {
              if (_typeof(descr) === "object") {
                var _Object$entries$6 = _slicedToArray(Object.entries(descr)[0], 2), key = _Object$entries$6[0], value = _Object$entries$6[1];
                personOrSystem[key] = {
                  text: value
                };
              } else {
                personOrSystem.descr = {
                  text: descr
                };
              }
            }
            if (_typeof(sprite) === "object") {
              var _Object$entries$7 = _slicedToArray(Object.entries(sprite)[0], 2), _key5 = _Object$entries$7[0], _value5 = _Object$entries$7[1];
              personOrSystem[_key5] = _value5;
            } else {
              personOrSystem.sprite = sprite;
            }
            if (_typeof(tags) === "object") {
              var _Object$entries$8 = _slicedToArray(Object.entries(tags)[0], 2), _key6 = _Object$entries$8[0], _value6 = _Object$entries$8[1];
              personOrSystem[_key6] = _value6;
            } else {
              personOrSystem.tags = tags;
            }
            if (_typeof(link2) === "object") {
              var _Object$entries$9 = _slicedToArray(Object.entries(link2)[0], 2), _key7 = _Object$entries$9[0], _value7 = _Object$entries$9[1];
              personOrSystem[_key7] = _value7;
            } else {
              personOrSystem.link = link2;
            }
            personOrSystem.typeC4Shape = {
              text: typeC4Shape
            };
            personOrSystem.parentBoundary = currentBoundaryParse;
            personOrSystem.wrap = autoWrap();
          };
          var addContainer = function addContainer2(typeC4Shape, alias, label, techn, descr, sprite, tags, link2) {
            if (alias === null || label === null)
              return;
            var container = {};
            var old = c4ShapeArray.find(function(container2) {
              return container2.alias === alias;
            });
            if (old && alias === old.alias) {
              container = old;
            } else {
              container.alias = alias;
              c4ShapeArray.push(container);
            }
            if (label === void 0 || label === null) {
              container.label = {
                text: ""
              };
            } else {
              container.label = {
                text: label
              };
            }
            if (techn === void 0 || techn === null) {
              container.techn = {
                text: ""
              };
            } else {
              if (_typeof(techn) === "object") {
                var _Object$entries$10 = _slicedToArray(Object.entries(techn)[0], 2), key = _Object$entries$10[0], value = _Object$entries$10[1];
                container[key] = {
                  text: value
                };
              } else {
                container.techn = {
                  text: techn
                };
              }
            }
            if (descr === void 0 || descr === null) {
              container.descr = {
                text: ""
              };
            } else {
              if (_typeof(descr) === "object") {
                var _Object$entries$11 = _slicedToArray(Object.entries(descr)[0], 2), _key8 = _Object$entries$11[0], _value8 = _Object$entries$11[1];
                container[_key8] = {
                  text: _value8
                };
              } else {
                container.descr = {
                  text: descr
                };
              }
            }
            if (_typeof(sprite) === "object") {
              var _Object$entries$12 = _slicedToArray(Object.entries(sprite)[0], 2), _key9 = _Object$entries$12[0], _value9 = _Object$entries$12[1];
              container[_key9] = _value9;
            } else {
              container.sprite = sprite;
            }
            if (_typeof(tags) === "object") {
              var _Object$entries$13 = _slicedToArray(Object.entries(tags)[0], 2), _key10 = _Object$entries$13[0], _value10 = _Object$entries$13[1];
              container[_key10] = _value10;
            } else {
              container.tags = tags;
            }
            if (_typeof(link2) === "object") {
              var _Object$entries$14 = _slicedToArray(Object.entries(link2)[0], 2), _key11 = _Object$entries$14[0], _value11 = _Object$entries$14[1];
              container[_key11] = _value11;
            } else {
              container.link = link2;
            }
            container.wrap = autoWrap();
            container.typeC4Shape = {
              text: typeC4Shape
            };
            container.parentBoundary = currentBoundaryParse;
          };
          var addComponent = function addComponent2(typeC4Shape, alias, label, techn, descr, sprite, tags, link2) {
            if (alias === null || label === null)
              return;
            var component = {};
            var old = c4ShapeArray.find(function(component2) {
              return component2.alias === alias;
            });
            if (old && alias === old.alias) {
              component = old;
            } else {
              component.alias = alias;
              c4ShapeArray.push(component);
            }
            if (label === void 0 || label === null) {
              component.label = {
                text: ""
              };
            } else {
              component.label = {
                text: label
              };
            }
            if (techn === void 0 || techn === null) {
              component.techn = {
                text: ""
              };
            } else {
              if (_typeof(techn) === "object") {
                var _Object$entries$15 = _slicedToArray(Object.entries(techn)[0], 2), key = _Object$entries$15[0], value = _Object$entries$15[1];
                component[key] = {
                  text: value
                };
              } else {
                component.techn = {
                  text: techn
                };
              }
            }
            if (descr === void 0 || descr === null) {
              component.descr = {
                text: ""
              };
            } else {
              if (_typeof(descr) === "object") {
                var _Object$entries$16 = _slicedToArray(Object.entries(descr)[0], 2), _key12 = _Object$entries$16[0], _value12 = _Object$entries$16[1];
                component[_key12] = {
                  text: _value12
                };
              } else {
                component.descr = {
                  text: descr
                };
              }
            }
            if (_typeof(sprite) === "object") {
              var _Object$entries$17 = _slicedToArray(Object.entries(sprite)[0], 2), _key13 = _Object$entries$17[0], _value13 = _Object$entries$17[1];
              component[_key13] = _value13;
            } else {
              component.sprite = sprite;
            }
            if (_typeof(tags) === "object") {
              var _Object$entries$18 = _slicedToArray(Object.entries(tags)[0], 2), _key14 = _Object$entries$18[0], _value14 = _Object$entries$18[1];
              component[_key14] = _value14;
            } else {
              component.tags = tags;
            }
            if (_typeof(link2) === "object") {
              var _Object$entries$19 = _slicedToArray(Object.entries(link2)[0], 2), _key15 = _Object$entries$19[0], _value15 = _Object$entries$19[1];
              component[_key15] = _value15;
            } else {
              component.link = link2;
            }
            component.wrap = autoWrap();
            component.typeC4Shape = {
              text: typeC4Shape
            };
            component.parentBoundary = currentBoundaryParse;
          };
          var addPersonOrSystemBoundary = function addPersonOrSystemBoundary2(alias, label, type2, tags, link2) {
            if (alias === null || label === null)
              return;
            var boundary = {};
            var old = boundarys.find(function(boundary2) {
              return boundary2.alias === alias;
            });
            if (old && alias === old.alias) {
              boundary = old;
            } else {
              boundary.alias = alias;
              boundarys.push(boundary);
            }
            if (label === void 0 || label === null) {
              boundary.label = {
                text: ""
              };
            } else {
              boundary.label = {
                text: label
              };
            }
            if (type2 === void 0 || type2 === null) {
              boundary.type = {
                text: "system"
              };
            } else {
              if (_typeof(type2) === "object") {
                var _Object$entries$20 = _slicedToArray(Object.entries(type2)[0], 2), key = _Object$entries$20[0], value = _Object$entries$20[1];
                boundary[key] = {
                  text: value
                };
              } else {
                boundary.type = {
                  text: type2
                };
              }
            }
            if (_typeof(tags) === "object") {
              var _Object$entries$21 = _slicedToArray(Object.entries(tags)[0], 2), _key16 = _Object$entries$21[0], _value16 = _Object$entries$21[1];
              boundary[_key16] = _value16;
            } else {
              boundary.tags = tags;
            }
            if (_typeof(link2) === "object") {
              var _Object$entries$22 = _slicedToArray(Object.entries(link2)[0], 2), _key17 = _Object$entries$22[0], _value17 = _Object$entries$22[1];
              boundary[_key17] = _value17;
            } else {
              boundary.link = link2;
            }
            boundary.parentBoundary = currentBoundaryParse;
            boundary.wrap = autoWrap();
            parentBoundaryParse = currentBoundaryParse;
            currentBoundaryParse = alias;
            boundaryParseStack.push(parentBoundaryParse);
          };
          var addContainerBoundary = function addContainerBoundary2(alias, label, type2, tags, link2) {
            if (alias === null || label === null)
              return;
            var boundary = {};
            var old = boundarys.find(function(boundary2) {
              return boundary2.alias === alias;
            });
            if (old && alias === old.alias) {
              boundary = old;
            } else {
              boundary.alias = alias;
              boundarys.push(boundary);
            }
            if (label === void 0 || label === null) {
              boundary.label = {
                text: ""
              };
            } else {
              boundary.label = {
                text: label
              };
            }
            if (type2 === void 0 || type2 === null) {
              boundary.type = {
                text: "container"
              };
            } else {
              if (_typeof(type2) === "object") {
                var _Object$entries$23 = _slicedToArray(Object.entries(type2)[0], 2), key = _Object$entries$23[0], value = _Object$entries$23[1];
                boundary[key] = {
                  text: value
                };
              } else {
                boundary.type = {
                  text: type2
                };
              }
            }
            if (_typeof(tags) === "object") {
              var _Object$entries$24 = _slicedToArray(Object.entries(tags)[0], 2), _key18 = _Object$entries$24[0], _value18 = _Object$entries$24[1];
              boundary[_key18] = _value18;
            } else {
              boundary.tags = tags;
            }
            if (_typeof(link2) === "object") {
              var _Object$entries$25 = _slicedToArray(Object.entries(link2)[0], 2), _key19 = _Object$entries$25[0], _value19 = _Object$entries$25[1];
              boundary[_key19] = _value19;
            } else {
              boundary.link = link2;
            }
            boundary.parentBoundary = currentBoundaryParse;
            boundary.wrap = autoWrap();
            parentBoundaryParse = currentBoundaryParse;
            currentBoundaryParse = alias;
            boundaryParseStack.push(parentBoundaryParse);
          };
          var addDeploymentNode = function addDeploymentNode2(nodeType, alias, label, type2, descr, sprite, tags, link2) {
            if (alias === null || label === null)
              return;
            var boundary = {};
            var old = boundarys.find(function(boundary2) {
              return boundary2.alias === alias;
            });
            if (old && alias === old.alias) {
              boundary = old;
            } else {
              boundary.alias = alias;
              boundarys.push(boundary);
            }
            if (label === void 0 || label === null) {
              boundary.label = {
                text: ""
              };
            } else {
              boundary.label = {
                text: label
              };
            }
            if (type2 === void 0 || type2 === null) {
              boundary.type = {
                text: "node"
              };
            } else {
              if (_typeof(type2) === "object") {
                var _Object$entries$26 = _slicedToArray(Object.entries(type2)[0], 2), key = _Object$entries$26[0], value = _Object$entries$26[1];
                boundary[key] = {
                  text: value
                };
              } else {
                boundary.type = {
                  text: type2
                };
              }
            }
            if (descr === void 0 || descr === null) {
              boundary.descr = {
                text: ""
              };
            } else {
              if (_typeof(descr) === "object") {
                var _Object$entries$27 = _slicedToArray(Object.entries(descr)[0], 2), _key20 = _Object$entries$27[0], _value20 = _Object$entries$27[1];
                boundary[_key20] = {
                  text: _value20
                };
              } else {
                boundary.descr = {
                  text: descr
                };
              }
            }
            if (_typeof(tags) === "object") {
              var _Object$entries$28 = _slicedToArray(Object.entries(tags)[0], 2), _key21 = _Object$entries$28[0], _value21 = _Object$entries$28[1];
              boundary[_key21] = _value21;
            } else {
              boundary.tags = tags;
            }
            if (_typeof(link2) === "object") {
              var _Object$entries$29 = _slicedToArray(Object.entries(link2)[0], 2), _key22 = _Object$entries$29[0], _value22 = _Object$entries$29[1];
              boundary[_key22] = _value22;
            } else {
              boundary.link = link2;
            }
            boundary.nodeType = nodeType;
            boundary.parentBoundary = currentBoundaryParse;
            boundary.wrap = autoWrap();
            parentBoundaryParse = currentBoundaryParse;
            currentBoundaryParse = alias;
            boundaryParseStack.push(parentBoundaryParse);
          };
          var popBoundaryParseStack = function popBoundaryParseStack2() {
            currentBoundaryParse = parentBoundaryParse;
            boundaryParseStack.pop();
            parentBoundaryParse = boundaryParseStack.pop();
            boundaryParseStack.push(parentBoundaryParse);
          };
          var updateElStyle = function updateElStyle2(typeC4Shape, elementName, bgColor, fontColor, borderColor, shadowing, shape, sprite, techn, legendText, legendSprite) {
            var old = c4ShapeArray.find(function(element) {
              return element.alias === elementName;
            });
            if (old === void 0) {
              old = boundarys.find(function(element) {
                return element.alias === elementName;
              });
              if (old === void 0) {
                return;
              }
            }
            if (bgColor !== void 0 && bgColor !== null) {
              if (_typeof(bgColor) === "object") {
                var _Object$entries$30 = _slicedToArray(Object.entries(bgColor)[0], 2), key = _Object$entries$30[0], value = _Object$entries$30[1];
                old[key] = value;
              } else {
                old.bgColor = bgColor;
              }
            }
            if (fontColor !== void 0 && fontColor !== null) {
              if (_typeof(fontColor) === "object") {
                var _Object$entries$31 = _slicedToArray(Object.entries(fontColor)[0], 2), _key23 = _Object$entries$31[0], _value23 = _Object$entries$31[1];
                old[_key23] = _value23;
              } else {
                old.fontColor = fontColor;
              }
            }
            if (borderColor !== void 0 && borderColor !== null) {
              if (_typeof(borderColor) === "object") {
                var _Object$entries$32 = _slicedToArray(Object.entries(borderColor)[0], 2), _key24 = _Object$entries$32[0], _value24 = _Object$entries$32[1];
                old[_key24] = _value24;
              } else {
                old.borderColor = borderColor;
              }
            }
            if (shadowing !== void 0 && shadowing !== null) {
              if (_typeof(shadowing) === "object") {
                var _Object$entries$33 = _slicedToArray(Object.entries(shadowing)[0], 2), _key25 = _Object$entries$33[0], _value25 = _Object$entries$33[1];
                old[_key25] = _value25;
              } else {
                old.shadowing = shadowing;
              }
            }
            if (shape !== void 0 && shape !== null) {
              if (_typeof(shape) === "object") {
                var _Object$entries$34 = _slicedToArray(Object.entries(shape)[0], 2), _key26 = _Object$entries$34[0], _value26 = _Object$entries$34[1];
                old[_key26] = _value26;
              } else {
                old.shape = shape;
              }
            }
            if (sprite !== void 0 && sprite !== null) {
              if (_typeof(sprite) === "object") {
                var _Object$entries$35 = _slicedToArray(Object.entries(sprite)[0], 2), _key27 = _Object$entries$35[0], _value27 = _Object$entries$35[1];
                old[_key27] = _value27;
              } else {
                old.sprite = sprite;
              }
            }
            if (techn !== void 0 && techn !== null) {
              if (_typeof(techn) === "object") {
                var _Object$entries$36 = _slicedToArray(Object.entries(techn)[0], 2), _key28 = _Object$entries$36[0], _value28 = _Object$entries$36[1];
                old[_key28] = _value28;
              } else {
                old.techn = techn;
              }
            }
            if (legendText !== void 0 && legendText !== null) {
              if (_typeof(legendText) === "object") {
                var _Object$entries$37 = _slicedToArray(Object.entries(legendText)[0], 2), _key29 = _Object$entries$37[0], _value29 = _Object$entries$37[1];
                old[_key29] = _value29;
              } else {
                old.legendText = legendText;
              }
            }
            if (legendSprite !== void 0 && legendSprite !== null) {
              if (_typeof(legendSprite) === "object") {
                var _Object$entries$38 = _slicedToArray(Object.entries(legendSprite)[0], 2), _key30 = _Object$entries$38[0], _value30 = _Object$entries$38[1];
                old[_key30] = _value30;
              } else {
                old.legendSprite = legendSprite;
              }
            }
          };
          var updateRelStyle = function updateRelStyle2(typeC4Shape, from, to, textColor, lineColor, offsetX, offsetY) {
            var old = rels.find(function(rel) {
              return rel.from === from && rel.to === to;
            });
            if (old === void 0) {
              return;
            }
            if (textColor !== void 0 && textColor !== null) {
              if (_typeof(textColor) === "object") {
                var _Object$entries$39 = _slicedToArray(Object.entries(textColor)[0], 2), key = _Object$entries$39[0], value = _Object$entries$39[1];
                old[key] = value;
              } else {
                old.textColor = textColor;
              }
            }
            if (lineColor !== void 0 && lineColor !== null) {
              if (_typeof(lineColor) === "object") {
                var _Object$entries$40 = _slicedToArray(Object.entries(lineColor)[0], 2), _key31 = _Object$entries$40[0], _value31 = _Object$entries$40[1];
                old[_key31] = _value31;
              } else {
                old.lineColor = lineColor;
              }
            }
            if (offsetX !== void 0 && offsetX !== null) {
              if (_typeof(offsetX) === "object") {
                var _Object$entries$41 = _slicedToArray(Object.entries(offsetX)[0], 2), _key32 = _Object$entries$41[0], _value32 = _Object$entries$41[1];
                old[_key32] = parseInt(_value32);
              } else {
                old.offsetX = parseInt(offsetX);
              }
            }
            if (offsetY !== void 0 && offsetY !== null) {
              if (_typeof(offsetY) === "object") {
                var _Object$entries$42 = _slicedToArray(Object.entries(offsetY)[0], 2), _key33 = _Object$entries$42[0], _value33 = _Object$entries$42[1];
                old[_key33] = parseInt(_value33);
              } else {
                old.offsetY = parseInt(offsetY);
              }
            }
          };
          var updateLayoutConfig = function updateLayoutConfig2(typeC4Shape, c4ShapeInRowParam, c4BoundaryInRowParam) {
            var c4ShapeInRowValue = c4ShapeInRow;
            var c4BoundaryInRowValue = c4BoundaryInRow;
            if (_typeof(c4ShapeInRowParam) === "object") {
              var _Object$entries$43 = _slicedToArray(Object.entries(c4ShapeInRowParam)[0], 2);
              _Object$entries$43[0];
              var value = _Object$entries$43[1];
              c4ShapeInRowValue = parseInt(value);
            } else {
              c4ShapeInRowValue = parseInt(c4ShapeInRowParam);
            }
            if (_typeof(c4BoundaryInRowParam) === "object") {
              var _Object$entries$44 = _slicedToArray(Object.entries(c4BoundaryInRowParam)[0], 2);
              _Object$entries$44[0];
              var _value34 = _Object$entries$44[1];
              c4BoundaryInRowValue = parseInt(_value34);
            } else {
              c4BoundaryInRowValue = parseInt(c4BoundaryInRowParam);
            }
            if (c4ShapeInRowValue >= 1)
              c4ShapeInRow = c4ShapeInRowValue;
            if (c4BoundaryInRowValue >= 1)
              c4BoundaryInRow = c4BoundaryInRowValue;
          };
          var getC4ShapeInRow = function getC4ShapeInRow2() {
            return c4ShapeInRow;
          };
          var getC4BoundaryInRow = function getC4BoundaryInRow2() {
            return c4BoundaryInRow;
          };
          var getCurrentBoundaryParse = function getCurrentBoundaryParse2() {
            return currentBoundaryParse;
          };
          var getParentBoundaryParse = function getParentBoundaryParse2() {
            return parentBoundaryParse;
          };
          var getC4ShapeArray = function getC4ShapeArray2(parentBoundary) {
            if (parentBoundary === void 0 || parentBoundary === null)
              return c4ShapeArray;
            else
              return c4ShapeArray.filter(function(personOrSystem) {
                return personOrSystem.parentBoundary === parentBoundary;
              });
          };
          var getC4Shape = function getC4Shape2(alias) {
            return c4ShapeArray.find(function(personOrSystem) {
              return personOrSystem.alias === alias;
            });
          };
          var getC4ShapeKeys = function getC4ShapeKeys2(parentBoundary) {
            return Object.keys(getC4ShapeArray(parentBoundary));
          };
          var getBoundarys = function getBoundarys2(parentBoundary) {
            if (parentBoundary === void 0 || parentBoundary === null)
              return boundarys;
            else
              return boundarys.filter(function(boundary) {
                return boundary.parentBoundary === parentBoundary;
              });
          };
          var getRels = function getRels2() {
            return rels;
          };
          var getTitle = function getTitle2() {
            return title;
          };
          var setWrap = function setWrap2(wrapSetting) {
            wrapEnabled = wrapSetting;
          };
          var autoWrap = function autoWrap2() {
            return wrapEnabled;
          };
          var clear = function clear2() {
            c4ShapeArray = [];
            boundarys = [{
              alias: "global",
              label: {
                text: "global"
              },
              type: {
                text: "global"
              },
              tags: null,
              link: null,
              parentBoundary: ""
            }];
            parentBoundaryParse = "";
            currentBoundaryParse = "global";
            boundaryParseStack = [""];
            rels = [];
            boundaryParseStack = [""];
            title = "";
            wrapEnabled = false;
            c4ShapeInRow = 4;
            c4BoundaryInRow = 2;
          };
          var LINETYPE = {
            SOLID: 0,
            DOTTED: 1,
            NOTE: 2,
            SOLID_CROSS: 3,
            DOTTED_CROSS: 4,
            SOLID_OPEN: 5,
            DOTTED_OPEN: 6,
            LOOP_START: 10,
            LOOP_END: 11,
            ALT_START: 12,
            ALT_ELSE: 13,
            ALT_END: 14,
            OPT_START: 15,
            OPT_END: 16,
            ACTIVE_START: 17,
            ACTIVE_END: 18,
            PAR_START: 19,
            PAR_AND: 20,
            PAR_END: 21,
            RECT_START: 22,
            RECT_END: 23,
            SOLID_POINT: 24,
            DOTTED_POINT: 25
          };
          var ARROWTYPE = {
            FILLED: 0,
            OPEN: 1
          };
          var PLACEMENT = {
            LEFTOF: 0,
            RIGHTOF: 1,
            OVER: 2
          };
          var setTitle = function setTitle2(txt) {
            var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_0__.sanitizeText)(txt, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig());
            title = sanitizedText;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            addPersonOrSystem,
            addPersonOrSystemBoundary,
            addContainer,
            addContainerBoundary,
            addComponent,
            addDeploymentNode,
            popBoundaryParseStack,
            addRel,
            updateElStyle,
            updateRelStyle,
            updateLayoutConfig,
            autoWrap,
            setWrap,
            getC4ShapeArray,
            getC4Shape,
            getC4ShapeKeys,
            getBoundarys,
            getCurrentBoundaryParse,
            getParentBoundaryParse,
            getRels,
            getTitle,
            getC4Type,
            getC4ShapeInRow,
            getC4BoundaryInRow,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_3__.setAccDescription,
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().c4;
            },
            clear,
            LINETYPE,
            ARROWTYPE,
            PLACEMENT,
            setTitle,
            setC4Type
          };
        },
        "./src/diagrams/c4/c4Renderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "drawBoundary": () => drawBoundary,
            "drawC4ShapeArray": () => drawC4ShapeArray,
            "drawRels": () => drawRels,
            "setConf": () => setConf
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _svgDraw__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/diagrams/c4/svgDraw.js");
          var _logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/logger.js");
          var _parser_c4Diagram__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/c4/parser/c4Diagram.jison");
          var _common_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _c4Db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/c4/c4Db.js");
          var _config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/config.js");
          var _assignWithDepth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/assignWithDepth.js");
          var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/utils.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__2("./src/accessibility.js");
          function _createForOfIteratorHelper(o, allowArrayLike) {
            var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
            if (!it) {
              if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
                if (it)
                  o = it;
                var i = 0;
                var F = function F2() {
                };
                return { s: F, n: function n() {
                  if (i >= o.length)
                    return { done: true };
                  return { done: false, value: o[i++] };
                }, e: function e(_e) {
                  throw _e;
                }, f: F };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var normalCompletion = true, didErr = false, err;
            return { s: function s2() {
              it = it.call(o);
            }, n: function n() {
              var step2 = it.next();
              normalCompletion = step2.done;
              return step2;
            }, e: function e(_e2) {
              didErr = true;
              err = _e2;
            }, f: function f() {
              try {
                if (!normalCompletion && it.return != null)
                  it.return();
              } finally {
                if (didErr)
                  throw err;
              }
            } };
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          var globalBoundaryMaxX = 0, globalBoundaryMaxY = 0;
          var c4ShapeInRow = 4;
          var c4BoundaryInRow = 2;
          _parser_c4Diagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy = _c4Db__WEBPACK_IMPORTED_MODULE_2__["default"];
          var conf = {};
          var Bounds = /* @__PURE__ */ function() {
            function Bounds2(diagObj) {
              _classCallCheck(this, Bounds2);
              this.name = "";
              this.data = {};
              this.data.startx = void 0;
              this.data.stopx = void 0;
              this.data.starty = void 0;
              this.data.stopy = void 0;
              this.data.widthLimit = void 0;
              this.nextData = {};
              this.nextData.startx = void 0;
              this.nextData.stopx = void 0;
              this.nextData.starty = void 0;
              this.nextData.stopy = void 0;
              this.nextData.cnt = 0;
              setConf(diagObj.db.getConfig());
            }
            _createClass(Bounds2, [{
              key: "setData",
              value: function setData(startx, stopx, starty, stopy) {
                this.nextData.startx = this.data.startx = startx;
                this.nextData.stopx = this.data.stopx = stopx;
                this.nextData.starty = this.data.starty = starty;
                this.nextData.stopy = this.data.stopy = stopy;
              }
            }, {
              key: "updateVal",
              value: function updateVal(obj, key, val, fun) {
                if (typeof obj[key] === "undefined") {
                  obj[key] = val;
                } else {
                  obj[key] = fun(val, obj[key]);
                }
              }
            }, {
              key: "insert",
              value: function insert(c4Shape) {
                this.nextData.cnt = this.nextData.cnt + 1;
                var _startx = this.nextData.startx === this.nextData.stopx ? this.nextData.stopx + c4Shape.margin : this.nextData.stopx + c4Shape.margin * 2;
                var _stopx = _startx + c4Shape.width;
                var _starty = this.nextData.starty + c4Shape.margin * 2;
                var _stopy = _starty + c4Shape.height;
                if (_startx >= this.data.widthLimit || _stopx >= this.data.widthLimit || this.nextData.cnt > c4ShapeInRow) {
                  _startx = this.nextData.startx + c4Shape.margin + conf.nextLinePaddingX;
                  _starty = this.nextData.stopy + c4Shape.margin * 2;
                  this.nextData.stopx = _stopx = _startx + c4Shape.width;
                  this.nextData.starty = this.nextData.stopy;
                  this.nextData.stopy = _stopy = _starty + c4Shape.height;
                  this.nextData.cnt = 1;
                }
                c4Shape.x = _startx;
                c4Shape.y = _starty;
                this.updateVal(this.data, "startx", _startx, Math.min);
                this.updateVal(this.data, "starty", _starty, Math.min);
                this.updateVal(this.data, "stopx", _stopx, Math.max);
                this.updateVal(this.data, "stopy", _stopy, Math.max);
                this.updateVal(this.nextData, "startx", _startx, Math.min);
                this.updateVal(this.nextData, "starty", _starty, Math.min);
                this.updateVal(this.nextData, "stopx", _stopx, Math.max);
                this.updateVal(this.nextData, "stopy", _stopy, Math.max);
              }
            }, {
              key: "init",
              value: function init2(diagObj) {
                this.name = "";
                this.data = {
                  startx: void 0,
                  stopx: void 0,
                  starty: void 0,
                  stopy: void 0,
                  widthLimit: void 0
                };
                this.nextData = {
                  startx: void 0,
                  stopx: void 0,
                  starty: void 0,
                  stopy: void 0,
                  cnt: 0
                };
                setConf(diagObj.db.getConfig());
              }
            }, {
              key: "bumpLastMargin",
              value: function bumpLastMargin(margin) {
                this.data.stopx += margin;
                this.data.stopy += margin;
              }
            }]);
            return Bounds2;
          }();
          var setConf = function setConf2(cnf) {
            (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_3__["default"])(conf, cnf);
            if (cnf.fontFamily) {
              conf.personFontFamily = conf.systemFontFamily = conf.messageFontFamily = cnf.fontFamily;
            }
            if (cnf.fontSize) {
              conf.personFontSize = conf.systemFontSize = conf.messageFontSize = cnf.fontSize;
            }
            if (cnf.fontWeight) {
              conf.personFontWeight = conf.systemFontWeight = conf.messageFontWeight = cnf.fontWeight;
            }
          };
          var c4ShapeFont = function c4ShapeFont2(cnf, typeC4Shape) {
            return {
              fontFamily: cnf[typeC4Shape + "FontFamily"],
              fontSize: cnf[typeC4Shape + "FontSize"],
              fontWeight: cnf[typeC4Shape + "FontWeight"]
            };
          };
          var boundaryFont = function boundaryFont2(cnf) {
            return {
              fontFamily: cnf.boundaryFontFamily,
              fontSize: cnf.boundaryFontSize,
              fontWeight: cnf.boundaryFontWeight
            };
          };
          var messageFont = function messageFont2(cnf) {
            return {
              fontFamily: cnf.messageFontFamily,
              fontSize: cnf.messageFontSize,
              fontWeight: cnf.messageFontWeight
            };
          };
          function calcC4ShapeTextWH(textType, c4Shape, c4ShapeTextWrap, textConf, textLimitWidth) {
            if (!c4Shape[textType].width) {
              if (c4ShapeTextWrap) {
                c4Shape[textType].text = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.wrapLabel)(c4Shape[textType].text, textLimitWidth, textConf);
                c4Shape[textType].textLines = c4Shape[textType].text.split(_common_common__WEBPACK_IMPORTED_MODULE_5__["default"].lineBreakRegex).length;
                c4Shape[textType].width = textLimitWidth;
                c4Shape[textType].height = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextHeight)(c4Shape[textType].text, textConf);
              } else {
                var lines = c4Shape[textType].text.split(_common_common__WEBPACK_IMPORTED_MODULE_5__["default"].lineBreakRegex);
                c4Shape[textType].textLines = lines.length;
                var lineHeight = 0;
                c4Shape[textType].height = 0;
                c4Shape[textType].width = 0;
                for (var i = 0; i < lines.length; i++) {
                  c4Shape[textType].width = Math.max((0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextWidth)(lines[i], textConf), c4Shape[textType].width);
                  lineHeight = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextHeight)(lines[i], textConf);
                  c4Shape[textType].height = c4Shape[textType].height + lineHeight;
                }
              }
            }
          }
          var drawBoundary = function drawBoundary2(diagram, boundary, bounds2) {
            boundary.x = bounds2.data.startx;
            boundary.y = bounds2.data.starty;
            boundary.width = bounds2.data.stopx - bounds2.data.startx;
            boundary.height = bounds2.data.stopy - bounds2.data.starty;
            boundary.label.y = conf.c4ShapeMargin - 35;
            var boundaryTextWrap = boundary.wrap && conf.wrap;
            var boundaryLabelConf = boundaryFont(conf);
            boundaryLabelConf.fontSize = boundaryLabelConf.fontSize + 2;
            boundaryLabelConf.fontWeight = "bold";
            var textLimitWidth = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextWidth)(boundary.label.text, boundaryLabelConf);
            calcC4ShapeTextWH("label", boundary, boundaryTextWrap, boundaryLabelConf, textLimitWidth);
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].drawBoundary(diagram, boundary, conf);
          };
          var drawC4ShapeArray = function drawC4ShapeArray2(currentBounds, diagram, c4ShapeArray, c4ShapeKeys) {
            var Y3 = 0;
            for (var i = 0; i < c4ShapeKeys.length; i++) {
              Y3 = 0;
              var c4Shape = c4ShapeArray[c4ShapeKeys[i]];
              var c4ShapeTypeConf = c4ShapeFont(conf, c4Shape.typeC4Shape.text);
              c4ShapeTypeConf.fontSize = c4ShapeTypeConf.fontSize - 2;
              c4Shape.typeC4Shape.width = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextWidth)("<<" + c4Shape.typeC4Shape.text + ">>", c4ShapeTypeConf);
              c4Shape.typeC4Shape.height = c4ShapeTypeConf.fontSize + 2;
              c4Shape.typeC4Shape.Y = conf.c4ShapePadding;
              Y3 = c4Shape.typeC4Shape.Y + c4Shape.typeC4Shape.height - 4;
              c4Shape.image = {
                width: 0,
                height: 0,
                Y: 0
              };
              switch (c4Shape.typeC4Shape.text) {
                case "person":
                case "external_person":
                  c4Shape.image.width = 48;
                  c4Shape.image.height = 48;
                  c4Shape.image.Y = Y3;
                  Y3 = c4Shape.image.Y + c4Shape.image.height;
                  break;
              }
              if (c4Shape.sprite) {
                c4Shape.image.width = 48;
                c4Shape.image.height = 48;
                c4Shape.image.Y = Y3;
                Y3 = c4Shape.image.Y + c4Shape.image.height;
              }
              var c4ShapeTextWrap = c4Shape.wrap && conf.wrap;
              var textLimitWidth = conf.width - conf.c4ShapePadding * 2;
              var c4ShapeLabelConf = c4ShapeFont(conf, c4Shape.typeC4Shape.text);
              c4ShapeLabelConf.fontSize = c4ShapeLabelConf.fontSize + 2;
              c4ShapeLabelConf.fontWeight = "bold";
              calcC4ShapeTextWH("label", c4Shape, c4ShapeTextWrap, c4ShapeLabelConf, textLimitWidth);
              c4Shape["label"].Y = Y3 + 8;
              Y3 = c4Shape["label"].Y + c4Shape["label"].height;
              if (c4Shape.type && c4Shape.type.text !== "") {
                c4Shape.type.text = "[" + c4Shape.type.text + "]";
                var _c4ShapeTypeConf = c4ShapeFont(conf, c4Shape.typeC4Shape.text);
                calcC4ShapeTextWH("type", c4Shape, c4ShapeTextWrap, _c4ShapeTypeConf, textLimitWidth);
                c4Shape["type"].Y = Y3 + 5;
                Y3 = c4Shape["type"].Y + c4Shape["type"].height;
              } else if (c4Shape.techn && c4Shape.techn.text !== "") {
                c4Shape.techn.text = "[" + c4Shape.techn.text + "]";
                var c4ShapeTechnConf = c4ShapeFont(conf, c4Shape.techn.text);
                calcC4ShapeTextWH("techn", c4Shape, c4ShapeTextWrap, c4ShapeTechnConf, textLimitWidth);
                c4Shape["techn"].Y = Y3 + 5;
                Y3 = c4Shape["techn"].Y + c4Shape["techn"].height;
              }
              var rectHeight = Y3;
              var rectWidth = c4Shape.label.width;
              if (c4Shape.descr && c4Shape.descr.text !== "") {
                var c4ShapeDescrConf = c4ShapeFont(conf, c4Shape.typeC4Shape.text);
                calcC4ShapeTextWH("descr", c4Shape, c4ShapeTextWrap, c4ShapeDescrConf, textLimitWidth);
                c4Shape["descr"].Y = Y3 + 20;
                Y3 = c4Shape["descr"].Y + c4Shape["descr"].height;
                rectWidth = Math.max(c4Shape.label.width, c4Shape.descr.width);
                rectHeight = Y3 - c4Shape["descr"].textLines * 5;
              }
              rectWidth = rectWidth + conf.c4ShapePadding;
              c4Shape.width = Math.max(c4Shape.width || conf.width, rectWidth, conf.width);
              c4Shape.height = Math.max(c4Shape.height || conf.height, rectHeight, conf.height);
              c4Shape.margin = c4Shape.margin || conf.c4ShapeMargin;
              currentBounds.insert(c4Shape);
              _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].drawC4Shape(diagram, c4Shape, conf);
            }
            currentBounds.bumpLastMargin(conf.c4ShapeMargin);
          };
          var Point = /* @__PURE__ */ _createClass(function Point2(x2, y2) {
            _classCallCheck(this, Point2);
            this.x = x2;
            this.y = y2;
          });
          var getIntersectPoint = function getIntersectPoint2(fromNode, endPoint) {
            var x12 = fromNode.x;
            var y12 = fromNode.y;
            var x2 = endPoint.x;
            var y2 = endPoint.y;
            var fromCenterX = x12 + fromNode.width / 2;
            var fromCenterY = y12 + fromNode.height / 2;
            var dx = Math.abs(x12 - x2);
            var dy = Math.abs(y12 - y2);
            var tanDYX = dy / dx;
            var fromDYX = fromNode.height / fromNode.width;
            var returnPoint = null;
            if (y12 == y2 && x12 < x2) {
              returnPoint = new Point(x12 + fromNode.width, fromCenterY);
            } else if (y12 == y2 && x12 > x2) {
              returnPoint = new Point(x12, fromCenterY);
            } else if (x12 == x2 && y12 < y2) {
              returnPoint = new Point(fromCenterX, y12 + fromNode.height);
            } else if (x12 == x2 && y12 > y2) {
              returnPoint = new Point(fromCenterX, y12);
            }
            if (x12 > x2 && y12 < y2) {
              if (fromDYX >= tanDYX) {
                returnPoint = new Point(x12, fromCenterY + tanDYX * fromNode.width / 2);
              } else {
                returnPoint = new Point(fromCenterX - dx / dy * fromNode.height / 2, y12 + fromNode.height);
              }
            } else if (x12 < x2 && y12 < y2) {
              if (fromDYX >= tanDYX) {
                returnPoint = new Point(x12 + fromNode.width, fromCenterY + tanDYX * fromNode.width / 2);
              } else {
                returnPoint = new Point(fromCenterX + dx / dy * fromNode.height / 2, y12 + fromNode.height);
              }
            } else if (x12 < x2 && y12 > y2) {
              if (fromDYX >= tanDYX) {
                returnPoint = new Point(x12 + fromNode.width, fromCenterY - tanDYX * fromNode.width / 2);
              } else {
                returnPoint = new Point(fromCenterX + fromNode.height / 2 * dx / dy, y12);
              }
            } else if (x12 > x2 && y12 > y2) {
              if (fromDYX >= tanDYX) {
                returnPoint = new Point(x12, fromCenterY - fromNode.width / 2 * tanDYX);
              } else {
                returnPoint = new Point(fromCenterX - fromNode.height / 2 * dx / dy, y12);
              }
            }
            return returnPoint;
          };
          var getIntersectPoints = function getIntersectPoints2(fromNode, endNode) {
            var endIntersectPoint = {
              x: 0,
              y: 0
            };
            endIntersectPoint.x = endNode.x + endNode.width / 2;
            endIntersectPoint.y = endNode.y + endNode.height / 2;
            var startPoint = getIntersectPoint(fromNode, endIntersectPoint);
            endIntersectPoint.x = fromNode.x + fromNode.width / 2;
            endIntersectPoint.y = fromNode.y + fromNode.height / 2;
            var endPoint = getIntersectPoint(endNode, endIntersectPoint);
            return {
              startPoint,
              endPoint
            };
          };
          var drawRels = function drawRels2(diagram, rels, getC4ShapeObj, diagObj) {
            var i = 0;
            var _iterator = _createForOfIteratorHelper(rels), _step;
            try {
              for (_iterator.s(); !(_step = _iterator.n()).done; ) {
                var rel = _step.value;
                i = i + 1;
                var relTextWrap = rel.wrap && conf.wrap;
                var relConf = messageFont(conf);
                var diagramType = diagObj.db.getC4Type();
                if (diagramType === "C4Dynamic")
                  rel.label.text = i + ": " + rel.label.text;
                var textLimitWidth = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextWidth)(rel.label.text, relConf);
                calcC4ShapeTextWH("label", rel, relTextWrap, relConf, textLimitWidth);
                if (rel.techn && rel.techn.text !== "") {
                  textLimitWidth = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextWidth)(rel.techn.text, relConf);
                  calcC4ShapeTextWH("techn", rel, relTextWrap, relConf, textLimitWidth);
                }
                if (rel.descr && rel.descr.text !== "") {
                  textLimitWidth = (0, _utils__WEBPACK_IMPORTED_MODULE_4__.calculateTextWidth)(rel.descr.text, relConf);
                  calcC4ShapeTextWH("descr", rel, relTextWrap, relConf, textLimitWidth);
                }
                var fromNode = getC4ShapeObj(rel.from);
                var endNode = getC4ShapeObj(rel.to);
                var points = getIntersectPoints(fromNode, endNode);
                rel.startPoint = points.startPoint;
                rel.endPoint = points.endPoint;
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].drawRels(diagram, rels, conf);
          };
          function drawInsideBoundary(diagram, parentBoundaryAlias, parentBounds, currentBoundarys, diagObj) {
            var currentBounds = new Bounds(diagObj);
            currentBounds.data.widthLimit = parentBounds.data.widthLimit / Math.min(c4BoundaryInRow, currentBoundarys.length);
            for (var i = 0; i < currentBoundarys.length; i++) {
              var currentBoundary = currentBoundarys[i];
              var Y3 = 0;
              currentBoundary.image = {
                width: 0,
                height: 0,
                Y: 0
              };
              if (currentBoundary.sprite) {
                currentBoundary.image.width = 48;
                currentBoundary.image.height = 48;
                currentBoundary.image.Y = Y3;
                Y3 = currentBoundary.image.Y + currentBoundary.image.height;
              }
              var currentBoundaryTextWrap = currentBoundary.wrap && conf.wrap;
              var currentBoundaryLabelConf = boundaryFont(conf);
              currentBoundaryLabelConf.fontSize = currentBoundaryLabelConf.fontSize + 2;
              currentBoundaryLabelConf.fontWeight = "bold";
              calcC4ShapeTextWH("label", currentBoundary, currentBoundaryTextWrap, currentBoundaryLabelConf, currentBounds.data.widthLimit);
              currentBoundary["label"].Y = Y3 + 8;
              Y3 = currentBoundary["label"].Y + currentBoundary["label"].height;
              if (currentBoundary.type && currentBoundary.type.text !== "") {
                currentBoundary.type.text = "[" + currentBoundary.type.text + "]";
                var currentBoundaryTypeConf = boundaryFont(conf);
                calcC4ShapeTextWH("type", currentBoundary, currentBoundaryTextWrap, currentBoundaryTypeConf, currentBounds.data.widthLimit);
                currentBoundary["type"].Y = Y3 + 5;
                Y3 = currentBoundary["type"].Y + currentBoundary["type"].height;
              }
              if (currentBoundary.descr && currentBoundary.descr.text !== "") {
                var currentBoundaryDescrConf = boundaryFont(conf);
                currentBoundaryDescrConf.fontSize = currentBoundaryDescrConf.fontSize - 2;
                calcC4ShapeTextWH("descr", currentBoundary, currentBoundaryTextWrap, currentBoundaryDescrConf, currentBounds.data.widthLimit);
                currentBoundary["descr"].Y = Y3 + 20;
                Y3 = currentBoundary["descr"].Y + currentBoundary["descr"].height;
              }
              if (i == 0 || i % c4BoundaryInRow === 0) {
                var _x = parentBounds.data.startx + conf.diagramMarginX;
                var _y = parentBounds.data.stopy + conf.diagramMarginY + Y3;
                currentBounds.setData(_x, _x, _y, _y);
              } else {
                var _x2 = currentBounds.data.stopx !== currentBounds.data.startx ? currentBounds.data.stopx + conf.diagramMarginX : currentBounds.data.startx;
                var _y2 = currentBounds.data.starty;
                currentBounds.setData(_x2, _x2, _y2, _y2);
              }
              currentBounds.name = currentBoundary.alias;
              var currentPersonOrSystemArray = diagObj.db.getC4ShapeArray(currentBoundary.alias);
              var currentPersonOrSystemKeys = diagObj.db.getC4ShapeKeys(currentBoundary.alias);
              if (currentPersonOrSystemKeys.length > 0) {
                drawC4ShapeArray(currentBounds, diagram, currentPersonOrSystemArray, currentPersonOrSystemKeys);
              }
              parentBoundaryAlias = currentBoundary.alias;
              var nextCurrentBoundarys = diagObj.db.getBoundarys(parentBoundaryAlias);
              if (nextCurrentBoundarys.length > 0) {
                drawInsideBoundary(diagram, parentBoundaryAlias, currentBounds, nextCurrentBoundarys, diagObj);
              }
              if (currentBoundary.alias !== "global")
                drawBoundary(diagram, currentBoundary, currentBounds);
              parentBounds.data.stopy = Math.max(currentBounds.data.stopy + conf.c4ShapeMargin, parentBounds.data.stopy);
              parentBounds.data.stopx = Math.max(currentBounds.data.stopx + conf.c4ShapeMargin, parentBounds.data.stopx);
              globalBoundaryMaxX = Math.max(globalBoundaryMaxX, parentBounds.data.stopx);
              globalBoundaryMaxY = Math.max(globalBoundaryMaxY, parentBounds.data.stopy);
            }
          }
          var draw = function draw2(_text, id2, _version, diagObj) {
            conf = _config__WEBPACK_IMPORTED_MODULE_7__.getConfig().c4;
            var securityLevel = _config__WEBPACK_IMPORTED_MODULE_7__.getConfig().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            var db = diagObj.db;
            diagObj.db.setWrap(conf.wrap);
            c4ShapeInRow = db.getC4ShapeInRow();
            c4BoundaryInRow = db.getC4BoundaryInRow();
            _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug("C:".concat(JSON.stringify(conf, null, 2)));
            var diagram = securityLevel === "sandbox" ? root2.select('[id="'.concat(id2, '"]')) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('[id="'.concat(id2, '"]'));
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].insertComputerIcon(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].insertDatabaseIcon(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].insertClockIcon(diagram);
            var screenBounds = new Bounds(diagObj);
            screenBounds.setData(conf.diagramMarginX, conf.diagramMarginX, conf.diagramMarginY, conf.diagramMarginY);
            screenBounds.data.widthLimit = screen.availWidth;
            globalBoundaryMaxX = conf.diagramMarginX;
            globalBoundaryMaxY = conf.diagramMarginY;
            var title = diagObj.db.getTitle();
            diagObj.db.getC4Type();
            var currentBoundarys = diagObj.db.getBoundarys("");
            drawInsideBoundary(diagram, "", screenBounds, currentBoundarys, diagObj);
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].insertArrowHead(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].insertArrowEnd(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].insertArrowCrossHead(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_6__["default"].insertArrowFilledHead(diagram);
            drawRels(diagram, diagObj.db.getRels(), diagObj.db.getC4Shape, diagObj);
            screenBounds.data.stopx = globalBoundaryMaxX;
            screenBounds.data.stopy = globalBoundaryMaxY;
            var box = screenBounds.data;
            var boxHeight = box.stopy - box.starty;
            var height = boxHeight + 2 * conf.diagramMarginY;
            var boxWidth = box.stopx - box.startx;
            var width = boxWidth + 2 * conf.diagramMarginX;
            if (title) {
              diagram.append("text").text(title).attr("x", (box.stopx - box.startx) / 2 - 4 * conf.diagramMarginX).attr("y", box.starty + conf.diagramMarginY);
            }
            (0, _utils__WEBPACK_IMPORTED_MODULE_4__.configureSvgSize)(diagram, height, width, conf.useMaxWidth);
            var extraVertForTitle = title ? 60 : 0;
            diagram.attr("viewBox", box.startx - conf.diagramMarginX + " -" + (conf.diagramMarginY + extraVertForTitle) + " " + width + " " + (height + extraVertForTitle));
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_9__["default"])(_parser_c4Diagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy, diagram, id2);
            _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug("models:", box);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            drawPersonOrSystemArray: drawC4ShapeArray,
            drawBoundary,
            setConf,
            draw
          };
        },
        "./src/diagrams/c4/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return ".person {\n    stroke: ".concat(options.personBorder, ";\n    fill: ").concat(options.personBkg, ";\n  }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/c4/svgDraw.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "drawC4Shape": () => drawC4Shape,
            "drawEmbeddedImage": () => drawEmbeddedImage,
            "drawImage": () => drawImage,
            "drawLabel": () => drawLabel,
            "drawRect": () => drawRect,
            "drawRels": () => drawRels,
            "drawText": () => drawText,
            "getNoteRect": () => getNoteRect,
            "getTextObj": () => getTextObj,
            "insertArrowCrossHead": () => insertArrowCrossHead,
            "insertArrowEnd": () => insertArrowEnd,
            "insertArrowFilledHead": () => insertArrowFilledHead,
            "insertArrowHead": () => insertArrowHead,
            "insertClockIcon": () => insertClockIcon,
            "insertComputerIcon": () => insertComputerIcon,
            "insertDatabaseIcon": () => insertDatabaseIcon,
            "insertDynamicNumber": () => insertDynamicNumber
          });
          var _common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("@braintree/sanitize-url");
          function _createForOfIteratorHelper(o, allowArrayLike) {
            var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
            if (!it) {
              if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
                if (it)
                  o = it;
                var i = 0;
                var F = function F2() {
                };
                return { s: F, n: function n() {
                  if (i >= o.length)
                    return { done: true };
                  return { done: false, value: o[i++] };
                }, e: function e(_e) {
                  throw _e;
                }, f: F };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var normalCompletion = true, didErr = false, err;
            return { s: function s2() {
              it = it.call(o);
            }, n: function n() {
              var step2 = it.next();
              normalCompletion = step2.done;
              return step2;
            }, e: function e(_e2) {
              didErr = true;
              err = _e2;
            }, f: function f() {
              try {
                if (!normalCompletion && it.return != null)
                  it.return();
              } finally {
                if (didErr)
                  throw err;
              }
            } };
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          var drawRect = function drawRect2(elem, rectData) {
            var rectElem = elem.append("rect");
            rectElem.attr("x", rectData.x);
            rectElem.attr("y", rectData.y);
            rectElem.attr("fill", rectData.fill);
            rectElem.attr("stroke", rectData.stroke);
            rectElem.attr("width", rectData.width);
            rectElem.attr("height", rectData.height);
            rectElem.attr("rx", rectData.rx);
            rectElem.attr("ry", rectData.ry);
            if (rectData.attrs !== "undefined" && rectData.attrs !== null) {
              for (var attrKey in rectData.attrs) {
                rectElem.attr(attrKey, rectData.attrs[attrKey]);
              }
            }
            if (rectData.class !== "undefined") {
              rectElem.attr("class", rectData.class);
            }
            return rectElem;
          };
          var drawImage = function drawImage2(elem, width, height, x2, y2, link2) {
            var imageElem = elem.append("image");
            imageElem.attr("width", width);
            imageElem.attr("height", height);
            imageElem.attr("x", x2);
            imageElem.attr("y", y2);
            var sanitizedLink = link2.startsWith("data:image/png;base64") ? link2 : (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link2);
            imageElem.attr("xlink:href", sanitizedLink);
          };
          var drawEmbeddedImage = function drawEmbeddedImage2(elem, x2, y2, link2) {
            var imageElem = elem.append("use");
            imageElem.attr("x", x2);
            imageElem.attr("y", y2);
            var sanitizedLink = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link2);
            imageElem.attr("xlink:href", "#" + sanitizedLink);
          };
          var drawText = function drawText2(elem, textData) {
            var prevTextHeight = 0, textHeight = 0;
            var lines = textData.text.split(_common_common__WEBPACK_IMPORTED_MODULE_1__["default"].lineBreakRegex);
            var textElems = [];
            var dy = 0;
            var yfunc = function yfunc2() {
              return textData.y;
            };
            if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
              switch (textData.valign) {
                case "top":
                case "start":
                  yfunc = function yfunc2() {
                    return Math.round(textData.y + textData.textMargin);
                  };
                  break;
                case "middle":
                case "center":
                  yfunc = function yfunc2() {
                    return Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2);
                  };
                  break;
                case "bottom":
                case "end":
                  yfunc = function yfunc2() {
                    return Math.round(textData.y + (prevTextHeight + textHeight + 2 * textData.textMargin) - textData.textMargin);
                  };
                  break;
              }
            }
            if (typeof textData.anchor !== "undefined" && typeof textData.textMargin !== "undefined" && typeof textData.width !== "undefined") {
              switch (textData.anchor) {
                case "left":
                case "start":
                  textData.x = Math.round(textData.x + textData.textMargin);
                  textData.anchor = "start";
                  textData.dominantBaseline = "text-after-edge";
                  textData.alignmentBaseline = "middle";
                  break;
                case "middle":
                case "center":
                  textData.x = Math.round(textData.x + textData.width / 2);
                  textData.anchor = "middle";
                  textData.dominantBaseline = "middle";
                  textData.alignmentBaseline = "middle";
                  break;
                case "right":
                case "end":
                  textData.x = Math.round(textData.x + textData.width - textData.textMargin);
                  textData.anchor = "end";
                  textData.dominantBaseline = "text-before-edge";
                  textData.alignmentBaseline = "middle";
                  break;
              }
            }
            for (var i = 0; i < lines.length; i++) {
              var line2 = lines[i];
              if (typeof textData.textMargin !== "undefined" && textData.textMargin === 0 && typeof textData.fontSize !== "undefined") {
                dy = i * textData.fontSize;
              }
              var textElem = elem.append("text");
              textElem.attr("x", textData.x);
              textElem.attr("y", yfunc());
              if (typeof textData.anchor !== "undefined") {
                textElem.attr("text-anchor", textData.anchor).attr("dominant-baseline", textData.dominantBaseline).attr("alignment-baseline", textData.alignmentBaseline);
              }
              if (typeof textData.fontFamily !== "undefined") {
                textElem.style("font-family", textData.fontFamily);
              }
              if (typeof textData.fontSize !== "undefined") {
                textElem.style("font-size", textData.fontSize);
              }
              if (typeof textData.fontWeight !== "undefined") {
                textElem.style("font-weight", textData.fontWeight);
              }
              if (typeof textData.fill !== "undefined") {
                textElem.attr("fill", textData.fill);
              }
              if (typeof textData.class !== "undefined") {
                textElem.attr("class", textData.class);
              }
              if (typeof textData.dy !== "undefined") {
                textElem.attr("dy", textData.dy);
              } else if (dy !== 0) {
                textElem.attr("dy", dy);
              }
              if (textData.tspan) {
                var span = textElem.append("tspan");
                span.attr("x", textData.x);
                if (typeof textData.fill !== "undefined") {
                  span.attr("fill", textData.fill);
                }
                span.text(line2);
              } else {
                textElem.text(line2);
              }
              if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
                textHeight += (textElem._groups || textElem)[0][0].getBBox().height;
                prevTextHeight = textHeight;
              }
              textElems.push(textElem);
            }
            return textElems;
          };
          var drawLabel = function drawLabel2(elem, txtObject) {
            function genPoints(x2, y2, width, height, cut) {
              return x2 + "," + y2 + " " + (x2 + width) + "," + y2 + " " + (x2 + width) + "," + (y2 + height - cut) + " " + (x2 + width - cut * 1.2) + "," + (y2 + height) + " " + x2 + "," + (y2 + height);
            }
            var polygon = elem.append("polygon");
            polygon.attr("points", genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));
            polygon.attr("class", "labelBox");
            txtObject.y = txtObject.y + txtObject.height / 2;
            drawText(elem, txtObject);
            return polygon;
          };
          var drawRels = function drawRels2(elem, rels, conf) {
            var relsElem = elem.append("g");
            var i = 0;
            var _iterator = _createForOfIteratorHelper(rels), _step;
            try {
              for (_iterator.s(); !(_step = _iterator.n()).done; ) {
                var rel = _step.value;
                var textColor = rel.textColor ? rel.textColor : "#444444";
                var strokeColor = rel.lineColor ? rel.lineColor : "#444444";
                var offsetX = rel.offsetX ? parseInt(rel.offsetX) : 0;
                var offsetY = rel.offsetY ? parseInt(rel.offsetY) : 0;
                var url = "";
                if (i === 0) {
                  var line2 = relsElem.append("line");
                  line2.attr("x1", rel.startPoint.x);
                  line2.attr("y1", rel.startPoint.y);
                  line2.attr("x2", rel.endPoint.x);
                  line2.attr("y2", rel.endPoint.y);
                  line2.attr("stroke-width", "1");
                  line2.attr("stroke", strokeColor);
                  line2.style("fill", "none");
                  if (rel.type !== "rel_b")
                    line2.attr("marker-end", "url(" + url + "#arrowhead)");
                  if (rel.type === "birel" || rel.type === "rel_b")
                    line2.attr("marker-start", "url(" + url + "#arrowend)");
                  i = -1;
                } else {
                  var _line = relsElem.append("path");
                  _line.attr("fill", "none").attr("stroke-width", "1").attr("stroke", strokeColor).attr("d", "Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx", rel.startPoint.x).replaceAll("starty", rel.startPoint.y).replaceAll("controlx", rel.startPoint.x + (rel.endPoint.x - rel.startPoint.x) / 2 - (rel.endPoint.x - rel.startPoint.x) / 4).replaceAll("controly", rel.startPoint.y + (rel.endPoint.y - rel.startPoint.y) / 2).replaceAll("stopx", rel.endPoint.x).replaceAll("stopy", rel.endPoint.y));
                  if (rel.type !== "rel_b")
                    _line.attr("marker-end", "url(" + url + "#arrowhead)");
                  if (rel.type === "birel" || rel.type === "rel_b")
                    _line.attr("marker-start", "url(" + url + "#arrowend)");
                }
                var messageConf = conf.messageFont();
                _drawTextCandidateFunc(conf)(rel.label.text, relsElem, Math.min(rel.startPoint.x, rel.endPoint.x) + Math.abs(rel.endPoint.x - rel.startPoint.x) / 2 + offsetX, Math.min(rel.startPoint.y, rel.endPoint.y) + Math.abs(rel.endPoint.y - rel.startPoint.y) / 2 + offsetY, rel.label.width, rel.label.height, {
                  fill: textColor
                }, messageConf);
                if (rel.techn && rel.techn.text !== "") {
                  messageConf = conf.messageFont();
                  _drawTextCandidateFunc(conf)("[" + rel.techn.text + "]", relsElem, Math.min(rel.startPoint.x, rel.endPoint.x) + Math.abs(rel.endPoint.x - rel.startPoint.x) / 2 + offsetX, Math.min(rel.startPoint.y, rel.endPoint.y) + Math.abs(rel.endPoint.y - rel.startPoint.y) / 2 + conf.messageFontSize + 5 + offsetY, Math.max(rel.label.width, rel.techn.width), rel.techn.height, {
                    fill: textColor,
                    "font-style": "italic"
                  }, messageConf);
                }
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
          };
          var drawBoundary = function drawBoundary2(elem, boundary, conf) {
            var boundaryElem = elem.append("g");
            var fillColor = boundary.bgColor ? boundary.bgColor : "none";
            var strokeColor = boundary.borderColor ? boundary.borderColor : "#444444";
            var fontColor = boundary.fontColor ? boundary.fontColor : "black";
            var attrsValue = {
              "stroke-width": 1,
              "stroke-dasharray": "7.0,7.0"
            };
            if (boundary.nodeType)
              attrsValue = {
                "stroke-width": 1
              };
            var rectData = {
              x: boundary.x,
              y: boundary.y,
              fill: fillColor,
              stroke: strokeColor,
              width: boundary.width,
              height: boundary.height,
              rx: 2.5,
              ry: 2.5,
              attrs: attrsValue
            };
            drawRect(boundaryElem, rectData);
            var boundaryConf = conf.boundaryFont();
            boundaryConf.fontWeight = "bold";
            boundaryConf.fontSize = boundaryConf.fontSize + 2;
            boundaryConf.fontColor = fontColor;
            _drawTextCandidateFunc(conf)(boundary.label.text, boundaryElem, boundary.x, boundary.y + boundary.label.Y, boundary.width, boundary.height, {
              fill: "#444444"
            }, boundaryConf);
            if (boundary.type && boundary.type.text !== "") {
              boundaryConf = conf.boundaryFont();
              boundaryConf.fontColor = fontColor;
              _drawTextCandidateFunc(conf)(boundary.type.text, boundaryElem, boundary.x, boundary.y + boundary.type.Y, boundary.width, boundary.height, {
                fill: "#444444"
              }, boundaryConf);
            }
            if (boundary.descr && boundary.descr.text !== "") {
              boundaryConf = conf.boundaryFont();
              boundaryConf.fontSize = boundaryConf.fontSize - 2;
              boundaryConf.fontColor = fontColor;
              _drawTextCandidateFunc(conf)(boundary.descr.text, boundaryElem, boundary.x, boundary.y + boundary.descr.Y, boundary.width, boundary.height, {
                fill: "#444444"
              }, boundaryConf);
            }
          };
          var drawC4Shape = function drawC4Shape2(elem, c4Shape, conf) {
            var fillColor = c4Shape.bgColor ? c4Shape.bgColor : conf[c4Shape.typeC4Shape.text + "_bg_color"];
            var strokeColor = c4Shape.borderColor ? c4Shape.borderColor : conf[c4Shape.typeC4Shape.text + "_border_color"];
            var fontColor = c4Shape.fontColor ? c4Shape.fontColor : "#FFFFFF";
            var personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
            switch (c4Shape.typeC4Shape.text) {
              case "person":
                personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";
                break;
              case "external_person":
                personImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";
                break;
            }
            var c4ShapeElem = elem.append("g");
            c4ShapeElem.attr("class", "person-man");
            var rect = getNoteRect();
            switch (c4Shape.typeC4Shape.text) {
              case "person":
              case "external_person":
              case "system":
              case "external_system":
              case "container":
              case "external_container":
              case "component":
              case "external_component":
                rect.x = c4Shape.x;
                rect.y = c4Shape.y;
                rect.fill = fillColor;
                rect.width = c4Shape.width;
                rect.height = c4Shape.height;
                rect.style = "stroke:" + strokeColor + ";stroke-width:0.5;";
                rect.rx = 2.5;
                rect.ry = 2.5;
                drawRect(c4ShapeElem, rect);
                break;
              case "system_db":
              case "external_system_db":
              case "container_db":
              case "external_container_db":
              case "component_db":
              case "external_component_db":
                c4ShapeElem.append("path").attr("fill", fillColor).attr("stroke-width", "0.5").attr("stroke", strokeColor).attr("d", "Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.width / 2).replaceAll("height", c4Shape.height));
                c4ShapeElem.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", strokeColor).attr("d", "Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.width / 2));
                break;
              case "system_queue":
              case "external_system_queue":
              case "container_queue":
              case "external_container_queue":
              case "component_queue":
              case "external_component_queue":
                c4ShapeElem.append("path").attr("fill", fillColor).attr("stroke-width", "0.5").attr("stroke", strokeColor).attr("d", "Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx", c4Shape.x).replaceAll("starty", c4Shape.y).replaceAll("width", c4Shape.width).replaceAll("half", c4Shape.height / 2));
                c4ShapeElem.append("path").attr("fill", "none").attr("stroke-width", "0.5").attr("stroke", strokeColor).attr("d", "Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx", c4Shape.x + c4Shape.width).replaceAll("starty", c4Shape.y).replaceAll("half", c4Shape.height / 2));
                break;
            }
            var c4ShapeFontConf = getC4ShapeFont(conf, c4Shape.typeC4Shape.text);
            c4ShapeElem.append("text").attr("fill", fontColor).attr("font-family", c4ShapeFontConf.fontFamily).attr("font-size", c4ShapeFontConf.fontSize - 2).attr("font-style", "italic").attr("lengthAdjust", "spacing").attr("textLength", c4Shape.typeC4Shape.width).attr("x", c4Shape.x + c4Shape.width / 2 - c4Shape.typeC4Shape.width / 2).attr("y", c4Shape.y + c4Shape.typeC4Shape.Y).text("<<" + c4Shape.typeC4Shape.text + ">>");
            switch (c4Shape.typeC4Shape.text) {
              case "person":
              case "external_person":
                drawImage(c4ShapeElem, 48, 48, c4Shape.x + c4Shape.width / 2 - 24, c4Shape.y + c4Shape.image.Y, personImg);
                break;
            }
            var textFontConf = conf[c4Shape.typeC4Shape.text + "Font"]();
            textFontConf.fontWeight = "bold";
            textFontConf.fontSize = textFontConf.fontSize + 2;
            textFontConf.fontColor = fontColor;
            _drawTextCandidateFunc(conf)(c4Shape.label.text, c4ShapeElem, c4Shape.x, c4Shape.y + c4Shape.label.Y, c4Shape.width, c4Shape.height, {
              fill: fontColor
            }, textFontConf);
            textFontConf = conf[c4Shape.typeC4Shape.text + "Font"]();
            textFontConf.fontColor = fontColor;
            if (c4Shape.thchn && c4Shape.thchn.text !== "") {
              _drawTextCandidateFunc(conf)(c4Shape.thchn.text, c4ShapeElem, c4Shape.x, c4Shape.y + c4Shape.thchn.Y, c4Shape.width, c4Shape.height, {
                fill: fontColor,
                "font-style": "italic"
              }, textFontConf);
            } else if (c4Shape.type && c4Shape.type.text !== "") {
              _drawTextCandidateFunc(conf)(c4Shape.type.text, c4ShapeElem, c4Shape.x, c4Shape.y + c4Shape.type.Y, c4Shape.width, c4Shape.height, {
                fill: fontColor,
                "font-style": "italic"
              }, textFontConf);
            }
            if (c4Shape.descr && c4Shape.descr.text !== "") {
              textFontConf = conf.personFont();
              textFontConf.fontColor = fontColor;
              _drawTextCandidateFunc(conf)(c4Shape.descr.text, c4ShapeElem, c4Shape.x, c4Shape.y + c4Shape.descr.Y, c4Shape.width, c4Shape.height, {
                fill: fontColor
              }, textFontConf);
            }
            return c4Shape.height;
          };
          var insertDatabaseIcon = function insertDatabaseIcon2(elem) {
            elem.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr("d", "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z");
          };
          var insertComputerIcon = function insertComputerIcon2(elem) {
            elem.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z");
          };
          var insertClockIcon = function insertClockIcon2(elem) {
            elem.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z");
          };
          var insertArrowHead = function insertArrowHead2(elem) {
            elem.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z");
          };
          var insertArrowEnd = function insertArrowEnd2(elem) {
            elem.append("defs").append("marker").attr("id", "arrowend").attr("refX", 1).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 10 0 L 0 5 L 10 10 z");
          };
          var insertArrowFilledHead = function insertArrowFilledHead2(elem) {
            elem.append("defs").append("marker").attr("id", "filled-head").attr("refX", 18).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
          };
          var insertDynamicNumber = function insertDynamicNumber2(elem) {
            elem.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);
          };
          var insertArrowCrossHead = function insertArrowCrossHead2(elem) {
            var defs = elem.append("defs");
            var marker = defs.append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 16).attr("refY", 4);
            marker.append("path").attr("fill", "black").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 9,2 V 6 L16,4 Z");
            marker.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 0,1 L 6,7 M 6,1 L 0,7");
          };
          var getTextObj = function getTextObj2() {
            return {
              x: 0,
              y: 0,
              fill: void 0,
              anchor: void 0,
              style: "#666",
              width: void 0,
              height: void 0,
              textMargin: 0,
              rx: 0,
              ry: 0,
              tspan: true,
              valign: void 0
            };
          };
          var getNoteRect = function getNoteRect2() {
            return {
              x: 0,
              y: 0,
              fill: "#EDF2AE",
              stroke: "#666",
              width: 100,
              anchor: "start",
              height: 100,
              rx: 0,
              ry: 0
            };
          };
          var getC4ShapeFont = function getC4ShapeFont2(cnf, typeC4Shape) {
            return {
              fontFamily: cnf[typeC4Shape + "FontFamily"],
              fontSize: cnf[typeC4Shape + "FontSize"],
              fontWeight: cnf[typeC4Shape + "FontWeight"]
            };
          };
          var _drawTextCandidateFunc = function() {
            function byText(content, g, x2, y2, width, height, textAttrs) {
              var text2 = g.append("text").attr("x", x2 + width / 2).attr("y", y2 + height / 2 + 5).style("text-anchor", "middle").text(content);
              _setTextAttrs(text2, textAttrs);
            }
            function byTspan(content, g, x2, y2, width, height, textAttrs, conf) {
              var fontSize = conf.fontSize, fontFamily = conf.fontFamily, fontWeight = conf.fontWeight;
              var lines = content.split(_common_common__WEBPACK_IMPORTED_MODULE_1__["default"].lineBreakRegex);
              for (var i = 0; i < lines.length; i++) {
                var dy = i * fontSize - fontSize * (lines.length - 1) / 2;
                var text2 = g.append("text").attr("x", x2 + width / 2).attr("y", y2).style("text-anchor", "middle").attr("dominant-baseline", "middle").style("font-size", fontSize).style("font-weight", fontWeight).style("font-family", fontFamily);
                text2.append("tspan").attr("dy", dy).text(lines[i]).attr("alignment-baseline", "mathematical");
                _setTextAttrs(text2, textAttrs);
              }
            }
            function byFo(content, g, x2, y2, width, height, textAttrs, conf) {
              var s2 = g.append("switch");
              var f = s2.append("foreignObject").attr("x", x2).attr("y", y2).attr("width", width).attr("height", height);
              var text2 = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
              text2.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
              byTspan(content, s2, x2, y2, width, height, textAttrs, conf);
              _setTextAttrs(text2, textAttrs);
            }
            function _setTextAttrs(toText, fromTextAttrsDict) {
              for (var key in fromTextAttrsDict) {
                if (fromTextAttrsDict.hasOwnProperty(key)) {
                  toText.attr(key, fromTextAttrsDict[key]);
                }
              }
            }
            return function(conf) {
              return conf.textPlacement === "fo" ? byFo : conf.textPlacement === "old" ? byText : byTspan;
            };
          }();
          const __WEBPACK_DEFAULT_EXPORT__ = {
            drawRect,
            drawText,
            drawLabel,
            drawBoundary,
            drawC4Shape,
            drawRels,
            drawImage,
            drawEmbeddedImage,
            insertArrowHead,
            insertArrowEnd,
            insertArrowFilledHead,
            insertDynamicNumber,
            insertArrowCrossHead,
            insertDatabaseIcon,
            insertComputerIcon,
            insertClockIcon,
            getTextObj,
            getNoteRect,
            sanitizeUrl: _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl
          };
        },
        "./src/diagrams/class/classDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addAnnotation": () => addAnnotation,
            "addClass": () => addClass,
            "addMember": () => addMember,
            "addMembers": () => addMembers,
            "addRelation": () => addRelation,
            "bindFunctions": () => bindFunctions,
            "cleanupLabel": () => cleanupLabel,
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "getClass": () => getClass,
            "getClasses": () => getClasses,
            "getRelations": () => getRelations,
            "getTooltip": () => getTooltip,
            "lineType": () => lineType,
            "lookUpDomId": () => lookUpDomId,
            "parseDirective": () => parseDirective,
            "relationType": () => relationType,
            "setClickEvent": () => setClickEvent,
            "setCssClass": () => setCssClass,
            "setLink": () => setLink
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/logger.js");
          var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/config.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/utils.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/mermaidAPI.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/commonDb.js");
          function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
          }
          function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
              return Array.from(iter);
          }
          function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr))
              return _arrayLikeToArray(arr);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          var MERMAID_DOM_ID_PREFIX = "classid-";
          var relations = [];
          var classes = {};
          var classCounter = 0;
          var funs = [];
          var sanitizeText = function sanitizeText2(txt) {
            return _common_common__WEBPACK_IMPORTED_MODULE_1__["default"].sanitizeText(txt, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());
          };
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__["default"].parseDirective(this, statement, context, type2);
          };
          var splitClassNameAndType = function splitClassNameAndType2(id2) {
            var genericType = "";
            var className = id2;
            if (id2.indexOf("~") > 0) {
              var split = id2.split("~");
              className = split[0];
              genericType = _common_common__WEBPACK_IMPORTED_MODULE_1__["default"].sanitizeText(split[1], _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());
            }
            return {
              className,
              type: genericType
            };
          };
          var addClass = function addClass2(id2) {
            var classId = splitClassNameAndType(id2);
            if (typeof classes[classId.className] !== "undefined")
              return;
            classes[classId.className] = {
              id: classId.className,
              type: classId.type,
              cssClasses: [],
              methods: [],
              members: [],
              annotations: [],
              domId: MERMAID_DOM_ID_PREFIX + classId.className + "-" + classCounter
            };
            classCounter++;
          };
          var lookUpDomId = function lookUpDomId2(id2) {
            var classKeys = Object.keys(classes);
            for (var i = 0; i < classKeys.length; i++) {
              if (classes[classKeys[i]].id === id2) {
                return classes[classKeys[i]].domId;
              }
            }
          };
          var clear = function clear2() {
            relations = [];
            classes = {};
            funs = [];
            funs.push(setupToolTips);
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_4__.clear)();
          };
          var getClass = function getClass2(id2) {
            return classes[id2];
          };
          var getClasses = function getClasses2() {
            return classes;
          };
          var getRelations = function getRelations2() {
            return relations;
          };
          var addRelation = function addRelation2(relation) {
            _logger__WEBPACK_IMPORTED_MODULE_5__.log.debug("Adding relation: " + JSON.stringify(relation));
            addClass(relation.id1);
            addClass(relation.id2);
            relation.id1 = splitClassNameAndType(relation.id1).className;
            relation.id2 = splitClassNameAndType(relation.id2).className;
            relation.relationTitle1 = _common_common__WEBPACK_IMPORTED_MODULE_1__["default"].sanitizeText(relation.relationTitle1.trim(), _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());
            relation.relationTitle2 = _common_common__WEBPACK_IMPORTED_MODULE_1__["default"].sanitizeText(relation.relationTitle2.trim(), _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());
            relations.push(relation);
          };
          var addAnnotation = function addAnnotation2(className, annotation) {
            var validatedClassName = splitClassNameAndType(className).className;
            classes[validatedClassName].annotations.push(annotation);
          };
          var addMember = function addMember2(className, member) {
            var validatedClassName = splitClassNameAndType(className).className;
            var theClass = classes[validatedClassName];
            if (typeof member === "string") {
              var memberString = member.trim();
              if (memberString.startsWith("<<") && memberString.endsWith(">>")) {
                theClass.annotations.push(sanitizeText(memberString.substring(2, memberString.length - 2)));
              } else if (memberString.indexOf(")") > 0) {
                theClass.methods.push(sanitizeText(memberString));
              } else if (memberString) {
                theClass.members.push(sanitizeText(memberString));
              }
            }
          };
          var addMembers = function addMembers2(className, members) {
            if (Array.isArray(members)) {
              members.reverse();
              members.forEach(function(member) {
                return addMember(className, member);
              });
            }
          };
          var cleanupLabel = function cleanupLabel2(label) {
            if (label.substring(0, 1) === ":") {
              return _common_common__WEBPACK_IMPORTED_MODULE_1__["default"].sanitizeText(label.substr(1).trim(), _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());
            } else {
              return sanitizeText(label.trim());
            }
          };
          var setCssClass = function setCssClass2(ids, className) {
            ids.split(",").forEach(function(_id) {
              var id2 = _id;
              if (_id[0].match(/\d/))
                id2 = MERMAID_DOM_ID_PREFIX + id2;
              if (typeof classes[id2] !== "undefined") {
                classes[id2].cssClasses.push(className);
              }
            });
          };
          var setTooltip = function setTooltip2(ids, tooltip) {
            var config = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig();
            ids.split(",").forEach(function(id2) {
              if (typeof tooltip !== "undefined") {
                classes[id2].tooltip = _common_common__WEBPACK_IMPORTED_MODULE_1__["default"].sanitizeText(tooltip, config);
              }
            });
          };
          var getTooltip = function getTooltip2(id2) {
            return classes[id2].tooltip;
          };
          var setLink = function setLink2(ids, linkStr, target) {
            var config = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig();
            ids.split(",").forEach(function(_id) {
              var id2 = _id;
              if (_id[0].match(/\d/))
                id2 = MERMAID_DOM_ID_PREFIX + id2;
              if (typeof classes[id2] !== "undefined") {
                classes[id2].link = _utils__WEBPACK_IMPORTED_MODULE_6__["default"].formatUrl(linkStr, config);
                if (config.securityLevel === "sandbox") {
                  classes[id2].linkTarget = "_top";
                } else if (typeof target === "string") {
                  classes[id2].linkTarget = sanitizeText(target);
                } else {
                  classes[id2].linkTarget = "_blank";
                }
              }
            });
            setCssClass(ids, "clickable");
          };
          var setClickEvent = function setClickEvent2(ids, functionName, functionArgs) {
            ids.split(",").forEach(function(id2) {
              setClickFunc(id2, functionName, functionArgs);
              classes[id2].haveCallback = true;
            });
            setCssClass(ids, "clickable");
          };
          var setClickFunc = function setClickFunc2(domId, functionName, functionArgs) {
            var config = _config__WEBPACK_IMPORTED_MODULE_2__.getConfig();
            var id2 = domId;
            var elemId = lookUpDomId(id2);
            if (config.securityLevel !== "loose") {
              return;
            }
            if (typeof functionName === "undefined") {
              return;
            }
            if (typeof classes[id2] !== "undefined") {
              var argList = [];
              if (typeof functionArgs === "string") {
                argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                for (var i = 0; i < argList.length; i++) {
                  var item = argList[i].trim();
                  if (item.charAt(0) === '"' && item.charAt(item.length - 1) === '"') {
                    item = item.substr(1, item.length - 2);
                  }
                  argList[i] = item;
                }
              }
              if (argList.length === 0) {
                argList.push(elemId);
              }
              funs.push(function() {
                var elem = document.querySelector('[id="'.concat(elemId, '"]'));
                if (elem !== null) {
                  elem.addEventListener("click", function() {
                    _utils__WEBPACK_IMPORTED_MODULE_6__["default"].runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_6__["default"], [functionName].concat(_toConsumableArray(argList)));
                  }, false);
                }
              });
            }
          };
          var bindFunctions = function bindFunctions2(element) {
            funs.forEach(function(fun) {
              fun(element);
            });
          };
          var lineType = {
            LINE: 0,
            DOTTED_LINE: 1
          };
          var relationType = {
            AGGREGATION: 0,
            EXTENSION: 1,
            COMPOSITION: 2,
            DEPENDENCY: 3,
            LOLLIPOP: 4
          };
          var setupToolTips = function setupToolTips2(element) {
            var tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(".mermaidTooltip");
            if ((tooltipElem._groups || tooltipElem)[0][0] === null) {
              tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0);
            }
            var svg2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(element).select("svg");
            var nodes = svg2.selectAll("g.node");
            nodes.on("mouseover", function() {
              var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);
              var title = el.attr("title");
              if (title === null) {
                return;
              }
              var rect = this.getBoundingClientRect();
              tooltipElem.transition().duration(200).style("opacity", ".9");
              tooltipElem.text(el.attr("title")).style("left", window.scrollX + rect.left + (rect.right - rect.left) / 2 + "px").style("top", window.scrollY + rect.top - 14 + document.body.scrollTop + "px");
              tooltipElem.html(tooltipElem.html().replace(/&lt;br\/&gt;/g, "<br/>"));
              el.classed("hover", true);
            }).on("mouseout", function() {
              tooltipElem.transition().duration(500).style("opacity", 0);
              var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);
              el.classed("hover", false);
            });
          };
          funs.push(setupToolTips);
          var direction = "TB";
          var getDirection = function getDirection2() {
            return direction;
          };
          var setDirection = function setDirection2(dir) {
            direction = dir;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            parseDirective,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.getAccTitle,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_4__.getAccDescription,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_4__.setAccDescription,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().class;
            },
            addClass,
            bindFunctions,
            clear,
            getClass,
            getClasses,
            addAnnotation,
            getRelations,
            addRelation,
            getDirection,
            setDirection,
            addMember,
            addMembers,
            cleanupLabel,
            lineType,
            relationType,
            setClickEvent,
            setCssClass,
            setLink,
            getTooltip,
            setTooltip,
            lookUpDomId
          };
        },
        "./src/diagrams/class/classRenderer-v2.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addClasses": () => addClasses,
            "addRelations": () => addRelations,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "setConf": () => setConf
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var graphlib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_1__);
          var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/logger.js");
          var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/config.js");
          var _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/dagre-wrapper/index.js");
          var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/utils.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/accessibility.js");
          var sanitizeText = function sanitizeText2(txt) {
            return _common_common__WEBPACK_IMPORTED_MODULE_2__["default"].sanitizeText(txt, (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)());
          };
          var addClasses = function addClasses2(classes, g, _id, diagObj) {
            var keys2 = Object.keys(classes);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("keys:", keys2);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info(classes);
            keys2.forEach(function(id2) {
              var vertex = classes[id2];
              var cssClassStr = "";
              if (vertex.cssClasses.length > 0) {
                cssClassStr = cssClassStr + " " + vertex.cssClasses.join(" ");
              }
              var styles = {
                labelStyle: ""
              };
              var vertexText = vertex.text !== void 0 ? vertex.text : vertex.id;
              var radious = 0;
              var _shape = "";
              switch (vertex.type) {
                case "class":
                  _shape = "class_box";
                  break;
                default:
                  _shape = "class_box";
              }
              g.setNode(vertex.id, {
                labelStyle: styles.labelStyle,
                shape: _shape,
                labelText: sanitizeText(vertexText),
                classData: vertex,
                rx: radious,
                ry: radious,
                class: cssClassStr,
                style: styles.style,
                id: vertex.id,
                domId: vertex.domId,
                tooltip: diagObj.db.getTooltip(vertex.id) || "",
                haveCallback: vertex.haveCallback,
                link: vertex.link,
                width: vertex.type === "group" ? 500 : void 0,
                type: vertex.type,
                padding: (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.padding
              });
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("setNode", {
                labelStyle: styles.labelStyle,
                shape: _shape,
                labelText: vertexText,
                rx: radious,
                ry: radious,
                class: cssClassStr,
                style: styles.style,
                id: vertex.id,
                width: vertex.type === "group" ? 500 : void 0,
                type: vertex.type,
                padding: (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.padding
              });
            });
          };
          var addRelations = function addRelations2(relations, g) {
            var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart;
            var cnt = 0;
            relations.forEach(function(edge) {
              cnt++;
              var edgeData = {};
              edgeData.classes = "relation";
              edgeData.pattern = edge.relation.lineType == 1 ? "dashed" : "solid";
              edgeData.id = "id" + cnt;
              if (edge.type === "arrow_open") {
                edgeData.arrowhead = "none";
              } else {
                edgeData.arrowhead = "normal";
              }
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info(edgeData, edge);
              edgeData.startLabelRight = edge.relationTitle1 === "none" ? "" : edge.relationTitle1;
              edgeData.endLabelLeft = edge.relationTitle2 === "none" ? "" : edge.relationTitle2;
              edgeData.arrowTypeStart = getArrowMarker(edge.relation.type1);
              edgeData.arrowTypeEnd = getArrowMarker(edge.relation.type2);
              var style = "";
              var labelStyle = "";
              if (typeof edge.style !== "undefined") {
                var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(edge.style);
                style = styles.style;
                labelStyle = styles.labelStyle;
              } else {
                style = "fill:none";
              }
              edgeData.style = style;
              edgeData.labelStyle = labelStyle;
              if (typeof edge.interpolate !== "undefined") {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(edge.interpolate, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);
              } else if (typeof relations.defaultInterpolate !== "undefined") {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(relations.defaultInterpolate, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);
              } else {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(conf.curve, d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear);
              }
              edge.text = edge.title;
              if (typeof edge.text === "undefined") {
                if (typeof edge.style !== "undefined") {
                  edgeData.arrowheadStyle = "fill: #333";
                }
              } else {
                edgeData.arrowheadStyle = "fill: #333";
                edgeData.labelpos = "c";
                if ((0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.htmlLabels) {
                  edgeData.labelType = "html";
                  edgeData.label = '<span class="edgeLabel">' + edge.text + "</span>";
                } else {
                  edgeData.labelType = "text";
                  edgeData.label = edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_2__["default"].lineBreakRegex, "\n");
                  if (typeof edge.style === "undefined") {
                    edgeData.style = edgeData.style || "stroke: #333; stroke-width: 1.5px;fill:none";
                  }
                  edgeData.labelStyle = edgeData.labelStyle.replace("color:", "fill:");
                }
              }
              g.setEdge(edge.id1, edge.id2, edgeData, cnt);
            });
          };
          var setConf = function setConf2(cnf) {
            var keys2 = Object.keys(cnf);
            keys2.forEach(function(key) {
              cnf[key];
            });
          };
          var draw = function draw2(text2, id2, _version, diagObj) {
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Drawing class - ", id2);
            var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart;
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("config:", conf);
            var nodeSpacing = conf.nodeSpacing || 50;
            var rankSpacing = conf.rankSpacing || 50;
            var g = new (graphlib__WEBPACK_IMPORTED_MODULE_1___default()).Graph({
              multigraph: true,
              compound: true
            }).setGraph({
              rankdir: diagObj.db.getDirection(),
              nodesep: nodeSpacing,
              ranksep: rankSpacing,
              marginx: 8,
              marginy: 8
            }).setDefaultEdgeLabel(function() {
              return {};
            });
            var classes = diagObj.db.getClasses();
            var relations = diagObj.db.getRelations();
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info(relations);
            addClasses(classes, g, id2, diagObj);
            addRelations(relations, g);
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            var svg2 = root2.select('[id="'.concat(id2, '"]'));
            var element = root2.select("#" + id2 + " g");
            (0, _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_6__.render)(element, g, ["aggregation", "extension", "composition", "dependency", "lollipop"], "classDiagram", id2);
            (0, _utils__WEBPACK_IMPORTED_MODULE_5__.setupGraphViewbox)(g, svg2, conf.diagramPadding, conf.useMaxWidth);
            if (!conf.htmlLabels) {
              var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
              var labels = doc.querySelectorAll('[id="' + id2 + '"] .edgeLabel .label');
              for (var k2 = 0; k2 < labels.length; k2++) {
                var label = labels[k2];
                var dim = label.getBBox();
                var rect = doc.createElementNS("http://www.w3.org/2000/svg", "rect");
                rect.setAttribute("rx", 0);
                rect.setAttribute("ry", 0);
                rect.setAttribute("width", dim.width);
                rect.setAttribute("height", dim.height);
                label.insertBefore(rect, label.firstChild);
              }
            }
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_7__["default"])(diagObj.db, svg2, id2);
          };
          function getArrowMarker(type2) {
            var marker;
            switch (type2) {
              case 0:
                marker = "aggregation";
                break;
              case 1:
                marker = "extension";
                break;
              case 2:
                marker = "composition";
                break;
              case 3:
                marker = "dependency";
                break;
              case 4:
                marker = "lollipop";
                break;
              default:
                marker = "none";
            }
            return marker;
          }
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            draw
          };
        },
        "./src/diagrams/class/classRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var dagre__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("dagre");
          var dagre__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__2.n(dagre__WEBPACK_IMPORTED_MODULE_1__);
          var graphlib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_2__);
          var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/logger.js");
          var _svgDraw__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/diagrams/class/svgDraw.js");
          var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/utils.js");
          var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/config.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/accessibility.js");
          var idCache = {};
          var padding = 20;
          var getGraphId = function getGraphId2(label) {
            var foundEntry = Object.entries(idCache).find(function(entry) {
              return entry[1].label === label;
            });
            if (foundEntry) {
              return foundEntry[0];
            }
          };
          var insertMarkers = function insertMarkers2(elem) {
            elem.append("defs").append("marker").attr("id", "extensionStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 1,7 L18,13 V 1 Z");
            elem.append("defs").append("marker").attr("id", "extensionEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 1,1 V 13 L18,7 Z");
            elem.append("defs").append("marker").attr("id", "compositionStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", "compositionEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", "aggregationStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", "aggregationEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", "dependencyStart").attr("class", "extension").attr("refX", 0).attr("refY", 7).attr("markerWidth", 190).attr("markerHeight", 240).attr("orient", "auto").append("path").attr("d", "M 5,7 L9,13 L1,7 L9,1 Z");
            elem.append("defs").append("marker").attr("id", "dependencyEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
          };
          var draw = function draw2(text2, id2, _version, diagObj) {
            var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().class;
            idCache = {};
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Rendering diagram " + text2);
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            var diagram = root2.select("[id='".concat(id2, "']"));
            insertMarkers(diagram);
            var g = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default()).Graph({
              multigraph: true
            });
            g.setGraph({
              isMultiGraph: true
            });
            g.setDefaultEdgeLabel(function() {
              return {};
            });
            var classes = diagObj.db.getClasses();
            var keys2 = Object.keys(classes);
            for (var i = 0; i < keys2.length; i++) {
              var classDef = classes[keys2[i]];
              var node = _svgDraw__WEBPACK_IMPORTED_MODULE_5__["default"].drawClass(diagram, classDef, conf, diagObj);
              idCache[node.id] = node;
              g.setNode(node.id, node);
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Org height: " + node.height);
            }
            var relations = diagObj.db.getRelations();
            relations.forEach(function(relation) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("tjoho" + getGraphId(relation.id1) + getGraphId(relation.id2) + JSON.stringify(relation));
              g.setEdge(getGraphId(relation.id1), getGraphId(relation.id2), {
                relation
              }, relation.title || "DEFAULT");
            });
            dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(g);
            g.nodes().forEach(function(v) {
              if (typeof v !== "undefined" && typeof g.node(v) !== "undefined") {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Node " + v + ": " + JSON.stringify(g.node(v)));
                root2.select("#" + diagObj.db.lookUpDomId(v)).attr("transform", "translate(" + (g.node(v).x - g.node(v).width / 2) + "," + (g.node(v).y - g.node(v).height / 2) + " )");
              }
            });
            g.edges().forEach(function(e) {
              if (typeof e !== "undefined" && typeof g.edge(e) !== "undefined") {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(g.edge(e)));
                _svgDraw__WEBPACK_IMPORTED_MODULE_5__["default"].drawEdge(diagram, g.edge(e), g.edge(e).relation, conf, diagObj);
              }
            });
            var svgBounds = diagram.node().getBBox();
            var width = svgBounds.width + padding * 2;
            var height = svgBounds.height + padding * 2;
            (0, _utils__WEBPACK_IMPORTED_MODULE_6__.configureSvgSize)(diagram, height, width, conf.useMaxWidth);
            var vBox = "".concat(svgBounds.x - padding, " ").concat(svgBounds.y - padding, " ").concat(width, " ").concat(height);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("viewBox ".concat(vBox));
            diagram.attr("viewBox", vBox);
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_7__["default"])(diagObj.db, diagram, id2);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            draw
          };
        },
        "./src/diagrams/class/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return "g.classGroup text {\n  fill: ".concat(options.nodeBorder, ";\n  fill: ").concat(options.classText, ";\n  stroke: none;\n  font-family: ").concat(options.fontFamily, ";\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ").concat(options.classText, ";\n}\n.edgeLabel .label rect {\n  fill: ").concat(options.mainBkg, ";\n}\n.label text {\n  fill: ").concat(options.classText, ";\n}\n.edgeLabel .label span {\n  background: ").concat(options.mainBkg, ";\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(options.mainBkg, ";\n    stroke: ").concat(options.nodeBorder, ";\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ").concat(options.nodeBorder, ";\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ").concat(options.mainBkg, ";\n  stroke: ").concat(options.nodeBorder, ";\n}\n\ng.classGroup line {\n  stroke: ").concat(options.nodeBorder, ";\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(options.mainBkg, ";\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ").concat(options.nodeBorder, ";\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ").concat(options.lineColor, ";\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ").concat(options.lineColor, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ").concat(options.lineColor, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(options.lineColor, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(options.lineColor, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ").concat(options.lineColor, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ").concat(options.lineColor, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ").concat(options.mainBkg, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ").concat(options.mainBkg, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ").concat(options.mainBkg, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ").concat(options.mainBkg, " !important;\n  stroke: ").concat(options.lineColor, " !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/class/svgDraw.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "drawClass": () => drawClass,
            "drawEdge": () => drawEdge,
            "parseMember": () => parseMember
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/utils.js");
          var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/logger.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/common/common.js");
          var edgeCount = 0;
          var drawEdge = function drawEdge2(elem, path2, relation, conf, diagObj) {
            var getRelationType = function getRelationType2(type2) {
              switch (type2) {
                case diagObj.db.relationType.AGGREGATION:
                  return "aggregation";
                case diagObj.db.EXTENSION:
                  return "extension";
                case diagObj.db.COMPOSITION:
                  return "composition";
                case diagObj.db.DEPENDENCY:
                  return "dependency";
                case diagObj.db.LOLLIPOP:
                  return "lollipop";
              }
            };
            path2.points = path2.points.filter(function(p) {
              return !Number.isNaN(p.y);
            });
            var lineData = path2.points;
            var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function(d) {
              return d.x;
            }).y(function(d) {
              return d.y;
            }).curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis);
            var svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", "edge" + edgeCount).attr("class", "relation");
            var url = "";
            if (conf.arrowMarkerAbsolute) {
              url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
              url = url.replace(/\(/g, "\\(");
              url = url.replace(/\)/g, "\\)");
            }
            if (relation.relation.lineType == 1) {
              svgPath.attr("class", "relation dashed-line");
            }
            if (relation.relation.type1 !== "none") {
              svgPath.attr("marker-start", "url(" + url + "#" + getRelationType(relation.relation.type1) + "Start)");
            }
            if (relation.relation.type2 !== "none") {
              svgPath.attr("marker-end", "url(" + url + "#" + getRelationType(relation.relation.type2) + "End)");
            }
            var x2, y2;
            var l = path2.points.length;
            var labelPosition = _utils__WEBPACK_IMPORTED_MODULE_1__["default"].calcLabelPosition(path2.points);
            x2 = labelPosition.x;
            y2 = labelPosition.y;
            var p1_card_x, p1_card_y;
            var p2_card_x, p2_card_y;
            if (l % 2 !== 0 && l > 1) {
              var cardinality_1_point = _utils__WEBPACK_IMPORTED_MODULE_1__["default"].calcCardinalityPosition(relation.relation.type1 !== "none", path2.points, path2.points[0]);
              var cardinality_2_point = _utils__WEBPACK_IMPORTED_MODULE_1__["default"].calcCardinalityPosition(relation.relation.type2 !== "none", path2.points, path2.points[l - 1]);
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("cardinality_1_point " + JSON.stringify(cardinality_1_point));
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("cardinality_2_point " + JSON.stringify(cardinality_2_point));
              p1_card_x = cardinality_1_point.x;
              p1_card_y = cardinality_1_point.y;
              p2_card_x = cardinality_2_point.x;
              p2_card_y = cardinality_2_point.y;
            }
            if (typeof relation.title !== "undefined") {
              var g = elem.append("g").attr("class", "classLabel");
              var label = g.append("text").attr("class", "label").attr("x", x2).attr("y", y2).attr("fill", "red").attr("text-anchor", "middle").text(relation.title);
              window.label = label;
              var bounds2 = label.node().getBBox();
              g.insert("rect", ":first-child").attr("class", "box").attr("x", bounds2.x - conf.padding / 2).attr("y", bounds2.y - conf.padding / 2).attr("width", bounds2.width + conf.padding).attr("height", bounds2.height + conf.padding);
            }
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Rendering relation " + JSON.stringify(relation));
            if (typeof relation.relationTitle1 !== "undefined" && relation.relationTitle1 !== "none") {
              var _g = elem.append("g").attr("class", "cardinality");
              _g.append("text").attr("class", "type1").attr("x", p1_card_x).attr("y", p1_card_y).attr("fill", "black").attr("font-size", "6").text(relation.relationTitle1);
            }
            if (typeof relation.relationTitle2 !== "undefined" && relation.relationTitle2 !== "none") {
              var _g2 = elem.append("g").attr("class", "cardinality");
              _g2.append("text").attr("class", "type2").attr("x", p2_card_x).attr("y", p2_card_y).attr("fill", "black").attr("font-size", "6").text(relation.relationTitle2);
            }
            edgeCount++;
          };
          var drawClass = function drawClass2(elem, classDef, conf, diagObj) {
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("Rendering class ", classDef, conf);
            var id2 = classDef.id;
            var classInfo = {
              id: id2,
              label: classDef.id,
              width: 0,
              height: 0
            };
            var g = elem.append("g").attr("id", diagObj.db.lookUpDomId(id2)).attr("class", "classGroup");
            var title;
            if (classDef.link) {
              title = g.append("svg:a").attr("xlink:href", classDef.link).attr("target", classDef.linkTarget).append("text").attr("y", conf.textHeight + conf.padding).attr("x", 0);
            } else {
              title = g.append("text").attr("y", conf.textHeight + conf.padding).attr("x", 0);
            }
            var isFirst = true;
            classDef.annotations.forEach(function(member) {
              var titleText2 = title.append("tspan").text("\xAB" + member + "\xBB");
              if (!isFirst)
                titleText2.attr("dy", conf.textHeight);
              isFirst = false;
            });
            var classTitleString = classDef.id;
            if (classDef.type !== void 0 && classDef.type !== "") {
              classTitleString += "<" + classDef.type + ">";
            }
            var classTitle = title.append("tspan").text(classTitleString).attr("class", "title");
            if (!isFirst)
              classTitle.attr("dy", conf.textHeight);
            var titleHeight = title.node().getBBox().height;
            var membersLine = g.append("line").attr("x1", 0).attr("y1", conf.padding + titleHeight + conf.dividerMargin / 2).attr("y2", conf.padding + titleHeight + conf.dividerMargin / 2);
            var members = g.append("text").attr("x", conf.padding).attr("y", titleHeight + conf.dividerMargin + conf.textHeight).attr("fill", "white").attr("class", "classText");
            isFirst = true;
            classDef.members.forEach(function(member) {
              addTspan(members, member, isFirst, conf);
              isFirst = false;
            });
            var membersBox = members.node().getBBox();
            var methodsLine = g.append("line").attr("x1", 0).attr("y1", conf.padding + titleHeight + conf.dividerMargin + membersBox.height).attr("y2", conf.padding + titleHeight + conf.dividerMargin + membersBox.height);
            var methods = g.append("text").attr("x", conf.padding).attr("y", titleHeight + 2 * conf.dividerMargin + membersBox.height + conf.textHeight).attr("fill", "white").attr("class", "classText");
            isFirst = true;
            classDef.methods.forEach(function(method) {
              addTspan(methods, method, isFirst, conf);
              isFirst = false;
            });
            var classBox = g.node().getBBox();
            var cssClassStr = " ";
            if (classDef.cssClasses.length > 0) {
              cssClassStr = cssClassStr + classDef.cssClasses.join(" ");
            }
            var rect = g.insert("rect", ":first-child").attr("x", 0).attr("y", 0).attr("width", classBox.width + 2 * conf.padding).attr("height", classBox.height + conf.padding + 0.5 * conf.dividerMargin).attr("class", cssClassStr);
            var rectWidth = rect.node().getBBox().width;
            title.node().childNodes.forEach(function(x2) {
              x2.setAttribute("x", (rectWidth - x2.getBBox().width) / 2);
            });
            if (classDef.tooltip) {
              title.insert("title").text(classDef.tooltip);
            }
            membersLine.attr("x2", rectWidth);
            methodsLine.attr("x2", rectWidth);
            classInfo.width = rectWidth;
            classInfo.height = classBox.height + conf.padding + 0.5 * conf.dividerMargin;
            return classInfo;
          };
          var parseMember = function parseMember2(text2) {
            var fieldRegEx = /^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/;
            var methodRegEx = /^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/;
            var fieldMatch = text2.match(fieldRegEx);
            var methodMatch = text2.match(methodRegEx);
            if (fieldMatch && !methodMatch) {
              return buildFieldDisplay(fieldMatch);
            } else if (methodMatch) {
              return buildMethodDisplay(methodMatch);
            } else {
              return buildLegacyDisplay(text2);
            }
          };
          var buildFieldDisplay = function buildFieldDisplay2(parsedText) {
            var cssStyle = "";
            var displayText = "";
            try {
              var visibility = parsedText[1] ? parsedText[1].trim() : "";
              var fieldType = parsedText[2] ? parsedText[2].trim() : "";
              var genericType = parsedText[3] ? (0, _common_common__WEBPACK_IMPORTED_MODULE_3__.parseGenericTypes)(parsedText[3].trim()) : "";
              var fieldName = parsedText[4] ? parsedText[4].trim() : "";
              var classifier = parsedText[5] ? parsedText[5].trim() : "";
              displayText = visibility + fieldType + genericType + " " + fieldName;
              cssStyle = parseClassifier(classifier);
            } catch (err) {
              displayText = parsedText;
            }
            return {
              displayText,
              cssStyle
            };
          };
          var buildMethodDisplay = function buildMethodDisplay2(parsedText) {
            var cssStyle = "";
            var displayText = "";
            try {
              var visibility = parsedText[1] ? parsedText[1].trim() : "";
              var methodName = parsedText[2] ? parsedText[2].trim() : "";
              var parameters = parsedText[3] ? (0, _common_common__WEBPACK_IMPORTED_MODULE_3__.parseGenericTypes)(parsedText[3].trim()) : "";
              var classifier = parsedText[4] ? parsedText[4].trim() : "";
              var returnType = parsedText[5] ? " : " + (0, _common_common__WEBPACK_IMPORTED_MODULE_3__.parseGenericTypes)(parsedText[5]).trim() : "";
              displayText = visibility + methodName + "(" + parameters + ")" + returnType;
              cssStyle = parseClassifier(classifier);
            } catch (err) {
              displayText = parsedText;
            }
            return {
              displayText,
              cssStyle
            };
          };
          var buildLegacyDisplay = function buildLegacyDisplay2(text2) {
            var displayText = "";
            var cssStyle = "";
            var memberText = "";
            var returnType = "";
            var methodStart = text2.indexOf("(");
            var methodEnd = text2.indexOf(")");
            if (methodStart > 1 && methodEnd > methodStart && methodEnd <= text2.length) {
              var visibility = "";
              var methodName = "";
              var firstChar = text2.substring(0, 1);
              if (firstChar.match(/\w/)) {
                methodName = text2.substring(0, methodStart).trim();
              } else {
                if (firstChar.match(/\+|-|~|#/)) {
                  visibility = firstChar;
                }
                methodName = text2.substring(1, methodStart).trim();
              }
              var parameters = text2.substring(methodStart + 1, methodEnd);
              var classifier = text2.substring(methodEnd + 1, 1);
              cssStyle = parseClassifier(classifier);
              displayText = visibility + methodName + "(" + (0, _common_common__WEBPACK_IMPORTED_MODULE_3__.parseGenericTypes)(parameters.trim()) + ")";
              if (methodEnd < memberText.length) {
                returnType = text2.substring(methodEnd + 2).trim();
                if (returnType !== "") {
                  returnType = " : " + (0, _common_common__WEBPACK_IMPORTED_MODULE_3__.parseGenericTypes)(returnType);
                }
              }
            } else {
              displayText = (0, _common_common__WEBPACK_IMPORTED_MODULE_3__.parseGenericTypes)(text2);
            }
            return {
              displayText,
              cssStyle
            };
          };
          var addTspan = function addTspan2(textEl, txt, isFirst, conf) {
            var member = parseMember(txt);
            var tSpan = textEl.append("tspan").attr("x", conf.padding).text(member.displayText);
            if (member.cssStyle !== "") {
              tSpan.attr("style", member.cssStyle);
            }
            if (!isFirst) {
              tSpan.attr("dy", conf.textHeight);
            }
          };
          var parseClassifier = function parseClassifier2(classifier) {
            switch (classifier) {
              case "*":
                return "font-style:italic;";
              case "$":
                return "text-decoration:underline;";
              default:
                return "";
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            drawClass,
            drawEdge,
            parseMember
          };
        },
        "./src/diagrams/common/common.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "evaluate": () => evaluate,
            "getRows": () => getRows,
            "hasBreaks": () => hasBreaks,
            "lineBreakRegex": () => lineBreakRegex,
            "parseGenericTypes": () => parseGenericTypes,
            "removeEscapes": () => removeEscapes,
            "removeScript": () => removeScript,
            "sanitizeText": () => sanitizeText,
            "sanitizeTextOrArray": () => sanitizeTextOrArray,
            "splitBreaks": () => splitBreaks
          });
          var dompurify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("dompurify");
          var dompurify__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(dompurify__WEBPACK_IMPORTED_MODULE_0__);
          var getRows = function getRows2(s2) {
            if (!s2)
              return 1;
            var str = breakToPlaceholder(s2);
            str = str.replace(/\\n/g, "#br#");
            return str.split("#br#");
          };
          var removeEscapes = function removeEscapes2(text2) {
            var newStr = text2.replace(/\\u[\dA-F]{4}/gi, function(match) {
              return String.fromCharCode(parseInt(match.replace(/\\u/g, ""), 16));
            });
            newStr = newStr.replace(/\\x([0-9a-f]{2})/gi, function(_2, c2) {
              return String.fromCharCode(parseInt(c2, 16));
            });
            newStr = newStr.replace(/\\[\d\d\d]{3}/gi, function(match) {
              return String.fromCharCode(parseInt(match.replace(/\\/g, ""), 8));
            });
            newStr = newStr.replace(/\\[\d\d\d]{2}/gi, function(match) {
              return String.fromCharCode(parseInt(match.replace(/\\/g, ""), 8));
            });
            return newStr;
          };
          var removeScript = function removeScript2(txt) {
            var rs = "";
            var idx = 0;
            while (idx >= 0) {
              idx = txt.indexOf("<script");
              if (idx >= 0) {
                rs += txt.substr(0, idx);
                txt = txt.substr(idx + 1);
                idx = txt.indexOf("<\/script>");
                if (idx >= 0) {
                  idx += 9;
                  txt = txt.substr(idx);
                }
              } else {
                rs += txt;
                idx = -1;
                break;
              }
            }
            var decodedText = removeEscapes(rs);
            decodedText = decodedText.replace(/script>/gi, "#");
            decodedText = decodedText.replace(/javascript:/gi, "#");
            decodedText = decodedText.replace(/javascript&colon/gi, "#");
            decodedText = decodedText.replace(/onerror=/gi, "onerror:");
            decodedText = decodedText.replace(/<iframe/gi, "");
            return decodedText;
          };
          var sanitizeMore = function sanitizeMore2(text2, config) {
            var txt = text2;
            var htmlLabels = true;
            if (config.flowchart && (config.flowchart.htmlLabels === false || config.flowchart.htmlLabels === "false")) {
              htmlLabels = false;
            }
            if (htmlLabels) {
              var level = config.securityLevel;
              if (level === "antiscript" || level === "strict") {
                txt = removeScript(txt);
              } else if (level !== "loose") {
                txt = breakToPlaceholder(txt);
                txt = txt.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                txt = txt.replace(/=/g, "&equals;");
                txt = placeholderToBreak(txt);
              }
            }
            return txt;
          };
          var sanitizeText = function sanitizeText2(text2, config) {
            if (!text2)
              return text2;
            var txt = "";
            if (config["dompurifyConfig"]) {
              txt = dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(sanitizeMore(text2, config), config["dompurifyConfig"]);
            } else {
              txt = dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(sanitizeMore(text2, config));
            }
            return txt;
          };
          var sanitizeTextOrArray = function sanitizeTextOrArray2(a2, config) {
            if (typeof a2 === "string")
              return sanitizeText(a2, config);
            var f = function f2(x2) {
              return sanitizeText(x2, config);
            };
            return a2.flat().map(f);
          };
          var lineBreakRegex = /<br\s*\/?>/gi;
          var hasBreaks = function hasBreaks2(text2) {
            return lineBreakRegex.test(text2);
          };
          var splitBreaks = function splitBreaks2(text2) {
            return text2.split(lineBreakRegex);
          };
          var placeholderToBreak = function placeholderToBreak2(s2) {
            return s2.replace(/#br#/g, "<br/>");
          };
          var breakToPlaceholder = function breakToPlaceholder2(s2) {
            return s2.replace(lineBreakRegex, "#br#");
          };
          var getUrl = function getUrl2(useAbsolute) {
            var url = "";
            if (useAbsolute) {
              url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
              url = url.replace(/\(/g, "\\(");
              url = url.replace(/\)/g, "\\)");
            }
            return url;
          };
          var evaluate = function evaluate2(val) {
            return val === "false" || val === false ? false : true;
          };
          var parseGenericTypes = function parseGenericTypes2(text2) {
            var cleanedText = text2;
            if (text2.indexOf("~") != -1) {
              cleanedText = cleanedText.replace("~", "<");
              cleanedText = cleanedText.replace("~", ">");
              return parseGenericTypes2(cleanedText);
            } else {
              return cleanedText;
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            getRows,
            sanitizeText,
            sanitizeTextOrArray,
            hasBreaks,
            splitBreaks,
            lineBreakRegex,
            removeScript,
            getUrl,
            evaluate,
            removeEscapes
          };
        },
        "./src/diagrams/er/erDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "parseDirective": () => parseDirective
          });
          var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/logger.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/mermaidAPI.js");
          var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/config.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/commonDb.js");
          var entities = {};
          var relationships = [];
          var Cardinality = {
            ZERO_OR_ONE: "ZERO_OR_ONE",
            ZERO_OR_MORE: "ZERO_OR_MORE",
            ONE_OR_MORE: "ONE_OR_MORE",
            ONLY_ONE: "ONLY_ONE"
          };
          var Identification = {
            NON_IDENTIFYING: "NON_IDENTIFYING",
            IDENTIFYING: "IDENTIFYING"
          };
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__["default"].parseDirective(this, statement, context, type2);
          };
          var addEntity = function addEntity2(name) {
            if (typeof entities[name] === "undefined") {
              entities[name] = {
                attributes: []
              };
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Added new entity :", name);
            }
            return entities[name];
          };
          var getEntities = function getEntities2() {
            return entities;
          };
          var addAttributes = function addAttributes2(entityName, attribs) {
            var entity = addEntity(entityName);
            var i;
            for (i = attribs.length - 1; i >= 0; i--) {
              entity.attributes.push(attribs[i]);
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Added attribute ", attribs[i].attributeName);
            }
          };
          var addRelationship = function addRelationship2(entA, rolA, entB, rSpec) {
            var rel = {
              entityA: entA,
              roleA: rolA,
              entityB: entB,
              relSpec: rSpec
            };
            relationships.push(rel);
            _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Added new relationship :", rel);
          };
          var getRelationships = function getRelationships2() {
            return relationships;
          };
          var clear = function clear2() {
            entities = {};
            relationships = [];
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_2__.clear)();
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            Cardinality,
            Identification,
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_3__.getConfig().er;
            },
            addEntity,
            addAttributes,
            getEntities,
            addRelationship,
            getRelationships,
            clear,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_2__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_2__.getAccTitle,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_2__.setAccDescription,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_2__.getAccDescription
          };
        },
        "./src/diagrams/er/erMarkers.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var ERMarkers = {
            ONLY_ONE_START: "ONLY_ONE_START",
            ONLY_ONE_END: "ONLY_ONE_END",
            ZERO_OR_ONE_START: "ZERO_OR_ONE_START",
            ZERO_OR_ONE_END: "ZERO_OR_ONE_END",
            ONE_OR_MORE_START: "ONE_OR_MORE_START",
            ONE_OR_MORE_END: "ONE_OR_MORE_END",
            ZERO_OR_MORE_START: "ZERO_OR_MORE_START",
            ZERO_OR_MORE_END: "ZERO_OR_MORE_END"
          };
          var insertMarkers = function insertMarkers2(elem, conf) {
            var marker;
            elem.append("defs").append("marker").attr("id", ERMarkers.ONLY_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M9,0 L9,18 M15,0 L15,18");
            elem.append("defs").append("marker").attr("id", ERMarkers.ONLY_ONE_END).attr("refX", 18).attr("refY", 9).attr("markerWidth", 18).attr("markerHeight", 18).attr("orient", "auto").append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M3,0 L3,18 M9,0 L9,18");
            marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_ONE_START).attr("refX", 0).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto");
            marker.append("circle").attr("stroke", conf.stroke).attr("fill", "white").attr("cx", 21).attr("cy", 9).attr("r", 6);
            marker.append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M9,0 L9,18");
            marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_ONE_END).attr("refX", 30).attr("refY", 9).attr("markerWidth", 30).attr("markerHeight", 18).attr("orient", "auto");
            marker.append("circle").attr("stroke", conf.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 9).attr("r", 6);
            marker.append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M21,0 L21,18");
            elem.append("defs").append("marker").attr("id", ERMarkers.ONE_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27");
            elem.append("defs").append("marker").attr("id", ERMarkers.ONE_OR_MORE_END).attr("refX", 27).attr("refY", 18).attr("markerWidth", 45).attr("markerHeight", 36).attr("orient", "auto").append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18");
            marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_MORE_START).attr("refX", 18).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto");
            marker.append("circle").attr("stroke", conf.stroke).attr("fill", "white").attr("cx", 48).attr("cy", 18).attr("r", 6);
            marker.append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M0,18 Q18,0 36,18 Q18,36 0,18");
            marker = elem.append("defs").append("marker").attr("id", ERMarkers.ZERO_OR_MORE_END).attr("refX", 39).attr("refY", 18).attr("markerWidth", 57).attr("markerHeight", 36).attr("orient", "auto");
            marker.append("circle").attr("stroke", conf.stroke).attr("fill", "white").attr("cx", 9).attr("cy", 18).attr("r", 6);
            marker.append("path").attr("stroke", conf.stroke).attr("fill", "none").attr("d", "M21,18 Q39,0 57,18 Q39,36 21,18");
            return;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            ERMarkers,
            insertMarkers
          };
        },
        "./src/diagrams/er/erRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "setConf": () => setConf
          });
          var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);
          var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("d3");
          var dagre__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("dagre");
          var dagre__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(dagre__WEBPACK_IMPORTED_MODULE_2__);
          var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/config.js");
          var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/logger.js");
          var _erMarkers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/diagrams/er/erMarkers.js");
          var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/utils.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/accessibility.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/common/common.js");
          var conf = {};
          var setConf = function setConf2(cnf) {
            var keys2 = Object.keys(cnf);
            for (var i = 0; i < keys2.length; i++) {
              conf[keys2[i]] = cnf[keys2[i]];
            }
          };
          var drawAttributes = function drawAttributes2(groupNode, entityTextNode, attributes) {
            var heightPadding = conf.entityPadding / 3;
            var widthPadding = conf.entityPadding / 3;
            var attrFontSize = conf.fontSize * 0.85;
            var labelBBox = entityTextNode.node().getBBox();
            var attributeNodes = [];
            var hasKeyType = false;
            var hasComment = false;
            var maxTypeWidth = 0;
            var maxNameWidth = 0;
            var maxKeyWidth = 0;
            var maxCommentWidth = 0;
            var cumulativeHeight = labelBBox.height + heightPadding * 2;
            var attrNum = 1;
            attributes.forEach(function(item) {
              if (item.attributeKeyType !== void 0) {
                hasKeyType = true;
              }
              if (item.attributeComment !== void 0) {
                hasComment = true;
              }
            });
            attributes.forEach(function(item) {
              var attrPrefix = "".concat(entityTextNode.node().id, "-attr-").concat(attrNum);
              var nodeHeight = 0;
              var attributeType = (0, _common_common__WEBPACK_IMPORTED_MODULE_3__.parseGenericTypes)(item.attributeType);
              var typeNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", "".concat(attrPrefix, "-type")).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr("style", "font-family: " + (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().fontFamily + "; font-size: " + attrFontSize + "px").text(attributeType);
              var nameNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", "".concat(attrPrefix, "-name")).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr("style", "font-family: " + (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().fontFamily + "; font-size: " + attrFontSize + "px").text(item.attributeName);
              var attributeNode = {};
              attributeNode.tn = typeNode;
              attributeNode.nn = nameNode;
              var typeBBox = typeNode.node().getBBox();
              var nameBBox = nameNode.node().getBBox();
              maxTypeWidth = Math.max(maxTypeWidth, typeBBox.width);
              maxNameWidth = Math.max(maxNameWidth, nameBBox.width);
              nodeHeight = Math.max(typeBBox.height, nameBBox.height);
              if (hasKeyType) {
                var keyTypeNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", "".concat(attrPrefix, "-key")).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr("style", "font-family: " + (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().fontFamily + "; font-size: " + attrFontSize + "px").text(item.attributeKeyType || "");
                attributeNode.kn = keyTypeNode;
                var keyTypeBBox = keyTypeNode.node().getBBox();
                maxKeyWidth = Math.max(maxKeyWidth, keyTypeBBox.width);
                nodeHeight = Math.max(nodeHeight, keyTypeBBox.height);
              }
              if (hasComment) {
                var commentNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", "".concat(attrPrefix, "-comment")).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "left").attr("style", "font-family: " + (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().fontFamily + "; font-size: " + attrFontSize + "px").text(item.attributeComment || "");
                attributeNode.cn = commentNode;
                var commentNodeBBox = commentNode.node().getBBox();
                maxCommentWidth = Math.max(maxCommentWidth, commentNodeBBox.width);
                nodeHeight = Math.max(nodeHeight, commentNodeBBox.height);
              }
              attributeNode.height = nodeHeight;
              attributeNodes.push(attributeNode);
              cumulativeHeight += nodeHeight + heightPadding * 2;
              attrNum += 1;
            });
            var widthPaddingFactor = 4;
            if (hasKeyType) {
              widthPaddingFactor += 2;
            }
            if (hasComment) {
              widthPaddingFactor += 2;
            }
            var maxWidth = maxTypeWidth + maxNameWidth + maxKeyWidth + maxCommentWidth;
            var bBox = {
              width: Math.max(conf.minEntityWidth, Math.max(labelBBox.width + conf.entityPadding * 2, maxWidth + widthPadding * widthPaddingFactor)),
              height: attributes.length > 0 ? cumulativeHeight : Math.max(conf.minEntityHeight, labelBBox.height + conf.entityPadding * 2)
            };
            if (attributes.length > 0) {
              var spareColumnWidth = Math.max(0, (bBox.width - maxWidth - widthPadding * widthPaddingFactor) / (widthPaddingFactor / 2));
              entityTextNode.attr("transform", "translate(" + bBox.width / 2 + "," + (heightPadding + labelBBox.height / 2) + ")");
              var heightOffset = labelBBox.height + heightPadding * 2;
              var attribStyle = "attributeBoxOdd";
              attributeNodes.forEach(function(attributeNode) {
                var alignY = heightOffset + heightPadding + attributeNode.height / 2;
                attributeNode.tn.attr("transform", "translate(" + widthPadding + "," + alignY + ")");
                var typeRect = groupNode.insert("rect", "#" + attributeNode.tn.node().id).attr("class", "er ".concat(attribStyle)).attr("fill", conf.fill).attr("fill-opacity", "100%").attr("stroke", conf.stroke).attr("x", 0).attr("y", heightOffset).attr("width", maxTypeWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
                var nameXOffset = parseFloat(typeRect.attr("x")) + parseFloat(typeRect.attr("width"));
                attributeNode.nn.attr("transform", "translate(" + (nameXOffset + widthPadding) + "," + alignY + ")");
                var nameRect = groupNode.insert("rect", "#" + attributeNode.nn.node().id).attr("class", "er ".concat(attribStyle)).attr("fill", conf.fill).attr("fill-opacity", "100%").attr("stroke", conf.stroke).attr("x", nameXOffset).attr("y", heightOffset).attr("width", maxNameWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
                var keyTypeAndCommentXOffset = parseFloat(nameRect.attr("x")) + parseFloat(nameRect.attr("width"));
                if (hasKeyType) {
                  attributeNode.kn.attr("transform", "translate(" + (keyTypeAndCommentXOffset + widthPadding) + "," + alignY + ")");
                  var keyTypeRect = groupNode.insert("rect", "#" + attributeNode.kn.node().id).attr("class", "er ".concat(attribStyle)).attr("fill", conf.fill).attr("fill-opacity", "100%").attr("stroke", conf.stroke).attr("x", keyTypeAndCommentXOffset).attr("y", heightOffset).attr("width", maxKeyWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
                  keyTypeAndCommentXOffset = parseFloat(keyTypeRect.attr("x")) + parseFloat(keyTypeRect.attr("width"));
                }
                if (hasComment) {
                  attributeNode.cn.attr("transform", "translate(" + (keyTypeAndCommentXOffset + widthPadding) + "," + alignY + ")");
                  groupNode.insert("rect", "#" + attributeNode.cn.node().id).attr("class", "er ".concat(attribStyle)).attr("fill", conf.fill).attr("fill-opacity", "100%").attr("stroke", conf.stroke).attr("x", keyTypeAndCommentXOffset).attr("y", heightOffset).attr("width", maxCommentWidth + widthPadding * 2 + spareColumnWidth).attr("height", attributeNode.height + heightPadding * 2);
                }
                heightOffset += attributeNode.height + heightPadding * 2;
                attribStyle = attribStyle == "attributeBoxOdd" ? "attributeBoxEven" : "attributeBoxOdd";
              });
            } else {
              bBox.height = Math.max(conf.minEntityHeight, cumulativeHeight);
              entityTextNode.attr("transform", "translate(" + bBox.width / 2 + "," + bBox.height / 2 + ")");
            }
            return bBox;
          };
          var drawEntities = function drawEntities2(svgNode2, entities, graph2) {
            var keys2 = Object.keys(entities);
            var firstOne;
            keys2.forEach(function(id2) {
              var groupNode = svgNode2.append("g").attr("id", id2);
              firstOne = firstOne === void 0 ? id2 : firstOne;
              var textId = "entity-" + id2;
              var textNode = groupNode.append("text").attr("class", "er entityLabel").attr("id", textId).attr("x", 0).attr("y", 0).attr("dominant-baseline", "middle").attr("text-anchor", "middle").attr("style", "font-family: " + (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().fontFamily + "; font-size: " + conf.fontSize + "px").text(id2);
              var _drawAttributes = drawAttributes(groupNode, textNode, entities[id2].attributes), entityWidth = _drawAttributes.width, entityHeight = _drawAttributes.height;
              var rectNode = groupNode.insert("rect", "#" + textId).attr("class", "er entityBox").attr("fill", conf.fill).attr("fill-opacity", "100%").attr("stroke", conf.stroke).attr("x", 0).attr("y", 0).attr("width", entityWidth).attr("height", entityHeight);
              var rectBBox = rectNode.node().getBBox();
              graph2.setNode(id2, {
                width: rectBBox.width,
                height: rectBBox.height,
                shape: "rect",
                id: id2
              });
            });
            return firstOne;
          };
          var adjustEntities = function adjustEntities2(svgNode2, graph2) {
            graph2.nodes().forEach(function(v) {
              if (typeof v !== "undefined" && typeof graph2.node(v) !== "undefined") {
                svgNode2.select("#" + v).attr("transform", "translate(" + (graph2.node(v).x - graph2.node(v).width / 2) + "," + (graph2.node(v).y - graph2.node(v).height / 2) + " )");
              }
            });
            return;
          };
          var getEdgeName = function getEdgeName2(rel) {
            return (rel.entityA + rel.roleA + rel.entityB).replace(/\s/g, "");
          };
          var addRelationships = function addRelationships2(relationships, g) {
            relationships.forEach(function(r) {
              g.setEdge(r.entityA, r.entityB, {
                relationship: r
              }, getEdgeName(r));
            });
            return relationships;
          };
          var relCnt = 0;
          var drawRelationshipFromLayout = function drawRelationshipFromLayout2(svg2, rel, g, insert, diagObj) {
            relCnt++;
            var edge = g.edge(rel.entityA, rel.entityB, getEdgeName(rel));
            var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_1__.line)().x(function(d) {
              return d.x;
            }).y(function(d) {
              return d.y;
            }).curve(d3__WEBPACK_IMPORTED_MODULE_1__.curveBasis);
            var svgPath = svg2.insert("path", "#" + insert).attr("class", "er relationshipLine").attr("d", lineFunction(edge.points)).attr("stroke", conf.stroke).attr("fill", "none");
            if (rel.relSpec.relType === diagObj.db.Identification.NON_IDENTIFYING) {
              svgPath.attr("stroke-dasharray", "8,8");
            }
            var url = "";
            if (conf.arrowMarkerAbsolute) {
              url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
              url = url.replace(/\(/g, "\\(");
              url = url.replace(/\)/g, "\\)");
            }
            switch (rel.relSpec.cardA) {
              case diagObj.db.Cardinality.ZERO_OR_ONE:
                svgPath.attr("marker-end", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ZERO_OR_ONE_END + ")");
                break;
              case diagObj.db.Cardinality.ZERO_OR_MORE:
                svgPath.attr("marker-end", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ZERO_OR_MORE_END + ")");
                break;
              case diagObj.db.Cardinality.ONE_OR_MORE:
                svgPath.attr("marker-end", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ONE_OR_MORE_END + ")");
                break;
              case diagObj.db.Cardinality.ONLY_ONE:
                svgPath.attr("marker-end", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ONLY_ONE_END + ")");
                break;
            }
            switch (rel.relSpec.cardB) {
              case diagObj.db.Cardinality.ZERO_OR_ONE:
                svgPath.attr("marker-start", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ZERO_OR_ONE_START + ")");
                break;
              case diagObj.db.Cardinality.ZERO_OR_MORE:
                svgPath.attr("marker-start", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ZERO_OR_MORE_START + ")");
                break;
              case diagObj.db.Cardinality.ONE_OR_MORE:
                svgPath.attr("marker-start", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ONE_OR_MORE_START + ")");
                break;
              case diagObj.db.Cardinality.ONLY_ONE:
                svgPath.attr("marker-start", "url(" + url + "#" + _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].ERMarkers.ONLY_ONE_START + ")");
                break;
            }
            var len = svgPath.node().getTotalLength();
            var labelPoint = svgPath.node().getPointAtLength(len * 0.5);
            var labelId = "rel" + relCnt;
            var labelNode = svg2.append("text").attr("class", "er relationshipLabel").attr("id", labelId).attr("x", labelPoint.x).attr("y", labelPoint.y).attr("text-anchor", "middle").attr("dominant-baseline", "middle").attr("style", "font-family: " + (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().fontFamily + "; font-size: " + conf.fontSize + "px").text(rel.roleA);
            var labelBBox = labelNode.node().getBBox();
            svg2.insert("rect", "#" + labelId).attr("class", "er relationshipLabelBox").attr("x", labelPoint.x - labelBBox.width / 2).attr("y", labelPoint.y - labelBBox.height / 2).attr("width", labelBBox.width).attr("height", labelBBox.height).attr("fill", "white").attr("fill-opacity", "85%");
            return;
          };
          var draw = function draw2(text2, id2, _version, diagObj) {
            conf = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().er;
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Drawing ER diagram");
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");
            var svg2 = root2.select("[id='".concat(id2, "']"));
            _erMarkers__WEBPACK_IMPORTED_MODULE_5__["default"].insertMarkers(svg2, conf);
            var g;
            g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default()).Graph({
              multigraph: true,
              directed: true,
              compound: false
            }).setGraph({
              rankdir: conf.layoutDirection,
              marginx: 20,
              marginy: 20,
              nodesep: 100,
              edgesep: 100,
              ranksep: 100
            }).setDefaultEdgeLabel(function() {
              return {};
            });
            var firstEntity = drawEntities(svg2, diagObj.db.getEntities(), g);
            var relationships = addRelationships(diagObj.db.getRelationships(), g);
            dagre__WEBPACK_IMPORTED_MODULE_2___default().layout(g);
            adjustEntities(svg2, g);
            relationships.forEach(function(rel) {
              drawRelationshipFromLayout(svg2, rel, g, firstEntity, diagObj);
            });
            var padding = conf.diagramPadding;
            var svgBounds = svg2.node().getBBox();
            var width = svgBounds.width + padding * 2;
            var height = svgBounds.height + padding * 2;
            (0, _utils__WEBPACK_IMPORTED_MODULE_7__.configureSvgSize)(svg2, height, width, conf.useMaxWidth);
            svg2.attr("viewBox", "".concat(svgBounds.x - padding, " ").concat(svgBounds.y - padding, " ").concat(width, " ").concat(height));
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_8__["default"])(diagObj.db, svg2, id2);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            draw
          };
        },
        "./src/diagrams/er/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return "\n  .entityBox {\n    fill: ".concat(options.mainBkg, ";\n    stroke: ").concat(options.nodeBorder, ";\n  }\n\n  .attributeBoxOdd {\n    fill: #ffffff;\n    stroke: ").concat(options.nodeBorder, ";\n  }\n\n  .attributeBoxEven {\n    fill: #f2f2f2;\n    stroke: ").concat(options.nodeBorder, ";\n  }\n\n  .relationshipLabelBox {\n    fill: ").concat(options.tertiaryColor, ";\n    opacity: 0.7;\n    background-color: ").concat(options.tertiaryColor, ";\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ").concat(options.lineColor, ";\n    }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/error/errorRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "setConf": () => setConf
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/logger.js");
          var setConf = function setConf2(cnf) {
            var keys2 = Object.keys(cnf);
            keys2.forEach(function(key) {
              cnf[key];
            });
          };
          var draw = function draw2(_txt, id2, ver) {
            try {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Renering svg for syntax error\n");
              var svg2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#" + id2);
              var g = svg2.append("g");
              g.append("path").attr("class", "error-icon").attr("d", "m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z");
              g.append("path").attr("class", "error-icon").attr("d", "m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z");
              g.append("path").attr("class", "error-icon").attr("d", "m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z");
              g.append("path").attr("class", "error-icon").attr("d", "m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z");
              g.append("path").attr("class", "error-icon").attr("d", "m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z");
              g.append("path").attr("class", "error-icon").attr("d", "m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z");
              g.append("text").attr("class", "error-text").attr("x", 1440).attr("y", 250).attr("font-size", "150px").style("text-anchor", "middle").text("Syntax error in graph");
              g.append("text").attr("class", "error-text").attr("x", 1250).attr("y", 400).attr("font-size", "100px").style("text-anchor", "middle").text("mermaid version " + ver);
              svg2.attr("height", 100);
              svg2.attr("width", 500);
              svg2.attr("viewBox", "768 0 912 512");
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.error("Error while rendering info diagram");
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.error(e.message);
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            draw
          };
        },
        "./src/diagrams/error/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2() {
            return "";
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/flowchart/flowChartShapes.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addToRender": () => addToRender,
            "addToRenderV2": () => addToRenderV2,
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var dagre_d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("dagre-d3");
          var dagre_d3__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(dagre_d3__WEBPACK_IMPORTED_MODULE_0__);
          function question(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var s2 = (w + h) * 0.9;
            var points = [{
              x: s2 / 2,
              y: 0
            }, {
              x: s2,
              y: -s2 / 2
            }, {
              x: s2 / 2,
              y: -s2
            }, {
              x: 0,
              y: -s2 / 2
            }];
            var shapeSvg = insertPolygonShape(parent, s2, s2, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function hexagon(parent, bbox, node) {
            var f = 4;
            var h = bbox.height;
            var m = h / f;
            var w = bbox.width + 2 * m;
            var points = [{
              x: m,
              y: 0
            }, {
              x: w - m,
              y: 0
            }, {
              x: w,
              y: -h / 2
            }, {
              x: w - m,
              y: -h
            }, {
              x: m,
              y: -h
            }, {
              x: 0,
              y: -h / 2
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function rect_left_inv_arrow(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var points = [{
              x: -h / 2,
              y: 0
            }, {
              x: w,
              y: 0
            }, {
              x: w,
              y: -h
            }, {
              x: -h / 2,
              y: -h
            }, {
              x: 0,
              y: -h / 2
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function lean_right(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var points = [{
              x: -2 * h / 6,
              y: 0
            }, {
              x: w - h / 6,
              y: 0
            }, {
              x: w + 2 * h / 6,
              y: -h
            }, {
              x: h / 6,
              y: -h
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function lean_left(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var points = [{
              x: 2 * h / 6,
              y: 0
            }, {
              x: w + h / 6,
              y: 0
            }, {
              x: w - 2 * h / 6,
              y: -h
            }, {
              x: -h / 6,
              y: -h
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function trapezoid(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var points = [{
              x: -2 * h / 6,
              y: 0
            }, {
              x: w + 2 * h / 6,
              y: 0
            }, {
              x: w - h / 6,
              y: -h
            }, {
              x: h / 6,
              y: -h
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function inv_trapezoid(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var points = [{
              x: h / 6,
              y: 0
            }, {
              x: w - h / 6,
              y: 0
            }, {
              x: w + 2 * h / 6,
              y: -h
            }, {
              x: -2 * h / 6,
              y: -h
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function rect_right_inv_arrow(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var points = [{
              x: 0,
              y: 0
            }, {
              x: w + h / 2,
              y: 0
            }, {
              x: w,
              y: -h / 2
            }, {
              x: w + h / 2,
              y: -h
            }, {
              x: 0,
              y: -h
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function stadium(parent, bbox, node) {
            var h = bbox.height;
            var w = bbox.width + h / 4;
            var shapeSvg = parent.insert("rect", ":first-child").attr("rx", h / 2).attr("ry", h / 2).attr("x", -w / 2).attr("y", -h / 2).attr("width", w).attr("height", h);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.rect(node, point2);
            };
            return shapeSvg;
          }
          function subroutine(parent, bbox, node) {
            var w = bbox.width;
            var h = bbox.height;
            var points = [{
              x: 0,
              y: 0
            }, {
              x: w,
              y: 0
            }, {
              x: w,
              y: -h
            }, {
              x: 0,
              y: -h
            }, {
              x: 0,
              y: 0
            }, {
              x: -8,
              y: 0
            }, {
              x: w + 8,
              y: 0
            }, {
              x: w + 8,
              y: -h
            }, {
              x: -8,
              y: -h
            }, {
              x: -8,
              y: 0
            }];
            var shapeSvg = insertPolygonShape(parent, w, h, points);
            node.intersect = function(point2) {
              return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node, points, point2);
            };
            return shapeSvg;
          }
          function cylinder(parent, bbox, node) {
            var w = bbox.width;
            var rx = w / 2;
            var ry = rx / (2.5 + w / 50);
            var h = bbox.height + ry;
            var shape = "M 0," + ry + " a " + rx + "," + ry + " 0,0,0 " + w + " 0 a " + rx + "," + ry + " 0,0,0 " + -w + " 0 l 0," + h + " a " + rx + "," + ry + " 0,0,0 " + w + " 0 l 0," + -h;
            var shapeSvg = parent.attr("label-offset-y", ry).insert("path", ":first-child").attr("d", shape).attr("transform", "translate(" + -w / 2 + "," + -(h / 2 + ry) + ")");
            node.intersect = function(point2) {
              var pos = dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.rect(node, point2);
              var x2 = pos.x - node.x;
              if (rx != 0 && (Math.abs(x2) < node.width / 2 || Math.abs(x2) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry)) {
                var y2 = ry * ry * (1 - x2 * x2 / (rx * rx));
                if (y2 != 0)
                  y2 = Math.sqrt(y2);
                y2 = ry - y2;
                if (point2.y - node.y > 0)
                  y2 = -y2;
                pos.y += y2;
              }
              return pos;
            };
            return shapeSvg;
          }
          function addToRender(render) {
            render.shapes().question = question;
            render.shapes().hexagon = hexagon;
            render.shapes().stadium = stadium;
            render.shapes().subroutine = subroutine;
            render.shapes().cylinder = cylinder;
            render.shapes().rect_left_inv_arrow = rect_left_inv_arrow;
            render.shapes().lean_right = lean_right;
            render.shapes().lean_left = lean_left;
            render.shapes().trapezoid = trapezoid;
            render.shapes().inv_trapezoid = inv_trapezoid;
            render.shapes().rect_right_inv_arrow = rect_right_inv_arrow;
          }
          function addToRenderV2(addShape) {
            addShape({
              question
            });
            addShape({
              hexagon
            });
            addShape({
              stadium
            });
            addShape({
              subroutine
            });
            addShape({
              cylinder
            });
            addShape({
              rect_left_inv_arrow
            });
            addShape({
              lean_right
            });
            addShape({
              lean_left
            });
            addShape({
              trapezoid
            });
            addShape({
              inv_trapezoid
            });
            addShape({
              rect_right_inv_arrow
            });
          }
          function insertPolygonShape(parent, w, h, points) {
            return parent.insert("polygon", ":first-child").attr("points", points.map(function(d) {
              return d.x + "," + d.y;
            }).join(" ")).attr("transform", "translate(" + -w / 2 + "," + h / 2 + ")");
          }
          const __WEBPACK_DEFAULT_EXPORT__ = {
            addToRender,
            addToRenderV2
          };
        },
        "./src/diagrams/flowchart/flowDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addClass": () => addClass,
            "addLink": () => addLink,
            "addSingleLink": () => addSingleLink,
            "addSubGraph": () => addSubGraph,
            "addVertex": () => addVertex,
            "bindFunctions": () => bindFunctions,
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "defaultStyle": () => defaultStyle,
            "firstGraph": () => firstGraph,
            "getClasses": () => getClasses,
            "getDepthFirstPos": () => getDepthFirstPos,
            "getDirection": () => getDirection,
            "getEdges": () => getEdges,
            "getSubGraphs": () => getSubGraphs,
            "getTooltip": () => getTooltip,
            "getVertices": () => getVertices,
            "indexNodes": () => indexNodes,
            "lookUpDomId": () => lookUpDomId,
            "parseDirective": () => parseDirective,
            "setClass": () => setClass,
            "setClickEvent": () => setClickEvent,
            "setDirection": () => setDirection,
            "setGen": () => setGen,
            "setLink": () => setLink,
            "updateLink": () => updateLink,
            "updateLinkInterpolate": () => updateLinkInterpolate
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/utils.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/mermaidAPI.js");
          var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/logger.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/commonDb.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
          }
          function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
              return Array.from(iter);
          }
          function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr))
              return _arrayLikeToArray(arr);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          var MERMAID_DOM_ID_PREFIX = "flowchart-";
          var vertexCounter = 0;
          var config = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();
          var vertices = {};
          var edges2 = [];
          var classes = [];
          var subGraphs = [];
          var subGraphLookup = {};
          var tooltips = {};
          var subCount = 0;
          var firstGraphFlag = true;
          var direction;
          var version2;
          var funs = [];
          var sanitizeText = function sanitizeText2(txt) {
            return _common_common__WEBPACK_IMPORTED_MODULE_2__["default"].sanitizeText(txt, config);
          };
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_3__["default"].parseDirective(this, statement, context, type2);
          };
          var lookUpDomId = function lookUpDomId2(id2) {
            var veritceKeys = Object.keys(vertices);
            for (var i = 0; i < veritceKeys.length; i++) {
              if (vertices[veritceKeys[i]].id === id2) {
                return vertices[veritceKeys[i]].domId;
              }
            }
            return id2;
          };
          var addVertex = function addVertex2(_id, text2, type2, style, classes2, dir) {
            var props = arguments.length > 6 && arguments[6] !== void 0 ? arguments[6] : {};
            var txt;
            var id2 = _id;
            if (typeof id2 === "undefined") {
              return;
            }
            if (id2.trim().length === 0) {
              return;
            }
            if (typeof vertices[id2] === "undefined") {
              vertices[id2] = {
                id: id2,
                domId: MERMAID_DOM_ID_PREFIX + id2 + "-" + vertexCounter,
                styles: [],
                classes: []
              };
            }
            vertexCounter++;
            if (typeof text2 !== "undefined") {
              config = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();
              txt = sanitizeText(text2.trim());
              if (txt[0] === '"' && txt[txt.length - 1] === '"') {
                txt = txt.substring(1, txt.length - 1);
              }
              vertices[id2].text = txt;
            } else {
              if (typeof vertices[id2].text === "undefined") {
                vertices[id2].text = _id;
              }
            }
            if (typeof type2 !== "undefined") {
              vertices[id2].type = type2;
            }
            if (typeof style !== "undefined") {
              if (style !== null) {
                style.forEach(function(s2) {
                  vertices[id2].styles.push(s2);
                });
              }
            }
            if (typeof classes2 !== "undefined") {
              if (classes2 !== null) {
                classes2.forEach(function(s2) {
                  vertices[id2].classes.push(s2);
                });
              }
            }
            if (typeof dir !== "undefined") {
              vertices[id2].dir = dir;
            }
            vertices[id2].props = props;
          };
          var addSingleLink = function addSingleLink2(_start, _end, type2, linktext) {
            var start2 = _start;
            var end = _end;
            var edge = {
              start: start2,
              end,
              type: void 0,
              text: ""
            };
            linktext = type2.text;
            if (typeof linktext !== "undefined") {
              edge.text = sanitizeText(linktext.trim());
              if (edge.text[0] === '"' && edge.text[edge.text.length - 1] === '"') {
                edge.text = edge.text.substring(1, edge.text.length - 1);
              }
            }
            if (typeof type2 !== "undefined") {
              edge.type = type2.type;
              edge.stroke = type2.stroke;
              edge.length = type2.length;
            }
            edges2.push(edge);
          };
          var addLink = function addLink2(_start, _end, type2, linktext) {
            var i, j;
            for (i = 0; i < _start.length; i++) {
              for (j = 0; j < _end.length; j++) {
                addSingleLink(_start[i], _end[j], type2, linktext);
              }
            }
          };
          var updateLinkInterpolate = function updateLinkInterpolate2(positions, interp) {
            positions.forEach(function(pos) {
              if (pos === "default") {
                edges2.defaultInterpolate = interp;
              } else {
                edges2[pos].interpolate = interp;
              }
            });
          };
          var updateLink = function updateLink2(positions, style) {
            positions.forEach(function(pos) {
              if (pos === "default") {
                edges2.defaultStyle = style;
              } else {
                if (_utils__WEBPACK_IMPORTED_MODULE_4__["default"].isSubstringInArray("fill", style) === -1) {
                  style.push("fill:none");
                }
                edges2[pos].style = style;
              }
            });
          };
          var addClass = function addClass2(id2, style) {
            if (typeof classes[id2] === "undefined") {
              classes[id2] = {
                id: id2,
                styles: [],
                textStyles: []
              };
            }
            if (typeof style !== "undefined") {
              if (style !== null) {
                style.forEach(function(s2) {
                  if (s2.match("color")) {
                    var newStyle1 = s2.replace("fill", "bgFill");
                    var newStyle2 = newStyle1.replace("color", "fill");
                    classes[id2].textStyles.push(newStyle2);
                  }
                  classes[id2].styles.push(s2);
                });
              }
            }
          };
          var setDirection = function setDirection2(dir) {
            direction = dir;
            if (direction.match(/.*</)) {
              direction = "RL";
            }
            if (direction.match(/.*\^/)) {
              direction = "BT";
            }
            if (direction.match(/.*>/)) {
              direction = "LR";
            }
            if (direction.match(/.*v/)) {
              direction = "TB";
            }
          };
          var setClass = function setClass2(ids, className) {
            ids.split(",").forEach(function(_id) {
              var id2 = _id;
              if (typeof vertices[id2] !== "undefined") {
                vertices[id2].classes.push(className);
              }
              if (typeof subGraphLookup[id2] !== "undefined") {
                subGraphLookup[id2].classes.push(className);
              }
            });
          };
          var setTooltip = function setTooltip2(ids, tooltip) {
            ids.split(",").forEach(function(id2) {
              if (typeof tooltip !== "undefined") {
                tooltips[version2 === "gen-1" ? lookUpDomId(id2) : id2] = sanitizeText(tooltip);
              }
            });
          };
          var setClickFun = function setClickFun2(id2, functionName, functionArgs) {
            var domId = lookUpDomId(id2);
            if (_config__WEBPACK_IMPORTED_MODULE_1__.getConfig().securityLevel !== "loose") {
              return;
            }
            if (typeof functionName === "undefined") {
              return;
            }
            var argList = [];
            if (typeof functionArgs === "string") {
              argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
              for (var i = 0; i < argList.length; i++) {
                var item = argList[i].trim();
                if (item.charAt(0) === '"' && item.charAt(item.length - 1) === '"') {
                  item = item.substr(1, item.length - 2);
                }
                argList[i] = item;
              }
            }
            if (argList.length === 0) {
              argList.push(id2);
            }
            if (typeof vertices[id2] !== "undefined") {
              vertices[id2].haveCallback = true;
              funs.push(function() {
                var elem = document.querySelector('[id="'.concat(domId, '"]'));
                if (elem !== null) {
                  elem.addEventListener("click", function() {
                    _utils__WEBPACK_IMPORTED_MODULE_4__["default"].runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_4__["default"], [functionName].concat(_toConsumableArray(argList)));
                  }, false);
                }
              });
            }
          };
          var setLink = function setLink2(ids, linkStr, target) {
            ids.split(",").forEach(function(id2) {
              if (typeof vertices[id2] !== "undefined") {
                vertices[id2].link = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].formatUrl(linkStr, config);
                vertices[id2].linkTarget = target;
              }
            });
            setClass(ids, "clickable");
          };
          var getTooltip = function getTooltip2(id2) {
            return tooltips[id2];
          };
          var setClickEvent = function setClickEvent2(ids, functionName, functionArgs) {
            ids.split(",").forEach(function(id2) {
              setClickFun(id2, functionName, functionArgs);
            });
            setClass(ids, "clickable");
          };
          var bindFunctions = function bindFunctions2(element) {
            funs.forEach(function(fun) {
              fun(element);
            });
          };
          var getDirection = function getDirection2() {
            return direction.trim();
          };
          var getVertices = function getVertices2() {
            return vertices;
          };
          var getEdges = function getEdges2() {
            return edges2;
          };
          var getClasses = function getClasses2() {
            return classes;
          };
          var setupToolTips = function setupToolTips2(element) {
            var tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(".mermaidTooltip");
            if ((tooltipElem._groups || tooltipElem)[0][0] === null) {
              tooltipElem = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("div").attr("class", "mermaidTooltip").style("opacity", 0);
            }
            var svg2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(element).select("svg");
            var nodes = svg2.selectAll("g.node");
            nodes.on("mouseover", function() {
              var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);
              var title = el.attr("title");
              if (title === null) {
                return;
              }
              var rect = this.getBoundingClientRect();
              tooltipElem.transition().duration(200).style("opacity", ".9");
              tooltipElem.text(el.attr("title")).style("left", window.scrollX + rect.left + (rect.right - rect.left) / 2 + "px").style("top", window.scrollY + rect.top - 14 + document.body.scrollTop + "px");
              tooltipElem.html(tooltipElem.html().replace(/&lt;br\/&gt;/g, "<br/>"));
              el.classed("hover", true);
            }).on("mouseout", function() {
              tooltipElem.transition().duration(500).style("opacity", 0);
              var el = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);
              el.classed("hover", false);
            });
          };
          funs.push(setupToolTips);
          var clear = function clear2(ver) {
            vertices = {};
            classes = {};
            edges2 = [];
            funs = [];
            funs.push(setupToolTips);
            subGraphs = [];
            subGraphLookup = {};
            subCount = 0;
            tooltips = [];
            firstGraphFlag = true;
            version2 = ver || "gen-1";
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_5__.clear)();
          };
          var setGen = function setGen2(ver) {
            version2 = ver || "gen-1";
          };
          var defaultStyle = function defaultStyle2() {
            return "fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;";
          };
          var addSubGraph = function addSubGraph2(_id, list2, _title) {
            var id2 = _id.trim();
            var title = _title;
            if (_id === _title && _title.match(/\s/)) {
              id2 = void 0;
            }
            function uniq(a2) {
              var prims = {
                boolean: {},
                number: {},
                string: {}
              };
              var objs = [];
              var dir2;
              var nodeList2 = a2.filter(function(item) {
                var type2 = _typeof(item);
                if (item.stmt && item.stmt === "dir") {
                  dir2 = item.value;
                  return false;
                }
                if (item.trim() === "") {
                  return false;
                }
                if (type2 in prims) {
                  return prims[type2].hasOwnProperty(item) ? false : prims[type2][item] = true;
                } else {
                  return objs.indexOf(item) >= 0 ? false : objs.push(item);
                }
              });
              return {
                nodeList: nodeList2,
                dir: dir2
              };
            }
            var nodeList = [];
            var _uniq = uniq(nodeList.concat.apply(nodeList, list2)), nl = _uniq.nodeList, dir = _uniq.dir;
            nodeList = nl;
            if (version2 === "gen-1") {
              for (var i = 0; i < nodeList.length; i++) {
                nodeList[i] = lookUpDomId(nodeList[i]);
              }
            }
            id2 = id2 || "subGraph" + subCount;
            title = title || "";
            title = sanitizeText(title);
            subCount = subCount + 1;
            var subGraph = {
              id: id2,
              nodes: nodeList,
              title: title.trim(),
              classes: [],
              dir
            };
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Adding", subGraph.id, subGraph.nodes, subGraph.dir);
            subGraph.nodes = makeUniq(subGraph, subGraphs).nodes;
            subGraphs.push(subGraph);
            subGraphLookup[id2] = subGraph;
            return id2;
          };
          var getPosForId = function getPosForId2(id2) {
            for (var i = 0; i < subGraphs.length; i++) {
              if (subGraphs[i].id === id2) {
                return i;
              }
            }
            return -1;
          };
          var secCount = -1;
          var posCrossRef = [];
          var indexNodes2 = function indexNodes22(id2, pos) {
            var nodes = subGraphs[pos].nodes;
            secCount = secCount + 1;
            if (secCount > 2e3) {
              return;
            }
            posCrossRef[secCount] = pos;
            if (subGraphs[pos].id === id2) {
              return {
                result: true,
                count: 0
              };
            }
            var count2 = 0;
            var posCount = 1;
            while (count2 < nodes.length) {
              var childPos = getPosForId(nodes[count2]);
              if (childPos >= 0) {
                var res = indexNodes22(id2, childPos);
                if (res.result) {
                  return {
                    result: true,
                    count: posCount + res.count
                  };
                } else {
                  posCount = posCount + res.count;
                }
              }
              count2 = count2 + 1;
            }
            return {
              result: false,
              count: posCount
            };
          };
          var getDepthFirstPos = function getDepthFirstPos2(pos) {
            return posCrossRef[pos];
          };
          var indexNodes = function indexNodes3() {
            secCount = -1;
            if (subGraphs.length > 0) {
              indexNodes2("none", subGraphs.length - 1);
            }
          };
          var getSubGraphs = function getSubGraphs2() {
            return subGraphs;
          };
          var firstGraph = function firstGraph2() {
            if (firstGraphFlag) {
              firstGraphFlag = false;
              return true;
            }
            return false;
          };
          var destructStartLink = function destructStartLink2(_str) {
            var str = _str.trim();
            var type2 = "arrow_open";
            switch (str[0]) {
              case "<":
                type2 = "arrow_point";
                str = str.slice(1);
                break;
              case "x":
                type2 = "arrow_cross";
                str = str.slice(1);
                break;
              case "o":
                type2 = "arrow_circle";
                str = str.slice(1);
                break;
            }
            var stroke = "normal";
            if (str.indexOf("=") !== -1) {
              stroke = "thick";
            }
            if (str.indexOf(".") !== -1) {
              stroke = "dotted";
            }
            return {
              type: type2,
              stroke
            };
          };
          var countChar = function countChar2(char, str) {
            var length2 = str.length;
            var count2 = 0;
            for (var i = 0; i < length2; ++i) {
              if (str[i] === char) {
                ++count2;
              }
            }
            return count2;
          };
          var destructEndLink = function destructEndLink2(_str) {
            var str = _str.trim();
            var line2 = str.slice(0, -1);
            var type2 = "arrow_open";
            switch (str.slice(-1)) {
              case "x":
                type2 = "arrow_cross";
                if (str[0] === "x") {
                  type2 = "double_" + type2;
                  line2 = line2.slice(1);
                }
                break;
              case ">":
                type2 = "arrow_point";
                if (str[0] === "<") {
                  type2 = "double_" + type2;
                  line2 = line2.slice(1);
                }
                break;
              case "o":
                type2 = "arrow_circle";
                if (str[0] === "o") {
                  type2 = "double_" + type2;
                  line2 = line2.slice(1);
                }
                break;
            }
            var stroke = "normal";
            var length2 = line2.length - 1;
            if (line2[0] === "=") {
              stroke = "thick";
            }
            var dots = countChar(".", line2);
            if (dots) {
              stroke = "dotted";
              length2 = dots;
            }
            return {
              type: type2,
              stroke,
              length: length2
            };
          };
          var destructLink = function destructLink2(_str, _startStr) {
            var info = destructEndLink(_str);
            var startInfo;
            if (_startStr) {
              startInfo = destructStartLink(_startStr);
              if (startInfo.stroke !== info.stroke) {
                return {
                  type: "INVALID",
                  stroke: "INVALID"
                };
              }
              if (startInfo.type === "arrow_open") {
                startInfo.type = info.type;
              } else {
                if (startInfo.type !== info.type)
                  return {
                    type: "INVALID",
                    stroke: "INVALID"
                  };
                startInfo.type = "double_" + startInfo.type;
              }
              if (startInfo.type === "double_arrow") {
                startInfo.type = "double_arrow_point";
              }
              startInfo.length = info.length;
              return startInfo;
            }
            return info;
          };
          var exists = function exists2(allSgs, _id) {
            var res = false;
            allSgs.forEach(function(sg) {
              var pos = sg.nodes.indexOf(_id);
              if (pos >= 0) {
                res = true;
              }
            });
            return res;
          };
          var makeUniq = function makeUniq2(sg, allSubgraphs) {
            var res = [];
            sg.nodes.forEach(function(_id, pos) {
              if (!exists(allSubgraphs, _id)) {
                res.push(sg.nodes[pos]);
              }
            });
            return {
              nodes: res
            };
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            parseDirective,
            defaultConfig: function defaultConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_1__.defaultConfig.flowchart;
            },
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccTitle,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccDescription,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccDescription,
            addVertex,
            lookUpDomId,
            addLink,
            updateLinkInterpolate,
            updateLink,
            addClass,
            setDirection,
            setClass,
            setTooltip,
            getTooltip,
            setClickEvent,
            setLink,
            bindFunctions,
            getDirection,
            getVertices,
            getEdges,
            getClasses,
            clear,
            setGen,
            defaultStyle,
            addSubGraph,
            getDepthFirstPos,
            indexNodes,
            getSubGraphs,
            destructLink,
            lex: {
              firstGraph
            },
            exists,
            makeUniq
          };
        },
        "./src/diagrams/flowchart/flowRenderer-v2.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addEdges": () => addEdges,
            "addVertices": () => addVertices,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "getClasses": () => getClasses,
            "setConf": () => setConf
          });
          var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);
          var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("d3");
          var _flowDb__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/diagrams/flowchart/flowDb.js");
          var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/config.js");
          var _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__2("./src/dagre-wrapper/index.js");
          var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("dagre-d3/lib/label/add-html-label.js");
          var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2__);
          var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/logger.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/utils.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/accessibility.js");
          var conf = {};
          var setConf = function setConf2(cnf) {
            var keys2 = Object.keys(cnf);
            for (var i = 0; i < keys2.length; i++) {
              conf[keys2[i]] = cnf[keys2[i]];
            }
          };
          var addVertices = function addVertices2(vert, g, svgId, root2, doc, diagObj) {
            var svg2 = root2.select('[id="'.concat(svgId, '"]'));
            var keys2 = Object.keys(vert);
            keys2.forEach(function(id2) {
              var vertex = vert[id2];
              var classStr = "default";
              if (vertex.classes.length > 0) {
                classStr = vertex.classes.join(" ");
              }
              var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(vertex.styles);
              var vertexText = vertex.text !== void 0 ? vertex.text : vertex.id;
              var vertexNode;
              if ((0, _common_common__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.htmlLabels)) {
                var node = {
                  label: vertexText.replace(/fa[lrsb]?:fa-[\w-]+/g, function(s2) {
                    return "<i class='".concat(s2.replace(":", " "), "'></i>");
                  })
                };
                vertexNode = dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2___default()(svg2, node).node();
                vertexNode.parentNode.removeChild(vertexNode);
              } else {
                var svgLabel = doc.createElementNS("http://www.w3.org/2000/svg", "text");
                svgLabel.setAttribute("style", styles.labelStyle.replace("color:", "fill:"));
                var rows = vertexText.split(_common_common__WEBPACK_IMPORTED_MODULE_4__["default"].lineBreakRegex);
                for (var j = 0; j < rows.length; j++) {
                  var tspan = doc.createElementNS("http://www.w3.org/2000/svg", "tspan");
                  tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
                  tspan.setAttribute("dy", "1em");
                  tspan.setAttribute("x", "1");
                  tspan.textContent = rows[j];
                  svgLabel.appendChild(tspan);
                }
                vertexNode = svgLabel;
              }
              var radious = 0;
              var _shape = "";
              switch (vertex.type) {
                case "round":
                  radious = 5;
                  _shape = "rect";
                  break;
                case "square":
                  _shape = "rect";
                  break;
                case "diamond":
                  _shape = "question";
                  break;
                case "hexagon":
                  _shape = "hexagon";
                  break;
                case "odd":
                  _shape = "rect_left_inv_arrow";
                  break;
                case "lean_right":
                  _shape = "lean_right";
                  break;
                case "lean_left":
                  _shape = "lean_left";
                  break;
                case "trapezoid":
                  _shape = "trapezoid";
                  break;
                case "inv_trapezoid":
                  _shape = "inv_trapezoid";
                  break;
                case "odd_right":
                  _shape = "rect_left_inv_arrow";
                  break;
                case "circle":
                  _shape = "circle";
                  break;
                case "ellipse":
                  _shape = "ellipse";
                  break;
                case "stadium":
                  _shape = "stadium";
                  break;
                case "subroutine":
                  _shape = "subroutine";
                  break;
                case "cylinder":
                  _shape = "cylinder";
                  break;
                case "group":
                  _shape = "rect";
                  break;
                case "doublecircle":
                  _shape = "doublecircle";
                  break;
                default:
                  _shape = "rect";
              }
              g.setNode(vertex.id, {
                labelStyle: styles.labelStyle,
                shape: _shape,
                labelText: vertexText,
                rx: radious,
                ry: radious,
                class: classStr,
                style: styles.style,
                id: vertex.id,
                link: vertex.link,
                linkTarget: vertex.linkTarget,
                tooltip: diagObj.db.getTooltip(vertex.id) || "",
                domId: diagObj.db.lookUpDomId(vertex.id),
                haveCallback: vertex.haveCallback,
                width: vertex.type === "group" ? 500 : void 0,
                dir: vertex.dir,
                type: vertex.type,
                props: vertex.props,
                padding: (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.padding
              });
              _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("setNode", {
                labelStyle: styles.labelStyle,
                shape: _shape,
                labelText: vertexText,
                rx: radious,
                ry: radious,
                class: classStr,
                style: styles.style,
                id: vertex.id,
                domId: diagObj.db.lookUpDomId(vertex.id),
                width: vertex.type === "group" ? 500 : void 0,
                type: vertex.type,
                dir: vertex.dir,
                props: vertex.props,
                padding: (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.padding
              });
            });
          };
          var addEdges = function addEdges2(edges2, g, diagObj) {
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("abc78 edges = ", edges2);
            var cnt = 0;
            var linkIdCnt = {};
            var defaultStyle;
            var defaultLabelStyle;
            if (typeof edges2.defaultStyle !== "undefined") {
              var defaultStyles = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(edges2.defaultStyle);
              defaultStyle = defaultStyles.style;
              defaultLabelStyle = defaultStyles.labelStyle;
            }
            edges2.forEach(function(edge) {
              cnt++;
              var linkIdBase = "L-" + edge.start + "-" + edge.end;
              if (typeof linkIdCnt[linkIdBase] === "undefined") {
                linkIdCnt[linkIdBase] = 0;
                _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("abc78 new entry", linkIdBase, linkIdCnt[linkIdBase]);
              } else {
                linkIdCnt[linkIdBase]++;
                _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("abc78 new entry", linkIdBase, linkIdCnt[linkIdBase]);
              }
              var linkId = linkIdBase + "-" + linkIdCnt[linkIdBase];
              _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("abc78 new link id to be used is", linkIdBase, linkId, linkIdCnt[linkIdBase]);
              var linkNameStart = "LS-" + edge.start;
              var linkNameEnd = "LE-" + edge.end;
              var edgeData = {
                style: "",
                labelStyle: ""
              };
              edgeData.minlen = edge.length || 1;
              if (edge.type === "arrow_open") {
                edgeData.arrowhead = "none";
              } else {
                edgeData.arrowhead = "normal";
              }
              edgeData.arrowTypeStart = "arrow_open";
              edgeData.arrowTypeEnd = "arrow_open";
              switch (edge.type) {
                case "double_arrow_cross":
                  edgeData.arrowTypeStart = "arrow_cross";
                case "arrow_cross":
                  edgeData.arrowTypeEnd = "arrow_cross";
                  break;
                case "double_arrow_point":
                  edgeData.arrowTypeStart = "arrow_point";
                case "arrow_point":
                  edgeData.arrowTypeEnd = "arrow_point";
                  break;
                case "double_arrow_circle":
                  edgeData.arrowTypeStart = "arrow_circle";
                case "arrow_circle":
                  edgeData.arrowTypeEnd = "arrow_circle";
                  break;
              }
              var style = "";
              var labelStyle = "";
              switch (edge.stroke) {
                case "normal":
                  style = "fill:none;";
                  if (typeof defaultStyle !== "undefined") {
                    style = defaultStyle;
                  }
                  if (typeof defaultLabelStyle !== "undefined") {
                    labelStyle = defaultLabelStyle;
                  }
                  edgeData.thickness = "normal";
                  edgeData.pattern = "solid";
                  break;
                case "dotted":
                  edgeData.thickness = "normal";
                  edgeData.pattern = "dotted";
                  edgeData.style = "fill:none;stroke-width:2px;stroke-dasharray:3;";
                  break;
                case "thick":
                  edgeData.thickness = "thick";
                  edgeData.pattern = "solid";
                  edgeData.style = "stroke-width: 3.5px;fill:none;";
                  break;
              }
              if (typeof edge.style !== "undefined") {
                var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(edge.style);
                style = styles.style;
                labelStyle = styles.labelStyle;
              }
              edgeData.style = edgeData.style += style;
              edgeData.labelStyle = edgeData.labelStyle += labelStyle;
              if (typeof edge.interpolate !== "undefined") {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(edge.interpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);
              } else if (typeof edges2.defaultInterpolate !== "undefined") {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(edges2.defaultInterpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);
              } else {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(conf.curve, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);
              }
              if (typeof edge.text === "undefined") {
                if (typeof edge.style !== "undefined") {
                  edgeData.arrowheadStyle = "fill: #333";
                }
              } else {
                edgeData.arrowheadStyle = "fill: #333";
                edgeData.labelpos = "c";
              }
              edgeData.labelType = "text";
              edgeData.label = edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_4__["default"].lineBreakRegex, "\n");
              if (typeof edge.style === "undefined") {
                edgeData.style = edgeData.style || "stroke: #333; stroke-width: 1.5px;fill:none;";
              }
              edgeData.labelStyle = edgeData.labelStyle.replace("color:", "fill:");
              edgeData.id = linkId;
              edgeData.classes = "flowchart-link " + linkNameStart + " " + linkNameEnd;
              g.setEdge(edge.start, edge.end, edgeData, cnt);
            });
          };
          var getClasses = function getClasses2(text2, diagObj) {
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Extracting classes");
            diagObj.db.clear();
            try {
              diagObj.parse(text2);
              return diagObj.db.getClasses();
            } catch (e) {
              return;
            }
          };
          var draw = function draw2(text2, id2, _version, diagObj) {
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Drawing flowchart");
            diagObj.db.clear();
            _flowDb__WEBPACK_IMPORTED_MODULE_7__["default"].setGen("gen-2");
            diagObj.parser.parse(text2);
            var dir = diagObj.db.getDirection();
            if (typeof dir === "undefined") {
              dir = "TD";
            }
            var conf2 = (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart;
            var nodeSpacing = conf2.nodeSpacing || 50;
            var rankSpacing = conf2.rankSpacing || 50;
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");
            var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            var g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default()).Graph({
              multigraph: true,
              compound: true
            }).setGraph({
              rankdir: dir,
              nodesep: nodeSpacing,
              ranksep: rankSpacing,
              marginx: 0,
              marginy: 0
            }).setDefaultEdgeLabel(function() {
              return {};
            });
            var subG;
            var subGraphs = diagObj.db.getSubGraphs();
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Subgraphs - ", subGraphs);
            for (var _i = subGraphs.length - 1; _i >= 0; _i--) {
              subG = subGraphs[_i];
              _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Subgraph - ", subG);
              diagObj.db.addVertex(subG.id, subG.title, "group", void 0, subG.classes, subG.dir);
            }
            var vert = diagObj.db.getVertices();
            var edges2 = diagObj.db.getEdges();
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.info(edges2);
            var i = 0;
            for (i = subGraphs.length - 1; i >= 0; i--) {
              subG = subGraphs[i];
              (0, d3__WEBPACK_IMPORTED_MODULE_1__.selectAll)("cluster").append("text");
              for (var j = 0; j < subG.nodes.length; j++) {
                _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Setting up subgraphs", subG.nodes[j], subG.id);
                g.setParent(subG.nodes[j], subG.id);
              }
            }
            addVertices(vert, g, id2, root2, doc, diagObj);
            addEdges(edges2, g);
            var svg2 = root2.select('[id="'.concat(id2, '"]'));
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_8__["default"])(diagObj.db, svg2, id2);
            var element = root2.select("#" + id2 + " g");
            (0, _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__.render)(element, g, ["point", "circle", "cross"], "flowchart", id2);
            (0, _utils__WEBPACK_IMPORTED_MODULE_3__.setupGraphViewbox)(g, svg2, conf2.diagramPadding, conf2.useMaxWidth);
            diagObj.db.indexNodes("subGraph" + i);
            if (!conf2.htmlLabels) {
              var labels = doc.querySelectorAll('[id="' + id2 + '"] .edgeLabel .label');
              for (var k2 = 0; k2 < labels.length; k2++) {
                var label = labels[k2];
                var dim = label.getBBox();
                var rect = doc.createElementNS("http://www.w3.org/2000/svg", "rect");
                rect.setAttribute("rx", 0);
                rect.setAttribute("ry", 0);
                rect.setAttribute("width", dim.width);
                rect.setAttribute("height", dim.height);
                label.insertBefore(rect, label.firstChild);
              }
            }
            var keys2 = Object.keys(vert);
            keys2.forEach(function(key) {
              var vertex = vert[key];
              if (vertex.link) {
                var node = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("#" + id2 + ' [id="' + key + '"]');
                if (node) {
                  var link2 = doc.createElementNS("http://www.w3.org/2000/svg", "a");
                  link2.setAttributeNS("http://www.w3.org/2000/svg", "class", vertex.classes.join(" "));
                  link2.setAttributeNS("http://www.w3.org/2000/svg", "href", vertex.link);
                  link2.setAttributeNS("http://www.w3.org/2000/svg", "rel", "noopener");
                  if (securityLevel === "sandbox") {
                    link2.setAttributeNS("http://www.w3.org/2000/svg", "target", "_top");
                  } else if (vertex.linkTarget) {
                    link2.setAttributeNS("http://www.w3.org/2000/svg", "target", vertex.linkTarget);
                  }
                  var linkNode = node.insert(function() {
                    return link2;
                  }, ":first-child");
                  var shape = node.select(".label-container");
                  if (shape) {
                    linkNode.append(function() {
                      return shape.node();
                    });
                  }
                  var _label = node.select(".label");
                  if (_label) {
                    linkNode.append(function() {
                      return _label.node();
                    });
                  }
                }
              }
            });
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            addVertices,
            addEdges,
            getClasses,
            draw
          };
        },
        "./src/diagrams/flowchart/flowRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addEdges": () => addEdges,
            "addVertices": () => addVertices,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "getClasses": () => getClasses,
            "setConf": () => setConf
          });
          var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);
          var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("d3");
          var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/config.js");
          var dagre_d3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("dagre-d3");
          var dagre_d3__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(dagre_d3__WEBPACK_IMPORTED_MODULE_2__);
          var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("dagre-d3/lib/label/add-html-label.js");
          var dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3___default = /* @__PURE__ */ __webpack_require__2.n(dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3__);
          var _logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/logger.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/utils.js");
          var _flowChartShapes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/diagrams/flowchart/flowChartShapes.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__2("./src/accessibility.js");
          var conf = {};
          var setConf = function setConf2(cnf) {
            var keys2 = Object.keys(cnf);
            for (var i = 0; i < keys2.length; i++) {
              conf[keys2[i]] = cnf[keys2[i]];
            }
          };
          var addVertices = function addVertices2(vert, g, svgId, root2, _doc, diagObj) {
            (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;
            var svg2 = !root2 ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)('[id="'.concat(svgId, '"]')) : root2.select('[id="'.concat(svgId, '"]'));
            var doc = !_doc ? document : _doc;
            var keys2 = Object.keys(vert);
            keys2.forEach(function(id2) {
              var vertex = vert[id2];
              var classStr = "default";
              if (vertex.classes.length > 0) {
                classStr = vertex.classes.join(" ");
              }
              var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(vertex.styles);
              var vertexText = vertex.text !== void 0 ? vertex.text : vertex.id;
              var vertexNode;
              if ((0, _common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {
                var node = {
                  label: vertexText.replace(/fa[lrsb]?:fa-[\w-]+/g, function(s2) {
                    return "<i class='".concat(s2.replace(":", " "), "'></i>");
                  })
                };
                vertexNode = dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3___default()(svg2, node).node();
                vertexNode.parentNode.removeChild(vertexNode);
              } else {
                var svgLabel = doc.createElementNS("http://www.w3.org/2000/svg", "text");
                svgLabel.setAttribute("style", styles.labelStyle.replace("color:", "fill:"));
                var rows = vertexText.split(_common_common__WEBPACK_IMPORTED_MODULE_6__["default"].lineBreakRegex);
                for (var j = 0; j < rows.length; j++) {
                  var tspan = doc.createElementNS("http://www.w3.org/2000/svg", "tspan");
                  tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
                  tspan.setAttribute("dy", "1em");
                  tspan.setAttribute("x", "1");
                  tspan.textContent = rows[j];
                  svgLabel.appendChild(tspan);
                }
                vertexNode = svgLabel;
              }
              var radious = 0;
              var _shape = "";
              switch (vertex.type) {
                case "round":
                  radious = 5;
                  _shape = "rect";
                  break;
                case "square":
                  _shape = "rect";
                  break;
                case "diamond":
                  _shape = "question";
                  break;
                case "hexagon":
                  _shape = "hexagon";
                  break;
                case "odd":
                  _shape = "rect_left_inv_arrow";
                  break;
                case "lean_right":
                  _shape = "lean_right";
                  break;
                case "lean_left":
                  _shape = "lean_left";
                  break;
                case "trapezoid":
                  _shape = "trapezoid";
                  break;
                case "inv_trapezoid":
                  _shape = "inv_trapezoid";
                  break;
                case "odd_right":
                  _shape = "rect_left_inv_arrow";
                  break;
                case "circle":
                  _shape = "circle";
                  break;
                case "ellipse":
                  _shape = "ellipse";
                  break;
                case "stadium":
                  _shape = "stadium";
                  break;
                case "subroutine":
                  _shape = "subroutine";
                  break;
                case "cylinder":
                  _shape = "cylinder";
                  break;
                case "group":
                  _shape = "rect";
                  break;
                default:
                  _shape = "rect";
              }
              _logger__WEBPACK_IMPORTED_MODULE_7__.log.warn("Adding node", vertex.id, vertex.domId);
              g.setNode(diagObj.db.lookUpDomId(vertex.id), {
                labelType: "svg",
                labelStyle: styles.labelStyle,
                shape: _shape,
                label: vertexNode,
                rx: radious,
                ry: radious,
                class: classStr,
                style: styles.style,
                id: diagObj.db.lookUpDomId(vertex.id)
              });
            });
          };
          var addEdges = function addEdges2(edges2, g, diagObj) {
            var cnt = 0;
            var defaultStyle;
            var defaultLabelStyle;
            if (typeof edges2.defaultStyle !== "undefined") {
              var defaultStyles = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(edges2.defaultStyle);
              defaultStyle = defaultStyles.style;
              defaultLabelStyle = defaultStyles.labelStyle;
            }
            edges2.forEach(function(edge) {
              cnt++;
              var linkId = "L-" + edge.start + "-" + edge.end;
              var linkNameStart = "LS-" + edge.start;
              var linkNameEnd = "LE-" + edge.end;
              var edgeData = {};
              if (edge.type === "arrow_open") {
                edgeData.arrowhead = "none";
              } else {
                edgeData.arrowhead = "normal";
              }
              var style = "";
              var labelStyle = "";
              if (typeof edge.style !== "undefined") {
                var styles = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(edge.style);
                style = styles.style;
                labelStyle = styles.labelStyle;
              } else {
                switch (edge.stroke) {
                  case "normal":
                    style = "fill:none";
                    if (typeof defaultStyle !== "undefined") {
                      style = defaultStyle;
                    }
                    if (typeof defaultLabelStyle !== "undefined") {
                      labelStyle = defaultLabelStyle;
                    }
                    break;
                  case "dotted":
                    style = "fill:none;stroke-width:2px;stroke-dasharray:3;";
                    break;
                  case "thick":
                    style = " stroke-width: 3.5px;fill:none";
                    break;
                }
              }
              edgeData.style = style;
              edgeData.labelStyle = labelStyle;
              if (typeof edge.interpolate !== "undefined") {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(edge.interpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);
              } else if (typeof edges2.defaultInterpolate !== "undefined") {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(edges2.defaultInterpolate, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);
              } else {
                edgeData.curve = (0, _utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(conf.curve, d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear);
              }
              if (typeof edge.text === "undefined") {
                if (typeof edge.style !== "undefined") {
                  edgeData.arrowheadStyle = "fill: #333";
                }
              } else {
                edgeData.arrowheadStyle = "fill: #333";
                edgeData.labelpos = "c";
                if ((0, _common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)((0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)) {
                  edgeData.labelType = "html";
                  edgeData.label = '<span id="L-'.concat(linkId, '" class="edgeLabel L-').concat(linkNameStart, "' L-").concat(linkNameEnd, '" style="').concat(edgeData.labelStyle, '">').concat(edge.text.replace(/fa[lrsb]?:fa-[\w-]+/g, function(s2) {
                    return "<i class='".concat(s2.replace(":", " "), "'></i>");
                  }), "</span>");
                } else {
                  edgeData.labelType = "text";
                  edgeData.label = edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_6__["default"].lineBreakRegex, "\n");
                  if (typeof edge.style === "undefined") {
                    edgeData.style = edgeData.style || "stroke: #333; stroke-width: 1.5px;fill:none";
                  }
                  edgeData.labelStyle = edgeData.labelStyle.replace("color:", "fill:");
                }
              }
              edgeData.id = linkId;
              edgeData.class = linkNameStart + " " + linkNameEnd;
              edgeData.minlen = edge.length || 1;
              g.setEdge(diagObj.db.lookUpDomId(edge.start), diagObj.db.lookUpDomId(edge.end), edgeData, cnt);
            });
          };
          var getClasses = function getClasses2(text2, diagObj) {
            _logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Extracting classes");
            diagObj.db.clear();
            try {
              diagObj.parse(text2);
              return diagObj.db.getClasses();
            } catch (e) {
              return;
            }
          };
          var draw = function draw2(text2, id2, _version, diagObj) {
            _logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Drawing flowchart");
            diagObj.db.clear();
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");
            var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            try {
              diagObj.parser.parse(text2);
            } catch (err) {
              _logger__WEBPACK_IMPORTED_MODULE_7__.log.debug("Parsing failed");
            }
            var dir = diagObj.db.getDirection();
            if (typeof dir === "undefined") {
              dir = "TD";
            }
            var conf2 = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart;
            var nodeSpacing = conf2.nodeSpacing || 50;
            var rankSpacing = conf2.rankSpacing || 50;
            var g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default()).Graph({
              multigraph: true,
              compound: true
            }).setGraph({
              rankdir: dir,
              nodesep: nodeSpacing,
              ranksep: rankSpacing,
              marginx: 8,
              marginy: 8
            }).setDefaultEdgeLabel(function() {
              return {};
            });
            var subG;
            var subGraphs = diagObj.db.getSubGraphs();
            for (var _i = subGraphs.length - 1; _i >= 0; _i--) {
              subG = subGraphs[_i];
              diagObj.db.addVertex(subG.id, subG.title, "group", void 0, subG.classes);
            }
            var vert = diagObj.db.getVertices();
            _logger__WEBPACK_IMPORTED_MODULE_7__.log.warn("Get vertices", vert);
            var edges2 = diagObj.db.getEdges();
            var i = 0;
            for (i = subGraphs.length - 1; i >= 0; i--) {
              subG = subGraphs[i];
              (0, d3__WEBPACK_IMPORTED_MODULE_1__.selectAll)("cluster").append("text");
              for (var j = 0; j < subG.nodes.length; j++) {
                _logger__WEBPACK_IMPORTED_MODULE_7__.log.warn("Setting subgraph", subG.nodes[j], diagObj.db.lookUpDomId(subG.nodes[j]), diagObj.db.lookUpDomId(subG.id));
                g.setParent(diagObj.db.lookUpDomId(subG.nodes[j]), diagObj.db.lookUpDomId(subG.id));
              }
            }
            addVertices(vert, g, id2, root2, doc, diagObj);
            addEdges(edges2, g, diagObj);
            var Render = dagre_d3__WEBPACK_IMPORTED_MODULE_2___default().render;
            var render = new Render();
            _flowChartShapes__WEBPACK_IMPORTED_MODULE_8__["default"].addToRender(render);
            render.arrows().none = function normal2(parent, id3, edge, type2) {
              var marker = parent.append("marker").attr("id", id3).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
              var path2 = marker.append("path").attr("d", "M 0 0 L 0 0 L 0 0 z");
              dagre_d3__WEBPACK_IMPORTED_MODULE_2___default().util.applyStyle(path2, edge[type2 + "Style"]);
            };
            render.arrows().normal = function normal2(parent, id3) {
              var marker = parent.append("marker").attr("id", id3).attr("viewBox", "0 0 10 10").attr("refX", 9).attr("refY", 5).attr("markerUnits", "strokeWidth").attr("markerWidth", 8).attr("markerHeight", 6).attr("orient", "auto");
              marker.append("path").attr("d", "M 0 0 L 10 5 L 0 10 z").attr("class", "arrowheadPath").style("stroke-width", 1).style("stroke-dasharray", "1,0");
            };
            var svg2 = root2.select('[id="'.concat(id2, '"]'));
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_9__["default"])(diagObj.db, svg2, id2);
            var element = root2.select("#" + id2 + " g");
            render(element, g);
            element.selectAll("g.node").attr("title", function() {
              return diagObj.db.getTooltip(this.id);
            });
            diagObj.db.indexNodes("subGraph" + i);
            for (i = 0; i < subGraphs.length; i++) {
              subG = subGraphs[i];
              if (subG.title !== "undefined") {
                var clusterRects = doc.querySelectorAll("#" + id2 + ' [id="' + diagObj.db.lookUpDomId(subG.id) + '"] rect');
                var clusterEl = doc.querySelectorAll("#" + id2 + ' [id="' + diagObj.db.lookUpDomId(subG.id) + '"]');
                var xPos = clusterRects[0].x.baseVal.value;
                var yPos = clusterRects[0].y.baseVal.value;
                var _width = clusterRects[0].width.baseVal.value;
                var cluster2 = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(clusterEl[0]);
                var te = cluster2.select(".label");
                te.attr("transform", "translate(".concat(xPos + _width / 2, ", ").concat(yPos + 14, ")"));
                te.attr("id", id2 + "Text");
                for (var _j = 0; _j < subG.classes.length; _j++) {
                  clusterEl[0].classList.add(subG.classes[_j]);
                }
              }
            }
            if (!(0, _common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)(conf2.htmlLabels) || true) {
              var labels = doc.querySelectorAll('[id="' + id2 + '"] .edgeLabel .label');
              for (var k2 = 0; k2 < labels.length; k2++) {
                var label = labels[k2];
                var dim = label.getBBox();
                var rect = doc.createElementNS("http://www.w3.org/2000/svg", "rect");
                rect.setAttribute("rx", 0);
                rect.setAttribute("ry", 0);
                rect.setAttribute("width", dim.width);
                rect.setAttribute("height", dim.height);
                label.insertBefore(rect, label.firstChild);
              }
            }
            (0, _utils__WEBPACK_IMPORTED_MODULE_5__.setupGraphViewbox)(g, svg2, conf2.diagramPadding, conf2.useMaxWidth);
            var keys2 = Object.keys(vert);
            keys2.forEach(function(key) {
              var vertex = vert[key];
              if (vertex.link) {
                var node = root2.select("#" + id2 + ' [id="' + diagObj.db.lookUpDomId(key) + '"]');
                if (node) {
                  var link2 = doc.createElementNS("http://www.w3.org/2000/svg", "a");
                  link2.setAttributeNS("http://www.w3.org/2000/svg", "class", vertex.classes.join(" "));
                  link2.setAttributeNS("http://www.w3.org/2000/svg", "href", vertex.link);
                  link2.setAttributeNS("http://www.w3.org/2000/svg", "rel", "noopener");
                  if (securityLevel === "sandbox") {
                    link2.setAttributeNS("http://www.w3.org/2000/svg", "target", "_top");
                  } else if (vertex.linkTarget) {
                    link2.setAttributeNS("http://www.w3.org/2000/svg", "target", vertex.linkTarget);
                  }
                  var linkNode = node.insert(function() {
                    return link2;
                  }, ":first-child");
                  var shape = node.select(".label-container");
                  if (shape) {
                    linkNode.append(function() {
                      return shape.node();
                    });
                  }
                  var _label = node.select(".label");
                  if (_label) {
                    linkNode.append(function() {
                      return _label.node();
                    });
                  }
                }
              }
            });
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            addVertices,
            addEdges,
            getClasses,
            draw
          };
        },
        "./src/diagrams/flowchart/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return ".label {\n    font-family: ".concat(options.fontFamily, ";\n    color: ").concat(options.nodeTextColor || options.textColor, ";\n  }\n  .cluster-label text {\n    fill: ").concat(options.titleColor, ";\n  }\n  .cluster-label span {\n    color: ").concat(options.titleColor, ";\n  }\n\n  .label text,span {\n    fill: ").concat(options.nodeTextColor || options.textColor, ";\n    color: ").concat(options.nodeTextColor || options.textColor, ";\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(options.mainBkg, ";\n    stroke: ").concat(options.nodeBorder, ";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(options.arrowheadColor, ";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(options.lineColor, ";\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(options.lineColor, ";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(options.edgeLabelBackground, ";\n    rect {\n      opacity: 0.5;\n      background-color: ").concat(options.edgeLabelBackground, ";\n      fill: ").concat(options.edgeLabelBackground, ";\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ").concat(options.clusterBkg, ";\n    stroke: ").concat(options.clusterBorder, ";\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ").concat(options.titleColor, ";\n  }\n\n  .cluster span {\n    color: ").concat(options.titleColor, ";\n  }\n  /* .cluster div {\n    color: ").concat(options.titleColor, ";\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ").concat(options.fontFamily, ";\n    font-size: 12px;\n    background: ").concat(options.tertiaryColor, ";\n    border: 1px solid ").concat(options.border2, ";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/gantt/ganttDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addSection": () => addSection,
            "addTask": () => addTask,
            "addTaskOrg": () => addTaskOrg,
            "bindFunctions": () => bindFunctions,
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "enableInclusiveEndDates": () => enableInclusiveEndDates,
            "enableTopAxis": () => enableTopAxis,
            "endDatesAreInclusive": () => endDatesAreInclusive,
            "findTaskById": () => findTaskById,
            "getAxisFormat": () => getAxisFormat,
            "getDateFormat": () => getDateFormat,
            "getExcludes": () => getExcludes,
            "getIncludes": () => getIncludes,
            "getLinks": () => getLinks,
            "getSections": () => getSections,
            "getTasks": () => getTasks,
            "getTodayMarker": () => getTodayMarker,
            "isInvalidDate": () => isInvalidDate,
            "parseDirective": () => parseDirective,
            "setAxisFormat": () => setAxisFormat,
            "setClass": () => setClass,
            "setClickEvent": () => setClickEvent,
            "setDateFormat": () => setDateFormat,
            "setExcludes": () => setExcludes,
            "setIncludes": () => setIncludes,
            "setLink": () => setLink,
            "setTodayMarker": () => setTodayMarker,
            "topAxisEnabled": () => topAxisEnabled
          });
          var moment_mini__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("moment-mini");
          var moment_mini__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__);
          var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("@braintree/sanitize-url");
          var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/logger.js");
          var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/config.js");
          var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/utils.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/mermaidAPI.js");
          __webpack_require__2("./src/diagrams/common/common.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/commonDb.js");
          function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
          }
          function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
              return Array.from(iter);
          }
          function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr))
              return _arrayLikeToArray(arr);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          var dateFormat = "";
          var axisFormat = "";
          var todayMarker = "";
          var includes = [];
          var excludes = [];
          var links = {};
          var sections = [];
          var tasks = [];
          var currentSection = "";
          var tags = ["active", "done", "crit", "milestone"];
          var funs = [];
          var inclusiveEndDates = false;
          var topAxis = false;
          var lastOrder = 0;
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_4__["default"].parseDirective(this, statement, context, type2);
          };
          var clear = function clear2() {
            sections = [];
            tasks = [];
            currentSection = "";
            funs = [];
            taskCnt = 0;
            lastTask = void 0;
            lastTaskID = void 0;
            rawTasks = [];
            dateFormat = "";
            axisFormat = "";
            todayMarker = "";
            includes = [];
            excludes = [];
            inclusiveEndDates = false;
            topAxis = false;
            lastOrder = 0;
            links = {};
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_5__.clear)();
          };
          var setAxisFormat = function setAxisFormat2(txt) {
            axisFormat = txt;
          };
          var getAxisFormat = function getAxisFormat2() {
            return axisFormat;
          };
          var setTodayMarker = function setTodayMarker2(txt) {
            todayMarker = txt;
          };
          var getTodayMarker = function getTodayMarker2() {
            return todayMarker;
          };
          var setDateFormat = function setDateFormat2(txt) {
            dateFormat = txt;
          };
          var enableInclusiveEndDates = function enableInclusiveEndDates2() {
            inclusiveEndDates = true;
          };
          var endDatesAreInclusive = function endDatesAreInclusive2() {
            return inclusiveEndDates;
          };
          var enableTopAxis = function enableTopAxis2() {
            topAxis = true;
          };
          var topAxisEnabled = function topAxisEnabled2() {
            return topAxis;
          };
          var getDateFormat = function getDateFormat2() {
            return dateFormat;
          };
          var setIncludes = function setIncludes2(txt) {
            includes = txt.toLowerCase().split(/[\s,]+/);
          };
          var getIncludes = function getIncludes2() {
            return includes;
          };
          var setExcludes = function setExcludes2(txt) {
            excludes = txt.toLowerCase().split(/[\s,]+/);
          };
          var getExcludes = function getExcludes2() {
            return excludes;
          };
          var getLinks = function getLinks2() {
            return links;
          };
          var addSection = function addSection2(txt) {
            currentSection = txt;
            sections.push(txt);
          };
          var getSections = function getSections2() {
            return sections;
          };
          var getTasks = function getTasks2() {
            var allItemsPricessed = compileTasks();
            var maxDepth2 = 10;
            var iterationCount = 0;
            while (!allItemsPricessed && iterationCount < maxDepth2) {
              allItemsPricessed = compileTasks();
              iterationCount++;
            }
            tasks = rawTasks;
            return tasks;
          };
          var isInvalidDate = function isInvalidDate2(date2, dateFormat2, excludes2, includes2) {
            if (includes2.indexOf(date2.format(dateFormat2.trim())) >= 0) {
              return false;
            }
            if (date2.isoWeekday() >= 6 && excludes2.indexOf("weekends") >= 0) {
              return true;
            }
            if (excludes2.indexOf(date2.format("dddd").toLowerCase()) >= 0) {
              return true;
            }
            return excludes2.indexOf(date2.format(dateFormat2.trim())) >= 0;
          };
          var checkTaskDates = function checkTaskDates2(task, dateFormat2, excludes2, includes2) {
            if (!excludes2.length || task.manualEndTime)
              return;
            var startTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(task.startTime, dateFormat2, true);
            startTime.add(1, "d");
            var endTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(task.endTime, dateFormat2, true);
            var renderEndTime = fixTaskDates(startTime, endTime, dateFormat2, excludes2, includes2);
            task.endTime = endTime.toDate();
            task.renderEndTime = renderEndTime;
          };
          var fixTaskDates = function fixTaskDates2(startTime, endTime, dateFormat2, excludes2, includes2) {
            var invalid = false;
            var renderEndTime = null;
            while (startTime <= endTime) {
              if (!invalid) {
                renderEndTime = endTime.toDate();
              }
              invalid = isInvalidDate(startTime, dateFormat2, excludes2, includes2);
              if (invalid) {
                endTime.add(1, "d");
              }
              startTime.add(1, "d");
            }
            return renderEndTime;
          };
          var getStartDate = function getStartDate2(prevTime, dateFormat2, str) {
            str = str.trim();
            var re2 = /^after\s+([\d\w- ]+)/;
            var afterStatement = re2.exec(str.trim());
            if (afterStatement !== null) {
              var latestEndingTask = null;
              afterStatement[1].split(" ").forEach(function(id2) {
                var task = findTaskById(id2);
                if (typeof task !== "undefined") {
                  if (!latestEndingTask) {
                    latestEndingTask = task;
                  } else {
                    if (task.endTime > latestEndingTask.endTime) {
                      latestEndingTask = task;
                    }
                  }
                }
              });
              if (!latestEndingTask) {
                var dt = new Date();
                dt.setHours(0, 0, 0, 0);
                return dt;
              } else {
                return latestEndingTask.endTime;
              }
            }
            var mDate = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(str, dateFormat2.trim(), true);
            if (mDate.isValid()) {
              return mDate.toDate();
            } else {
              _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Invalid date:" + str);
              _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("With date format:" + dateFormat2.trim());
            }
            return new Date();
          };
          var durationToDate = function durationToDate2(durationStatement, relativeTime) {
            if (durationStatement !== null) {
              switch (durationStatement[2]) {
                case "ms":
                  relativeTime.add(durationStatement[1], "milliseconds");
                  break;
                case "s":
                  relativeTime.add(durationStatement[1], "seconds");
                  break;
                case "m":
                  relativeTime.add(durationStatement[1], "minutes");
                  break;
                case "h":
                  relativeTime.add(durationStatement[1], "hours");
                  break;
                case "d":
                  relativeTime.add(durationStatement[1], "days");
                  break;
                case "w":
                  relativeTime.add(durationStatement[1], "weeks");
                  break;
              }
            }
            return relativeTime.toDate();
          };
          var getEndDate = function getEndDate2(prevTime, dateFormat2, str, inclusive) {
            inclusive = inclusive || false;
            str = str.trim();
            var mDate = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(str, dateFormat2.trim(), true);
            if (mDate.isValid()) {
              if (inclusive) {
                mDate.add(1, "d");
              }
              return mDate.toDate();
            }
            return durationToDate(/^([\d]+)([wdhms]|ms)$/.exec(str.trim()), moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(prevTime));
          };
          var taskCnt = 0;
          var parseId = function parseId2(idStr) {
            if (typeof idStr === "undefined") {
              taskCnt = taskCnt + 1;
              return "task" + taskCnt;
            }
            return idStr;
          };
          var compileData = function compileData2(prevTask, dataStr) {
            var ds;
            if (dataStr.substr(0, 1) === ":") {
              ds = dataStr.substr(1, dataStr.length);
            } else {
              ds = dataStr;
            }
            var data = ds.split(",");
            var task = {};
            getTaskTags(data, task, tags);
            for (var i = 0; i < data.length; i++) {
              data[i] = data[i].trim();
            }
            var endTimeData = "";
            switch (data.length) {
              case 1:
                task.id = parseId();
                task.startTime = prevTask.endTime;
                endTimeData = data[0];
                break;
              case 2:
                task.id = parseId();
                task.startTime = getStartDate(void 0, dateFormat, data[0]);
                endTimeData = data[1];
                break;
              case 3:
                task.id = parseId(data[0]);
                task.startTime = getStartDate(void 0, dateFormat, data[1]);
                endTimeData = data[2];
                break;
            }
            if (endTimeData) {
              task.endTime = getEndDate(task.startTime, dateFormat, endTimeData, inclusiveEndDates);
              task.manualEndTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(endTimeData, "YYYY-MM-DD", true).isValid();
              checkTaskDates(task, dateFormat, excludes, includes);
            }
            return task;
          };
          var parseData = function parseData2(prevTaskId, dataStr) {
            var ds;
            if (dataStr.substr(0, 1) === ":") {
              ds = dataStr.substr(1, dataStr.length);
            } else {
              ds = dataStr;
            }
            var data = ds.split(",");
            var task = {};
            getTaskTags(data, task, tags);
            for (var i = 0; i < data.length; i++) {
              data[i] = data[i].trim();
            }
            switch (data.length) {
              case 1:
                task.id = parseId();
                task.startTime = {
                  type: "prevTaskEnd",
                  id: prevTaskId
                };
                task.endTime = {
                  data: data[0]
                };
                break;
              case 2:
                task.id = parseId();
                task.startTime = {
                  type: "getStartDate",
                  startData: data[0]
                };
                task.endTime = {
                  data: data[1]
                };
                break;
              case 3:
                task.id = parseId(data[0]);
                task.startTime = {
                  type: "getStartDate",
                  startData: data[1]
                };
                task.endTime = {
                  data: data[2]
                };
                break;
            }
            return task;
          };
          var lastTask;
          var lastTaskID;
          var rawTasks = [];
          var taskDb = {};
          var addTask = function addTask2(descr, data) {
            var rawTask = {
              section: currentSection,
              type: currentSection,
              processed: false,
              manualEndTime: false,
              renderEndTime: null,
              raw: {
                data
              },
              task: descr,
              classes: []
            };
            var taskInfo = parseData(lastTaskID, data);
            rawTask.raw.startTime = taskInfo.startTime;
            rawTask.raw.endTime = taskInfo.endTime;
            rawTask.id = taskInfo.id;
            rawTask.prevTaskId = lastTaskID;
            rawTask.active = taskInfo.active;
            rawTask.done = taskInfo.done;
            rawTask.crit = taskInfo.crit;
            rawTask.milestone = taskInfo.milestone;
            rawTask.order = lastOrder;
            lastOrder++;
            var pos = rawTasks.push(rawTask);
            lastTaskID = rawTask.id;
            taskDb[rawTask.id] = pos - 1;
          };
          var findTaskById = function findTaskById2(id2) {
            var pos = taskDb[id2];
            return rawTasks[pos];
          };
          var addTaskOrg = function addTaskOrg2(descr, data) {
            var newTask = {
              section: currentSection,
              type: currentSection,
              description: descr,
              task: descr,
              classes: []
            };
            var taskInfo = compileData(lastTask, data);
            newTask.startTime = taskInfo.startTime;
            newTask.endTime = taskInfo.endTime;
            newTask.id = taskInfo.id;
            newTask.active = taskInfo.active;
            newTask.done = taskInfo.done;
            newTask.crit = taskInfo.crit;
            newTask.milestone = taskInfo.milestone;
            lastTask = newTask;
            tasks.push(newTask);
          };
          var compileTasks = function compileTasks2() {
            var compileTask = function compileTask2(pos) {
              var task = rawTasks[pos];
              var startTime = "";
              switch (rawTasks[pos].raw.startTime.type) {
                case "prevTaskEnd": {
                  var prevTask = findTaskById(task.prevTaskId);
                  task.startTime = prevTask.endTime;
                  break;
                }
                case "getStartDate":
                  startTime = getStartDate(void 0, dateFormat, rawTasks[pos].raw.startTime.startData);
                  if (startTime) {
                    rawTasks[pos].startTime = startTime;
                  }
                  break;
              }
              if (rawTasks[pos].startTime) {
                rawTasks[pos].endTime = getEndDate(rawTasks[pos].startTime, dateFormat, rawTasks[pos].raw.endTime.data, inclusiveEndDates);
                if (rawTasks[pos].endTime) {
                  rawTasks[pos].processed = true;
                  rawTasks[pos].manualEndTime = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(rawTasks[pos].raw.endTime.data, "YYYY-MM-DD", true).isValid();
                  checkTaskDates(rawTasks[pos], dateFormat, excludes, includes);
                }
              }
              return rawTasks[pos].processed;
            };
            var allProcessed = true;
            for (var i = 0; i < rawTasks.length; i++) {
              compileTask(i);
              allProcessed = allProcessed && rawTasks[i].processed;
            }
            return allProcessed;
          };
          var setLink = function setLink2(ids, _linkStr) {
            var linkStr = _linkStr;
            if (_config__WEBPACK_IMPORTED_MODULE_3__.getConfig().securityLevel !== "loose") {
              linkStr = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__.sanitizeUrl)(_linkStr);
            }
            ids.split(",").forEach(function(id2) {
              var rawTask = findTaskById(id2);
              if (typeof rawTask !== "undefined") {
                pushFun(id2, function() {
                  window.open(linkStr, "_self");
                });
                links[id2] = linkStr;
              }
            });
            setClass(ids, "clickable");
          };
          var setClass = function setClass2(ids, className) {
            ids.split(",").forEach(function(id2) {
              var rawTask = findTaskById(id2);
              if (typeof rawTask !== "undefined") {
                rawTask.classes.push(className);
              }
            });
          };
          var setClickFun = function setClickFun2(id2, functionName, functionArgs) {
            if (_config__WEBPACK_IMPORTED_MODULE_3__.getConfig().securityLevel !== "loose") {
              return;
            }
            if (typeof functionName === "undefined") {
              return;
            }
            var argList = [];
            if (typeof functionArgs === "string") {
              argList = functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
              for (var i = 0; i < argList.length; i++) {
                var item = argList[i].trim();
                if (item.charAt(0) === '"' && item.charAt(item.length - 1) === '"') {
                  item = item.substr(1, item.length - 2);
                }
                argList[i] = item;
              }
            }
            if (argList.length === 0) {
              argList.push(id2);
            }
            var rawTask = findTaskById(id2);
            if (typeof rawTask !== "undefined") {
              pushFun(id2, function() {
                _utils__WEBPACK_IMPORTED_MODULE_7__["default"].runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_7__["default"], [functionName].concat(_toConsumableArray(argList)));
              });
            }
          };
          var pushFun = function pushFun2(id2, callbackFunction) {
            funs.push(function() {
              var elem = document.querySelector('[id="'.concat(id2, '"]'));
              if (elem !== null) {
                elem.addEventListener("click", function() {
                  callbackFunction();
                });
              }
            });
            funs.push(function() {
              var elem = document.querySelector('[id="'.concat(id2, '-text"]'));
              if (elem !== null) {
                elem.addEventListener("click", function() {
                  callbackFunction();
                });
              }
            });
          };
          var setClickEvent = function setClickEvent2(ids, functionName, functionArgs) {
            ids.split(",").forEach(function(id2) {
              setClickFun(id2, functionName, functionArgs);
            });
            setClass(ids, "clickable");
          };
          var bindFunctions = function bindFunctions2(element) {
            funs.forEach(function(fun) {
              fun(element);
            });
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_3__.getConfig().gantt;
            },
            clear,
            setDateFormat,
            getDateFormat,
            enableInclusiveEndDates,
            endDatesAreInclusive,
            enableTopAxis,
            topAxisEnabled,
            setAxisFormat,
            getAxisFormat,
            setTodayMarker,
            getTodayMarker,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccTitle,
            setDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setDiagramTitle,
            getDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getDiagramTitle,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccDescription,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccDescription,
            addSection,
            getSections,
            getTasks,
            addTask,
            findTaskById,
            addTaskOrg,
            setIncludes,
            getIncludes,
            setExcludes,
            getExcludes,
            setClickEvent,
            setLink,
            getLinks,
            bindFunctions,
            durationToDate,
            isInvalidDate
          };
          function getTaskTags(data, task, tags2) {
            var matchFound = true;
            while (matchFound) {
              matchFound = false;
              tags2.forEach(function(t) {
                var pattern = "^\\s*" + t + "\\s*$";
                var regex = new RegExp(pattern);
                if (data[0].match(regex)) {
                  task[t] = true;
                  data.shift(1);
                  matchFound = true;
                }
              });
            }
          }
        },
        "./src/diagrams/gantt/ganttRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "setConf": () => setConf
          });
          var moment_mini__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("moment-mini");
          var moment_mini__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__);
          var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/logger.js");
          var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("d3");
          var _common_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/config.js");
          var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/utils.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/accessibility.js");
          var setConf = function setConf2() {
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("Something is calling, setConf, remove the call");
          };
          var w;
          var draw = function draw2(text2, id2, version2, diagObj) {
            var conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().gantt;
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");
            var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            var elem = doc.getElementById(id2);
            w = elem.parentElement.offsetWidth;
            if (typeof w === "undefined") {
              w = 1200;
            }
            if (typeof conf.useWidth !== "undefined") {
              w = conf.useWidth;
            }
            var taskArray = diagObj.db.getTasks();
            var h = taskArray.length * (conf.barHeight + conf.barGap) + 2 * conf.topPadding;
            elem.setAttribute("viewBox", "0 0 " + w + " " + h);
            var svg2 = root2.select('[id="'.concat(id2, '"]'));
            var timeScale = (0, d3__WEBPACK_IMPORTED_MODULE_1__.scaleTime)().domain([(0, d3__WEBPACK_IMPORTED_MODULE_1__.min)(taskArray, function(d) {
              return d.startTime;
            }), (0, d3__WEBPACK_IMPORTED_MODULE_1__.max)(taskArray, function(d) {
              return d.endTime;
            })]).rangeRound([0, w - conf.leftPadding - conf.rightPadding]);
            var categories = [];
            for (var i = 0; i < taskArray.length; i++) {
              categories.push(taskArray[i].type);
            }
            var catsUnfiltered = categories;
            categories = checkUnique(categories);
            function taskCompare(a2, b) {
              var taskA = a2.startTime;
              var taskB = b.startTime;
              var result = 0;
              if (taskA > taskB) {
                result = 1;
              } else if (taskA < taskB) {
                result = -1;
              }
              return result;
            }
            taskArray.sort(taskCompare);
            makeGant(taskArray, w, h);
            (0, _utils__WEBPACK_IMPORTED_MODULE_4__.configureSvgSize)(svg2, h, w, conf.useMaxWidth);
            svg2.append("text").text(diagObj.db.getDiagramTitle()).attr("x", w / 2).attr("y", conf.titleTopMargin).attr("class", "titleText");
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_5__["default"])(diagObj.db, svg2, id2);
            function makeGant(tasks, pageWidth, pageHeight) {
              var barHeight = conf.barHeight;
              var gap = barHeight + conf.barGap;
              var topPadding = conf.topPadding;
              var leftPadding = conf.leftPadding;
              var colorScale = (0, d3__WEBPACK_IMPORTED_MODULE_1__.scaleLinear)().domain([0, categories.length]).range(["#00B9FA", "#F95002"]).interpolate(d3__WEBPACK_IMPORTED_MODULE_1__.interpolateHcl);
              drawExcludeDays(gap, topPadding, leftPadding, pageWidth, pageHeight, tasks, diagObj.db.getExcludes(), diagObj.db.getIncludes());
              makeGrid(leftPadding, topPadding, pageWidth, pageHeight);
              drawRects(tasks, gap, topPadding, leftPadding, barHeight, colorScale, pageWidth);
              vertLabels(gap, topPadding);
              drawToday(leftPadding, topPadding, pageWidth, pageHeight);
            }
            function drawRects(theArray, theGap, theTopPad, theSidePad, theBarHeight, theColorScale, w2) {
              svg2.append("g").selectAll("rect").data(theArray).enter().append("rect").attr("x", 0).attr("y", function(d, i2) {
                i2 = d.order;
                return i2 * theGap + theTopPad - 2;
              }).attr("width", function() {
                return w2 - conf.rightPadding / 2;
              }).attr("height", theGap).attr("class", function(d) {
                for (var _i = 0; _i < categories.length; _i++) {
                  if (d.type === categories[_i]) {
                    return "section section" + _i % conf.numberSectionStyles;
                  }
                }
                return "section section0";
              });
              var rectangles = svg2.append("g").selectAll("rect").data(theArray).enter();
              var links = diagObj.db.getLinks();
              rectangles.append("rect").attr("id", function(d) {
                return d.id;
              }).attr("rx", 3).attr("ry", 3).attr("x", function(d) {
                if (d.milestone) {
                  return timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;
                }
                return timeScale(d.startTime) + theSidePad;
              }).attr("y", function(d, i2) {
                i2 = d.order;
                return i2 * theGap + theTopPad;
              }).attr("width", function(d) {
                if (d.milestone) {
                  return theBarHeight;
                }
                return timeScale(d.renderEndTime || d.endTime) - timeScale(d.startTime);
              }).attr("height", theBarHeight).attr("transform-origin", function(d, i2) {
                i2 = d.order;
                return (timeScale(d.startTime) + theSidePad + 0.5 * (timeScale(d.endTime) - timeScale(d.startTime))).toString() + "px " + (i2 * theGap + theTopPad + 0.5 * theBarHeight).toString() + "px";
              }).attr("class", function(d) {
                var res = "task";
                var classStr = "";
                if (d.classes.length > 0) {
                  classStr = d.classes.join(" ");
                }
                var secNum = 0;
                for (var _i2 = 0; _i2 < categories.length; _i2++) {
                  if (d.type === categories[_i2]) {
                    secNum = _i2 % conf.numberSectionStyles;
                  }
                }
                var taskClass = "";
                if (d.active) {
                  if (d.crit) {
                    taskClass += " activeCrit";
                  } else {
                    taskClass = " active";
                  }
                } else if (d.done) {
                  if (d.crit) {
                    taskClass = " doneCrit";
                  } else {
                    taskClass = " done";
                  }
                } else {
                  if (d.crit) {
                    taskClass += " crit";
                  }
                }
                if (taskClass.length === 0) {
                  taskClass = " task";
                }
                if (d.milestone) {
                  taskClass = " milestone " + taskClass;
                }
                taskClass += secNum;
                taskClass += " " + classStr;
                return res + taskClass;
              });
              rectangles.append("text").attr("id", function(d) {
                return d.id + "-text";
              }).text(function(d) {
                return d.task;
              }).attr("font-size", conf.fontSize).attr("x", function(d) {
                var startX = timeScale(d.startTime);
                var endX = timeScale(d.renderEndTime || d.endTime);
                if (d.milestone) {
                  startX += 0.5 * (timeScale(d.endTime) - timeScale(d.startTime)) - 0.5 * theBarHeight;
                }
                if (d.milestone) {
                  endX = startX + theBarHeight;
                }
                var textWidth = this.getBBox().width;
                if (textWidth > endX - startX) {
                  if (endX + textWidth + 1.5 * conf.leftPadding > w2) {
                    return startX + theSidePad - 5;
                  } else {
                    return endX + theSidePad + 5;
                  }
                } else {
                  return (endX - startX) / 2 + startX + theSidePad;
                }
              }).attr("y", function(d, i2) {
                i2 = d.order;
                return i2 * theGap + conf.barHeight / 2 + (conf.fontSize / 2 - 2) + theTopPad;
              }).attr("text-height", theBarHeight).attr("class", function(d) {
                var startX = timeScale(d.startTime);
                var endX = timeScale(d.endTime);
                if (d.milestone) {
                  endX = startX + theBarHeight;
                }
                var textWidth = this.getBBox().width;
                var classStr = "";
                if (d.classes.length > 0) {
                  classStr = d.classes.join(" ");
                }
                var secNum = 0;
                for (var _i3 = 0; _i3 < categories.length; _i3++) {
                  if (d.type === categories[_i3]) {
                    secNum = _i3 % conf.numberSectionStyles;
                  }
                }
                var taskType = "";
                if (d.active) {
                  if (d.crit) {
                    taskType = "activeCritText" + secNum;
                  } else {
                    taskType = "activeText" + secNum;
                  }
                }
                if (d.done) {
                  if (d.crit) {
                    taskType = taskType + " doneCritText" + secNum;
                  } else {
                    taskType = taskType + " doneText" + secNum;
                  }
                } else {
                  if (d.crit) {
                    taskType = taskType + " critText" + secNum;
                  }
                }
                if (d.milestone) {
                  taskType += " milestoneText";
                }
                if (textWidth > endX - startX) {
                  if (endX + textWidth + 1.5 * conf.leftPadding > w2) {
                    return classStr + " taskTextOutsideLeft taskTextOutside" + secNum + " " + taskType;
                  } else {
                    return classStr + " taskTextOutsideRight taskTextOutside" + secNum + " " + taskType + " width-" + textWidth;
                  }
                } else {
                  return classStr + " taskText taskText" + secNum + " " + taskType + " width-" + textWidth;
                }
              });
              var securityLevel2 = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel;
              if (securityLevel2 === "sandbox") {
                var _sandboxElement;
                _sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i" + id2);
                (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(_sandboxElement.nodes()[0].contentDocument.body);
                var _doc = _sandboxElement.nodes()[0].contentDocument;
                rectangles.filter(function(d) {
                  return typeof links[d.id] !== "undefined";
                }).each(function(o) {
                  var taskRect = _doc.querySelector("#" + o.id);
                  var taskText = _doc.querySelector("#" + o.id + "-text");
                  var oldParent = taskRect.parentNode;
                  var Link = _doc.createElement("a");
                  Link.setAttribute("xlink:href", links[o.id]);
                  Link.setAttribute("target", "_top");
                  oldParent.appendChild(Link);
                  Link.appendChild(taskRect);
                  Link.appendChild(taskText);
                });
              }
            }
            function drawExcludeDays(theGap, theTopPad, theSidePad, w2, h2, tasks, excludes, includes) {
              var minTime = tasks.reduce(function(min2, _ref) {
                var startTime = _ref.startTime;
                return min2 ? Math.min(min2, startTime) : startTime;
              }, 0);
              var maxTime = tasks.reduce(function(max2, _ref2) {
                var endTime = _ref2.endTime;
                return max2 ? Math.max(max2, endTime) : endTime;
              }, 0);
              var dateFormat = diagObj.db.getDateFormat();
              if (!minTime || !maxTime)
                return;
              var excludeRanges = [];
              var range2 = null;
              var d = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(minTime);
              while (d.valueOf() <= maxTime) {
                if (diagObj.db.isInvalidDate(d, dateFormat, excludes, includes)) {
                  if (!range2) {
                    range2 = {
                      start: d.clone(),
                      end: d.clone()
                    };
                  } else {
                    range2.end = d.clone();
                  }
                } else {
                  if (range2) {
                    excludeRanges.push(range2);
                    range2 = null;
                  }
                }
                d.add(1, "d");
              }
              var rectangles = svg2.append("g").selectAll("rect").data(excludeRanges).enter();
              rectangles.append("rect").attr("id", function(d2) {
                return "exclude-" + d2.start.format("YYYY-MM-DD");
              }).attr("x", function(d2) {
                return timeScale(d2.start) + theSidePad;
              }).attr("y", conf.gridLineStartPadding).attr("width", function(d2) {
                var renderEnd = d2.end.clone().add(1, "day");
                return timeScale(renderEnd) - timeScale(d2.start);
              }).attr("height", h2 - theTopPad - conf.gridLineStartPadding).attr("transform-origin", function(d2, i2) {
                return (timeScale(d2.start) + theSidePad + 0.5 * (timeScale(d2.end) - timeScale(d2.start))).toString() + "px " + (i2 * theGap + 0.5 * h2).toString() + "px";
              }).attr("class", "exclude-range");
            }
            function makeGrid(theSidePad, theTopPad, w2, h2) {
              var bottomXAxis = (0, d3__WEBPACK_IMPORTED_MODULE_1__.axisBottom)(timeScale).tickSize(-h2 + theTopPad + conf.gridLineStartPadding).tickFormat((0, d3__WEBPACK_IMPORTED_MODULE_1__.timeFormat)(diagObj.db.getAxisFormat() || conf.axisFormat || "%Y-%m-%d"));
              svg2.append("g").attr("class", "grid").attr("transform", "translate(" + theSidePad + ", " + (h2 - 50) + ")").call(bottomXAxis).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10).attr("dy", "1em");
              if (diagObj.db.topAxisEnabled() || conf.topAxis) {
                var topXAxis = (0, d3__WEBPACK_IMPORTED_MODULE_1__.axisTop)(timeScale).tickSize(-h2 + theTopPad + conf.gridLineStartPadding).tickFormat((0, d3__WEBPACK_IMPORTED_MODULE_1__.timeFormat)(diagObj.db.getAxisFormat() || conf.axisFormat || "%Y-%m-%d"));
                svg2.append("g").attr("class", "grid").attr("transform", "translate(" + theSidePad + ", " + theTopPad + ")").call(topXAxis).selectAll("text").style("text-anchor", "middle").attr("fill", "#000").attr("stroke", "none").attr("font-size", 10);
              }
            }
            function vertLabels(theGap, theTopPad) {
              var numOccurances = [];
              var prevGap = 0;
              for (var _i4 = 0; _i4 < categories.length; _i4++) {
                numOccurances[_i4] = [categories[_i4], getCount(categories[_i4], catsUnfiltered)];
              }
              svg2.append("g").selectAll("text").data(numOccurances).enter().append(function(d) {
                var rows = d[0].split(_common_common__WEBPACK_IMPORTED_MODULE_6__["default"].lineBreakRegex);
                var dy = -(rows.length - 1) / 2;
                var svgLabel = doc.createElementNS("http://www.w3.org/2000/svg", "text");
                svgLabel.setAttribute("dy", dy + "em");
                for (var j = 0; j < rows.length; j++) {
                  var tspan = doc.createElementNS("http://www.w3.org/2000/svg", "tspan");
                  tspan.setAttribute("alignment-baseline", "central");
                  tspan.setAttribute("x", "10");
                  if (j > 0)
                    tspan.setAttribute("dy", "1em");
                  tspan.textContent = rows[j];
                  svgLabel.appendChild(tspan);
                }
                return svgLabel;
              }).attr("x", 10).attr("y", function(d, i2) {
                if (i2 > 0) {
                  for (var j = 0; j < i2; j++) {
                    prevGap += numOccurances[i2 - 1][1];
                    return d[1] * theGap / 2 + prevGap * theGap + theTopPad;
                  }
                } else {
                  return d[1] * theGap / 2 + theTopPad;
                }
              }).attr("font-size", conf.sectionFontSize).attr("font-size", conf.sectionFontSize).attr("class", function(d) {
                for (var _i5 = 0; _i5 < categories.length; _i5++) {
                  if (d[0] === categories[_i5]) {
                    return "sectionTitle sectionTitle" + _i5 % conf.numberSectionStyles;
                  }
                }
                return "sectionTitle";
              });
            }
            function drawToday(theSidePad, theTopPad, w2, h2) {
              var todayMarker = diagObj.db.getTodayMarker();
              if (todayMarker === "off") {
                return;
              }
              var todayG = svg2.append("g").attr("class", "today");
              var today = new Date();
              var todayLine = todayG.append("line");
              todayLine.attr("x1", timeScale(today) + theSidePad).attr("x2", timeScale(today) + theSidePad).attr("y1", conf.titleTopMargin).attr("y2", h2 - conf.titleTopMargin).attr("class", "today");
              if (todayMarker !== "") {
                todayLine.attr("style", todayMarker.replace(/,/g, ";"));
              }
            }
            function checkUnique(arr) {
              var hash = {};
              var result = [];
              for (var _i6 = 0, l = arr.length; _i6 < l; ++_i6) {
                if (!Object.prototype.hasOwnProperty.call(hash, arr[_i6])) {
                  hash[arr[_i6]] = true;
                  result.push(arr[_i6]);
                }
              }
              return result;
            }
            function getCounts(arr) {
              var i2 = arr.length;
              var obj = {};
              while (i2) {
                obj[arr[--i2]] = (obj[arr[i2]] || 0) + 1;
              }
              return obj;
            }
            function getCount(word, arr) {
              return getCounts(arr)[word] || 0;
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            draw
          };
        },
        "./src/diagrams/gantt/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return '\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: '.concat(options.excludeBkgColor, ";\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ").concat(options.sectionBkgColor, ";\n  }\n\n  .section2 {\n    fill: ").concat(options.sectionBkgColor2, ";\n  }\n\n  .section1,\n  .section3 {\n    fill: ").concat(options.altSectionBkgColor, ";\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ").concat(options.titleColor, ";\n  }\n\n  .sectionTitle1 {\n    fill: ").concat(options.titleColor, ";\n  }\n\n  .sectionTitle2 {\n    fill: ").concat(options.titleColor, ";\n  }\n\n  .sectionTitle3 {\n    fill: ").concat(options.titleColor, ";\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ").concat(options.ganttFontSize, ";\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ").concat(options.gridColor, ";\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ").concat(options.fontFamily, ";\n      fill: ").concat(options.textColor, ";\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ").concat(options.todayLineColor, ";\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ").concat(options.ganttFontSize, ";\n  // }\n\n  .taskTextOutsideRight {\n    fill: ").concat(options.taskTextDarkColor, ";\n    text-anchor: start;\n    // font-size: ").concat(options.ganttFontSize, ";\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ").concat(options.taskTextDarkColor, ";\n    text-anchor: end;\n    // font-size: ").concat(options.ganttFontSize, ";\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ").concat(options.taskTextClickableColor, " !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ").concat(options.taskTextClickableColor, " !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ").concat(options.taskTextClickableColor, " !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ").concat(options.taskTextColor, ";\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ").concat(options.taskBkgColor, ";\n    stroke: ").concat(options.taskBorderColor, ";\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ").concat(options.taskTextOutsideColor, ";\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ").concat(options.taskTextOutsideColor, ";\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ").concat(options.activeTaskBkgColor, ";\n    stroke: ").concat(options.activeTaskBorderColor, ";\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ").concat(options.taskTextDarkColor, " !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ").concat(options.doneTaskBorderColor, ";\n    fill: ").concat(options.doneTaskBkgColor, ";\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ").concat(options.taskTextDarkColor, " !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ").concat(options.critBorderColor, ";\n    fill: ").concat(options.critBkgColor, ";\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ").concat(options.critBorderColor, ";\n    fill: ").concat(options.activeTaskBkgColor, ";\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ").concat(options.critBorderColor, ";\n    fill: ").concat(options.doneTaskBkgColor, ";\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ").concat(options.taskTextDarkColor, " !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ").concat(options.taskTextDarkColor, " !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ").concat(options.textColor, "    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/git/gitGraphAst.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "branch": () => branch,
            "checkout": () => checkout,
            "cherryPick": () => cherryPick,
            "clear": () => clear,
            "commit": () => commit,
            "commitType": () => commitType,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "getBranches": () => getBranches,
            "getBranchesAsObjArray": () => getBranchesAsObjArray,
            "getCommits": () => getCommits,
            "getCommitsArray": () => getCommitsArray,
            "getCurrentBranch": () => getCurrentBranch,
            "getDirection": () => getDirection,
            "getHead": () => getHead,
            "getOptions": () => getOptions,
            "merge": () => merge2,
            "parseDirective": () => parseDirective,
            "prettyPrint": () => prettyPrint,
            "setDirection": () => setDirection,
            "setOptions": () => setOptions
          });
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/utils.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/mermaidAPI.js");
          var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/config.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/commonDb.js");
          function ownKeys(object2, enumerableOnly) {
            var keys2 = Object.keys(object2);
            if (Object.getOwnPropertySymbols) {
              var symbols2 = Object.getOwnPropertySymbols(object2);
              enumerableOnly && (symbols2 = symbols2.filter(function(sym) {
                return Object.getOwnPropertyDescriptor(object2, sym).enumerable;
              })), keys2.push.apply(keys2, symbols2);
            }
            return keys2;
          }
          function _objectSpread(target) {
            for (var i = 1; i < arguments.length; i++) {
              var source = null != arguments[i] ? arguments[i] : {};
              i % 2 ? ownKeys(Object(source), true).forEach(function(key) {
                _defineProperty2(target, key, source[key]);
              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {
                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
              });
            }
            return target;
          }
          function _defineProperty2(obj, key, value) {
            if (key in obj) {
              Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
            } else {
              obj[key] = value;
            }
            return obj;
          }
          var mainBranchName = (0, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig)().gitGraph.mainBranchName;
          var mainBranchOrder = (0, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig)().gitGraph.mainBranchOrder;
          var commits = {};
          var head = null;
          var branchesConfig = {};
          branchesConfig[mainBranchName] = {
            name: mainBranchName,
            order: mainBranchOrder
          };
          var branches = {};
          branches[mainBranchName] = head;
          var curBranch = mainBranchName;
          var direction = "LR";
          var seq = 0;
          function getId() {
            return (0, _utils__WEBPACK_IMPORTED_MODULE_1__.random)({
              length: 7
            });
          }
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__["default"].parseDirective(this, statement, context, type2);
          };
          function uniqBy(list2, fn) {
            var recordMap = /* @__PURE__ */ Object.create(null);
            return list2.reduce(function(out, item) {
              var key = fn(item);
              if (!recordMap[key]) {
                recordMap[key] = true;
                out.push(item);
              }
              return out;
            }, []);
          }
          var setDirection = function setDirection2(dir) {
            direction = dir;
          };
          var options = {};
          var setOptions = function setOptions2(rawOptString) {
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("options str", rawOptString);
            rawOptString = rawOptString && rawOptString.trim();
            rawOptString = rawOptString || "{}";
            try {
              options = JSON.parse(rawOptString);
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.error("error while parsing gitGraph options", e.message);
            }
          };
          var getOptions = function getOptions2() {
            return options;
          };
          var commit = function commit2(msg, id2, type2, tag) {
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Entering commit:", msg, id2, type2, tag);
            id2 = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(id2, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            msg = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(msg, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            tag = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(tag, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            var commit3 = {
              id: id2 ? id2 : seq + "-" + getId(),
              message: msg,
              seq: seq++,
              type: type2 ? type2 : commitType.NORMAL,
              tag: tag ? tag : "",
              parents: head == null ? [] : [head.id],
              branch: curBranch
            };
            head = commit3;
            commits[commit3.id] = commit3;
            branches[curBranch] = commit3.id;
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("in pushCommit " + commit3.id);
          };
          var branch = function branch2(name, order) {
            name = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(name, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            if (typeof branches[name] === "undefined") {
              branches[name] = head != null ? head.id : null;
              branchesConfig[name] = {
                name,
                order: order ? parseInt(order, 10) : null
              };
              checkout(name);
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("in createBranch");
            } else {
              var error = new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ' + name + '")');
              error.hash = {
                text: "branch " + name,
                token: "branch " + name,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ['"checkout ' + name + '"']
              };
              throw error;
            }
          };
          var merge2 = function merge3(otherBranch, custom_id, override_type, custom_tag) {
            otherBranch = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(otherBranch, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            custom_id = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(custom_id, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            var currentCommit = commits[branches[curBranch]];
            var otherCommit = commits[branches[otherBranch]];
            if (curBranch === otherBranch) {
              var error = new Error('Incorrect usage of "merge". Cannot merge a branch to itself');
              error.hash = {
                text: "merge " + otherBranch,
                token: "merge " + otherBranch,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ["branch abc"]
              };
              throw error;
            } else if (typeof currentCommit === "undefined" || !currentCommit) {
              var _error = new Error('Incorrect usage of "merge". Current branch (' + curBranch + ")has no commits");
              _error.hash = {
                text: "merge " + otherBranch,
                token: "merge " + otherBranch,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ["commit"]
              };
              throw _error;
            } else if (typeof branches[otherBranch] === "undefined") {
              var _error2 = new Error('Incorrect usage of "merge". Branch to be merged (' + otherBranch + ") does not exist");
              _error2.hash = {
                text: "merge " + otherBranch,
                token: "merge " + otherBranch,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ["branch " + otherBranch]
              };
              throw _error2;
            } else if (typeof otherCommit === "undefined" || !otherCommit) {
              var _error3 = new Error('Incorrect usage of "merge". Branch to be merged (' + otherBranch + ") has no commits");
              _error3.hash = {
                text: "merge " + otherBranch,
                token: "merge " + otherBranch,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ['"commit"']
              };
              throw _error3;
            } else if (currentCommit === otherCommit) {
              var _error4 = new Error('Incorrect usage of "merge". Both branches have same head');
              _error4.hash = {
                text: "merge " + otherBranch,
                token: "merge " + otherBranch,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ["branch abc"]
              };
              throw _error4;
            } else if (custom_id && typeof commits[custom_id] !== "undefined") {
              var _error5 = new Error('Incorrect usage of "merge". Commit with id:' + custom_id + " already exists, use different custom Id");
              _error5.hash = {
                text: "merge " + otherBranch + custom_id + override_type + custom_tag,
                token: "merge " + otherBranch + custom_id + override_type + custom_tag,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ["merge " + otherBranch + " " + custom_id + "_UNIQUE " + override_type + " " + custom_tag]
              };
              throw _error5;
            }
            var commit2 = {
              id: custom_id ? custom_id : seq + "-" + getId(),
              message: "merged branch " + otherBranch + " into " + curBranch,
              seq: seq++,
              parents: [head == null ? null : head.id, branches[otherBranch]],
              branch: curBranch,
              type: commitType.MERGE,
              customType: override_type,
              customId: custom_id ? true : false,
              tag: custom_tag ? custom_tag : ""
            };
            head = commit2;
            commits[commit2.id] = commit2;
            branches[curBranch] = commit2.id;
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug(branches);
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("in mergeBranch");
          };
          var cherryPick = function cherryPick2(sourceId, targetId) {
            sourceId = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(sourceId, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            targetId = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(targetId, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            if (!sourceId || typeof commits[sourceId] === "undefined") {
              var error = new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');
              error.hash = {
                text: "cherryPick " + sourceId + " " + targetId,
                token: "cherryPick " + sourceId + " " + targetId,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ["cherry-pick abc"]
              };
              throw error;
            }
            var sourceCommit = commits[sourceId];
            var sourceCommitBranch = sourceCommit.branch;
            if (sourceCommit.type === commitType.MERGE) {
              var _error6 = new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');
              _error6.hash = {
                text: "cherryPick " + sourceId + " " + targetId,
                token: "cherryPick " + sourceId + " " + targetId,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ["cherry-pick abc"]
              };
              throw _error6;
            }
            if (!targetId || typeof commits[targetId] === "undefined") {
              if (sourceCommitBranch === curBranch) {
                var _error7 = new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');
                _error7.hash = {
                  text: "cherryPick " + sourceId + " " + targetId,
                  token: "cherryPick " + sourceId + " " + targetId,
                  line: "1",
                  loc: {
                    first_line: 1,
                    last_line: 1,
                    first_column: 1,
                    last_column: 1
                  },
                  expected: ["cherry-pick abc"]
                };
                throw _error7;
              }
              var currentCommit = commits[branches[curBranch]];
              if (typeof currentCommit === "undefined" || !currentCommit) {
                var _error8 = new Error('Incorrect usage of "cherry-pick". Current branch (' + curBranch + ")has no commits");
                _error8.hash = {
                  text: "cherryPick " + sourceId + " " + targetId,
                  token: "cherryPick " + sourceId + " " + targetId,
                  line: "1",
                  loc: {
                    first_line: 1,
                    last_line: 1,
                    first_column: 1,
                    last_column: 1
                  },
                  expected: ["cherry-pick abc"]
                };
                throw _error8;
              }
              var _commit = {
                id: seq + "-" + getId(),
                message: "cherry-picked " + sourceCommit + " into " + curBranch,
                seq: seq++,
                parents: [head == null ? null : head.id, sourceCommit.id],
                branch: curBranch,
                type: commitType.CHERRY_PICK,
                tag: "cherry-pick:" + sourceCommit.id
              };
              head = _commit;
              commits[_commit.id] = _commit;
              branches[curBranch] = _commit.id;
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug(branches);
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("in cheeryPick");
            }
          };
          var checkout = function checkout2(branch2) {
            branch2 = _common_common__WEBPACK_IMPORTED_MODULE_4__["default"].sanitizeText(branch2, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig());
            if (typeof branches[branch2] === "undefined") {
              var error = new Error('Trying to checkout branch which is not yet created. (Help try using "branch ' + branch2 + '")');
              error.hash = {
                text: "checkout " + branch2,
                token: "checkout " + branch2,
                line: "1",
                loc: {
                  first_line: 1,
                  last_line: 1,
                  first_column: 1,
                  last_column: 1
                },
                expected: ['"branch ' + branch2 + '"']
              };
              throw error;
            } else {
              curBranch = branch2;
              var id2 = branches[curBranch];
              head = commits[id2];
            }
          };
          function upsert(arr, key, newval) {
            var index2 = arr.indexOf(key);
            if (index2 === -1) {
              arr.push(newval);
            } else {
              arr.splice(index2, 1, newval);
            }
          }
          function prettyPrintCommitHistory(commitArr) {
            var commit2 = commitArr.reduce(function(out, commit3) {
              if (out.seq > commit3.seq)
                return out;
              return commit3;
            }, commitArr[0]);
            var line2 = "";
            commitArr.forEach(function(c2) {
              if (c2 === commit2) {
                line2 += "	*";
              } else {
                line2 += "	|";
              }
            });
            var label = [line2, commit2.id, commit2.seq];
            for (var _branch in branches) {
              if (branches[_branch] === commit2.id)
                label.push(_branch);
            }
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug(label.join(" "));
            if (commit2.parents && commit2.parents.length == 2) {
              var newCommit = commits[commit2.parents[0]];
              upsert(commitArr, commit2, newCommit);
              commitArr.push(commits[commit2.parents[1]]);
            } else if (commit2.parents.length == 0) {
              return;
            } else {
              var nextCommit = commits[commit2.parents];
              upsert(commitArr, commit2, nextCommit);
            }
            commitArr = uniqBy(commitArr, function(c2) {
              return c2.id;
            });
            prettyPrintCommitHistory(commitArr);
          }
          var prettyPrint = function prettyPrint2() {
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug(commits);
            var node = getCommitsArray()[0];
            prettyPrintCommitHistory([node]);
          };
          var clear = function clear2() {
            commits = {};
            head = null;
            var mainBranch = (0, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig)().gitGraph.mainBranchName;
            var mainBranchOrder2 = (0, _config__WEBPACK_IMPORTED_MODULE_0__.getConfig)().gitGraph.mainBranchOrder;
            branches = {};
            branches[mainBranch] = null;
            branchesConfig = {};
            branchesConfig[mainBranch] = {
              name: mainBranch,
              order: mainBranchOrder2
            };
            curBranch = mainBranch;
            seq = 0;
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_5__.clear)();
          };
          var getBranchesAsObjArray = function getBranchesAsObjArray2() {
            var branchesArray = Object.values(branchesConfig).map(function(branchConfig, i) {
              if (branchConfig.order !== null)
                return branchConfig;
              return _objectSpread(_objectSpread({}, branchConfig), {}, {
                order: parseFloat("0.".concat(i), 10)
              });
            }).sort(function(a2, b) {
              return a2.order - b.order;
            }).map(function(_ref) {
              var name = _ref.name;
              return {
                name
              };
            });
            return branchesArray;
          };
          var getBranches = function getBranches2() {
            return branches;
          };
          var getCommits = function getCommits2() {
            return commits;
          };
          var getCommitsArray = function getCommitsArray2() {
            var commitArr = Object.keys(commits).map(function(key) {
              return commits[key];
            });
            commitArr.forEach(function(o) {
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug(o.id);
            });
            commitArr.sort(function(a2, b) {
              return a2.seq - b.seq;
            });
            return commitArr;
          };
          var getCurrentBranch = function getCurrentBranch2() {
            return curBranch;
          };
          var getDirection = function getDirection2() {
            return direction;
          };
          var getHead = function getHead2() {
            return head;
          };
          var commitType = {
            NORMAL: 0,
            REVERSE: 1,
            HIGHLIGHT: 2,
            MERGE: 3,
            CHERRY_PICK: 4
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_0__.getConfig().gitGraph;
            },
            setDirection,
            setOptions,
            getOptions,
            commit,
            branch,
            merge: merge2,
            cherryPick,
            checkout,
            prettyPrint,
            clear,
            getBranchesAsObjArray,
            getBranches,
            getCommits,
            getCommitsArray,
            getCurrentBranch,
            getDirection,
            getHead,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccTitle,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccDescription,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccDescription,
            commitType
          };
        },
        "./src/diagrams/git/gitGraphDetector.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var detector = function detector2(txt) {
            if (txt.match(/^\s*gitGraph/)) {
              return "gitGraph";
            }
            return null;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = detector;
        },
        "./src/diagrams/git/gitGraphRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/utils.js");
          var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/logger.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/accessibility.js");
          var allCommitsDict = {};
          var commitType = {
            NORMAL: 0,
            REVERSE: 1,
            HIGHLIGHT: 2,
            MERGE: 3,
            CHERRY_PICK: 4
          };
          var THEME_COLOR_LIMIT = 8;
          var branchPos = {};
          var commitPos = {};
          var lanes = [];
          var maxPos = 0;
          var clear = function clear2() {
            branchPos = {};
            commitPos = {};
            allCommitsDict = {};
            maxPos = 0;
            lanes = [];
          };
          var drawText = function drawText2(txt) {
            var svgLabel = document.createElementNS("http://www.w3.org/2000/svg", "text");
            var rows = [];
            if (typeof txt === "string") {
              rows = txt.split(/\\n|\n|<br\s*\/?>/gi);
            } else if (Array.isArray(txt)) {
              rows = txt;
            } else {
              rows = [];
            }
            for (var j = 0; j < rows.length; j++) {
              var tspan = document.createElementNS("http://www.w3.org/2000/svg", "tspan");
              tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
              tspan.setAttribute("dy", "1em");
              tspan.setAttribute("x", "0");
              tspan.setAttribute("class", "row");
              tspan.textContent = rows[j].trim();
              svgLabel.appendChild(tspan);
            }
            return svgLabel;
          };
          var drawCommits = function drawCommits2(svg2, commits, modifyGraph) {
            var gitGraphConfig = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().gitGraph;
            var gBullets = svg2.append("g").attr("class", "commit-bullets");
            var gLabels = svg2.append("g").attr("class", "commit-labels");
            var pos = 0;
            var keys2 = Object.keys(commits);
            var sortedKeys = keys2.sort(function(a2, b) {
              return commits[a2].seq - commits[b].seq;
            });
            sortedKeys.forEach(function(key, index2) {
              var commit = commits[key];
              var y2 = branchPos[commit.branch].pos;
              var x2 = pos + 10;
              if (modifyGraph) {
                var typeClass;
                var commitSymbolType = typeof commit.customType !== "undefined" && commit.customType !== "" ? commit.customType : commit.type;
                switch (commitSymbolType) {
                  case commitType.NORMAL:
                    typeClass = "commit-normal";
                    break;
                  case commitType.REVERSE:
                    typeClass = "commit-reverse";
                    break;
                  case commitType.HIGHLIGHT:
                    typeClass = "commit-highlight";
                    break;
                  case commitType.MERGE:
                    typeClass = "commit-merge";
                    break;
                  case commitType.CHERRY_PICK:
                    typeClass = "commit-cherry-pick";
                    break;
                  default:
                    typeClass = "commit-normal";
                }
                if (commitSymbolType === commitType.HIGHLIGHT) {
                  var circle2 = gBullets.append("rect");
                  circle2.attr("x", x2 - 10);
                  circle2.attr("y", y2 - 10);
                  circle2.attr("height", 20);
                  circle2.attr("width", 20);
                  circle2.attr("class", "commit ".concat(commit.id, " commit-highlight").concat(branchPos[commit.branch].index % THEME_COLOR_LIMIT, " ").concat(typeClass, "-outer"));
                  gBullets.append("rect").attr("x", x2 - 6).attr("y", y2 - 6).attr("height", 12).attr("width", 12).attr("class", "commit ".concat(commit.id, " commit").concat(branchPos[commit.branch].index % THEME_COLOR_LIMIT, " ").concat(typeClass, "-inner"));
                } else if (commitSymbolType === commitType.CHERRY_PICK) {
                  gBullets.append("circle").attr("cx", x2).attr("cy", y2).attr("r", 10).attr("class", "commit ".concat(commit.id, " ").concat(typeClass));
                  gBullets.append("circle").attr("cx", x2 - 3).attr("cy", y2 + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", "commit ".concat(commit.id, " ").concat(typeClass));
                  gBullets.append("circle").attr("cx", x2 + 3).attr("cy", y2 + 2).attr("r", 2.75).attr("fill", "#fff").attr("class", "commit ".concat(commit.id, " ").concat(typeClass));
                  gBullets.append("line").attr("x1", x2 + 3).attr("y1", y2 + 1).attr("x2", x2).attr("y2", y2 - 5).attr("stroke", "#fff").attr("class", "commit ".concat(commit.id, " ").concat(typeClass));
                  gBullets.append("line").attr("x1", x2 - 3).attr("y1", y2 + 1).attr("x2", x2).attr("y2", y2 - 5).attr("stroke", "#fff").attr("class", "commit ".concat(commit.id, " ").concat(typeClass));
                } else {
                  var _circle = gBullets.append("circle");
                  _circle.attr("cx", x2);
                  _circle.attr("cy", y2);
                  _circle.attr("r", commit.type === commitType.MERGE ? 9 : 10);
                  _circle.attr("class", "commit ".concat(commit.id, " commit").concat(branchPos[commit.branch].index % THEME_COLOR_LIMIT));
                  if (commitSymbolType === commitType.MERGE) {
                    var circle22 = gBullets.append("circle");
                    circle22.attr("cx", x2);
                    circle22.attr("cy", y2);
                    circle22.attr("r", 6);
                    circle22.attr("class", "commit ".concat(typeClass, " ").concat(commit.id, " commit").concat(branchPos[commit.branch].index % THEME_COLOR_LIMIT));
                  }
                  if (commitSymbolType === commitType.REVERSE) {
                    var cross2 = gBullets.append("path");
                    cross2.attr("d", "M ".concat(x2 - 5, ",").concat(y2 - 5, "L").concat(x2 + 5, ",").concat(y2 + 5, "M").concat(x2 - 5, ",").concat(y2 + 5, "L").concat(x2 + 5, ",").concat(y2 - 5)).attr("class", "commit ".concat(typeClass, " ").concat(commit.id, " commit").concat(branchPos[commit.branch].index % THEME_COLOR_LIMIT));
                  }
                }
              }
              commitPos[commit.id] = {
                x: pos + 10,
                y: y2
              };
              if (modifyGraph) {
                var px = 4;
                var py = 2;
                if (commit.type !== commitType.CHERRY_PICK && (commit.customId && commit.type === commitType.MERGE || commit.type !== commitType.MERGE) && gitGraphConfig.showCommitLabel) {
                  var wrapper = gLabels.append("g");
                  var labelBkg = wrapper.insert("rect").attr("class", "commit-label-bkg");
                  var text2 = wrapper.append("text").attr("x", pos).attr("y", y2 + 25).attr("class", "commit-label").text(commit.id);
                  var bbox = text2.node().getBBox();
                  labelBkg.attr("x", pos + 10 - bbox.width / 2 - py).attr("y", y2 + 13.5).attr("width", bbox.width + 2 * py).attr("height", bbox.height + 2 * py);
                  text2.attr("x", pos + 10 - bbox.width / 2);
                  if (gitGraphConfig.rotateCommitLabel) {
                    var r_x = -7.5 - (bbox.width + 10) / 25 * 9.5;
                    var r_y = 10 + bbox.width / 25 * 8.5;
                    wrapper.attr("transform", "translate(" + r_x + ", " + r_y + ") rotate(" + -45 + ", " + pos + ", " + y2 + ")");
                  }
                }
                if (commit.tag) {
                  var rect = gLabels.insert("polygon");
                  var hole = gLabels.append("circle");
                  var tag = gLabels.append("text").attr("y", y2 - 16).attr("class", "tag-label").text(commit.tag);
                  var tagBbox = tag.node().getBBox();
                  tag.attr("x", pos + 10 - tagBbox.width / 2);
                  var h2 = tagBbox.height / 2;
                  var ly = y2 - 19.2;
                  rect.attr("class", "tag-label-bkg").attr("points", "\n          ".concat(pos - tagBbox.width / 2 - px / 2, ",").concat(ly + py, "\n          ").concat(pos - tagBbox.width / 2 - px / 2, ",").concat(ly - py, "\n          ").concat(pos + 10 - tagBbox.width / 2 - px, ",").concat(ly - h2 - py, "\n          ").concat(pos + 10 + tagBbox.width / 2 + px, ",").concat(ly - h2 - py, "\n          ").concat(pos + 10 + tagBbox.width / 2 + px, ",").concat(ly + h2 + py, "\n          ").concat(pos + 10 - tagBbox.width / 2 - px, ",").concat(ly + h2 + py));
                  hole.attr("cx", pos - tagBbox.width / 2 + px / 2).attr("cy", ly).attr("r", 1.5).attr("class", "tag-hole");
                }
              }
              pos += 50;
              if (pos > maxPos) {
                maxPos = pos;
              }
            });
          };
          var hasOverlappingCommits = function hasOverlappingCommits2(commit1, commit2, allCommits) {
            commitPos[commit2.id];
            commitPos[commit1.id];
            var keys2 = Object.keys(allCommits);
            var overlappingComits = keys2.filter(function(key) {
              return allCommits[key].branch === commit2.branch && allCommits[key].seq > commit1.seq && allCommits[key].seq < commit2.seq;
            });
            return overlappingComits.length > 0;
          };
          var findLane = function findLane2(y12, y2, _depth) {
            var depth = _depth || 0;
            var candidate = y12 + Math.abs(y12 - y2) / 2;
            if (depth > 5) {
              return candidate;
            }
            var ok = true;
            for (var i = 0; i < lanes.length; i++) {
              if (Math.abs(lanes[i] - candidate) < 10) {
                ok = false;
              }
            }
            if (ok) {
              lanes.push(candidate);
              return candidate;
            }
            var diff = Math.abs(y12 - y2);
            return findLane2(y12, y2 - diff / 5, depth + 1);
          };
          var drawArrow = function drawArrow2(svg2, commit1, commit2, allCommits) {
            var conf = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)();
            var p1 = commitPos[commit1.id];
            var p2 = commitPos[commit2.id];
            var overlappingCommits = hasOverlappingCommits(commit1, commit2, allCommits);
            var url = "";
            if (conf.arrowMarkerAbsolute) {
              url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
              url = url.replace(/\(/g, "\\(");
              url = url.replace(/\)/g, "\\)");
            }
            var arc2 = "";
            var arc22 = "";
            var radius = 0;
            var offset = 0;
            var colorClassNum = branchPos[commit2.branch].index;
            var lineDef;
            if (overlappingCommits) {
              arc2 = "A 10 10, 0, 0, 0,";
              arc22 = "A 10 10, 0, 0, 1,";
              radius = 10;
              offset = 10;
              colorClassNum = branchPos[commit2.branch].index;
              var lineY = p1.y < p2.y ? findLane(p1.y, p2.y) : findLane(p2.y, p1.y);
              if (p1.y < p2.y) {
                lineDef = "M ".concat(p1.x, " ").concat(p1.y, " L ").concat(p1.x, " ").concat(lineY - radius, " ").concat(arc2, " ").concat(p1.x + offset, " ").concat(lineY, " L ").concat(p2.x - radius, " ").concat(lineY, " ").concat(arc22, " ").concat(p2.x, " ").concat(lineY + offset, " L ").concat(p2.x, " ").concat(p2.y);
              } else {
                lineDef = "M ".concat(p1.x, " ").concat(p1.y, " L ").concat(p1.x, " ").concat(lineY + radius, " ").concat(arc22, " ").concat(p1.x + offset, " ").concat(lineY, " L ").concat(p2.x - radius, " ").concat(lineY, " ").concat(arc2, " ").concat(p2.x, " ").concat(lineY - offset, " L ").concat(p2.x, " ").concat(p2.y);
              }
            } else {
              if (p1.y < p2.y) {
                arc2 = "A 20 20, 0, 0, 0,";
                radius = 20;
                offset = 20;
                colorClassNum = branchPos[commit2.branch].index;
                lineDef = "M ".concat(p1.x, " ").concat(p1.y, " L ").concat(p1.x, " ").concat(p2.y - radius, " ").concat(arc2, " ").concat(p1.x + offset, " ").concat(p2.y, " L ").concat(p2.x, " ").concat(p2.y);
              }
              if (p1.y > p2.y) {
                arc2 = "A 20 20, 0, 0, 0,";
                radius = 20;
                offset = 20;
                colorClassNum = branchPos[commit1.branch].index;
                lineDef = "M ".concat(p1.x, " ").concat(p1.y, " L ").concat(p2.x - radius, " ").concat(p1.y, " ").concat(arc2, " ").concat(p2.x, " ").concat(p1.y - offset, " L ").concat(p2.x, " ").concat(p2.y);
              }
              if (p1.y === p2.y) {
                colorClassNum = branchPos[commit1.branch].index;
                lineDef = "M ".concat(p1.x, " ").concat(p1.y, " L ").concat(p1.x, " ").concat(p2.y - radius, " ").concat(arc2, " ").concat(p1.x + offset, " ").concat(p2.y, " L ").concat(p2.x, " ").concat(p2.y);
              }
            }
            svg2.append("path").attr("d", lineDef).attr("class", "arrow arrow" + colorClassNum % THEME_COLOR_LIMIT);
          };
          var drawArrows = function drawArrows2(svg2, commits) {
            var gArrows = svg2.append("g").attr("class", "commit-arrows");
            var k2 = Object.keys(commits);
            k2.forEach(function(key, index2) {
              var commit = commits[key];
              if (commit.parents && commit.parents.length > 0) {
                commit.parents.forEach(function(parent) {
                  drawArrow(gArrows, commits[parent], commit, commits);
                });
              }
            });
          };
          var drawBranches = function drawBranches2(svg2, branches) {
            var gitGraphConfig = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().gitGraph;
            var g = svg2.append("g");
            branches.forEach(function(branch, index2) {
              var adjustIndexForTheme = index2 % THEME_COLOR_LIMIT;
              var pos = branchPos[branch.name].pos;
              var line2 = g.append("line");
              line2.attr("x1", 0);
              line2.attr("y1", pos);
              line2.attr("x2", maxPos);
              line2.attr("y2", pos);
              line2.attr("class", "branch branch" + adjustIndexForTheme);
              lanes.push(pos);
              var name = branch.name;
              var labelElement = drawText(name);
              var bkg = g.insert("rect");
              var branchLabel = g.insert("g").attr("class", "branchLabel");
              var label = branchLabel.insert("g").attr("class", "label branch-label" + adjustIndexForTheme);
              label.node().appendChild(labelElement);
              var bbox = labelElement.getBBox();
              bkg.attr("class", "branchLabelBkg label" + adjustIndexForTheme).attr("rx", 4).attr("ry", 4).attr("x", -bbox.width - 4 - (gitGraphConfig.rotateCommitLabel === true ? 30 : 0)).attr("y", -bbox.height / 2 + 8).attr("width", bbox.width + 18).attr("height", bbox.height + 4);
              label.attr("transform", "translate(" + (-bbox.width - 14 - (gitGraphConfig.rotateCommitLabel === true ? 30 : 0)) + ", " + (pos - bbox.height / 2 - 1) + ")");
              bkg.attr("transform", "translate(" + -19 + ", " + (pos - bbox.height / 2) + ")");
            });
          };
          var draw = function draw2(txt, id2, ver, diagObj) {
            clear();
            var conf = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)();
            var gitGraphConfig = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().gitGraph;
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("in gitgraph renderer", txt + "\n", "id:", id2, ver);
            allCommitsDict = diagObj.db.getCommits();
            var branches = diagObj.db.getBranchesAsObjArray();
            var pos = 0;
            branches.forEach(function(branch, index2) {
              branchPos[branch.name] = {
                pos,
                index: index2
              };
              pos += 50 + (gitGraphConfig.rotateCommitLabel ? 40 : 0);
            });
            var diagram = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('[id="'.concat(id2, '"]'));
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_3__["default"])(diagObj.db, diagram, id2);
            drawCommits(diagram, allCommitsDict, false);
            if (gitGraphConfig.showBranches) {
              drawBranches(diagram, branches);
            }
            drawArrows(diagram, allCommitsDict);
            drawCommits(diagram, allCommitsDict, true);
            var padding = gitGraphConfig.diagramPadding;
            var svgBounds = diagram.node().getBBox();
            var width = svgBounds.width + padding * 2;
            var height = svgBounds.height + padding * 2;
            (0, _utils__WEBPACK_IMPORTED_MODULE_4__.configureSvgSize)(diagram, height, width, conf.useMaxWidth);
            var vBox = "".concat(svgBounds.x - padding - (gitGraphConfig.showBranches && gitGraphConfig.rotateCommitLabel === true ? 30 : 0), " ").concat(svgBounds.y - padding, " ").concat(width, " ").concat(height);
            diagram.attr("viewBox", vBox);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            draw
          };
        },
        "./src/diagrams/git/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return "\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ".concat([0, 1, 2, 3, 4, 5, 6, 7].map(function(i) {
              return "\n        .branch-label".concat(i, " { fill: ").concat(options["gitBranchLabel" + i], "; }\n        .commit").concat(i, " { stroke: ").concat(options["git" + i], "; fill: ").concat(options["git" + i], "; }\n        .commit-highlight").concat(i, " { stroke: ").concat(options["gitInv" + i], "; fill: ").concat(options["gitInv" + i], "; }\n        .label").concat(i, "  { fill: ").concat(options["git" + i], "; }\n        .arrow").concat(i, " { stroke: ").concat(options["git" + i], "; }\n        ");
            }).join("\n"), "\n\n  .branch {\n    stroke-width: 1;\n    stroke: ").concat(options.lineColor, ";\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ").concat(options.commitLabelFontSize, "; fill: ").concat(options.commitLabelColor, ";}\n  .commit-label-bkg { font-size: ").concat(options.commitLabelFontSize, "; fill: ").concat(options.commitLabelBackground, "; opacity: 0.5; }\n  .tag-label { font-size: ").concat(options.tagLabelFontSize, "; fill: ").concat(options.tagLabelColor, ";}\n  .tag-label-bkg { fill: ").concat(options.tagLabelBackground, "; stroke: ").concat(options.tagLabelBorder, "; }\n  .tag-hole { fill: ").concat(options.textColor, "; }\n\n  .commit-merge {\n    stroke: ").concat(options.primaryColor, ";\n    fill: ").concat(options.primaryColor, ";\n  }\n  .commit-reverse {\n    stroke: ").concat(options.primaryColor, ";\n    fill: ").concat(options.primaryColor, ";\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ").concat(options.primaryColor, ";\n    fill: ").concat(options.primaryColor, ";\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/info/infoDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "getInfo": () => getInfo,
            "getMessage": () => getMessage,
            "setInfo": () => setInfo,
            "setMessage": () => setMessage
          });
          var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/logger.js");
          var message = "";
          var info = false;
          var setMessage = function setMessage2(txt) {
            _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("Setting message to: " + txt);
            message = txt;
          };
          var getMessage = function getMessage2() {
            return message;
          };
          var setInfo = function setInfo2(inf) {
            info = inf;
          };
          var getInfo = function getInfo2() {
            return info;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setMessage,
            getMessage,
            setInfo,
            getInfo
          };
        },
        "./src/diagrams/info/infoRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/logger.js");
          var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/config.js");
          var draw = function draw2(text2, id2, version2, diagObj) {
            try {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Renering info diagram\n" + text2);
              var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().securityLevel;
              var sandboxElement;
              if (securityLevel === "sandbox") {
                sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
              }
              var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
              var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
              var svg2 = root2.select("#" + id2);
              var g = svg2.append("g");
              g.append("text").attr("x", 100).attr("y", 40).attr("class", "version").attr("font-size", "32px").style("text-anchor", "middle").text("v " + version2);
              svg2.attr("height", 100);
              svg2.attr("width", 400);
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.error("Error while rendering info diagram");
              _logger__WEBPACK_IMPORTED_MODULE_1__.log.error(e.message);
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            draw
          };
        },
        "./src/diagrams/info/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2() {
            return "";
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/pie/pieDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "parseDirective": () => parseDirective
          });
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/mermaidAPI.js");
          var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/config.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/commonDb.js");
          var sections = {};
          var showData = false;
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__["default"].parseDirective(this, statement, context, type2);
          };
          var addSection = function addSection2(id2, value) {
            id2 = _common_common__WEBPACK_IMPORTED_MODULE_1__["default"].sanitizeText(id2, _config__WEBPACK_IMPORTED_MODULE_2__.getConfig());
            if (typeof sections[id2] === "undefined") {
              sections[id2] = value;
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Added new section :", id2);
            }
          };
          var getSections = function getSections2() {
            return sections;
          };
          var setShowData = function setShowData2(toggle) {
            showData = toggle;
          };
          var getShowData = function getShowData2() {
            return showData;
          };
          var cleanupValue = function cleanupValue2(value) {
            if (value.substring(0, 1) === ":") {
              value = value.substring(1).trim();
              return Number(value.trim());
            } else {
              return Number(value.trim());
            }
          };
          var clear = function clear2() {
            sections = {};
            showData = false;
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_4__.clear)();
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().pie;
            },
            addSection,
            getSections,
            cleanupValue,
            clear,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.getAccTitle,
            setDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.setDiagramTitle,
            getDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.getDiagramTitle,
            setShowData,
            getShowData,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_4__.getAccDescription,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_4__.setAccDescription
          };
        },
        "./src/diagrams/pie/pieRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/logger.js");
          var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/utils.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/accessibility.js");
          var conf = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();
          var width;
          var height = 450;
          var draw = function draw2(txt, id2, _version, diagObj) {
            try {
              conf = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig();
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("Rendering info diagram\n" + txt);
              var securityLevel = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().securityLevel;
              var sandboxElement;
              if (securityLevel === "sandbox") {
                sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
              }
              var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
              var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
              diagObj.db.clear();
              diagObj.parser.parse(txt);
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("Parsed info diagram");
              var elem = doc.getElementById(id2);
              width = elem.parentElement.offsetWidth;
              if (typeof width === "undefined") {
                width = 1200;
              }
              if (typeof conf.useWidth !== "undefined") {
                width = conf.useWidth;
              }
              if (typeof conf.pie.useWidth !== "undefined") {
                width = conf.pie.useWidth;
              }
              var diagram = root2.select("#" + id2);
              (0, _utils__WEBPACK_IMPORTED_MODULE_3__.configureSvgSize)(diagram, height, width, conf.pie.useMaxWidth);
              (0, _accessibility__WEBPACK_IMPORTED_MODULE_4__["default"])(diagObj.db, diagram, id2);
              elem.setAttribute("viewBox", "0 0 " + width + " " + height);
              var margin = 40;
              var legendRectSize = 18;
              var legendSpacing = 4;
              var radius = Math.min(width, height) / 2 - margin;
              var svg2 = diagram.append("g").attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");
              var data = diagObj.db.getSections();
              var sum2 = 0;
              Object.keys(data).forEach(function(key) {
                sum2 += data[key];
              });
              var themeVariables = conf.themeVariables;
              var myGeneratedColors = [themeVariables.pie1, themeVariables.pie2, themeVariables.pie3, themeVariables.pie4, themeVariables.pie5, themeVariables.pie6, themeVariables.pie7, themeVariables.pie8, themeVariables.pie9, themeVariables.pie10, themeVariables.pie11, themeVariables.pie12];
              var color2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.scaleOrdinal)().range(myGeneratedColors);
              var pie2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.pie)().value(function(d) {
                return d[1];
              });
              var dataReady = pie2(Object.entries(data));
              var arcGenerator = (0, d3__WEBPACK_IMPORTED_MODULE_0__.arc)().innerRadius(0).outerRadius(radius);
              svg2.selectAll("mySlices").data(dataReady).enter().append("path").attr("d", arcGenerator).attr("fill", function(d) {
                return color2(d.data[0]);
              }).attr("class", "pieCircle");
              svg2.selectAll("mySlices").data(dataReady).enter().append("text").text(function(d) {
                return (d.data[1] / sum2 * 100).toFixed(0) + "%";
              }).attr("transform", function(d) {
                return "translate(" + arcGenerator.centroid(d) + ")";
              }).style("text-anchor", "middle").attr("class", "slice");
              svg2.append("text").text(diagObj.db.getDiagramTitle()).attr("x", 0).attr("y", -(height - 50) / 2).attr("class", "pieTitleText");
              var legend = svg2.selectAll(".legend").data(color2.domain()).enter().append("g").attr("class", "legend").attr("transform", function(d, i) {
                var height2 = legendRectSize + legendSpacing;
                var offset = height2 * color2.domain().length / 2;
                var horz = 12 * legendRectSize;
                var vert = i * height2 - offset;
                return "translate(" + horz + "," + vert + ")";
              });
              legend.append("rect").attr("width", legendRectSize).attr("height", legendRectSize).style("fill", color2).style("stroke", color2);
              legend.data(dataReady).append("text").attr("x", legendRectSize + legendSpacing).attr("y", legendRectSize - legendSpacing).text(function(d) {
                if (diagObj.db.getShowData() || conf.showData || conf.pie.showData) {
                  return d.data[0] + " [" + d.data[1] + "]";
                } else {
                  return d.data[0];
                }
              });
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.error("Error while rendering info diagram");
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.error(e);
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            draw
          };
        },
        "./src/diagrams/pie/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return "\n  .pieCircle{\n    stroke: ".concat(options.pieStrokeColor, ";\n    stroke-width : ").concat(options.pieStrokeWidth, ";\n    opacity : ").concat(options.pieOpacity, ";\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ").concat(options.pieTitleTextSize, ";\n    fill: ").concat(options.pieTitleTextColor, ";\n    font-family: ").concat(options.fontFamily, ";\n  }\n  .slice {\n    font-family: ").concat(options.fontFamily, ";\n    fill: ").concat(options.pieSectionTextColor, ";\n    font-size:").concat(options.pieSectionTextSize, ";\n    // fill: white;\n  }\n  .legend text {\n    fill: ").concat(options.pieLegendTextColor, ";\n    font-family: ").concat(options.fontFamily, ";\n    font-size: ").concat(options.pieLegendTextSize, ";\n  }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/requirement/requirementDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "parseDirective": () => parseDirective
          });
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/mermaidAPI.js");
          __webpack_require__2("./src/diagrams/common/common.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/commonDb.js");
          var relations = [];
          var latestRequirement = {};
          var requirements = {};
          var latestElement = {};
          var elements = {};
          var RequirementType = {
            REQUIREMENT: "Requirement",
            FUNCTIONAL_REQUIREMENT: "Functional Requirement",
            INTERFACE_REQUIREMENT: "Interface Requirement",
            PERFORMANCE_REQUIREMENT: "Performance Requirement",
            PHYSICAL_REQUIREMENT: "Physical Requirement",
            DESIGN_CONSTRAINT: "Design Constraint"
          };
          var RiskLevel = {
            LOW_RISK: "Low",
            MED_RISK: "Medium",
            HIGH_RISK: "High"
          };
          var VerifyType = {
            VERIFY_ANALYSIS: "Analysis",
            VERIFY_DEMONSTRATION: "Demonstration",
            VERIFY_INSPECTION: "Inspection",
            VERIFY_TEST: "Test"
          };
          var Relationships = {
            CONTAINS: "contains",
            COPIES: "copies",
            DERIVES: "derives",
            SATISFIES: "satisfies",
            VERIFIES: "verifies",
            REFINES: "refines",
            TRACES: "traces"
          };
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__["default"].parseDirective(this, statement, context, type2);
          };
          var addRequirement = function addRequirement2(name, type2) {
            if (typeof requirements[name] === "undefined") {
              requirements[name] = {
                name,
                type: type2,
                id: latestRequirement.id,
                text: latestRequirement.text,
                risk: latestRequirement.risk,
                verifyMethod: latestRequirement.verifyMethod
              };
            }
            latestRequirement = {};
            return requirements[name];
          };
          var getRequirements = function getRequirements2() {
            return requirements;
          };
          var setNewReqId = function setNewReqId2(id2) {
            if (typeof latestRequirement != "undefined") {
              latestRequirement.id = id2;
            }
          };
          var setNewReqText = function setNewReqText2(text2) {
            if (typeof latestRequirement != "undefined") {
              latestRequirement.text = text2;
            }
          };
          var setNewReqRisk = function setNewReqRisk2(risk) {
            if (typeof latestRequirement != "undefined") {
              latestRequirement.risk = risk;
            }
          };
          var setNewReqVerifyMethod = function setNewReqVerifyMethod2(verifyMethod) {
            if (typeof latestRequirement != "undefined") {
              latestRequirement.verifyMethod = verifyMethod;
            }
          };
          var addElement = function addElement2(name) {
            if (typeof elements[name] === "undefined") {
              elements[name] = {
                name,
                type: latestElement.type,
                docRef: latestElement.docRef
              };
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.info("Added new requirement: ", name);
            }
            latestElement = {};
            return elements[name];
          };
          var getElements = function getElements2() {
            return elements;
          };
          var setNewElementType = function setNewElementType2(type2) {
            if (typeof latestElement != "undefined") {
              latestElement.type = type2;
            }
          };
          var setNewElementDocRef = function setNewElementDocRef2(docRef) {
            if (typeof latestElement != "undefined") {
              latestElement.docRef = docRef;
            }
          };
          var addRelationship = function addRelationship2(type2, src2, dst) {
            relations.push({
              type: type2,
              src: src2,
              dst
            });
          };
          var getRelationships = function getRelationships2() {
            return relations;
          };
          var clear = function clear2() {
            relations = [];
            latestRequirement = {};
            requirements = {};
            latestElement = {};
            elements = {};
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_4__.clear)();
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            RequirementType,
            RiskLevel,
            VerifyType,
            Relationships,
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().req;
            },
            addRequirement,
            getRequirements,
            setNewReqId,
            setNewReqText,
            setNewReqRisk,
            setNewReqVerifyMethod,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_4__.getAccTitle,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_4__.setAccDescription,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_4__.getAccDescription,
            addElement,
            getElements,
            setNewElementType,
            setNewElementDocRef,
            addRelationship,
            getRelationships,
            clear
          };
        },
        "./src/diagrams/requirement/requirementMarkers.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var ReqMarkers = {
            CONTAINS: "contains",
            ARROW: "arrow"
          };
          var insertLineEndings = function insertLineEndings2(parentNode, conf) {
            var containsNode = parentNode.append("defs").append("marker").attr("id", ReqMarkers.CONTAINS + "_line_ending").attr("refX", 0).attr("refY", conf.line_height / 2).attr("markerWidth", conf.line_height).attr("markerHeight", conf.line_height).attr("orient", "auto").append("g");
            containsNode.append("circle").attr("cx", conf.line_height / 2).attr("cy", conf.line_height / 2).attr("r", conf.line_height / 2).attr("fill", "none");
            containsNode.append("line").attr("x1", 0).attr("x2", conf.line_height).attr("y1", conf.line_height / 2).attr("y2", conf.line_height / 2).attr("stroke-width", 1);
            containsNode.append("line").attr("y1", 0).attr("y2", conf.line_height).attr("x1", conf.line_height / 2).attr("x2", conf.line_height / 2).attr("stroke-width", 1);
            parentNode.append("defs").append("marker").attr("id", ReqMarkers.ARROW + "_line_ending").attr("refX", conf.line_height).attr("refY", 0.5 * conf.line_height).attr("markerWidth", conf.line_height).attr("markerHeight", conf.line_height).attr("orient", "auto").append("path").attr("d", "M0,0\n      L".concat(conf.line_height, ",").concat(conf.line_height / 2, "\n      M").concat(conf.line_height, ",").concat(conf.line_height / 2, "\n      L0,").concat(conf.line_height)).attr("stroke-width", 1);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            ReqMarkers,
            insertLineEndings
          };
        },
        "./src/diagrams/requirement/requirementRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "drawElements": () => drawElements,
            "drawReqs": () => drawReqs
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var dagre__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("dagre");
          var dagre__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__2.n(dagre__WEBPACK_IMPORTED_MODULE_1__);
          var graphlib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_2__);
          var _logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/logger.js");
          var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/utils.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _requirementMarkers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/requirement/requirementMarkers.js");
          var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/config.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/accessibility.js");
          var conf = {};
          var relCnt = 0;
          var newRectNode = function newRectNode2(parentNode, id2) {
            return parentNode.insert("rect", "#" + id2).attr("class", "req reqBox").attr("x", 0).attr("y", 0).attr("width", conf.rect_min_width + "px").attr("height", conf.rect_min_height + "px");
          };
          var newTitleNode = function newTitleNode2(parentNode, id2, txts) {
            var x2 = conf.rect_min_width / 2;
            var title = parentNode.append("text").attr("class", "req reqLabel reqTitle").attr("id", id2).attr("x", x2).attr("y", conf.rect_padding).attr("dominant-baseline", "hanging");
            var i = 0;
            txts.forEach(function(textStr) {
              if (i == 0) {
                title.append("tspan").attr("text-anchor", "middle").attr("x", conf.rect_min_width / 2).attr("dy", 0).text(textStr);
              } else {
                title.append("tspan").attr("text-anchor", "middle").attr("x", conf.rect_min_width / 2).attr("dy", conf.line_height * 0.75).text(textStr);
              }
              i++;
            });
            var yPadding = 1.5 * conf.rect_padding;
            var linePadding = i * conf.line_height * 0.75;
            var totalY = yPadding + linePadding;
            parentNode.append("line").attr("class", "req-title-line").attr("x1", "0").attr("x2", conf.rect_min_width).attr("y1", totalY).attr("y2", totalY);
            return {
              titleNode: title,
              y: totalY
            };
          };
          var newBodyNode = function newBodyNode2(parentNode, id2, txts, yStart) {
            var body = parentNode.append("text").attr("class", "req reqLabel").attr("id", id2).attr("x", conf.rect_padding).attr("y", yStart).attr("dominant-baseline", "hanging");
            var currentRow = 0;
            var charLimit = 30;
            var wrappedTxts = [];
            txts.forEach(function(textStr) {
              var currentTextLen = textStr.length;
              while (currentTextLen > charLimit && currentRow < 3) {
                var firstPart = textStr.substring(0, charLimit);
                textStr = textStr.substring(charLimit, textStr.length);
                currentTextLen = textStr.length;
                wrappedTxts[wrappedTxts.length] = firstPart;
                currentRow++;
              }
              if (currentRow == 3) {
                var lastStr = wrappedTxts[wrappedTxts.length - 1];
                wrappedTxts[wrappedTxts.length - 1] = lastStr.substring(0, lastStr.length - 4) + "...";
              } else {
                wrappedTxts[wrappedTxts.length] = textStr;
              }
              currentRow = 0;
            });
            wrappedTxts.forEach(function(textStr) {
              body.append("tspan").attr("x", conf.rect_padding).attr("dy", conf.line_height).text(textStr);
            });
            return body;
          };
          var addEdgeLabel = function addEdgeLabel2(parentNode, svgPath, conf2, txt) {
            var len = svgPath.node().getTotalLength();
            var labelPoint = svgPath.node().getPointAtLength(len * 0.5);
            var labelId = "rel" + relCnt;
            relCnt++;
            var labelNode = parentNode.append("text").attr("class", "req relationshipLabel").attr("id", labelId).attr("x", labelPoint.x).attr("y", labelPoint.y).attr("text-anchor", "middle").attr("dominant-baseline", "middle").text(txt);
            var labelBBox = labelNode.node().getBBox();
            parentNode.insert("rect", "#" + labelId).attr("class", "req reqLabelBox").attr("x", labelPoint.x - labelBBox.width / 2).attr("y", labelPoint.y - labelBBox.height / 2).attr("width", labelBBox.width).attr("height", labelBBox.height).attr("fill", "white").attr("fill-opacity", "85%");
          };
          var drawRelationshipFromLayout = function drawRelationshipFromLayout2(svg2, rel, g, insert, diagObj) {
            var edge = g.edge(elementString(rel.src), elementString(rel.dst));
            var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function(d) {
              return d.x;
            }).y(function(d) {
              return d.y;
            });
            var svgPath = svg2.insert("path", "#" + insert).attr("class", "er relationshipLine").attr("d", lineFunction(edge.points)).attr("fill", "none");
            if (rel.type == diagObj.db.Relationships.CONTAINS) {
              svgPath.attr("marker-start", "url(" + _common_common__WEBPACK_IMPORTED_MODULE_3__["default"].getUrl(conf.arrowMarkerAbsolute) + "#" + rel.type + "_line_ending)");
            } else {
              svgPath.attr("stroke-dasharray", "10,7");
              svgPath.attr("marker-end", "url(" + _common_common__WEBPACK_IMPORTED_MODULE_3__["default"].getUrl(conf.arrowMarkerAbsolute) + "#" + _requirementMarkers__WEBPACK_IMPORTED_MODULE_4__["default"].ReqMarkers.ARROW + "_line_ending)");
            }
            addEdgeLabel(svg2, svgPath, conf, "<<".concat(rel.type, ">>"));
            return;
          };
          var drawReqs = function drawReqs2(reqs, graph2, svgNode2) {
            Object.keys(reqs).forEach(function(reqName) {
              var req = reqs[reqName];
              reqName = elementString(reqName);
              _logger__WEBPACK_IMPORTED_MODULE_5__.log.info("Added new requirement: ", reqName);
              var groupNode = svgNode2.append("g").attr("id", reqName);
              var textId = "req-" + reqName;
              var rectNode = newRectNode(groupNode, textId);
              var titleNodeInfo = newTitleNode(groupNode, reqName + "_title", ["<<".concat(req.type, ">>"), "".concat(req.name)]);
              newBodyNode(groupNode, reqName + "_body", ["Id: ".concat(req.id), "Text: ".concat(req.text), "Risk: ".concat(req.risk), "Verification: ".concat(req.verifyMethod)], titleNodeInfo.y);
              var rectBBox = rectNode.node().getBBox();
              graph2.setNode(reqName, {
                width: rectBBox.width,
                height: rectBBox.height,
                shape: "rect",
                id: reqName
              });
            });
          };
          var drawElements = function drawElements2(els, graph2, svgNode2) {
            Object.keys(els).forEach(function(elName) {
              var el = els[elName];
              var id2 = elementString(elName);
              var groupNode = svgNode2.append("g").attr("id", id2);
              var textId = "element-" + id2;
              var rectNode = newRectNode(groupNode, textId);
              var titleNodeInfo = newTitleNode(groupNode, textId + "_title", ["<<Element>>", "".concat(elName)]);
              newBodyNode(groupNode, textId + "_body", ["Type: ".concat(el.type || "Not Specified"), "Doc Ref: ".concat(el.docRef || "None")], titleNodeInfo.y);
              var rectBBox = rectNode.node().getBBox();
              graph2.setNode(id2, {
                width: rectBBox.width,
                height: rectBBox.height,
                shape: "rect",
                id: id2
              });
            });
          };
          var addRelationships = function addRelationships2(relationships, g) {
            relationships.forEach(function(r) {
              var src2 = elementString(r.src);
              var dst = elementString(r.dst);
              g.setEdge(src2, dst, {
                relationship: r
              });
            });
            return relationships;
          };
          var adjustEntities = function adjustEntities2(svgNode2, graph2) {
            graph2.nodes().forEach(function(v) {
              if (typeof v !== "undefined" && typeof graph2.node(v) !== "undefined") {
                svgNode2.select("#" + v);
                svgNode2.select("#" + v).attr("transform", "translate(" + (graph2.node(v).x - graph2.node(v).width / 2) + "," + (graph2.node(v).y - graph2.node(v).height / 2) + " )");
              }
            });
            return;
          };
          var elementString = function elementString2(str) {
            return str.replace(/\s/g, "").replace(/\./g, "_");
          };
          var draw = function draw2(text2, id2, _version, diagObj) {
            conf = (0, _config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().requirement;
            diagObj.db.clear();
            diagObj.parser.parse(text2);
            var securityLevel = conf.securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            var svg2 = root2.select("[id='".concat(id2, "']"));
            _requirementMarkers__WEBPACK_IMPORTED_MODULE_4__["default"].insertLineEndings(svg2, conf);
            var g = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default()).Graph({
              multigraph: false,
              compound: false,
              directed: true
            }).setGraph({
              rankdir: conf.layoutDirection,
              marginx: 20,
              marginy: 20,
              nodesep: 100,
              edgesep: 100,
              ranksep: 100
            }).setDefaultEdgeLabel(function() {
              return {};
            });
            var requirements = diagObj.db.getRequirements();
            var elements = diagObj.db.getElements();
            var relationships = diagObj.db.getRelationships();
            drawReqs(requirements, g, svg2);
            drawElements(elements, g, svg2);
            addRelationships(relationships, g);
            dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(g);
            adjustEntities(svg2, g);
            relationships.forEach(function(rel) {
              drawRelationshipFromLayout(svg2, rel, g, id2, diagObj);
            });
            var padding = conf.rect_padding;
            var svgBounds = svg2.node().getBBox();
            var width = svgBounds.width + padding * 2;
            var height = svgBounds.height + padding * 2;
            (0, _utils__WEBPACK_IMPORTED_MODULE_7__.configureSvgSize)(svg2, height, width, conf.useMaxWidth);
            svg2.attr("viewBox", "".concat(svgBounds.x - padding, " ").concat(svgBounds.y - padding, " ").concat(width, " ").concat(height));
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_8__["default"])(diagObj.db, svg2, id2);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            draw
          };
        },
        "./src/diagrams/requirement/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return "\n\n  marker {\n    fill: ".concat(options.relationColor, ";\n    stroke: ").concat(options.relationColor, ";\n  }\n\n  marker.cross {\n    stroke: ").concat(options.lineColor, ";\n  }\n\n  svg {\n    font-family: ").concat(options.fontFamily, ";\n    font-size: ").concat(options.fontSize, ";\n  }\n\n  .reqBox {\n    fill: ").concat(options.requirementBackground, ";\n    fill-opacity: 100%;\n    stroke: ").concat(options.requirementBorderColor, ";\n    stroke-width: ").concat(options.requirementBorderSize, ";\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ").concat(options.requirementTextColor, ";\n  }\n  .reqLabelBox {\n    fill: ").concat(options.relationLabelBackground, ";\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ").concat(options.requirementBorderColor, ";\n    stroke-width: ").concat(options.requirementBorderSize, ";\n  }\n  .relationshipLine {\n    stroke: ").concat(options.relationColor, ";\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ").concat(options.relationLabelColor, ";\n  }\n\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/sequence/sequenceDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "ARROWTYPE": () => ARROWTYPE,
            "LINETYPE": () => LINETYPE,
            "PLACEMENT": () => PLACEMENT,
            "addALink": () => addALink,
            "addActor": () => addActor,
            "addDetails": () => addDetails,
            "addLinks": () => addLinks,
            "addMessage": () => addMessage,
            "addNote": () => addNote,
            "addProperties": () => addProperties,
            "addSignal": () => addSignal,
            "apply": () => apply,
            "autoWrap": () => autoWrap,
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "disableSequenceNumbers": () => disableSequenceNumbers,
            "enableSequenceNumbers": () => enableSequenceNumbers,
            "getActor": () => getActor,
            "getActorKeys": () => getActorKeys,
            "getActorProperty": () => getActorProperty,
            "getActors": () => getActors,
            "getMessages": () => getMessages,
            "parseDirective": () => parseDirective,
            "parseMessage": () => parseMessage,
            "setWrap": () => setWrap,
            "showSequenceNumbers": () => showSequenceNumbers
          });
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/mermaidAPI.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/commonDb.js");
          var prevActor = void 0;
          var actors = {};
          var messages = [];
          var sequenceNumbersEnabled = false;
          var wrapEnabled;
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__["default"].parseDirective(this, statement, context, type2);
          };
          var addActor = function addActor2(id2, name, description, type2) {
            var old = actors[id2];
            if (old && name === old.name && description == null)
              return;
            if (description == null || description.text == null) {
              description = {
                text: name,
                wrap: null,
                type: type2
              };
            }
            if (type2 == null || description.text == null) {
              description = {
                text: name,
                wrap: null,
                type: type2
              };
            }
            actors[id2] = {
              name,
              description: description.text,
              wrap: description.wrap === void 0 && autoWrap() || !!description.wrap,
              prevActor,
              links: {},
              properties: {},
              actorCnt: null,
              rectData: null,
              type: type2 || "participant"
            };
            if (prevActor && actors[prevActor]) {
              actors[prevActor].nextActor = id2;
            }
            prevActor = id2;
          };
          var activationCount = function activationCount2(part) {
            var i;
            var count2 = 0;
            for (i = 0; i < messages.length; i++) {
              if (messages[i].type === LINETYPE.ACTIVE_START) {
                if (messages[i].from.actor === part) {
                  count2++;
                }
              }
              if (messages[i].type === LINETYPE.ACTIVE_END) {
                if (messages[i].from.actor === part) {
                  count2--;
                }
              }
            }
            return count2;
          };
          var addMessage = function addMessage2(idFrom, idTo, message, answer) {
            messages.push({
              from: idFrom,
              to: idTo,
              message: message.text,
              wrap: message.wrap === void 0 && autoWrap() || !!message.wrap,
              answer
            });
          };
          var addSignal = function addSignal2(idFrom, idTo) {
            var message = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {
              text: void 0,
              wrap: void 0
            };
            var messageType = arguments.length > 3 ? arguments[3] : void 0;
            if (messageType === LINETYPE.ACTIVE_END) {
              var cnt = activationCount(idFrom.actor);
              if (cnt < 1) {
                var error = new Error("Trying to inactivate an inactive participant (" + idFrom.actor + ")");
                error.hash = {
                  text: "->>-",
                  token: "->>-",
                  line: "1",
                  loc: {
                    first_line: 1,
                    last_line: 1,
                    first_column: 1,
                    last_column: 1
                  },
                  expected: ["'ACTIVE_PARTICIPANT'"]
                };
                throw error;
              }
            }
            messages.push({
              from: idFrom,
              to: idTo,
              message: message.text,
              wrap: message.wrap === void 0 && autoWrap() || !!message.wrap,
              type: messageType
            });
            return true;
          };
          var getMessages = function getMessages2() {
            return messages;
          };
          var getActors = function getActors2() {
            return actors;
          };
          var getActor = function getActor2(id2) {
            return actors[id2];
          };
          var getActorKeys = function getActorKeys2() {
            return Object.keys(actors);
          };
          var enableSequenceNumbers = function enableSequenceNumbers2() {
            sequenceNumbersEnabled = true;
          };
          var disableSequenceNumbers = function disableSequenceNumbers2() {
            sequenceNumbersEnabled = false;
          };
          var showSequenceNumbers = function showSequenceNumbers2() {
            return sequenceNumbersEnabled;
          };
          var setWrap = function setWrap2(wrapSetting) {
            wrapEnabled = wrapSetting;
          };
          var autoWrap = function autoWrap2() {
            if (typeof wrapEnabled !== "undefined") {
              return wrapEnabled;
            }
            return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().sequence.wrap;
          };
          var clear = function clear2() {
            actors = {};
            messages = [];
            sequenceNumbersEnabled = false;
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_2__.clear)();
          };
          var parseMessage = function parseMessage2(str) {
            var _str = str.trim();
            var message = {
              text: _str.replace(/^[:]?(?:no)?wrap:/, "").trim(),
              wrap: _str.match(/^[:]?wrap:/) !== null ? true : _str.match(/^[:]?nowrap:/) !== null ? false : void 0
            };
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("parseMessage:", message);
            return message;
          };
          var LINETYPE = {
            SOLID: 0,
            DOTTED: 1,
            NOTE: 2,
            SOLID_CROSS: 3,
            DOTTED_CROSS: 4,
            SOLID_OPEN: 5,
            DOTTED_OPEN: 6,
            LOOP_START: 10,
            LOOP_END: 11,
            ALT_START: 12,
            ALT_ELSE: 13,
            ALT_END: 14,
            OPT_START: 15,
            OPT_END: 16,
            ACTIVE_START: 17,
            ACTIVE_END: 18,
            PAR_START: 19,
            PAR_AND: 20,
            PAR_END: 21,
            RECT_START: 22,
            RECT_END: 23,
            SOLID_POINT: 24,
            DOTTED_POINT: 25,
            AUTONUMBER: 26,
            CRITICAL_START: 27,
            CRITICAL_OPTION: 28,
            CRITICAL_END: 29,
            BREAK_START: 30,
            BREAK_END: 31
          };
          var ARROWTYPE = {
            FILLED: 0,
            OPEN: 1
          };
          var PLACEMENT = {
            LEFTOF: 0,
            RIGHTOF: 1,
            OVER: 2
          };
          var addNote = function addNote2(actor, placement, message) {
            ({
              actor,
              placement,
              message: message.text,
              wrap: message.wrap === void 0 && autoWrap() || !!message.wrap
            });
            var actors2 = [].concat(actor, actor);
            messages.push({
              from: actors2[0],
              to: actors2[1],
              message: message.text,
              wrap: message.wrap === void 0 && autoWrap() || !!message.wrap,
              type: LINETYPE.NOTE,
              placement
            });
          };
          var addLinks = function addLinks2(actorId, text2) {
            var actor = getActor(actorId);
            try {
              var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(text2.text, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig());
              sanitizedText = sanitizedText.replace(/&amp;/g, "&");
              sanitizedText = sanitizedText.replace(/&equals;/g, "=");
              var links = JSON.parse(sanitizedText);
              insertLinks(actor, links);
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.error("error while parsing actor link text", e);
            }
          };
          var addALink = function addALink2(actorId, text2) {
            var actor = getActor(actorId);
            try {
              var links = {};
              var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(text2.text, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig());
              var sep = sanitizedText.indexOf("@");
              sanitizedText = sanitizedText.replace(/&amp;/g, "&");
              sanitizedText = sanitizedText.replace(/&equals;/g, "=");
              var label = sanitizedText.slice(0, sep - 1).trim();
              var link2 = sanitizedText.slice(sep + 1).trim();
              links[label] = link2;
              insertLinks(actor, links);
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.error("error while parsing actor link text", e);
            }
          };
          function insertLinks(actor, links) {
            if (actor.links == null) {
              actor.links = links;
            } else {
              for (var key in links) {
                actor.links[key] = links[key];
              }
            }
          }
          var addProperties = function addProperties2(actorId, text2) {
            var actor = getActor(actorId);
            try {
              var sanitizedText = (0, _common_common__WEBPACK_IMPORTED_MODULE_4__.sanitizeText)(text2.text, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig());
              var properties = JSON.parse(sanitizedText);
              insertProperties(actor, properties);
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.error("error while parsing actor properties text", e);
            }
          };
          function insertProperties(actor, properties) {
            if (actor.properties == null) {
              actor.properties = properties;
            } else {
              for (var key in properties) {
                actor.properties[key] = properties[key];
              }
            }
          }
          var addDetails = function addDetails2(actorId, text2) {
            var actor = getActor(actorId);
            var elem = document.getElementById(text2.text);
            try {
              var _text = elem.innerHTML;
              var details = JSON.parse(_text);
              if (details["properties"]) {
                insertProperties(actor, details["properties"]);
              }
              if (details["links"]) {
                insertLinks(actor, details["links"]);
              }
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.error("error while parsing actor details text", e);
            }
          };
          var getActorProperty = function getActorProperty2(actor, key) {
            if (typeof actor !== "undefined" && typeof actor.properties !== "undefined") {
              return actor.properties[key];
            }
            return void 0;
          };
          var apply = function apply2(param) {
            if (param instanceof Array) {
              param.forEach(function(item) {
                apply2(item);
              });
            } else {
              switch (param.type) {
                case "sequenceIndex":
                  messages.push({
                    from: void 0,
                    to: void 0,
                    message: {
                      start: param.sequenceIndex,
                      step: param.sequenceIndexStep,
                      visible: param.sequenceVisible
                    },
                    wrap: false,
                    type: param.signalType
                  });
                  break;
                case "addParticipant":
                  addActor(param.actor, param.actor, param.description, "participant");
                  break;
                case "addActor":
                  addActor(param.actor, param.actor, param.description, "actor");
                  break;
                case "activeStart":
                  addSignal(param.actor, void 0, void 0, param.signalType);
                  break;
                case "activeEnd":
                  addSignal(param.actor, void 0, void 0, param.signalType);
                  break;
                case "addNote":
                  addNote(param.actor, param.placement, param.text);
                  break;
                case "addLinks":
                  addLinks(param.actor, param.text);
                  break;
                case "addALink":
                  addALink(param.actor, param.text);
                  break;
                case "addProperties":
                  addProperties(param.actor, param.text);
                  break;
                case "addDetails":
                  addDetails(param.actor, param.text);
                  break;
                case "addMessage":
                  addSignal(param.from, param.to, param.msg, param.signalType);
                  break;
                case "loopStart":
                  addSignal(void 0, void 0, param.loopText, param.signalType);
                  break;
                case "loopEnd":
                  addSignal(void 0, void 0, void 0, param.signalType);
                  break;
                case "rectStart":
                  addSignal(void 0, void 0, param.color, param.signalType);
                  break;
                case "rectEnd":
                  addSignal(void 0, void 0, void 0, param.signalType);
                  break;
                case "optStart":
                  addSignal(void 0, void 0, param.optText, param.signalType);
                  break;
                case "optEnd":
                  addSignal(void 0, void 0, void 0, param.signalType);
                  break;
                case "altStart":
                  addSignal(void 0, void 0, param.altText, param.signalType);
                  break;
                case "else":
                  addSignal(void 0, void 0, param.altText, param.signalType);
                  break;
                case "altEnd":
                  addSignal(void 0, void 0, void 0, param.signalType);
                  break;
                case "setAccTitle":
                  (0, _commonDb__WEBPACK_IMPORTED_MODULE_2__.setAccTitle)(param.text);
                  break;
                case "parStart":
                  addSignal(void 0, void 0, param.parText, param.signalType);
                  break;
                case "and":
                  addSignal(void 0, void 0, param.parText, param.signalType);
                  break;
                case "parEnd":
                  addSignal(void 0, void 0, void 0, param.signalType);
                  break;
                case "criticalStart":
                  addSignal(void 0, void 0, param.criticalText, param.signalType);
                  break;
                case "option":
                  addSignal(void 0, void 0, param.optionText, param.signalType);
                  break;
                case "criticalEnd":
                  addSignal(void 0, void 0, void 0, param.signalType);
                  break;
                case "breakStart":
                  addSignal(void 0, void 0, param.breakText, param.signalType);
                  break;
                case "breakEnd":
                  addSignal(void 0, void 0, void 0, param.signalType);
                  break;
              }
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            addActor,
            addMessage,
            addSignal,
            addLinks,
            addDetails,
            addProperties,
            autoWrap,
            setWrap,
            enableSequenceNumbers,
            disableSequenceNumbers,
            showSequenceNumbers,
            getMessages,
            getActors,
            getActor,
            getActorKeys,
            getActorProperty,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_2__.getAccTitle,
            getDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_2__.getDiagramTitle,
            setDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_2__.setDiagramTitle,
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().sequence;
            },
            clear,
            parseMessage,
            LINETYPE,
            ARROWTYPE,
            PLACEMENT,
            addNote,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_2__.setAccTitle,
            apply,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_2__.setAccDescription,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_2__.getAccDescription
          };
        },
        "./src/diagrams/sequence/sequenceRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "bounds": () => bounds2,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "drawActors": () => drawActors,
            "drawActorsPopup": () => drawActorsPopup,
            "setConf": () => setConf
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _svgDraw__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/sequence/svgDraw.js");
          var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/logger.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _assignWithDepth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/assignWithDepth.js");
          var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/utils.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/accessibility.js");
          var conf = {};
          var bounds2 = {
            data: {
              startx: void 0,
              stopx: void 0,
              starty: void 0,
              stopy: void 0
            },
            verticalPos: 0,
            sequenceItems: [],
            activations: [],
            models: {
              getHeight: function getHeight() {
                return Math.max.apply(null, this.actors.length === 0 ? [0] : this.actors.map(function(actor) {
                  return actor.height || 0;
                })) + (this.loops.length === 0 ? 0 : this.loops.map(function(it) {
                  return it.height || 0;
                }).reduce(function(acc, h) {
                  return acc + h;
                })) + (this.messages.length === 0 ? 0 : this.messages.map(function(it) {
                  return it.height || 0;
                }).reduce(function(acc, h) {
                  return acc + h;
                })) + (this.notes.length === 0 ? 0 : this.notes.map(function(it) {
                  return it.height || 0;
                }).reduce(function(acc, h) {
                  return acc + h;
                }));
              },
              clear: function clear() {
                this.actors = [];
                this.loops = [];
                this.messages = [];
                this.notes = [];
              },
              addActor: function addActor(actorModel) {
                this.actors.push(actorModel);
              },
              addLoop: function addLoop(loopModel) {
                this.loops.push(loopModel);
              },
              addMessage: function addMessage(msgModel) {
                this.messages.push(msgModel);
              },
              addNote: function addNote(noteModel) {
                this.notes.push(noteModel);
              },
              lastActor: function lastActor() {
                return this.actors[this.actors.length - 1];
              },
              lastLoop: function lastLoop() {
                return this.loops[this.loops.length - 1];
              },
              lastMessage: function lastMessage() {
                return this.messages[this.messages.length - 1];
              },
              lastNote: function lastNote() {
                return this.notes[this.notes.length - 1];
              },
              actors: [],
              loops: [],
              messages: [],
              notes: []
            },
            init: function init2() {
              this.sequenceItems = [];
              this.activations = [];
              this.models.clear();
              this.data = {
                startx: void 0,
                stopx: void 0,
                starty: void 0,
                stopy: void 0
              };
              this.verticalPos = 0;
              setConf(_config__WEBPACK_IMPORTED_MODULE_1__.getConfig());
            },
            updateVal: function updateVal(obj, key, val, fun) {
              if (typeof obj[key] === "undefined") {
                obj[key] = val;
              } else {
                obj[key] = fun(val, obj[key]);
              }
            },
            updateBounds: function updateBounds(startx, starty, stopx, stopy) {
              var _self = this;
              var cnt = 0;
              function updateFn(type2) {
                return function updateItemBounds(item) {
                  cnt++;
                  var n = _self.sequenceItems.length - cnt + 1;
                  _self.updateVal(item, "starty", starty - n * conf.boxMargin, Math.min);
                  _self.updateVal(item, "stopy", stopy + n * conf.boxMargin, Math.max);
                  _self.updateVal(bounds2.data, "startx", startx - n * conf.boxMargin, Math.min);
                  _self.updateVal(bounds2.data, "stopx", stopx + n * conf.boxMargin, Math.max);
                  if (!(type2 === "activation")) {
                    _self.updateVal(item, "startx", startx - n * conf.boxMargin, Math.min);
                    _self.updateVal(item, "stopx", stopx + n * conf.boxMargin, Math.max);
                    _self.updateVal(bounds2.data, "starty", starty - n * conf.boxMargin, Math.min);
                    _self.updateVal(bounds2.data, "stopy", stopy + n * conf.boxMargin, Math.max);
                  }
                };
              }
              this.sequenceItems.forEach(updateFn());
              this.activations.forEach(updateFn("activation"));
            },
            insert: function insert(startx, starty, stopx, stopy) {
              var _startx = Math.min(startx, stopx);
              var _stopx = Math.max(startx, stopx);
              var _starty = Math.min(starty, stopy);
              var _stopy = Math.max(starty, stopy);
              this.updateVal(bounds2.data, "startx", _startx, Math.min);
              this.updateVal(bounds2.data, "starty", _starty, Math.min);
              this.updateVal(bounds2.data, "stopx", _stopx, Math.max);
              this.updateVal(bounds2.data, "stopy", _stopy, Math.max);
              this.updateBounds(_startx, _starty, _stopx, _stopy);
            },
            newActivation: function newActivation(message, diagram, actors) {
              var actorRect = actors[message.from.actor];
              var stackedSize = actorActivations(message.from.actor).length || 0;
              var x2 = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf.activationWidth / 2;
              this.activations.push({
                startx: x2,
                starty: this.verticalPos + 2,
                stopx: x2 + conf.activationWidth,
                stopy: void 0,
                actor: message.from.actor,
                anchored: _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].anchorElement(diagram)
              });
            },
            endActivation: function endActivation(message) {
              var lastActorActivationIdx = this.activations.map(function(activation) {
                return activation.actor;
              }).lastIndexOf(message.from.actor);
              return this.activations.splice(lastActorActivationIdx, 1)[0];
            },
            createLoop: function createLoop() {
              var title = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {
                message: void 0,
                wrap: false,
                width: void 0
              };
              var fill = arguments.length > 1 ? arguments[1] : void 0;
              return {
                startx: void 0,
                starty: this.verticalPos,
                stopx: void 0,
                stopy: void 0,
                title: title.message,
                wrap: title.wrap,
                width: title.width,
                height: 0,
                fill
              };
            },
            newLoop: function newLoop() {
              var title = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {
                message: void 0,
                wrap: false,
                width: void 0
              };
              var fill = arguments.length > 1 ? arguments[1] : void 0;
              this.sequenceItems.push(this.createLoop(title, fill));
            },
            endLoop: function endLoop() {
              return this.sequenceItems.pop();
            },
            addSectionToLoop: function addSectionToLoop(message) {
              var loop = this.sequenceItems.pop();
              loop.sections = loop.sections || [];
              loop.sectionTitles = loop.sectionTitles || [];
              loop.sections.push({
                y: bounds2.getVerticalPos(),
                height: 0
              });
              loop.sectionTitles.push(message);
              this.sequenceItems.push(loop);
            },
            bumpVerticalPos: function bumpVerticalPos(bump) {
              this.verticalPos = this.verticalPos + bump;
              this.data.stopy = this.verticalPos;
            },
            getVerticalPos: function getVerticalPos() {
              return this.verticalPos;
            },
            getBounds: function getBounds() {
              return {
                bounds: this.data,
                models: this.models
              };
            }
          };
          var drawNote = function drawNote2(elem, noteModel) {
            bounds2.bumpVerticalPos(conf.boxMargin);
            noteModel.height = conf.boxMargin;
            noteModel.starty = bounds2.getVerticalPos();
            var rect = _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].getNoteRect();
            rect.x = noteModel.startx;
            rect.y = noteModel.starty;
            rect.width = noteModel.width || conf.width;
            rect.class = "note";
            var g = elem.append("g");
            var rectElem = _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawRect(g, rect);
            var textObj = _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].getTextObj();
            textObj.x = noteModel.startx;
            textObj.y = noteModel.starty;
            textObj.width = rect.width;
            textObj.dy = "1em";
            textObj.text = noteModel.message;
            textObj.class = "noteText";
            textObj.fontFamily = conf.noteFontFamily;
            textObj.fontSize = conf.noteFontSize;
            textObj.fontWeight = conf.noteFontWeight;
            textObj.anchor = conf.noteAlign;
            textObj.textMargin = conf.noteMargin;
            textObj.valign = "center";
            var textElem = (0, _svgDraw__WEBPACK_IMPORTED_MODULE_2__.drawText)(g, textObj);
            var textHeight = Math.round(textElem.map(function(te) {
              return (te._groups || te)[0][0].getBBox().height;
            }).reduce(function(acc, curr) {
              return acc + curr;
            }));
            rectElem.attr("height", textHeight + 2 * conf.noteMargin);
            noteModel.height += textHeight + 2 * conf.noteMargin;
            bounds2.bumpVerticalPos(textHeight + 2 * conf.noteMargin);
            noteModel.stopy = noteModel.starty + textHeight + 2 * conf.noteMargin;
            noteModel.stopx = noteModel.startx + rect.width;
            bounds2.insert(noteModel.startx, noteModel.starty, noteModel.stopx, noteModel.stopy);
            bounds2.models.addNote(noteModel);
          };
          var messageFont = function messageFont2(cnf) {
            return {
              fontFamily: cnf.messageFontFamily,
              fontSize: cnf.messageFontSize,
              fontWeight: cnf.messageFontWeight
            };
          };
          var noteFont = function noteFont2(cnf) {
            return {
              fontFamily: cnf.noteFontFamily,
              fontSize: cnf.noteFontSize,
              fontWeight: cnf.noteFontWeight
            };
          };
          var actorFont = function actorFont2(cnf) {
            return {
              fontFamily: cnf.actorFontFamily,
              fontSize: cnf.actorFontSize,
              fontWeight: cnf.actorFontWeight
            };
          };
          var boundMessage = function boundMessage2(diagram, msgModel) {
            bounds2.bumpVerticalPos(10);
            var startx = msgModel.startx, stopx = msgModel.stopx, message = msgModel.message;
            var lines = _common_common__WEBPACK_IMPORTED_MODULE_3__["default"].splitBreaks(message).length;
            var textDims = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(message, messageFont(conf));
            var lineHeight = textDims.height / lines;
            msgModel.height += lineHeight;
            bounds2.bumpVerticalPos(lineHeight);
            var lineStarty;
            var totalOffset = textDims.height - 10;
            var textWidth = textDims.width;
            if (startx === stopx) {
              lineStarty = bounds2.getVerticalPos() + totalOffset;
              if (!conf.rightAngles) {
                totalOffset += conf.boxMargin;
                lineStarty = bounds2.getVerticalPos() + totalOffset;
              }
              totalOffset += 30;
              var dx = Math.max(textWidth / 2, conf.width / 2);
              bounds2.insert(startx - dx, bounds2.getVerticalPos() - 10 + totalOffset, stopx + dx, bounds2.getVerticalPos() + 30 + totalOffset);
            } else {
              totalOffset += conf.boxMargin;
              lineStarty = bounds2.getVerticalPos() + totalOffset;
              bounds2.insert(startx, lineStarty - 10, stopx, lineStarty);
            }
            bounds2.bumpVerticalPos(totalOffset);
            msgModel.height += totalOffset;
            msgModel.stopy = msgModel.starty + msgModel.height;
            bounds2.insert(msgModel.fromBounds, msgModel.starty, msgModel.toBounds, msgModel.stopy);
            return lineStarty;
          };
          var drawMessage = function drawMessage2(diagram, msgModel, lineStarty, diagObj) {
            var startx = msgModel.startx, stopx = msgModel.stopx, starty = msgModel.starty, message = msgModel.message, type2 = msgModel.type, sequenceIndex = msgModel.sequenceIndex, sequenceVisible = msgModel.sequenceVisible;
            var textDims = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(message, messageFont(conf));
            var textObj = _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].getTextObj();
            textObj.x = startx;
            textObj.y = starty + 10;
            textObj.width = stopx - startx;
            textObj.class = "messageText";
            textObj.dy = "1em";
            textObj.text = message;
            textObj.fontFamily = conf.messageFontFamily;
            textObj.fontSize = conf.messageFontSize;
            textObj.fontWeight = conf.messageFontWeight;
            textObj.anchor = conf.messageAlign;
            textObj.valign = "center";
            textObj.textMargin = conf.wrapPadding;
            textObj.tspan = false;
            (0, _svgDraw__WEBPACK_IMPORTED_MODULE_2__.drawText)(diagram, textObj);
            var textWidth = textDims.width;
            var line2;
            if (startx === stopx) {
              if (conf.rightAngles) {
                line2 = diagram.append("path").attr("d", "M  ".concat(startx, ",").concat(lineStarty, " H ").concat(startx + Math.max(conf.width / 2, textWidth / 2), " V ").concat(lineStarty + 25, " H ").concat(startx));
              } else {
                line2 = diagram.append("path").attr("d", "M " + startx + "," + lineStarty + " C " + (startx + 60) + "," + (lineStarty - 10) + " " + (startx + 60) + "," + (lineStarty + 30) + " " + startx + "," + (lineStarty + 20));
              }
            } else {
              line2 = diagram.append("line");
              line2.attr("x1", startx);
              line2.attr("y1", lineStarty);
              line2.attr("x2", stopx);
              line2.attr("y2", lineStarty);
            }
            if (type2 === diagObj.db.LINETYPE.DOTTED || type2 === diagObj.db.LINETYPE.DOTTED_CROSS || type2 === diagObj.db.LINETYPE.DOTTED_POINT || type2 === diagObj.db.LINETYPE.DOTTED_OPEN) {
              line2.style("stroke-dasharray", "3, 3");
              line2.attr("class", "messageLine1");
            } else {
              line2.attr("class", "messageLine0");
            }
            var url = "";
            if (conf.arrowMarkerAbsolute) {
              url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
              url = url.replace(/\(/g, "\\(");
              url = url.replace(/\)/g, "\\)");
            }
            line2.attr("stroke-width", 2);
            line2.attr("stroke", "none");
            line2.style("fill", "none");
            if (type2 === diagObj.db.LINETYPE.SOLID || type2 === diagObj.db.LINETYPE.DOTTED) {
              line2.attr("marker-end", "url(" + url + "#arrowhead)");
            }
            if (type2 === diagObj.db.LINETYPE.SOLID_POINT || type2 === diagObj.db.LINETYPE.DOTTED_POINT) {
              line2.attr("marker-end", "url(" + url + "#filled-head)");
            }
            if (type2 === diagObj.db.LINETYPE.SOLID_CROSS || type2 === diagObj.db.LINETYPE.DOTTED_CROSS) {
              line2.attr("marker-end", "url(" + url + "#crosshead)");
            }
            if (sequenceVisible || conf.showSequenceNumbers) {
              line2.attr("marker-start", "url(" + url + "#sequencenumber)");
              diagram.append("text").attr("x", startx).attr("y", lineStarty + 4).attr("font-family", "sans-serif").attr("font-size", "12px").attr("text-anchor", "middle").attr("class", "sequenceNumber").text(sequenceIndex);
            }
          };
          var drawActors = function drawActors2(diagram, actors, actorKeys, verticalPos, configuration, messages) {
            if (configuration.hideUnusedParticipants === true) {
              var newActors = /* @__PURE__ */ new Set();
              messages.forEach(function(message) {
                newActors.add(message.from);
                newActors.add(message.to);
              });
              actorKeys = actorKeys.filter(function(actorKey) {
                return newActors.has(actorKey);
              });
            }
            var prevWidth = 0;
            var prevMargin = 0;
            var maxHeight = 0;
            for (var i = 0; i < actorKeys.length; i++) {
              var actor = actors[actorKeys[i]];
              actor.width = actor.width || conf.width;
              actor.height = Math.max(actor.height || conf.height, conf.height);
              actor.margin = actor.margin || conf.actorMargin;
              actor.x = prevWidth + prevMargin;
              actor.y = verticalPos;
              var height = _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawActor(diagram, actor, conf);
              maxHeight = Math.max(maxHeight, height);
              bounds2.insert(actor.x, verticalPos, actor.x + actor.width, actor.height);
              prevWidth += actor.width;
              prevMargin += actor.margin;
              bounds2.models.addActor(actor);
            }
            bounds2.bumpVerticalPos(maxHeight);
          };
          var drawActorsPopup = function drawActorsPopup2(diagram, actors, actorKeys, doc) {
            var maxHeight = 0;
            var maxWidth = 0;
            for (var i = 0; i < actorKeys.length; i++) {
              var actor = actors[actorKeys[i]];
              var minMenuWidth = getRequiredPopupWidth(actor);
              var menuDimensions = _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawPopup(diagram, actor, minMenuWidth, conf, conf.forceMenus, doc);
              if (menuDimensions.height > maxHeight) {
                maxHeight = menuDimensions.height;
              }
              if (menuDimensions.width + actor.x > maxWidth) {
                maxWidth = menuDimensions.width + actor.x;
              }
            }
            return {
              maxHeight,
              maxWidth
            };
          };
          var setConf = function setConf2(cnf) {
            (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_5__["default"])(conf, cnf);
            if (cnf.fontFamily) {
              conf.actorFontFamily = conf.noteFontFamily = conf.messageFontFamily = cnf.fontFamily;
            }
            if (cnf.fontSize) {
              conf.actorFontSize = conf.noteFontSize = conf.messageFontSize = cnf.fontSize;
            }
            if (cnf.fontWeight) {
              conf.actorFontWeight = conf.noteFontWeight = conf.messageFontWeight = cnf.fontWeight;
            }
          };
          var actorActivations = function actorActivations2(actor) {
            return bounds2.activations.filter(function(activation) {
              return activation.actor === actor;
            });
          };
          var activationBounds = function activationBounds2(actor, actors) {
            var actorObj = actors[actor];
            var activations = actorActivations(actor);
            var left2 = activations.reduce(function(acc, activation) {
              return Math.min(acc, activation.startx);
            }, actorObj.x + actorObj.width / 2);
            var right2 = activations.reduce(function(acc, activation) {
              return Math.max(acc, activation.stopx);
            }, actorObj.x + actorObj.width / 2);
            return [left2, right2];
          };
          function adjustLoopHeightForWrap(loopWidths, msg, preMargin, postMargin, addLoopFn) {
            bounds2.bumpVerticalPos(preMargin);
            var heightAdjust = postMargin;
            if (msg.id && msg.message && loopWidths[msg.id]) {
              var loopWidth = loopWidths[msg.id].width;
              var textConf = messageFont(conf);
              msg.message = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].wrapLabel("[".concat(msg.message, "]"), loopWidth - 2 * conf.wrapPadding, textConf);
              msg.width = loopWidth;
              msg.wrap = true;
              var textDims = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(msg.message, textConf);
              var totalOffset = Math.max(textDims.height, conf.labelBoxHeight);
              heightAdjust = postMargin + totalOffset;
              _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("".concat(totalOffset, " - ").concat(msg.message));
            }
            addLoopFn(msg);
            bounds2.bumpVerticalPos(heightAdjust);
          }
          var draw = function draw2(_text, id2, _version, diagObj) {
            conf = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().sequence;
            var securityLevel = _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            bounds2.init();
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug(diagObj.db);
            var diagram = securityLevel === "sandbox" ? root2.select('[id="'.concat(id2, '"]')) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)('[id="'.concat(id2, '"]'));
            var actors = diagObj.db.getActors();
            var actorKeys = diagObj.db.getActorKeys();
            var messages = diagObj.db.getMessages();
            var title = diagObj.db.getDiagramTitle();
            var maxMessageWidthPerActor = getMaxMessageWidthPerActor(actors, messages, diagObj);
            conf.height = calculateActorMargins(actors, maxMessageWidthPerActor);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].insertComputerIcon(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].insertDatabaseIcon(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].insertClockIcon(diagram);
            drawActors(diagram, actors, actorKeys, 0, conf, messages);
            var loopWidths = calculateLoopBounds(messages, actors, maxMessageWidthPerActor, diagObj);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].insertArrowHead(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].insertArrowCrossHead(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].insertArrowFilledHead(diagram);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].insertSequenceNumber(diagram);
            function activeEnd(msg, verticalPos) {
              var activationData = bounds2.endActivation(msg);
              if (activationData.starty + 18 > verticalPos) {
                activationData.starty = verticalPos - 6;
                verticalPos += 12;
              }
              _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawActivation(diagram, activationData, verticalPos, conf, actorActivations(msg.from.actor).length);
              bounds2.insert(activationData.startx, verticalPos - 10, activationData.stopx, verticalPos);
            }
            var sequenceIndex = 1;
            var sequenceIndexStep = 1;
            var messagesToDraw = Array();
            messages.forEach(function(msg) {
              var loopModel, noteModel, msgModel;
              switch (msg.type) {
                case diagObj.db.LINETYPE.NOTE:
                  noteModel = msg.noteModel;
                  drawNote(diagram, noteModel);
                  break;
                case diagObj.db.LINETYPE.ACTIVE_START:
                  bounds2.newActivation(msg, diagram, actors);
                  break;
                case diagObj.db.LINETYPE.ACTIVE_END:
                  activeEnd(msg, bounds2.getVerticalPos());
                  break;
                case diagObj.db.LINETYPE.LOOP_START:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function(message) {
                    return bounds2.newLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.LOOP_END:
                  loopModel = bounds2.endLoop();
                  _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawLoop(diagram, loopModel, "loop", conf);
                  bounds2.bumpVerticalPos(loopModel.stopy - bounds2.getVerticalPos());
                  bounds2.models.addLoop(loopModel);
                  break;
                case diagObj.db.LINETYPE.RECT_START:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin, function(message) {
                    return bounds2.newLoop(void 0, message.message);
                  });
                  break;
                case diagObj.db.LINETYPE.RECT_END:
                  loopModel = bounds2.endLoop();
                  _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawBackgroundRect(diagram, loopModel);
                  bounds2.models.addLoop(loopModel);
                  bounds2.bumpVerticalPos(loopModel.stopy - bounds2.getVerticalPos());
                  break;
                case diagObj.db.LINETYPE.OPT_START:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function(message) {
                    return bounds2.newLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.OPT_END:
                  loopModel = bounds2.endLoop();
                  _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawLoop(diagram, loopModel, "opt", conf);
                  bounds2.bumpVerticalPos(loopModel.stopy - bounds2.getVerticalPos());
                  bounds2.models.addLoop(loopModel);
                  break;
                case diagObj.db.LINETYPE.ALT_START:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function(message) {
                    return bounds2.newLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.ALT_ELSE:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin + conf.boxTextMargin, conf.boxMargin, function(message) {
                    return bounds2.addSectionToLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.ALT_END:
                  loopModel = bounds2.endLoop();
                  _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawLoop(diagram, loopModel, "alt", conf);
                  bounds2.bumpVerticalPos(loopModel.stopy - bounds2.getVerticalPos());
                  bounds2.models.addLoop(loopModel);
                  break;
                case diagObj.db.LINETYPE.PAR_START:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function(message) {
                    return bounds2.newLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.PAR_AND:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin + conf.boxTextMargin, conf.boxMargin, function(message) {
                    return bounds2.addSectionToLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.PAR_END:
                  loopModel = bounds2.endLoop();
                  _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawLoop(diagram, loopModel, "par", conf);
                  bounds2.bumpVerticalPos(loopModel.stopy - bounds2.getVerticalPos());
                  bounds2.models.addLoop(loopModel);
                  break;
                case diagObj.db.LINETYPE.AUTONUMBER:
                  sequenceIndex = msg.message.start || sequenceIndex;
                  sequenceIndexStep = msg.message.step || sequenceIndexStep;
                  if (msg.message.visible)
                    diagObj.db.enableSequenceNumbers();
                  else
                    diagObj.db.disableSequenceNumbers();
                  break;
                case diagObj.db.LINETYPE.CRITICAL_START:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function(message) {
                    return bounds2.newLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.CRITICAL_OPTION:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin + conf.boxTextMargin, conf.boxMargin, function(message) {
                    return bounds2.addSectionToLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.CRITICAL_END:
                  loopModel = bounds2.endLoop();
                  _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawLoop(diagram, loopModel, "critical", conf);
                  bounds2.bumpVerticalPos(loopModel.stopy - bounds2.getVerticalPos());
                  bounds2.models.addLoop(loopModel);
                  break;
                case diagObj.db.LINETYPE.BREAK_START:
                  adjustLoopHeightForWrap(loopWidths, msg, conf.boxMargin, conf.boxMargin + conf.boxTextMargin, function(message) {
                    return bounds2.newLoop(message);
                  });
                  break;
                case diagObj.db.LINETYPE.BREAK_END:
                  loopModel = bounds2.endLoop();
                  _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawLoop(diagram, loopModel, "break", conf);
                  bounds2.bumpVerticalPos(loopModel.stopy - bounds2.getVerticalPos());
                  bounds2.models.addLoop(loopModel);
                  break;
                default:
                  try {
                    msgModel = msg.msgModel;
                    msgModel.starty = bounds2.getVerticalPos();
                    msgModel.sequenceIndex = sequenceIndex;
                    msgModel.sequenceVisible = diagObj.db.showSequenceNumbers();
                    var lineStarty = boundMessage(diagram, msgModel);
                    messagesToDraw.push({
                      messageModel: msgModel,
                      lineStarty
                    });
                    bounds2.models.addMessage(msgModel);
                  } catch (e) {
                    _logger__WEBPACK_IMPORTED_MODULE_6__.log.error("error while drawing message", e);
                  }
              }
              if ([diagObj.db.LINETYPE.SOLID_OPEN, diagObj.db.LINETYPE.DOTTED_OPEN, diagObj.db.LINETYPE.SOLID, diagObj.db.LINETYPE.DOTTED, diagObj.db.LINETYPE.SOLID_CROSS, diagObj.db.LINETYPE.DOTTED_CROSS, diagObj.db.LINETYPE.SOLID_POINT, diagObj.db.LINETYPE.DOTTED_POINT].includes(msg.type)) {
                sequenceIndex = sequenceIndex + sequenceIndexStep;
              }
            });
            messagesToDraw.forEach(function(e) {
              return drawMessage(diagram, e.messageModel, e.lineStarty, diagObj);
            });
            if (conf.mirrorActors) {
              bounds2.bumpVerticalPos(conf.boxMargin * 2);
              drawActors(diagram, actors, actorKeys, bounds2.getVerticalPos(), conf, messages);
              bounds2.bumpVerticalPos(conf.boxMargin);
              (0, _svgDraw__WEBPACK_IMPORTED_MODULE_2__.fixLifeLineHeights)(diagram, bounds2.getVerticalPos());
            }
            var requiredBoxSize = drawActorsPopup(diagram, actors, actorKeys, doc);
            var _bounds$getBounds = bounds2.getBounds(), box = _bounds$getBounds.bounds;
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("For line height fix Querying: #" + id2 + " .actor-line");
            var actorLines = (0, d3__WEBPACK_IMPORTED_MODULE_0__.selectAll)("#" + id2 + " .actor-line");
            actorLines.attr("y2", box.stopy);
            var boxHeight = box.stopy - box.starty;
            if (boxHeight < requiredBoxSize.maxHeight) {
              boxHeight = requiredBoxSize.maxHeight;
            }
            var height = boxHeight + 2 * conf.diagramMarginY;
            if (conf.mirrorActors) {
              height = height - conf.boxMargin + conf.bottomMarginAdj;
            }
            var boxWidth = box.stopx - box.startx;
            if (boxWidth < requiredBoxSize.maxWidth) {
              boxWidth = requiredBoxSize.maxWidth;
            }
            var width = boxWidth + 2 * conf.diagramMarginX;
            if (title) {
              diagram.append("text").text(title).attr("x", (box.stopx - box.startx) / 2 - 2 * conf.diagramMarginX).attr("y", -25);
            }
            (0, _utils__WEBPACK_IMPORTED_MODULE_4__.configureSvgSize)(diagram, height, width, conf.useMaxWidth);
            var extraVertForTitle = title ? 40 : 0;
            diagram.attr("viewBox", box.startx - conf.diagramMarginX + " -" + (conf.diagramMarginY + extraVertForTitle) + " " + width + " " + (height + extraVertForTitle));
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_7__["default"])(diagObj.db, diagram, id2);
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("models:", bounds2.models);
          };
          var getMaxMessageWidthPerActor = function getMaxMessageWidthPerActor2(actors, messages, diagObj) {
            var maxMessageWidthPerActor = {};
            messages.forEach(function(msg) {
              if (actors[msg.to] && actors[msg.from]) {
                var actor = actors[msg.to];
                if (msg.placement === diagObj.db.PLACEMENT.LEFTOF && !actor.prevActor) {
                  return;
                }
                if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF && !actor.nextActor) {
                  return;
                }
                var isNote = msg.placement !== void 0;
                var isMessage = !isNote;
                var textFont = isNote ? noteFont(conf) : messageFont(conf);
                var wrappedMessage = msg.wrap ? _utils__WEBPACK_IMPORTED_MODULE_4__["default"].wrapLabel(msg.message, conf.width - 2 * conf.wrapPadding, textFont) : msg.message;
                var messageDimensions = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(wrappedMessage, textFont);
                var messageWidth = messageDimensions.width + 2 * conf.wrapPadding;
                if (isMessage && msg.from === actor.nextActor) {
                  maxMessageWidthPerActor[msg.to] = Math.max(maxMessageWidthPerActor[msg.to] || 0, messageWidth);
                } else if (isMessage && msg.from === actor.prevActor) {
                  maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth);
                } else if (isMessage && msg.from === msg.to) {
                  maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth / 2);
                  maxMessageWidthPerActor[msg.to] = Math.max(maxMessageWidthPerActor[msg.to] || 0, messageWidth / 2);
                } else if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF) {
                  maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth);
                } else if (msg.placement === diagObj.db.PLACEMENT.LEFTOF) {
                  maxMessageWidthPerActor[actor.prevActor] = Math.max(maxMessageWidthPerActor[actor.prevActor] || 0, messageWidth);
                } else if (msg.placement === diagObj.db.PLACEMENT.OVER) {
                  if (actor.prevActor) {
                    maxMessageWidthPerActor[actor.prevActor] = Math.max(maxMessageWidthPerActor[actor.prevActor] || 0, messageWidth / 2);
                  }
                  if (actor.nextActor) {
                    maxMessageWidthPerActor[msg.from] = Math.max(maxMessageWidthPerActor[msg.from] || 0, messageWidth / 2);
                  }
                }
              }
            });
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("maxMessageWidthPerActor:", maxMessageWidthPerActor);
            return maxMessageWidthPerActor;
          };
          var getRequiredPopupWidth = function getRequiredPopupWidth2(actor) {
            var requiredPopupWidth = 0;
            var textFont = actorFont(conf);
            for (var key in actor.links) {
              var labelDimensions = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(key, textFont);
              var labelWidth = labelDimensions.width + 2 * conf.wrapPadding + 2 * conf.boxMargin;
              if (requiredPopupWidth < labelWidth) {
                requiredPopupWidth = labelWidth;
              }
            }
            return requiredPopupWidth;
          };
          var calculateActorMargins = function calculateActorMargins2(actors, actorToMessageWidth) {
            var maxHeight = 0;
            Object.keys(actors).forEach(function(prop) {
              var actor2 = actors[prop];
              if (actor2.wrap) {
                actor2.description = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].wrapLabel(actor2.description, conf.width - 2 * conf.wrapPadding, actorFont(conf));
              }
              var actDims = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(actor2.description, actorFont(conf));
              actor2.width = actor2.wrap ? conf.width : Math.max(conf.width, actDims.width + 2 * conf.wrapPadding);
              actor2.height = actor2.wrap ? Math.max(actDims.height, conf.height) : conf.height;
              maxHeight = Math.max(maxHeight, actor2.height);
            });
            for (var actorKey in actorToMessageWidth) {
              var actor = actors[actorKey];
              if (!actor) {
                continue;
              }
              var nextActor = actors[actor.nextActor];
              if (!nextActor) {
                continue;
              }
              var messageWidth = actorToMessageWidth[actorKey];
              var actorWidth = messageWidth + conf.actorMargin - actor.width / 2 - nextActor.width / 2;
              actor.margin = Math.max(actorWidth, conf.actorMargin);
            }
            return Math.max(maxHeight, conf.height);
          };
          var buildNoteModel = function buildNoteModel2(msg, actors, diagObj) {
            var startx = actors[msg.from].x;
            var stopx = actors[msg.to].x;
            var shouldWrap = msg.wrap && msg.message;
            var textDimensions = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(shouldWrap ? _utils__WEBPACK_IMPORTED_MODULE_4__["default"].wrapLabel(msg.message, conf.width, noteFont(conf)) : msg.message, noteFont(conf));
            var noteModel = {
              width: shouldWrap ? conf.width : Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin),
              height: 0,
              startx: actors[msg.from].x,
              stopx: 0,
              starty: 0,
              stopy: 0,
              message: msg.message
            };
            if (msg.placement === diagObj.db.PLACEMENT.RIGHTOF) {
              noteModel.width = shouldWrap ? Math.max(conf.width, textDimensions.width) : Math.max(actors[msg.from].width / 2 + actors[msg.to].width / 2, textDimensions.width + 2 * conf.noteMargin);
              noteModel.startx = startx + (actors[msg.from].width + conf.actorMargin) / 2;
            } else if (msg.placement === diagObj.db.PLACEMENT.LEFTOF) {
              noteModel.width = shouldWrap ? Math.max(conf.width, textDimensions.width + 2 * conf.noteMargin) : Math.max(actors[msg.from].width / 2 + actors[msg.to].width / 2, textDimensions.width + 2 * conf.noteMargin);
              noteModel.startx = startx - noteModel.width + (actors[msg.from].width - conf.actorMargin) / 2;
            } else if (msg.to === msg.from) {
              textDimensions = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(shouldWrap ? _utils__WEBPACK_IMPORTED_MODULE_4__["default"].wrapLabel(msg.message, Math.max(conf.width, actors[msg.from].width), noteFont(conf)) : msg.message, noteFont(conf));
              noteModel.width = shouldWrap ? Math.max(conf.width, actors[msg.from].width) : Math.max(actors[msg.from].width, conf.width, textDimensions.width + 2 * conf.noteMargin);
              noteModel.startx = startx + (actors[msg.from].width - noteModel.width) / 2;
            } else {
              noteModel.width = Math.abs(startx + actors[msg.from].width / 2 - (stopx + actors[msg.to].width / 2)) + conf.actorMargin;
              noteModel.startx = startx < stopx ? startx + actors[msg.from].width / 2 - conf.actorMargin / 2 : stopx + actors[msg.to].width / 2 - conf.actorMargin / 2;
            }
            if (shouldWrap) {
              noteModel.message = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].wrapLabel(msg.message, noteModel.width - 2 * conf.wrapPadding, noteFont(conf));
            }
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("NM:[".concat(noteModel.startx, ",").concat(noteModel.stopx, ",").concat(noteModel.starty, ",").concat(noteModel.stopy, ":").concat(noteModel.width, ",").concat(noteModel.height, "=").concat(msg.message, "]"));
            return noteModel;
          };
          var buildMessageModel = function buildMessageModel2(msg, actors, diagObj) {
            var process2 = false;
            if ([diagObj.db.LINETYPE.SOLID_OPEN, diagObj.db.LINETYPE.DOTTED_OPEN, diagObj.db.LINETYPE.SOLID, diagObj.db.LINETYPE.DOTTED, diagObj.db.LINETYPE.SOLID_CROSS, diagObj.db.LINETYPE.DOTTED_CROSS, diagObj.db.LINETYPE.SOLID_POINT, diagObj.db.LINETYPE.DOTTED_POINT].includes(msg.type)) {
              process2 = true;
            }
            if (!process2) {
              return {};
            }
            var fromBounds = activationBounds(msg.from, actors);
            var toBounds = activationBounds(msg.to, actors);
            var fromIdx = fromBounds[0] <= toBounds[0] ? 1 : 0;
            var toIdx = fromBounds[0] < toBounds[0] ? 0 : 1;
            var allBounds = fromBounds.concat(toBounds);
            var boundedWidth = Math.abs(toBounds[toIdx] - fromBounds[fromIdx]);
            if (msg.wrap && msg.message) {
              msg.message = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].wrapLabel(msg.message, Math.max(boundedWidth + 2 * conf.wrapPadding, conf.width), messageFont(conf));
            }
            var msgDims = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].calculateTextDimensions(msg.message, messageFont(conf));
            return {
              width: Math.max(msg.wrap ? 0 : msgDims.width + 2 * conf.wrapPadding, boundedWidth + 2 * conf.wrapPadding, conf.width),
              height: 0,
              startx: fromBounds[fromIdx],
              stopx: toBounds[toIdx],
              starty: 0,
              stopy: 0,
              message: msg.message,
              type: msg.type,
              wrap: msg.wrap,
              fromBounds: Math.min.apply(null, allBounds),
              toBounds: Math.max.apply(null, allBounds)
            };
          };
          var calculateLoopBounds = function calculateLoopBounds2(messages, actors, _maxWidthPerActor, diagObj) {
            var loops = {};
            var stack2 = [];
            var current, noteModel, msgModel;
            messages.forEach(function(msg) {
              msg.id = _utils__WEBPACK_IMPORTED_MODULE_4__["default"].random({
                length: 10
              });
              switch (msg.type) {
                case diagObj.db.LINETYPE.LOOP_START:
                case diagObj.db.LINETYPE.ALT_START:
                case diagObj.db.LINETYPE.OPT_START:
                case diagObj.db.LINETYPE.PAR_START:
                case diagObj.db.LINETYPE.CRITICAL_START:
                case diagObj.db.LINETYPE.BREAK_START:
                  stack2.push({
                    id: msg.id,
                    msg: msg.message,
                    from: Number.MAX_SAFE_INTEGER,
                    to: Number.MIN_SAFE_INTEGER,
                    width: 0
                  });
                  break;
                case diagObj.db.LINETYPE.ALT_ELSE:
                case diagObj.db.LINETYPE.PAR_AND:
                case diagObj.db.LINETYPE.CRITICAL_OPTION:
                  if (msg.message) {
                    current = stack2.pop();
                    loops[current.id] = current;
                    loops[msg.id] = current;
                    stack2.push(current);
                  }
                  break;
                case diagObj.db.LINETYPE.LOOP_END:
                case diagObj.db.LINETYPE.ALT_END:
                case diagObj.db.LINETYPE.OPT_END:
                case diagObj.db.LINETYPE.PAR_END:
                case diagObj.db.LINETYPE.CRITICAL_END:
                case diagObj.db.LINETYPE.BREAK_END:
                  current = stack2.pop();
                  loops[current.id] = current;
                  break;
                case diagObj.db.LINETYPE.ACTIVE_START:
                  {
                    var actorRect = actors[msg.from ? msg.from.actor : msg.to.actor];
                    var stackedSize = actorActivations(msg.from ? msg.from.actor : msg.to.actor).length;
                    var x2 = actorRect.x + actorRect.width / 2 + (stackedSize - 1) * conf.activationWidth / 2;
                    var toAdd = {
                      startx: x2,
                      stopx: x2 + conf.activationWidth,
                      actor: msg.from.actor,
                      enabled: true
                    };
                    bounds2.activations.push(toAdd);
                  }
                  break;
                case diagObj.db.LINETYPE.ACTIVE_END:
                  {
                    var lastActorActivationIdx = bounds2.activations.map(function(a2) {
                      return a2.actor;
                    }).lastIndexOf(msg.from.actor);
                    delete bounds2.activations.splice(lastActorActivationIdx, 1)[0];
                  }
                  break;
              }
              var isNote = msg.placement !== void 0;
              if (isNote) {
                noteModel = buildNoteModel(msg, actors, diagObj);
                msg.noteModel = noteModel;
                stack2.forEach(function(stk) {
                  current = stk;
                  current.from = Math.min(current.from, noteModel.startx);
                  current.to = Math.max(current.to, noteModel.startx + noteModel.width);
                  current.width = Math.max(current.width, Math.abs(current.from - current.to)) - conf.labelBoxWidth;
                });
              } else {
                msgModel = buildMessageModel(msg, actors, diagObj);
                msg.msgModel = msgModel;
                if (msgModel.startx && msgModel.stopx && stack2.length > 0) {
                  stack2.forEach(function(stk) {
                    current = stk;
                    if (msgModel.startx === msgModel.stopx) {
                      var from = actors[msg.from];
                      var to = actors[msg.to];
                      current.from = Math.min(from.x - msgModel.width / 2, from.x - from.width / 2, current.from);
                      current.to = Math.max(to.x + msgModel.width / 2, to.x + from.width / 2, current.to);
                      current.width = Math.max(current.width, Math.abs(current.to - current.from)) - conf.labelBoxWidth;
                    } else {
                      current.from = Math.min(msgModel.startx, current.from);
                      current.to = Math.max(msgModel.stopx, current.to);
                      current.width = Math.max(current.width, msgModel.width) - conf.labelBoxWidth;
                    }
                  });
                }
              }
            });
            bounds2.activations = [];
            _logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Loop type widths:", loops);
            return loops;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            bounds: bounds2,
            drawActors,
            drawActorsPopup,
            setConf,
            draw
          };
        },
        "./src/diagrams/sequence/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return ".actor {\n    stroke: ".concat(options.actorBorder, ";\n    fill: ").concat(options.actorBkg, ";\n  }\n\n  text.actor > tspan {\n    fill: ").concat(options.actorTextColor, ";\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ").concat(options.actorLineColor, ";\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ").concat(options.signalColor, ";\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(options.signalColor, ";\n  }\n\n  #arrowhead path {\n    fill: ").concat(options.signalColor, ";\n    stroke: ").concat(options.signalColor, ";\n  }\n\n  .sequenceNumber {\n    fill: ").concat(options.sequenceNumberColor, ";\n  }\n\n  #sequencenumber {\n    fill: ").concat(options.signalColor, ";\n  }\n\n  #crosshead path {\n    fill: ").concat(options.signalColor, ";\n    stroke: ").concat(options.signalColor, ";\n  }\n\n  .messageText {\n    fill: ").concat(options.signalTextColor, ";\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ").concat(options.labelBoxBorderColor, ";\n    fill: ").concat(options.labelBoxBkgColor, ";\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ").concat(options.labelTextColor, ";\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ").concat(options.loopTextColor, ";\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(options.labelBoxBorderColor, ";\n    fill: ").concat(options.labelBoxBorderColor, ";\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ").concat(options.noteBorderColor, ";\n    fill: ").concat(options.noteBkgColor, ";\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ").concat(options.noteTextColor, ";\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ").concat(options.activationBkgColor, ";\n    stroke: ").concat(options.activationBorderColor, ";\n  }\n\n  .activation1 {\n    fill: ").concat(options.activationBkgColor, ";\n    stroke: ").concat(options.activationBorderColor, ";\n  }\n\n  .activation2 {\n    fill: ").concat(options.activationBkgColor, ";\n    stroke: ").concat(options.activationBorderColor, ";\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ").concat(options.actorBkg, ";\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ").concat(options.actorBorder, ";\n    fill: ").concat(options.actorBkg, ";\n  }\n  .actor-man circle, line {\n    stroke: ").concat(options.actorBorder, ";\n    fill: ").concat(options.actorBkg, ";\n    stroke-width: 2px;\n  }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/sequence/svgDraw.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "anchorElement": () => anchorElement,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "drawActivation": () => drawActivation,
            "drawActor": () => drawActor,
            "drawBackgroundRect": () => drawBackgroundRect,
            "drawEmbeddedImage": () => drawEmbeddedImage,
            "drawImage": () => drawImage,
            "drawLabel": () => drawLabel,
            "drawLoop": () => drawLoop,
            "drawPopup": () => drawPopup,
            "drawRect": () => drawRect,
            "drawText": () => drawText,
            "fixLifeLineHeights": () => fixLifeLineHeights,
            "getNoteRect": () => getNoteRect,
            "getTextObj": () => getTextObj,
            "insertArrowCrossHead": () => insertArrowCrossHead,
            "insertArrowFilledHead": () => insertArrowFilledHead,
            "insertArrowHead": () => insertArrowHead,
            "insertClockIcon": () => insertClockIcon,
            "insertComputerIcon": () => insertComputerIcon,
            "insertDatabaseIcon": () => insertDatabaseIcon,
            "insertSequenceNumber": () => insertSequenceNumber,
            "popdownMenu": () => popdownMenu,
            "popupMenu": () => popupMenu
          });
          var _common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _interactionDb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/interactionDb.js");
          var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("@braintree/sanitize-url");
          var drawRect = function drawRect2(elem, rectData) {
            var rectElem = elem.append("rect");
            rectElem.attr("x", rectData.x);
            rectElem.attr("y", rectData.y);
            rectElem.attr("fill", rectData.fill);
            rectElem.attr("stroke", rectData.stroke);
            rectElem.attr("width", rectData.width);
            rectElem.attr("height", rectData.height);
            rectElem.attr("rx", rectData.rx);
            rectElem.attr("ry", rectData.ry);
            if (typeof rectData.class !== "undefined") {
              rectElem.attr("class", rectData.class);
            }
            return rectElem;
          };
          var addPopupInteraction = function addPopupInteraction2(id2, actorCnt2) {
            (0, _interactionDb__WEBPACK_IMPORTED_MODULE_1__.addFunction)(function() {
              var arr = document.querySelectorAll(id2);
              if (arr.length === 0)
                return;
              arr[0].addEventListener("mouseover", function() {
                popupMenuUpFunc("actor" + actorCnt2 + "_popup");
              });
              arr[0].addEventListener("mouseout", function() {
                popupMenuDownFunc("actor" + actorCnt2 + "_popup");
              });
            });
          };
          var drawPopup = function drawPopup2(elem, actor, minMenuWidth, textAttrs, forceMenus) {
            if (actor.links === void 0 || actor.links === null || Object.keys(actor.links).length === 0) {
              return {
                height: 0,
                width: 0
              };
            }
            var links = actor.links;
            var actorCnt2 = actor.actorCnt;
            var rectData = actor.rectData;
            var displayValue = "none";
            if (forceMenus) {
              displayValue = "block !important";
            }
            var g = elem.append("g");
            g.attr("id", "actor" + actorCnt2 + "_popup");
            g.attr("class", "actorPopupMenu");
            g.attr("display", displayValue);
            addPopupInteraction("#actor" + actorCnt2 + "_popup", actorCnt2);
            var actorClass = "";
            if (typeof rectData.class !== "undefined") {
              actorClass = " " + rectData.class;
            }
            var menuWidth = rectData.width > minMenuWidth ? rectData.width : minMenuWidth;
            var rectElem = g.append("rect");
            rectElem.attr("class", "actorPopupMenuPanel" + actorClass);
            rectElem.attr("x", rectData.x);
            rectElem.attr("y", rectData.height);
            rectElem.attr("fill", rectData.fill);
            rectElem.attr("stroke", rectData.stroke);
            rectElem.attr("width", menuWidth);
            rectElem.attr("height", rectData.height);
            rectElem.attr("rx", rectData.rx);
            rectElem.attr("ry", rectData.ry);
            if (links != null) {
              var linkY = 20;
              for (var key in links) {
                var linkElem = g.append("a");
                var sanitizedLink = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(links[key]);
                linkElem.attr("xlink:href", sanitizedLink);
                linkElem.attr("target", "_blank");
                _drawMenuItemTextCandidateFunc(textAttrs)(key, linkElem, rectData.x + 10, rectData.height + linkY, menuWidth, 20, {
                  class: "actor"
                }, textAttrs);
                linkY += 30;
              }
            }
            rectElem.attr("height", linkY);
            return {
              height: rectData.height + linkY,
              width: menuWidth
            };
          };
          var drawImage = function drawImage2(elem, x2, y2, link2) {
            var imageElem = elem.append("image");
            imageElem.attr("x", x2);
            imageElem.attr("y", y2);
            var sanitizedLink = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link2);
            imageElem.attr("xlink:href", sanitizedLink);
          };
          var drawEmbeddedImage = function drawEmbeddedImage2(elem, x2, y2, link2) {
            var imageElem = elem.append("use");
            imageElem.attr("x", x2);
            imageElem.attr("y", y2);
            var sanitizedLink = (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link2);
            imageElem.attr("xlink:href", "#" + sanitizedLink);
          };
          var popupMenu = function popupMenu2(popid) {
            return "var pu = document.getElementById('" + popid + "'); if (pu != null) { pu.style.display = 'block'; }";
          };
          var popdownMenu = function popdownMenu2(popid) {
            return "var pu = document.getElementById('" + popid + "'); if (pu != null) { pu.style.display = 'none'; }";
          };
          var popupMenuUpFunc = function popupMenuUpFunc2(popupId) {
            var pu = document.getElementById(popupId);
            if (pu != null) {
              pu.style.display = "block";
            }
          };
          var popupMenuDownFunc = function popupMenuDownFunc2(popupId) {
            var pu = document.getElementById(popupId);
            if (pu != null) {
              pu.style.display = "none";
            }
          };
          var drawText = function drawText2(elem, textData) {
            var prevTextHeight = 0, textHeight = 0;
            var lines = textData.text.split(_common_common__WEBPACK_IMPORTED_MODULE_2__["default"].lineBreakRegex);
            var textElems = [];
            var dy = 0;
            var yfunc = function yfunc2() {
              return textData.y;
            };
            if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
              switch (textData.valign) {
                case "top":
                case "start":
                  yfunc = function yfunc2() {
                    return Math.round(textData.y + textData.textMargin);
                  };
                  break;
                case "middle":
                case "center":
                  yfunc = function yfunc2() {
                    return Math.round(textData.y + (prevTextHeight + textHeight + textData.textMargin) / 2);
                  };
                  break;
                case "bottom":
                case "end":
                  yfunc = function yfunc2() {
                    return Math.round(textData.y + (prevTextHeight + textHeight + 2 * textData.textMargin) - textData.textMargin);
                  };
                  break;
              }
            }
            if (typeof textData.anchor !== "undefined" && typeof textData.textMargin !== "undefined" && typeof textData.width !== "undefined") {
              switch (textData.anchor) {
                case "left":
                case "start":
                  textData.x = Math.round(textData.x + textData.textMargin);
                  textData.anchor = "start";
                  textData.dominantBaseline = "middle";
                  textData.alignmentBaseline = "middle";
                  break;
                case "middle":
                case "center":
                  textData.x = Math.round(textData.x + textData.width / 2);
                  textData.anchor = "middle";
                  textData.dominantBaseline = "middle";
                  textData.alignmentBaseline = "middle";
                  break;
                case "right":
                case "end":
                  textData.x = Math.round(textData.x + textData.width - textData.textMargin);
                  textData.anchor = "end";
                  textData.dominantBaseline = "middle";
                  textData.alignmentBaseline = "middle";
                  break;
              }
            }
            for (var i = 0; i < lines.length; i++) {
              var line2 = lines[i];
              if (typeof textData.textMargin !== "undefined" && textData.textMargin === 0 && typeof textData.fontSize !== "undefined") {
                dy = i * textData.fontSize;
              }
              var textElem = elem.append("text");
              textElem.attr("x", textData.x);
              textElem.attr("y", yfunc());
              if (typeof textData.anchor !== "undefined") {
                textElem.attr("text-anchor", textData.anchor).attr("dominant-baseline", textData.dominantBaseline).attr("alignment-baseline", textData.alignmentBaseline);
              }
              if (typeof textData.fontFamily !== "undefined") {
                textElem.style("font-family", textData.fontFamily);
              }
              if (typeof textData.fontSize !== "undefined") {
                textElem.style("font-size", textData.fontSize);
              }
              if (typeof textData.fontWeight !== "undefined") {
                textElem.style("font-weight", textData.fontWeight);
              }
              if (typeof textData.fill !== "undefined") {
                textElem.attr("fill", textData.fill);
              }
              if (typeof textData.class !== "undefined") {
                textElem.attr("class", textData.class);
              }
              if (typeof textData.dy !== "undefined") {
                textElem.attr("dy", textData.dy);
              } else if (dy !== 0) {
                textElem.attr("dy", dy);
              }
              if (textData.tspan) {
                var span = textElem.append("tspan");
                span.attr("x", textData.x);
                if (typeof textData.fill !== "undefined") {
                  span.attr("fill", textData.fill);
                }
                span.text(line2);
              } else {
                textElem.text(line2);
              }
              if (typeof textData.valign !== "undefined" && typeof textData.textMargin !== "undefined" && textData.textMargin > 0) {
                textHeight += (textElem._groups || textElem)[0][0].getBBox().height;
                prevTextHeight = textHeight;
              }
              textElems.push(textElem);
            }
            return textElems;
          };
          var drawLabel = function drawLabel2(elem, txtObject) {
            function genPoints(x2, y2, width, height, cut) {
              return x2 + "," + y2 + " " + (x2 + width) + "," + y2 + " " + (x2 + width) + "," + (y2 + height - cut) + " " + (x2 + width - cut * 1.2) + "," + (y2 + height) + " " + x2 + "," + (y2 + height);
            }
            var polygon = elem.append("polygon");
            polygon.attr("points", genPoints(txtObject.x, txtObject.y, txtObject.width, txtObject.height, 7));
            polygon.attr("class", "labelBox");
            txtObject.y = txtObject.y + txtObject.height / 2;
            drawText(elem, txtObject);
            return polygon;
          };
          var actorCnt = -1;
          var fixLifeLineHeights = function fixLifeLineHeights2(diagram, bounds2) {
            if (!diagram.selectAll)
              return;
            diagram.selectAll(".actor-line").attr("class", "200").attr("y2", bounds2 - 55);
          };
          var drawActorTypeParticipant = function drawActorTypeParticipant2(elem, actor, conf) {
            var center2 = actor.x + actor.width / 2;
            var boxpluslineGroup = elem.append("g");
            var g = boxpluslineGroup;
            if (actor.y === 0) {
              actorCnt++;
              g.append("line").attr("id", "actor" + actorCnt).attr("x1", center2).attr("y1", 5).attr("x2", center2).attr("y2", 2e3).attr("class", "actor-line").attr("stroke-width", "0.5px").attr("stroke", "#999");
              g = boxpluslineGroup.append("g");
              actor.actorCnt = actorCnt;
              if (actor.links != null) {
                g.attr("id", "root-" + actorCnt);
                addPopupInteraction("#root-" + actorCnt, actorCnt);
              }
            }
            var rect = getNoteRect();
            var cssclass = "actor";
            if (actor.properties != null && actor.properties["class"]) {
              cssclass = actor.properties["class"];
            } else {
              rect.fill = "#eaeaea";
            }
            rect.x = actor.x;
            rect.y = actor.y;
            rect.width = actor.width;
            rect.height = actor.height;
            rect.class = cssclass;
            rect.rx = 3;
            rect.ry = 3;
            var rectElem = drawRect(g, rect);
            actor.rectData = rect;
            if (actor.properties != null && actor.properties["icon"]) {
              var iconSrc = actor.properties["icon"].trim();
              if (iconSrc.charAt(0) === "@") {
                drawEmbeddedImage(g, rect.x + rect.width - 20, rect.y + 10, iconSrc.substr(1));
              } else {
                drawImage(g, rect.x + rect.width - 20, rect.y + 10, iconSrc);
              }
            }
            _drawTextCandidateFunc(conf)(actor.description, g, rect.x, rect.y, rect.width, rect.height, {
              class: "actor"
            }, conf);
            var height = actor.height;
            if (rectElem.node) {
              var bounds2 = rectElem.node().getBBox();
              actor.height = bounds2.height;
              height = bounds2.height;
            }
            return height;
          };
          var drawActorTypeActor = function drawActorTypeActor2(elem, actor, conf) {
            var center2 = actor.x + actor.width / 2;
            if (actor.y === 0) {
              actorCnt++;
              elem.append("line").attr("id", "actor" + actorCnt).attr("x1", center2).attr("y1", 80).attr("x2", center2).attr("y2", 2e3).attr("class", "actor-line").attr("stroke-width", "0.5px").attr("stroke", "#999");
            }
            var actElem = elem.append("g");
            actElem.attr("class", "actor-man");
            var rect = getNoteRect();
            rect.x = actor.x;
            rect.y = actor.y;
            rect.fill = "#eaeaea";
            rect.width = actor.width;
            rect.height = actor.height;
            rect.class = "actor";
            rect.rx = 3;
            rect.ry = 3;
            actElem.append("line").attr("id", "actor-man-torso" + actorCnt).attr("x1", center2).attr("y1", actor.y + 25).attr("x2", center2).attr("y2", actor.y + 45);
            actElem.append("line").attr("id", "actor-man-arms" + actorCnt).attr("x1", center2 - 18).attr("y1", actor.y + 33).attr("x2", center2 + 18).attr("y2", actor.y + 33);
            actElem.append("line").attr("x1", center2 - 18).attr("y1", actor.y + 60).attr("x2", center2).attr("y2", actor.y + 45);
            actElem.append("line").attr("x1", center2).attr("y1", actor.y + 45).attr("x2", center2 + 16).attr("y2", actor.y + 60);
            var circle2 = actElem.append("circle");
            circle2.attr("cx", actor.x + actor.width / 2);
            circle2.attr("cy", actor.y + 10);
            circle2.attr("r", 15);
            circle2.attr("width", actor.width);
            circle2.attr("height", actor.height);
            var bounds2 = actElem.node().getBBox();
            actor.height = bounds2.height;
            _drawTextCandidateFunc(conf)(actor.description, actElem, rect.x, rect.y + 35, rect.width, rect.height, {
              class: "actor"
            }, conf);
            return actor.height;
          };
          var drawActor = function drawActor2(elem, actor, conf) {
            switch (actor.type) {
              case "actor":
                return drawActorTypeActor(elem, actor, conf);
              case "participant":
                return drawActorTypeParticipant(elem, actor, conf);
            }
          };
          var anchorElement = function anchorElement2(elem) {
            return elem.append("g");
          };
          var drawActivation = function drawActivation2(elem, bounds2, verticalPos, conf, actorActivations) {
            var rect = getNoteRect();
            var g = bounds2.anchored;
            rect.x = bounds2.startx;
            rect.y = bounds2.starty;
            rect.class = "activation" + actorActivations % 3;
            rect.width = bounds2.stopx - bounds2.startx;
            rect.height = verticalPos - bounds2.starty;
            drawRect(g, rect);
          };
          var drawLoop = function drawLoop2(elem, loopModel, labelText, conf) {
            var boxMargin = conf.boxMargin, boxTextMargin = conf.boxTextMargin, labelBoxHeight = conf.labelBoxHeight, labelBoxWidth = conf.labelBoxWidth, fontFamily = conf.messageFontFamily, fontSize = conf.messageFontSize, fontWeight = conf.messageFontWeight;
            var g = elem.append("g");
            var drawLoopLine = function drawLoopLine2(startx, starty, stopx, stopy) {
              return g.append("line").attr("x1", startx).attr("y1", starty).attr("x2", stopx).attr("y2", stopy).attr("class", "loopLine");
            };
            drawLoopLine(loopModel.startx, loopModel.starty, loopModel.stopx, loopModel.starty);
            drawLoopLine(loopModel.stopx, loopModel.starty, loopModel.stopx, loopModel.stopy);
            drawLoopLine(loopModel.startx, loopModel.stopy, loopModel.stopx, loopModel.stopy);
            drawLoopLine(loopModel.startx, loopModel.starty, loopModel.startx, loopModel.stopy);
            if (typeof loopModel.sections !== "undefined") {
              loopModel.sections.forEach(function(item) {
                drawLoopLine(loopModel.startx, item.y, loopModel.stopx, item.y).style("stroke-dasharray", "3, 3");
              });
            }
            var txt = getTextObj();
            txt.text = labelText;
            txt.x = loopModel.startx;
            txt.y = loopModel.starty;
            txt.fontFamily = fontFamily;
            txt.fontSize = fontSize;
            txt.fontWeight = fontWeight;
            txt.anchor = "middle";
            txt.valign = "middle";
            txt.tspan = false;
            txt.width = labelBoxWidth || 50;
            txt.height = labelBoxHeight || 20;
            txt.textMargin = boxTextMargin;
            txt.class = "labelText";
            drawLabel(g, txt);
            txt = getTextObj();
            txt.text = loopModel.title;
            txt.x = loopModel.startx + labelBoxWidth / 2 + (loopModel.stopx - loopModel.startx) / 2;
            txt.y = loopModel.starty + boxMargin + boxTextMargin;
            txt.anchor = "middle";
            txt.valign = "middle";
            txt.textMargin = boxTextMargin;
            txt.class = "loopText";
            txt.fontFamily = fontFamily;
            txt.fontSize = fontSize;
            txt.fontWeight = fontWeight;
            txt.wrap = true;
            var textElem = drawText(g, txt);
            if (typeof loopModel.sectionTitles !== "undefined") {
              loopModel.sectionTitles.forEach(function(item, idx) {
                if (item.message) {
                  txt.text = item.message;
                  txt.x = loopModel.startx + (loopModel.stopx - loopModel.startx) / 2;
                  txt.y = loopModel.sections[idx].y + boxMargin + boxTextMargin;
                  txt.class = "loopText";
                  txt.anchor = "middle";
                  txt.valign = "middle";
                  txt.tspan = false;
                  txt.fontFamily = fontFamily;
                  txt.fontSize = fontSize;
                  txt.fontWeight = fontWeight;
                  txt.wrap = loopModel.wrap;
                  textElem = drawText(g, txt);
                  var sectionHeight = Math.round(textElem.map(function(te) {
                    return (te._groups || te)[0][0].getBBox().height;
                  }).reduce(function(acc, curr) {
                    return acc + curr;
                  }));
                  loopModel.sections[idx].height += sectionHeight - (boxMargin + boxTextMargin);
                }
              });
            }
            loopModel.height = Math.round(loopModel.stopy - loopModel.starty);
            return g;
          };
          var drawBackgroundRect = function drawBackgroundRect2(elem, bounds2) {
            var rectElem = drawRect(elem, {
              x: bounds2.startx,
              y: bounds2.starty,
              width: bounds2.stopx - bounds2.startx,
              height: bounds2.stopy - bounds2.starty,
              fill: bounds2.fill,
              class: "rect"
            });
            rectElem.lower();
          };
          var insertDatabaseIcon = function insertDatabaseIcon2(elem) {
            elem.append("defs").append("symbol").attr("id", "database").attr("fill-rule", "evenodd").attr("clip-rule", "evenodd").append("path").attr("transform", "scale(.5)").attr("d", "M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z");
          };
          var insertComputerIcon = function insertComputerIcon2(elem) {
            elem.append("defs").append("symbol").attr("id", "computer").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z");
          };
          var insertClockIcon = function insertClockIcon2(elem) {
            elem.append("defs").append("symbol").attr("id", "clock").attr("width", "24").attr("height", "24").append("path").attr("transform", "scale(.5)").attr("d", "M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z");
          };
          var insertArrowHead = function insertArrowHead2(elem) {
            elem.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 9).attr("refY", 5).attr("markerUnits", "userSpaceOnUse").attr("markerWidth", 12).attr("markerHeight", 12).attr("orient", "auto").append("path").attr("d", "M 0 0 L 10 5 L 0 10 z");
          };
          var insertArrowFilledHead = function insertArrowFilledHead2(elem) {
            elem.append("defs").append("marker").attr("id", "filled-head").attr("refX", 18).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 18,7 L9,13 L14,7 L9,1 Z");
          };
          var insertSequenceNumber = function insertSequenceNumber2(elem) {
            elem.append("defs").append("marker").attr("id", "sequencenumber").attr("refX", 15).attr("refY", 15).attr("markerWidth", 60).attr("markerHeight", 40).attr("orient", "auto").append("circle").attr("cx", 15).attr("cy", 15).attr("r", 6);
          };
          var insertArrowCrossHead = function insertArrowCrossHead2(elem) {
            var defs = elem.append("defs");
            var marker = defs.append("marker").attr("id", "crosshead").attr("markerWidth", 15).attr("markerHeight", 8).attr("orient", "auto").attr("refX", 16).attr("refY", 4);
            marker.append("path").attr("fill", "black").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 9,2 V 6 L16,4 Z");
            marker.append("path").attr("fill", "none").attr("stroke", "#000000").style("stroke-dasharray", "0, 0").attr("stroke-width", "1px").attr("d", "M 0,1 L 6,7 M 6,1 L 0,7");
          };
          var getTextObj = function getTextObj2() {
            return {
              x: 0,
              y: 0,
              fill: void 0,
              anchor: void 0,
              style: "#666",
              width: void 0,
              height: void 0,
              textMargin: 0,
              rx: 0,
              ry: 0,
              tspan: true,
              valign: void 0
            };
          };
          var getNoteRect = function getNoteRect2() {
            return {
              x: 0,
              y: 0,
              fill: "#EDF2AE",
              stroke: "#666",
              width: 100,
              anchor: "start",
              height: 100,
              rx: 0,
              ry: 0
            };
          };
          var _drawTextCandidateFunc = function() {
            function byText(content, g, x2, y2, width, height, textAttrs) {
              var text2 = g.append("text").attr("x", x2 + width / 2).attr("y", y2 + height / 2 + 5).style("text-anchor", "middle").text(content);
              _setTextAttrs(text2, textAttrs);
            }
            function byTspan(content, g, x2, y2, width, height, textAttrs, conf) {
              var actorFontSize = conf.actorFontSize, actorFontFamily = conf.actorFontFamily, actorFontWeight = conf.actorFontWeight;
              var _actorFontSize = actorFontSize && actorFontSize.replace ? actorFontSize.replace("px", "") : actorFontSize;
              var lines = content.split(_common_common__WEBPACK_IMPORTED_MODULE_2__["default"].lineBreakRegex);
              for (var i = 0; i < lines.length; i++) {
                var dy = i * _actorFontSize - _actorFontSize * (lines.length - 1) / 2;
                var text2 = g.append("text").attr("x", x2 + width / 2).attr("y", y2).style("text-anchor", "middle").style("font-size", actorFontSize).style("font-weight", actorFontWeight).style("font-family", actorFontFamily);
                text2.append("tspan").attr("x", x2 + width / 2).attr("dy", dy).text(lines[i]);
                text2.attr("y", y2 + height / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");
                _setTextAttrs(text2, textAttrs);
              }
            }
            function byFo(content, g, x2, y2, width, height, textAttrs, conf) {
              var s2 = g.append("switch");
              var f = s2.append("foreignObject").attr("x", x2).attr("y", y2).attr("width", width).attr("height", height);
              var text2 = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
              text2.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
              byTspan(content, s2, x2, y2, width, height, textAttrs, conf);
              _setTextAttrs(text2, textAttrs);
            }
            function _setTextAttrs(toText, fromTextAttrsDict) {
              for (var key in fromTextAttrsDict) {
                if (fromTextAttrsDict.hasOwnProperty(key)) {
                  toText.attr(key, fromTextAttrsDict[key]);
                }
              }
            }
            return function(conf) {
              return conf.textPlacement === "fo" ? byFo : conf.textPlacement === "old" ? byText : byTspan;
            };
          }();
          var _drawMenuItemTextCandidateFunc = function() {
            function byText(content, g, x2, y2, width, height, textAttrs) {
              var text2 = g.append("text").attr("x", x2).attr("y", y2).style("text-anchor", "start").text(content);
              _setTextAttrs(text2, textAttrs);
            }
            function byTspan(content, g, x2, y2, width, height, textAttrs, conf) {
              var actorFontSize = conf.actorFontSize, actorFontFamily = conf.actorFontFamily, actorFontWeight = conf.actorFontWeight;
              var lines = content.split(_common_common__WEBPACK_IMPORTED_MODULE_2__["default"].lineBreakRegex);
              for (var i = 0; i < lines.length; i++) {
                var dy = i * actorFontSize - actorFontSize * (lines.length - 1) / 2;
                var text2 = g.append("text").attr("x", x2).attr("y", y2).style("text-anchor", "start").style("font-size", actorFontSize).style("font-weight", actorFontWeight).style("font-family", actorFontFamily);
                text2.append("tspan").attr("x", x2).attr("dy", dy).text(lines[i]);
                text2.attr("y", y2 + height / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");
                _setTextAttrs(text2, textAttrs);
              }
            }
            function byFo(content, g, x2, y2, width, height, textAttrs, conf) {
              var s2 = g.append("switch");
              var f = s2.append("foreignObject").attr("x", x2).attr("y", y2).attr("width", width).attr("height", height);
              var text2 = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
              text2.append("div").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
              byTspan(content, s2, x2, y2, width, height, textAttrs, conf);
              _setTextAttrs(text2, textAttrs);
            }
            function _setTextAttrs(toText, fromTextAttrsDict) {
              for (var key in fromTextAttrsDict) {
                if (fromTextAttrsDict.hasOwnProperty(key)) {
                  toText.attr(key, fromTextAttrsDict[key]);
                }
              }
            }
            return function(conf) {
              return conf.textPlacement === "fo" ? byFo : conf.textPlacement === "old" ? byText : byTspan;
            };
          }();
          const __WEBPACK_DEFAULT_EXPORT__ = {
            drawRect,
            drawText,
            drawLabel,
            drawActor,
            drawPopup,
            drawImage,
            drawEmbeddedImage,
            anchorElement,
            drawActivation,
            drawLoop,
            drawBackgroundRect,
            insertArrowHead,
            insertArrowFilledHead,
            insertSequenceNumber,
            insertArrowCrossHead,
            insertDatabaseIcon,
            insertComputerIcon,
            insertClockIcon,
            getTextObj,
            getNoteRect,
            popupMenu,
            popdownMenu,
            fixLifeLineHeights,
            sanitizeUrl: _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl
          };
        },
        "./src/diagrams/state/id-cache.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "get": () => get2,
            "keys": () => keys2,
            "set": () => set2,
            "size": () => size
          });
          var idCache = {};
          var set2 = function set3(key, val) {
            idCache[key] = val;
          };
          var get2 = function get3(k2) {
            return idCache[k2];
          };
          var keys2 = function keys3() {
            return Object.keys(idCache);
          };
          var size = function size2() {
            return keys2().length;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            get: get2,
            set: set2,
            keys: keys2,
            size
          };
        },
        "./src/diagrams/state/shapes.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addTitleAndBox": () => addTitleAndBox,
            "drawDescrState": () => drawDescrState,
            "drawDivider": () => drawDivider,
            "drawEdge": () => drawEdge,
            "drawNote": () => drawNote,
            "drawSimpleState": () => drawSimpleState,
            "drawStartState": () => drawStartState,
            "drawState": () => drawState,
            "drawText": () => drawText
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _id_cache_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/state/id-cache.js");
          var _stateDb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/state/stateDb.js");
          var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/utils.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/logger.js");
          function _createForOfIteratorHelper(o, allowArrayLike) {
            var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
            if (!it) {
              if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
                if (it)
                  o = it;
                var i = 0;
                var F = function F2() {
                };
                return { s: F, n: function n() {
                  if (i >= o.length)
                    return { done: true };
                  return { done: false, value: o[i++] };
                }, e: function e(_e) {
                  throw _e;
                }, f: F };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var normalCompletion = true, didErr = false, err;
            return { s: function s2() {
              it = it.call(o);
            }, n: function n() {
              var step2 = it.next();
              normalCompletion = step2.done;
              return step2;
            }, e: function e(_e2) {
              didErr = true;
              err = _e2;
            }, f: function f() {
              try {
                if (!normalCompletion && it.return != null)
                  it.return();
              } finally {
                if (didErr)
                  throw err;
              }
            } };
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          var drawStartState = function drawStartState2(g) {
            return g.append("circle").attr("class", "start-state").attr("r", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr("cx", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr("cy", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit);
          };
          var drawDivider = function drawDivider2(g) {
            return g.append("line").style("stroke", "grey").style("stroke-dasharray", "3").attr("x1", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("class", "divider").attr("x2", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight * 2).attr("y1", 0).attr("y2", 0);
          };
          var drawSimpleState = function drawSimpleState2(g, stateDef) {
            var state = g.append("text").attr("x", 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("font-size", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr("class", "state-title").text(stateDef.id);
            var classBox = state.node().getBBox();
            g.insert("rect", ":first-child").attr("x", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width", classBox.width + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("height", classBox.height + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("rx", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius);
            return state;
          };
          var drawDescrState = function drawDescrState2(g, stateDef) {
            var addTspan = function addTspan2(textEl, txt, isFirst2) {
              var tSpan = textEl.append("tspan").attr("x", 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).text(txt);
              if (!isFirst2) {
                tSpan.attr("dy", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight);
              }
            };
            var title = g.append("text").attr("x", 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight + 1.3 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("font-size", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr("class", "state-title").text(stateDef.descriptions[0]);
            var titleBox = title.node().getBBox();
            var titleHeight = titleBox.height;
            var description = g.append("text").attr("x", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y", titleHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding * 0.4 + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("class", "state-description");
            var isFirst = true;
            var isSecond = true;
            stateDef.descriptions.forEach(function(descr) {
              if (!isFirst) {
                addTspan(description, descr, isSecond);
                isSecond = false;
              }
              isFirst = false;
            });
            var descrLine = g.append("line").attr("x1", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y1", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + titleHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin / 2).attr("y2", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + titleHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin / 2).attr("class", "descr-divider");
            var descrBox = description.node().getBBox();
            var width = Math.max(descrBox.width, titleBox.width);
            descrLine.attr("x2", width + 3 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding);
            g.insert("rect", ":first-child").attr("x", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width", width + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("height", descrBox.height + titleHeight + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("rx", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius);
            return g;
          };
          var addTitleAndBox = function addTitleAndBox2(g, stateDef, altBkg) {
            var pad2 = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;
            var dblPad = 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;
            var orgBox = g.node().getBBox();
            var orgWidth = orgBox.width;
            var orgX = orgBox.x;
            var title = g.append("text").attr("x", 0).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift).attr("font-size", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr("class", "state-title").text(stateDef.id);
            var titleBox = title.node().getBBox();
            var titleWidth = titleBox.width + dblPad;
            var width = Math.max(titleWidth, orgWidth);
            if (width === orgWidth) {
              width = width + dblPad;
            }
            var startX;
            var graphBox = g.node().getBBox();
            if (stateDef.doc)
              ;
            startX = orgX - pad2;
            if (titleWidth > orgWidth) {
              startX = (orgWidth - width) / 2 + pad2;
            }
            if (Math.abs(orgX - graphBox.x) < pad2) {
              if (titleWidth > orgWidth) {
                startX = orgX - (titleWidth - orgWidth) / 2;
              }
            }
            var lineY = 1 - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight;
            g.insert("rect", ":first-child").attr("x", startX).attr("y", lineY).attr("class", altBkg ? "alt-composit" : "composit").attr("width", width).attr("height", graphBox.height + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift + 1).attr("rx", "0");
            title.attr("x", startX + pad2);
            if (titleWidth <= orgWidth)
              title.attr("x", orgX + (width - dblPad) / 2 - titleWidth / 2 + pad2);
            g.insert("rect", ":first-child").attr("x", startX).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width", width).attr("height", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight * 3).attr("rx", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius);
            g.insert("rect", ":first-child").attr("x", startX).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width", width).attr("height", graphBox.height + 3 + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("rx", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius);
            return g;
          };
          var drawEndState = function drawEndState2(g) {
            g.append("circle").attr("class", "end-state-outer").attr("r", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding).attr("cx", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding).attr("cy", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding);
            return g.append("circle").attr("class", "end-state-inner").attr("r", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr("cx", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + 2).attr("cy", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit + 2);
          };
          var drawForkJoinState = function drawForkJoinState2(g, stateDef) {
            var width = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.forkWidth;
            var height = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.forkHeight;
            if (stateDef.parentId) {
              var tmp = width;
              width = height;
              height = tmp;
            }
            return g.append("rect").style("stroke", "black").style("fill", "black").attr("width", width).attr("height", height).attr("x", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding);
          };
          var drawText = function drawText2(elem, textData) {
            var nText = textData.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_2__["default"].lineBreakRegex, " ");
            var textElem = elem.append("text");
            textElem.attr("x", textData.x);
            textElem.attr("y", textData.y);
            textElem.style("text-anchor", textData.anchor);
            textElem.attr("fill", textData.fill);
            if (typeof textData.class !== "undefined") {
              textElem.attr("class", textData.class);
            }
            var span = textElem.append("tspan");
            span.attr("x", textData.x + textData.textMargin * 2);
            span.attr("fill", textData.fill);
            span.text(nText);
            return textElem;
          };
          var _drawLongText = function _drawLongText2(_text, x2, y2, g) {
            var textHeight = 0;
            var textElem = g.append("text");
            textElem.style("text-anchor", "start");
            textElem.attr("class", "noteText");
            var text2 = _text.replace(/\r\n/g, "<br/>");
            text2 = text2.replace(/\n/g, "<br/>");
            var lines = text2.split(_common_common__WEBPACK_IMPORTED_MODULE_2__["default"].lineBreakRegex);
            var tHeight = 1.25 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin;
            var _iterator = _createForOfIteratorHelper(lines), _step;
            try {
              for (_iterator.s(); !(_step = _iterator.n()).done; ) {
                var _line = _step.value;
                var txt = _line.trim();
                if (txt.length > 0) {
                  var span = textElem.append("tspan");
                  span.text(txt);
                  if (tHeight === 0) {
                    var textBounds = span.node().getBBox();
                    tHeight += textBounds.height;
                  }
                  textHeight += tHeight;
                  span.attr("x", x2 + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin);
                  span.attr("y", y2 + textHeight + 1.25 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin);
                }
              }
            } catch (err) {
              _iterator.e(err);
            } finally {
              _iterator.f();
            }
            return {
              textWidth: textElem.node().getBBox().width,
              textHeight
            };
          };
          var drawNote = function drawNote2(text2, g) {
            g.attr("class", "state-note");
            var note = g.append("rect").attr("x", 0).attr("y", (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding);
            var rectElem = g.append("g");
            var _drawLongText2 = _drawLongText(text2, 0, 0, rectElem), textWidth = _drawLongText2.textWidth, textHeight = _drawLongText2.textHeight;
            note.attr("height", textHeight + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin);
            note.attr("width", textWidth + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin * 2);
            return note;
          };
          var drawState = function drawState2(elem, stateDef) {
            var id2 = stateDef.id;
            var stateInfo = {
              id: id2,
              label: stateDef.id,
              width: 0,
              height: 0
            };
            var g = elem.append("g").attr("id", id2).attr("class", "stateGroup");
            if (stateDef.type === "start")
              drawStartState(g);
            if (stateDef.type === "end")
              drawEndState(g);
            if (stateDef.type === "fork" || stateDef.type === "join")
              drawForkJoinState(g, stateDef);
            if (stateDef.type === "note")
              drawNote(stateDef.note.text, g);
            if (stateDef.type === "divider")
              drawDivider(g);
            if (stateDef.type === "default" && stateDef.descriptions.length === 0)
              drawSimpleState(g, stateDef);
            if (stateDef.type === "default" && stateDef.descriptions.length > 0)
              drawDescrState(g, stateDef);
            var stateBox = g.node().getBBox();
            stateInfo.width = stateBox.width + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;
            stateInfo.height = stateBox.height + 2 * (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding;
            _id_cache_js__WEBPACK_IMPORTED_MODULE_3__["default"].set(id2, stateInfo);
            return stateInfo;
          };
          var edgeCount = 0;
          var drawEdge = function drawEdge2(elem, path2, relation) {
            var getRelationType = function getRelationType2(type2) {
              switch (type2) {
                case _stateDb__WEBPACK_IMPORTED_MODULE_4__["default"].relationType.AGGREGATION:
                  return "aggregation";
                case _stateDb__WEBPACK_IMPORTED_MODULE_4__["default"].relationType.EXTENSION:
                  return "extension";
                case _stateDb__WEBPACK_IMPORTED_MODULE_4__["default"].relationType.COMPOSITION:
                  return "composition";
                case _stateDb__WEBPACK_IMPORTED_MODULE_4__["default"].relationType.DEPENDENCY:
                  return "dependency";
              }
            };
            path2.points = path2.points.filter(function(p) {
              return !Number.isNaN(p.y);
            });
            var lineData = path2.points;
            var lineFunction = (0, d3__WEBPACK_IMPORTED_MODULE_0__.line)().x(function(d) {
              return d.x;
            }).y(function(d) {
              return d.y;
            }).curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis);
            var svgPath = elem.append("path").attr("d", lineFunction(lineData)).attr("id", "edge" + edgeCount).attr("class", "transition");
            var url = "";
            if ((0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.arrowMarkerAbsolute) {
              url = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search;
              url = url.replace(/\(/g, "\\(");
              url = url.replace(/\)/g, "\\)");
            }
            svgPath.attr("marker-end", "url(" + url + "#" + getRelationType(_stateDb__WEBPACK_IMPORTED_MODULE_4__["default"].relationType.DEPENDENCY) + "End)");
            if (typeof relation.title !== "undefined") {
              var label = elem.append("g").attr("class", "stateLabel");
              var _utils$calcLabelPosit = _utils__WEBPACK_IMPORTED_MODULE_5__["default"].calcLabelPosition(path2.points), x2 = _utils$calcLabelPosit.x, y2 = _utils$calcLabelPosit.y;
              var rows = _common_common__WEBPACK_IMPORTED_MODULE_2__["default"].getRows(relation.title);
              var titleHeight = 0;
              var titleRows = [];
              var maxWidth = 0;
              var minX = 0;
              for (var i = 0; i <= rows.length; i++) {
                var title = label.append("text").attr("text-anchor", "middle").text(rows[i]).attr("x", x2).attr("y", y2 + titleHeight);
                var boundstmp = title.node().getBBox();
                maxWidth = Math.max(maxWidth, boundstmp.width);
                minX = Math.min(minX, boundstmp.x);
                _logger__WEBPACK_IMPORTED_MODULE_6__.log.info(boundstmp.x, x2, y2 + titleHeight);
                if (titleHeight === 0) {
                  var titleBox = title.node().getBBox();
                  titleHeight = titleBox.height;
                  _logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Title height", titleHeight, y2);
                }
                titleRows.push(title);
              }
              var boxHeight = titleHeight * rows.length;
              if (rows.length > 1) {
                var heightAdj = (rows.length - 1) * titleHeight * 0.5;
                titleRows.forEach(function(title2, i2) {
                  return title2.attr("y", y2 + i2 * titleHeight - heightAdj);
                });
                boxHeight = titleHeight * rows.length;
              }
              var bounds2 = label.node().getBBox();
              label.insert("rect", ":first-child").attr("class", "box").attr("x", x2 - maxWidth / 2 - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding / 2).attr("y", y2 - boxHeight / 2 - (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding / 2 - 3.5).attr("width", maxWidth + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("height", boxHeight + (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding);
              _logger__WEBPACK_IMPORTED_MODULE_6__.log.info(bounds2);
            }
            edgeCount++;
          };
        },
        "./src/diagrams/state/stateDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addRelation": () => addRelation,
            "addState": () => addState,
            "cleanupLabel": () => cleanupLabel,
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "getRelations": () => getRelations,
            "getState": () => getState,
            "getStates": () => getStates,
            "lineType": () => lineType,
            "logDocuments": () => logDocuments,
            "parseDirective": () => parseDirective,
            "relationType": () => relationType
          });
          var _logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/logger.js");
          var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/utils.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/mermaidAPI.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/commonDb.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          var clone = function clone2(o) {
            return JSON.parse(JSON.stringify(o));
          };
          var rootDoc = [];
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__["default"].parseDirective(this, statement, context, type2);
          };
          var setRootDoc = function setRootDoc2(o) {
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.info("Setting root doc", o);
            rootDoc = o;
          };
          var getRootDoc = function getRootDoc2() {
            return rootDoc;
          };
          var docTranslator = function docTranslator2(parent, node, first) {
            if (node.stmt === "relation") {
              docTranslator2(parent, node.state1, true);
              docTranslator2(parent, node.state2, false);
            } else {
              if (node.stmt === "state") {
                if (node.id === "[*]") {
                  node.id = first ? parent.id + "_start" : parent.id + "_end";
                  node.start = first;
                }
              }
              if (node.doc) {
                var doc = [];
                var i = 0;
                var currentDoc = [];
                for (i = 0; i < node.doc.length; i++) {
                  if (node.doc[i].type === "divider") {
                    var newNode = clone(node.doc[i]);
                    newNode.doc = clone(currentDoc);
                    doc.push(newNode);
                    currentDoc = [];
                  } else {
                    currentDoc.push(node.doc[i]);
                  }
                }
                if (doc.length > 0 && currentDoc.length > 0) {
                  var _newNode = {
                    stmt: "state",
                    id: (0, _utils__WEBPACK_IMPORTED_MODULE_4__.generateId)(),
                    type: "divider",
                    doc: clone(currentDoc)
                  };
                  doc.push(clone(_newNode));
                  node.doc = doc;
                }
                node.doc.forEach(function(docNode) {
                  return docTranslator2(node, docNode, true);
                });
              }
            }
          };
          var getRootDocV2 = function getRootDocV22() {
            docTranslator({
              id: "root"
            }, {
              id: "root",
              doc: rootDoc
            }, true);
            return {
              id: "root",
              doc: rootDoc
            };
          };
          var extract = function extract2(_doc) {
            var doc;
            if (_doc.doc) {
              doc = _doc.doc;
            } else {
              doc = _doc;
            }
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.info(doc);
            clear(true);
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.info("Extract", doc);
            doc.forEach(function(item) {
              if (item.stmt === "state") {
                addState(item.id, item.type, item.doc, item.description, item.note);
              }
              if (item.stmt === "relation") {
                addRelation(item.state1.id, item.state2.id, item.description);
              }
            });
          };
          var newDoc = function newDoc2() {
            return {
              relations: [],
              states: {},
              documents: {}
            };
          };
          var documents = {
            root: newDoc()
          };
          var currentDocument = documents.root;
          var startCnt = 0;
          var addState = function addState2(id2, type2, doc, descr, note) {
            if (typeof currentDocument.states[id2] === "undefined") {
              currentDocument.states[id2] = {
                id: id2,
                descriptions: [],
                type: type2,
                doc,
                note
              };
            } else {
              if (!currentDocument.states[id2].doc) {
                currentDocument.states[id2].doc = doc;
              }
              if (!currentDocument.states[id2].type) {
                currentDocument.states[id2].type = type2;
              }
            }
            if (descr) {
              _logger__WEBPACK_IMPORTED_MODULE_3__.log.info("Adding state ", id2, descr);
              if (typeof descr === "string")
                addDescription(id2, descr.trim());
              if (_typeof(descr) === "object") {
                descr.forEach(function(des) {
                  return addDescription(id2, des.trim());
                });
              }
            }
            if (note) {
              currentDocument.states[id2].note = note;
              currentDocument.states[id2].note.text = _common_common__WEBPACK_IMPORTED_MODULE_0__["default"].sanitizeText(currentDocument.states[id2].note.text, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig());
            }
          };
          var clear = function clear2(saveCommon) {
            documents = {
              root: newDoc()
            };
            currentDocument = documents.root;
            currentDocument = documents.root;
            startCnt = 0;
            classes = [];
            if (!saveCommon) {
              (0, _commonDb__WEBPACK_IMPORTED_MODULE_5__.clear)();
            }
          };
          var getState = function getState2(id2) {
            return currentDocument.states[id2];
          };
          var getStates = function getStates2() {
            return currentDocument.states;
          };
          var logDocuments = function logDocuments2() {
            _logger__WEBPACK_IMPORTED_MODULE_3__.log.info("Documents = ", documents);
          };
          var getRelations = function getRelations2() {
            return currentDocument.relations;
          };
          var addRelation = function addRelation2(_id1, _id2, title) {
            var id1 = _id1;
            var id2 = _id2;
            var type1 = "default";
            var type2 = "default";
            if (_id1 === "[*]") {
              startCnt++;
              id1 = "start" + startCnt;
              type1 = "start";
            }
            if (_id2 === "[*]") {
              id2 = "end" + startCnt;
              type2 = "end";
            }
            addState(id1, type1);
            addState(id2, type2);
            currentDocument.relations.push({
              id1,
              id2,
              title: _common_common__WEBPACK_IMPORTED_MODULE_0__["default"].sanitizeText(title, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig())
            });
          };
          var addDescription = function addDescription2(id2, _descr) {
            var theState = currentDocument.states[id2];
            var descr = _descr;
            if (descr[0] === ":") {
              descr = descr.substr(1).trim();
            }
            theState.descriptions.push(_common_common__WEBPACK_IMPORTED_MODULE_0__["default"].sanitizeText(descr, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig()));
          };
          var cleanupLabel = function cleanupLabel2(label) {
            if (label.substring(0, 1) === ":") {
              return label.substr(2).trim();
            } else {
              return label.trim();
            }
          };
          var lineType = {
            LINE: 0,
            DOTTED_LINE: 1
          };
          var dividerCnt = 0;
          var getDividerId = function getDividerId2() {
            dividerCnt++;
            return "divider-id-" + dividerCnt;
          };
          var classes = [];
          var getClasses = function getClasses2() {
            return classes;
          };
          var direction = "TB";
          var getDirection = function getDirection2() {
            return direction;
          };
          var setDirection = function setDirection2(dir) {
            direction = dir;
          };
          var relationType = {
            AGGREGATION: 0,
            EXTENSION: 1,
            COMPOSITION: 2,
            DEPENDENCY: 3
          };
          var trimColon = function trimColon2(str) {
            return str && str[0] === ":" ? str.substr(1).trim() : str.trim();
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().state;
            },
            addState,
            clear,
            getState,
            getStates,
            getRelations,
            getClasses,
            getDirection,
            addRelation,
            getDividerId,
            setDirection,
            cleanupLabel,
            lineType,
            relationType,
            logDocuments,
            getRootDoc,
            setRootDoc,
            getRootDocV2,
            extract,
            trimColon,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccTitle,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccTitle,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.getAccDescription,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_5__.setAccDescription
          };
        },
        "./src/diagrams/state/stateRenderer-v2.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "getClasses": () => getClasses,
            "setConf": () => setConf
          });
          var graphlib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_0__);
          var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("d3");
          var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/config.js");
          var _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/dagre-wrapper/index.js");
          var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/logger.js");
          var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/utils.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/accessibility.js");
          var conf = {};
          var setConf = function setConf2(cnf) {
            var keys2 = Object.keys(cnf);
            for (var i = 0; i < keys2.length; i++) {
              conf[keys2[i]] = cnf[keys2[i]];
            }
          };
          var nodeDb = {};
          var getClasses = function getClasses2(text2, diag) {
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Extracting classes");
            diag.sb.clear();
            diag.parser.parse(text2);
            return diag.sb.getClasses();
          };
          var setupNode = function setupNode2(g, parent, node, altFlag) {
            if (node.id !== "root") {
              var shape = "rect";
              if (node.start === true) {
                shape = "start";
              }
              if (node.start === false) {
                shape = "end";
              }
              if (node.type !== "default") {
                shape = node.type;
              }
              if (!nodeDb[node.id]) {
                nodeDb[node.id] = {
                  id: node.id,
                  shape,
                  description: _common_common__WEBPACK_IMPORTED_MODULE_3__["default"].sanitizeText(node.id, (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)()),
                  classes: "statediagram-state"
                };
              }
              if (node.description) {
                if (Array.isArray(nodeDb[node.id].description)) {
                  nodeDb[node.id].shape = "rectWithTitle";
                  nodeDb[node.id].description.push(node.description);
                } else {
                  if (nodeDb[node.id].description.length > 0) {
                    nodeDb[node.id].shape = "rectWithTitle";
                    if (nodeDb[node.id].description === node.id) {
                      nodeDb[node.id].description = [node.description];
                    } else {
                      nodeDb[node.id].description = [nodeDb[node.id].description, node.description];
                    }
                  } else {
                    nodeDb[node.id].shape = "rect";
                    nodeDb[node.id].description = node.description;
                  }
                }
                nodeDb[node.id].description = _common_common__WEBPACK_IMPORTED_MODULE_3__["default"].sanitizeTextOrArray(nodeDb[node.id].description, (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)());
              }
              if (nodeDb[node.id].description.length === 1 && nodeDb[node.id].shape === "rectWithTitle") {
                nodeDb[node.id].shape = "rect";
              }
              if (!nodeDb[node.id].type && node.doc) {
                _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Setting cluster for ", node.id, getDir(node));
                nodeDb[node.id].type = "group";
                nodeDb[node.id].dir = getDir(node);
                nodeDb[node.id].shape = node.type === "divider" ? "divider" : "roundedWithTitle";
                nodeDb[node.id].classes = nodeDb[node.id].classes + " " + (altFlag ? "statediagram-cluster statediagram-cluster-alt" : "statediagram-cluster");
              }
              var nodeData = {
                labelStyle: "",
                shape: nodeDb[node.id].shape,
                labelText: nodeDb[node.id].description,
                classes: nodeDb[node.id].classes,
                style: "",
                id: node.id,
                dir: nodeDb[node.id].dir,
                domId: "state-" + node.id + "-" + cnt,
                type: nodeDb[node.id].type,
                padding: 15
              };
              if (node.note) {
                var noteData = {
                  labelStyle: "",
                  shape: "note",
                  labelText: node.note.text,
                  classes: "statediagram-note",
                  style: "",
                  id: node.id + "----note-" + cnt,
                  domId: "state-" + node.id + "----note-" + cnt,
                  type: nodeDb[node.id].type,
                  padding: 15
                };
                var groupData = {
                  labelStyle: "",
                  shape: "noteGroup",
                  labelText: node.note.text,
                  classes: nodeDb[node.id].classes,
                  style: "",
                  id: node.id + "----parent",
                  domId: "state-" + node.id + "----parent-" + cnt,
                  type: "group",
                  padding: 0
                };
                cnt++;
                g.setNode(node.id + "----parent", groupData);
                g.setNode(noteData.id, noteData);
                g.setNode(node.id, nodeData);
                g.setParent(node.id, node.id + "----parent");
                g.setParent(noteData.id, node.id + "----parent");
                var from = node.id;
                var to = noteData.id;
                if (node.note.position === "left of") {
                  from = noteData.id;
                  to = node.id;
                }
                g.setEdge(from, to, {
                  arrowhead: "none",
                  arrowType: "",
                  style: "fill:none",
                  labelStyle: "",
                  classes: "transition note-edge",
                  arrowheadStyle: "fill: #333",
                  labelpos: "c",
                  labelType: "text",
                  thickness: "normal"
                });
              } else {
                g.setNode(node.id, nodeData);
              }
            }
            if (parent) {
              if (parent.id !== "root") {
                _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Setting node ", node.id, " to be child of its parent ", parent.id);
                g.setParent(node.id, parent.id);
              }
            }
            if (node.doc) {
              _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Adding nodes children ");
              setupDoc(g, node, node.doc, !altFlag);
            }
          };
          var cnt = 0;
          var setupDoc = function setupDoc2(g, parent, doc, altFlag) {
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("items", doc);
            doc.forEach(function(item) {
              if (item.stmt === "state" || item.stmt === "default") {
                setupNode(g, parent, item, altFlag);
              } else if (item.stmt === "relation") {
                setupNode(g, parent, item.state1, altFlag);
                setupNode(g, parent, item.state2, altFlag);
                var edgeData = {
                  id: "edge" + cnt,
                  arrowhead: "normal",
                  arrowTypeEnd: "arrow_barb",
                  style: "fill:none",
                  labelStyle: "",
                  label: _common_common__WEBPACK_IMPORTED_MODULE_3__["default"].sanitizeText(item.description, (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)()),
                  arrowheadStyle: "fill: #333",
                  labelpos: "c",
                  labelType: "text",
                  thickness: "normal",
                  classes: "transition"
                };
                var startId = item.state1.id;
                var endId = item.state2.id;
                g.setEdge(startId, endId, edgeData, cnt);
                cnt++;
              }
            });
          };
          var getDir = function getDir2(nodes, defaultDir) {
            var dir = defaultDir || "TB";
            if (nodes.doc) {
              for (var i = 0; i < nodes.doc.length; i++) {
                var node = nodes.doc[i];
                if (node.stmt === "dir") {
                  dir = node.value;
                }
              }
            }
            return dir;
          };
          var draw = function draw2(text2, id2, _version, diag) {
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Drawing state diagram (v2)", id2);
            nodeDb = {};
            diag.db.getDirection();
            var conf2 = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().state;
            var nodeSpacing = conf2.nodeSpacing || 50;
            var rankSpacing = conf2.rankSpacing || 50;
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(diag.db.getRootDocV2());
            diag.db.extract(diag.db.getRootDocV2());
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.info(diag.db.getRootDocV2());
            var g = new (graphlib__WEBPACK_IMPORTED_MODULE_0___default()).Graph({
              multigraph: true,
              compound: true
            }).setGraph({
              rankdir: getDir(diag.db.getRootDocV2()),
              nodesep: nodeSpacing,
              ranksep: rankSpacing,
              marginx: 8,
              marginy: 8
            }).setDefaultEdgeLabel(function() {
              return {};
            });
            setupNode(g, void 0, diag.db.getRootDocV2(), true);
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");
            securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            var svg2 = root2.select('[id="'.concat(id2, '"]'));
            var element = root2.select("#" + id2 + " g");
            (0, _dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_5__.render)(element, g, ["barb"], "statediagram", id2);
            var padding = 8;
            var bounds2 = svg2.node().getBBox();
            var width = bounds2.width + padding * 2;
            var height = bounds2.height + padding * 2;
            svg2.attr("class", "statediagram");
            var svgBounds = svg2.node().getBBox();
            (0, _utils__WEBPACK_IMPORTED_MODULE_6__.configureSvgSize)(svg2, height, width, conf2.useMaxWidth);
            var vBox = "".concat(svgBounds.x - padding, " ").concat(svgBounds.y - padding, " ").concat(width, " ").concat(height);
            _logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("viewBox ".concat(vBox));
            svg2.attr("viewBox", vBox);
            var labels = document.querySelectorAll('[id="' + id2 + '"] .edgeLabel .label');
            for (var k2 = 0; k2 < labels.length; k2++) {
              var label = labels[k2];
              var dim = label.getBBox();
              var rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
              rect.setAttribute("rx", 0);
              rect.setAttribute("ry", 0);
              rect.setAttribute("width", dim.width);
              rect.setAttribute("height", dim.height);
              label.insertBefore(rect, label.firstChild);
            }
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_7__["default"])(diag.db, svg2, id2);
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            getClasses,
            draw
          };
        },
        "./src/diagrams/state/stateRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "setConf": () => setConf
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var dagre__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("dagre");
          var dagre__WEBPACK_IMPORTED_MODULE_1___default = /* @__PURE__ */ __webpack_require__2.n(dagre__WEBPACK_IMPORTED_MODULE_1__);
          var graphlib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("graphlib");
          var graphlib__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(graphlib__WEBPACK_IMPORTED_MODULE_2__);
          var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/logger.js");
          var _common_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _shapes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/diagrams/state/shapes.js");
          var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/config.js");
          var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/utils.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/accessibility.js");
          var conf;
          var transformationLog = {};
          var setConf = function setConf2() {
          };
          var insertMarkers = function insertMarkers2(elem) {
            elem.append("defs").append("marker").attr("id", "dependencyEnd").attr("refX", 19).attr("refY", 7).attr("markerWidth", 20).attr("markerHeight", 28).attr("orient", "auto").append("path").attr("d", "M 19,7 L9,13 L14,7 L9,1 Z");
          };
          var draw = function draw2(text2, id2, _version, diagObj) {
            conf = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().state;
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            var doc = securityLevel === "sandbox" ? sandboxElement.nodes()[0].contentDocument : document;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Rendering diagram " + text2);
            var diagram = root2.select("[id='".concat(id2, "']"));
            insertMarkers(diagram);
            var graph2 = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default()).Graph({
              multigraph: true,
              compound: true,
              rankdir: "RL"
            });
            graph2.setDefaultEdgeLabel(function() {
              return {};
            });
            var rootDoc = diagObj.db.getRootDoc();
            renderDoc(rootDoc, diagram, void 0, false, root2, doc, diagObj);
            var padding = conf.padding;
            var bounds2 = diagram.node().getBBox();
            var width = bounds2.width + padding * 2;
            var height = bounds2.height + padding * 2;
            var svgWidth = width * 1.75;
            (0, _utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(diagram, height, svgWidth, conf.useMaxWidth);
            diagram.attr("viewBox", "".concat(bounds2.x - conf.padding, "  ").concat(bounds2.y - conf.padding, " ") + width + " " + height);
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_6__["default"])(diagObj.db, diagram, id2);
          };
          var getLabelWidth = function getLabelWidth2(text2) {
            return text2 ? text2.length * conf.fontSizeFactor : 1;
          };
          var renderDoc = function renderDoc2(doc, diagram, parentId, altBkg, root2, domDocument, diagObj) {
            var graph2 = new (graphlib__WEBPACK_IMPORTED_MODULE_2___default()).Graph({
              compound: true,
              multigraph: true
            });
            var i;
            var edgeFreeDoc = true;
            for (i = 0; i < doc.length; i++) {
              if (doc[i].stmt === "relation") {
                edgeFreeDoc = false;
                break;
              }
            }
            if (parentId)
              graph2.setGraph({
                rankdir: "LR",
                multigraph: true,
                compound: true,
                ranker: "tight-tree",
                ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,
                nodeSep: edgeFreeDoc ? 1 : 50,
                isMultiGraph: true
              });
            else {
              graph2.setGraph({
                rankdir: "TB",
                multigraph: true,
                compound: true,
                ranksep: edgeFreeDoc ? 1 : conf.edgeLengthFactor,
                nodeSep: edgeFreeDoc ? 1 : 50,
                ranker: "tight-tree",
                isMultiGraph: true
              });
            }
            graph2.setDefaultEdgeLabel(function() {
              return {};
            });
            diagObj.db.extract(doc);
            var states = diagObj.db.getStates();
            var relations = diagObj.db.getRelations();
            var keys2 = Object.keys(states);
            for (var _i = 0; _i < keys2.length; _i++) {
              var stateDef = states[keys2[_i]];
              if (parentId) {
                stateDef.parentId = parentId;
              }
              var node = void 0;
              if (stateDef.doc) {
                var sub = diagram.append("g").attr("id", stateDef.id).attr("class", "stateGroup");
                node = renderDoc2(stateDef.doc, sub, stateDef.id, !altBkg, root2, domDocument, diagObj);
                {
                  sub = (0, _shapes__WEBPACK_IMPORTED_MODULE_7__.addTitleAndBox)(sub, stateDef, altBkg);
                  var boxBounds = sub.node().getBBox();
                  node.width = boxBounds.width;
                  node.height = boxBounds.height + conf.padding / 2;
                  transformationLog[stateDef.id] = {
                    y: conf.compositTitleSize
                  };
                }
              } else {
                node = (0, _shapes__WEBPACK_IMPORTED_MODULE_7__.drawState)(diagram, stateDef, graph2);
              }
              if (stateDef.note) {
                var noteDef = {
                  descriptions: [],
                  id: stateDef.id + "-note",
                  note: stateDef.note,
                  type: "note"
                };
                var note = (0, _shapes__WEBPACK_IMPORTED_MODULE_7__.drawState)(diagram, noteDef, graph2);
                if (stateDef.note.position === "left of") {
                  graph2.setNode(node.id + "-note", note);
                  graph2.setNode(node.id, node);
                } else {
                  graph2.setNode(node.id, node);
                  graph2.setNode(node.id + "-note", note);
                }
                graph2.setParent(node.id, node.id + "-group");
                graph2.setParent(node.id + "-note", node.id + "-group");
              } else {
                graph2.setNode(node.id, node);
              }
            }
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Count=", graph2.nodeCount(), graph2);
            var cnt = 0;
            relations.forEach(function(relation) {
              cnt++;
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Setting edge", relation);
              graph2.setEdge(relation.id1, relation.id2, {
                relation,
                width: getLabelWidth(relation.title),
                height: conf.labelHeight * _common_common__WEBPACK_IMPORTED_MODULE_8__["default"].getRows(relation.title).length,
                labelpos: "c"
              }, "id" + cnt);
            });
            dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(graph2);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Graph after layout", graph2.nodes());
            var svgElem = diagram.node();
            graph2.nodes().forEach(function(v) {
              if (typeof v !== "undefined" && typeof graph2.node(v) !== "undefined") {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("Node " + v + ": " + JSON.stringify(graph2.node(v)));
                root2.select("#" + svgElem.id + " #" + v).attr("transform", "translate(" + (graph2.node(v).x - graph2.node(v).width / 2) + "," + (graph2.node(v).y + (transformationLog[v] ? transformationLog[v].y : 0) - graph2.node(v).height / 2) + " )");
                root2.select("#" + svgElem.id + " #" + v).attr("data-x-shift", graph2.node(v).x - graph2.node(v).width / 2);
                var dividers = domDocument.querySelectorAll("#" + svgElem.id + " #" + v + " .divider");
                dividers.forEach(function(divider) {
                  var parent = divider.parentElement;
                  var pWidth = 0;
                  var pShift = 0;
                  if (parent) {
                    if (parent.parentElement)
                      pWidth = parent.parentElement.getBBox().width;
                    pShift = parseInt(parent.getAttribute("data-x-shift"), 10);
                    if (Number.isNaN(pShift)) {
                      pShift = 0;
                    }
                  }
                  divider.setAttribute("x1", 0 - pShift + 8);
                  divider.setAttribute("x2", pWidth - pShift - 8);
                });
              } else {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("No Node " + v + ": " + JSON.stringify(graph2.node(v)));
              }
            });
            var stateBox = svgElem.getBBox();
            graph2.edges().forEach(function(e) {
              if (typeof e !== "undefined" && typeof graph2.edge(e) !== "undefined") {
                _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(graph2.edge(e)));
                (0, _shapes__WEBPACK_IMPORTED_MODULE_7__.drawEdge)(diagram, graph2.edge(e), graph2.edge(e).relation);
              }
            });
            stateBox = svgElem.getBBox();
            var stateInfo = {
              id: parentId ? parentId : "root",
              label: parentId ? parentId : "root",
              width: 0,
              height: 0
            };
            stateInfo.width = stateBox.width + 2 * conf.padding;
            stateInfo.height = stateBox.height + 2 * conf.padding;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Doc rendered", stateInfo, graph2);
            return stateInfo;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            draw
          };
        },
        "./src/diagrams/state/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return "\ndefs #statediagram-barbEnd {\n    fill: ".concat(options.transitionColor, ";\n    stroke: ").concat(options.transitionColor, ";\n  }\ng.stateGroup text {\n  fill: ").concat(options.nodeBorder, ";\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ").concat(options.textColor, ";\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ").concat(options.stateLabelColor, ";\n}\n\ng.stateGroup rect {\n  fill: ").concat(options.mainBkg, ";\n  stroke: ").concat(options.nodeBorder, ";\n}\n\ng.stateGroup line {\n  stroke: ").concat(options.lineColor, ";\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ").concat(options.transitionColor, ";\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ").concat(options.background, ";\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ").concat(options.noteBorderColor, ";\n  fill: ").concat(options.noteBkgColor, ";\n\n  text {\n    fill: ").concat(options.noteTextColor, ";\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(options.mainBkg, ";\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ").concat(options.labelBackgroundColor, ";\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ").concat(options.transitionLabelColor || options.tertiaryTextColor, ";\n}\n.label div .edgeLabel {\n  color: ").concat(options.transitionLabelColor || options.tertiaryTextColor, ";\n}\n\n.stateLabel text {\n  fill: ").concat(options.stateLabelColor, ";\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ").concat(options.specialStateColor, ";\n  stroke: ").concat(options.specialStateColor, ";\n}\n\n.node .fork-join {\n  fill: ").concat(options.specialStateColor, ";\n  stroke: ").concat(options.specialStateColor, ";\n}\n\n.node circle.state-end {\n  fill: ").concat(options.innerEndBackground, ";\n  stroke: ").concat(options.background, ";\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ").concat(options.compositeBackground || options.background, ";\n  // stroke: ").concat(options.background, ";\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ").concat(options.stateBkg || options.mainBkg, ";\n  stroke: ").concat(options.stateBorder || options.nodeBorder, ";\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ").concat(options.mainBkg, ";\n  stroke: ").concat(options.stateBorder || options.nodeBorder, ";;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ").concat(options.lineColor, ";\n}\n\n.statediagram-cluster rect {\n  fill: ").concat(options.compositeTitleBackground, ";\n  stroke: ").concat(options.stateBorder || options.nodeBorder, ";\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ").concat(options.stateLabelColor, ";\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ").concat(options.stateBorder || options.nodeBorder, ";\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ").concat(options.compositeBackground || options.background, ";\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ").concat(options.altBackground ? options.altBackground : "#efefef", ";\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ").concat(options.altBackground ? options.altBackground : "#efefef", ";\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ").concat(options.noteBkgColor, ";\n  stroke: ").concat(options.noteBorderColor, ";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ").concat(options.noteBkgColor, ";\n  stroke: ").concat(options.noteBorderColor, ";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ").concat(options.noteTextColor, ";\n}\n\n.statediagram-note .nodeLabel {\n  color: ").concat(options.noteTextColor, ";\n}\n.statediagram .edgeLabel {\n  color: red; // ").concat(options.noteTextColor, ";\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ").concat(options.lineColor, ";\n  stroke: ").concat(options.lineColor, ";\n  stroke-width: 1;\n}\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/user-journey/journeyDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addSection": () => addSection,
            "addTask": () => addTask,
            "addTaskOrg": () => addTaskOrg,
            "clear": () => clear,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "getSections": () => getSections,
            "getTasks": () => getTasks,
            "parseDirective": () => parseDirective
          });
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/mermaidAPI.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          __webpack_require__2("./src/diagrams/common/common.js");
          var _commonDb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/commonDb.js");
          function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
          }
          function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
              return Array.from(iter);
          }
          function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr))
              return _arrayLikeToArray(arr);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          var currentSection = "";
          var sections = [];
          var tasks = [];
          var rawTasks = [];
          var parseDirective = function parseDirective2(statement, context, type2) {
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_2__["default"].parseDirective(this, statement, context, type2);
          };
          var clear = function clear2() {
            sections.length = 0;
            tasks.length = 0;
            currentSection = "";
            rawTasks.length = 0;
            (0, _commonDb__WEBPACK_IMPORTED_MODULE_3__.clear)();
          };
          var addSection = function addSection2(txt) {
            currentSection = txt;
            sections.push(txt);
          };
          var getSections = function getSections2() {
            return sections;
          };
          var getTasks = function getTasks2() {
            var allItemsProcessed = compileTasks();
            var maxDepth2 = 100;
            var iterationCount = 0;
            while (!allItemsProcessed && iterationCount < maxDepth2) {
              allItemsProcessed = compileTasks();
              iterationCount++;
            }
            tasks.push.apply(tasks, rawTasks);
            return tasks;
          };
          var updateActors = function updateActors2() {
            var tempActors = [];
            tasks.forEach(function(task) {
              if (task.people) {
                tempActors.push.apply(tempActors, _toConsumableArray(task.people));
              }
            });
            var unique2 = new Set(tempActors);
            return _toConsumableArray(unique2).sort();
          };
          var addTask = function addTask2(descr, taskData) {
            var pieces = taskData.substr(1).split(":");
            var score2 = 0;
            var peeps = [];
            if (pieces.length === 1) {
              score2 = Number(pieces[0]);
              peeps = [];
            } else {
              score2 = Number(pieces[0]);
              peeps = pieces[1].split(",");
            }
            var peopleList = peeps.map(function(s2) {
              return s2.trim();
            });
            var rawTask = {
              section: currentSection,
              type: currentSection,
              people: peopleList,
              task: descr,
              score: score2
            };
            rawTasks.push(rawTask);
          };
          var addTaskOrg = function addTaskOrg2(descr) {
            var newTask = {
              section: currentSection,
              type: currentSection,
              description: descr,
              task: descr,
              classes: []
            };
            tasks.push(newTask);
          };
          var compileTasks = function compileTasks2() {
            var compileTask = function compileTask2(pos) {
              return rawTasks[pos].processed;
            };
            var allProcessed = true;
            for (var i = 0; i < rawTasks.length; i++) {
              compileTask(i);
              allProcessed = allProcessed && rawTasks[i].processed;
            }
            return allProcessed;
          };
          var getActors = function getActors2() {
            return updateActors();
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            parseDirective,
            getConfig: function getConfig() {
              return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().journey;
            },
            clear,
            setDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle,
            getDiagramTitle: _commonDb__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle,
            setAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,
            getAccTitle: _commonDb__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,
            setAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_3__.setAccDescription,
            getAccDescription: _commonDb__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,
            addSection,
            getSections,
            getTasks,
            addTask,
            addTaskOrg,
            getActors
          };
        },
        "./src/diagrams/user-journey/journeyRenderer.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "bounds": () => bounds2,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "draw": () => draw,
            "drawTasks": () => drawTasks,
            "setConf": () => setConf
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var _svgDraw__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/user-journey/svgDraw.js");
          var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/config.js");
          var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/utils.js");
          var _accessibility__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/accessibility.js");
          var setConf = function setConf2(cnf) {
            var keys2 = Object.keys(cnf);
            keys2.forEach(function(key) {
              conf[key] = cnf[key];
            });
          };
          var actors = {};
          function drawActorLegend(diagram) {
            var conf2 = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().journey;
            var yPos = 60;
            Object.keys(actors).forEach(function(person) {
              var colour = actors[person].color;
              var circleData = {
                cx: 20,
                cy: yPos,
                r: 7,
                fill: colour,
                stroke: "#000",
                pos: actors[person].position
              };
              _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawCircle(diagram, circleData);
              var labelData = {
                x: 40,
                y: yPos + 7,
                fill: "#666",
                text: person,
                textMargin: conf2.boxTextMargin | 5
              };
              _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawText(diagram, labelData);
              yPos += 20;
            });
          }
          var conf = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().journey;
          var LEFT_MARGIN = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().journey.leftMargin;
          var draw = function draw2(text2, id2, version2, diagObj) {
            var conf2 = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().journey;
            diagObj.db.clear();
            diagObj.parser.parse(text2 + "\n");
            var securityLevel = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().securityLevel;
            var sandboxElement;
            if (securityLevel === "sandbox") {
              sandboxElement = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i" + id2);
            }
            var root2 = securityLevel === "sandbox" ? (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            bounds2.init();
            var diagram = root2.select("#" + id2);
            _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].initGraphics(diagram);
            var tasks = diagObj.db.getTasks();
            var title = diagObj.db.getDiagramTitle();
            var actorNames = diagObj.db.getActors();
            for (var member in actors) {
              delete actors[member];
            }
            var actorPos = 0;
            actorNames.forEach(function(actorName) {
              actors[actorName] = {
                color: conf2.actorColours[actorPos % conf2.actorColours.length],
                position: actorPos
              };
              actorPos++;
            });
            drawActorLegend(diagram);
            bounds2.insert(0, 0, LEFT_MARGIN, Object.keys(actors).length * 50);
            drawTasks(diagram, tasks, 0);
            var box = bounds2.getBounds();
            if (title) {
              diagram.append("text").text(title).attr("x", LEFT_MARGIN).attr("font-size", "4ex").attr("font-weight", "bold").attr("y", 25);
            }
            var height = box.stopy - box.starty + 2 * conf2.diagramMarginY;
            var width = LEFT_MARGIN + box.stopx + 2 * conf2.diagramMarginX;
            (0, _utils__WEBPACK_IMPORTED_MODULE_3__.configureSvgSize)(diagram, height, width, conf2.useMaxWidth);
            diagram.append("line").attr("x1", LEFT_MARGIN).attr("y1", conf2.height * 4).attr("x2", width - LEFT_MARGIN - 4).attr("y2", conf2.height * 4).attr("stroke-width", 4).attr("stroke", "black").attr("marker-end", "url(#arrowhead)");
            var extraVertForTitle = title ? 70 : 0;
            diagram.attr("viewBox", "".concat(box.startx, " -25 ").concat(width, " ").concat(height + extraVertForTitle));
            diagram.attr("preserveAspectRatio", "xMinYMin meet");
            diagram.attr("height", height + extraVertForTitle + 25);
            (0, _accessibility__WEBPACK_IMPORTED_MODULE_4__["default"])(diagObj.db, diagram, id2);
          };
          var bounds2 = {
            data: {
              startx: void 0,
              stopx: void 0,
              starty: void 0,
              stopy: void 0
            },
            verticalPos: 0,
            sequenceItems: [],
            init: function init2() {
              this.sequenceItems = [];
              this.data = {
                startx: void 0,
                stopx: void 0,
                starty: void 0,
                stopy: void 0
              };
              this.verticalPos = 0;
            },
            updateVal: function updateVal(obj, key, val, fun) {
              if (typeof obj[key] === "undefined") {
                obj[key] = val;
              } else {
                obj[key] = fun(val, obj[key]);
              }
            },
            updateBounds: function updateBounds(startx, starty, stopx, stopy) {
              var conf2 = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().journey;
              var _self = this;
              var cnt = 0;
              function updateFn(type2) {
                return function updateItemBounds(item) {
                  cnt++;
                  var n = _self.sequenceItems.length - cnt + 1;
                  _self.updateVal(item, "starty", starty - n * conf2.boxMargin, Math.min);
                  _self.updateVal(item, "stopy", stopy + n * conf2.boxMargin, Math.max);
                  _self.updateVal(bounds2.data, "startx", startx - n * conf2.boxMargin, Math.min);
                  _self.updateVal(bounds2.data, "stopx", stopx + n * conf2.boxMargin, Math.max);
                  if (!(type2 === "activation")) {
                    _self.updateVal(item, "startx", startx - n * conf2.boxMargin, Math.min);
                    _self.updateVal(item, "stopx", stopx + n * conf2.boxMargin, Math.max);
                    _self.updateVal(bounds2.data, "starty", starty - n * conf2.boxMargin, Math.min);
                    _self.updateVal(bounds2.data, "stopy", stopy + n * conf2.boxMargin, Math.max);
                  }
                };
              }
              this.sequenceItems.forEach(updateFn());
            },
            insert: function insert(startx, starty, stopx, stopy) {
              var _startx = Math.min(startx, stopx);
              var _stopx = Math.max(startx, stopx);
              var _starty = Math.min(starty, stopy);
              var _stopy = Math.max(starty, stopy);
              this.updateVal(bounds2.data, "startx", _startx, Math.min);
              this.updateVal(bounds2.data, "starty", _starty, Math.min);
              this.updateVal(bounds2.data, "stopx", _stopx, Math.max);
              this.updateVal(bounds2.data, "stopy", _stopy, Math.max);
              this.updateBounds(_startx, _starty, _stopx, _stopy);
            },
            bumpVerticalPos: function bumpVerticalPos(bump) {
              this.verticalPos = this.verticalPos + bump;
              this.data.stopy = this.verticalPos;
            },
            getVerticalPos: function getVerticalPos() {
              return this.verticalPos;
            },
            getBounds: function getBounds() {
              return this.data;
            }
          };
          var fills = conf.sectionFills;
          var textColours = conf.sectionColours;
          var drawTasks = function drawTasks2(diagram, tasks, verticalPos) {
            var conf2 = (0, _config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().journey;
            var lastSection = "";
            var sectionVHeight = conf2.height * 2 + conf2.diagramMarginY;
            var taskPos = verticalPos + sectionVHeight;
            var sectionNumber = 0;
            var fill = "#CCC";
            var colour = "black";
            var num = 0;
            for (var i = 0; i < tasks.length; i++) {
              var task = tasks[i];
              if (lastSection !== task.section) {
                fill = fills[sectionNumber % fills.length];
                num = sectionNumber % fills.length;
                colour = textColours[sectionNumber % textColours.length];
                var section = {
                  x: i * conf2.taskMargin + i * conf2.width + LEFT_MARGIN,
                  y: 50,
                  text: task.section,
                  fill,
                  num,
                  colour
                };
                _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawSection(diagram, section, conf2);
                lastSection = task.section;
                sectionNumber++;
              }
              var taskActors = task.people.reduce(function(acc, actorName) {
                if (actors[actorName]) {
                  acc[actorName] = actors[actorName];
                }
                return acc;
              }, {});
              task.x = i * conf2.taskMargin + i * conf2.width + LEFT_MARGIN;
              task.y = taskPos;
              task.width = conf2.diagramMarginX;
              task.height = conf2.diagramMarginY;
              task.colour = colour;
              task.fill = fill;
              task.num = num;
              task.actors = taskActors;
              _svgDraw__WEBPACK_IMPORTED_MODULE_2__["default"].drawTask(diagram, task, conf2);
              bounds2.insert(task.x, task.y, task.x + task.width + conf2.taskMargin, 300 + 5 * 30);
            }
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            setConf,
            draw
          };
        },
        "./src/diagrams/user-journey/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var getStyles = function getStyles2(options) {
            return ".label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ".concat(options.textColor, ";\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ").concat(options.textColor, "\n  }\n\n  .legend {\n    fill: ").concat(options.textColor, ";\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ").concat(options.textColor, "\n  }\n\n  .face {\n    ").concat(options.faceColor ? "fill: ".concat(options.faceColor) : "fill: #FFF8DC", ";\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(options.mainBkg, ";\n    stroke: ").concat(options.nodeBorder, ";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(options.arrowheadColor, ";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(options.lineColor, ";\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(options.lineColor, ";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(options.edgeLabelBackground, ";\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ").concat(options.titleColor, ";\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ").concat(options.tertiaryColor, ";\n    border: 1px solid ").concat(options.border2, ";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType0) : "", ";\n  }\n  .task-type-1, .section-type-1  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType1) : "", ";\n  }\n  .task-type-2, .section-type-2  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType2) : "", ";\n  }\n  .task-type-3, .section-type-3  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType3) : "", ";\n  }\n  .task-type-4, .section-type-4  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType4) : "", ";\n  }\n  .task-type-5, .section-type-5  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType5) : "", ";\n  }\n  .task-type-6, .section-type-6  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType6) : "", ";\n  }\n  .task-type-7, .section-type-7  {\n    ").concat(options.fillType0 ? "fill: ".concat(options.fillType7) : "", ";\n  }\n\n  .actor-0 {\n    ").concat(options.actor0 ? "fill: ".concat(options.actor0) : "", ";\n  }\n  .actor-1 {\n    ").concat(options.actor1 ? "fill: ".concat(options.actor1) : "", ";\n  }\n  .actor-2 {\n    ").concat(options.actor2 ? "fill: ".concat(options.actor2) : "", ";\n  }\n  .actor-3 {\n    ").concat(options.actor3 ? "fill: ".concat(options.actor3) : "", ";\n  }\n  .actor-4 {\n    ").concat(options.actor4 ? "fill: ".concat(options.actor4) : "", ";\n  }\n  .actor-5 {\n    ").concat(options.actor5 ? "fill: ".concat(options.actor5) : "", ";\n  }\n\n  }\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/diagrams/user-journey/svgDraw.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "drawBackgroundRect": () => drawBackgroundRect,
            "drawCircle": () => drawCircle,
            "drawFace": () => drawFace,
            "drawLabel": () => drawLabel,
            "drawRect": () => drawRect,
            "drawSection": () => drawSection,
            "drawTask": () => drawTask,
            "drawText": () => drawText,
            "getNoteRect": () => getNoteRect,
            "getTextObj": () => getTextObj
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var drawRect = function drawRect2(elem, rectData) {
            var rectElem = elem.append("rect");
            rectElem.attr("x", rectData.x);
            rectElem.attr("y", rectData.y);
            rectElem.attr("fill", rectData.fill);
            rectElem.attr("stroke", rectData.stroke);
            rectElem.attr("width", rectData.width);
            rectElem.attr("height", rectData.height);
            rectElem.attr("rx", rectData.rx);
            rectElem.attr("ry", rectData.ry);
            if (typeof rectData.class !== "undefined") {
              rectElem.attr("class", rectData.class);
            }
            return rectElem;
          };
          var drawFace = function drawFace2(element, faceData) {
            var radius = 15;
            var circleElement = element.append("circle").attr("cx", faceData.cx).attr("cy", faceData.cy).attr("class", "face").attr("r", radius).attr("stroke-width", 2).attr("overflow", "visible");
            var face = element.append("g");
            face.append("circle").attr("cx", faceData.cx - radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");
            face.append("circle").attr("cx", faceData.cx + radius / 3).attr("cy", faceData.cy - radius / 3).attr("r", 1.5).attr("stroke-width", 2).attr("fill", "#666").attr("stroke", "#666");
            function smile(face2) {
              var arc2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.arc)().startAngle(Math.PI / 2).endAngle(3 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);
              face2.append("path").attr("class", "mouth").attr("d", arc2).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 2) + ")");
            }
            function sad(face2) {
              var arc2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.arc)().startAngle(3 * Math.PI / 2).endAngle(5 * (Math.PI / 2)).innerRadius(radius / 2).outerRadius(radius / 2.2);
              face2.append("path").attr("class", "mouth").attr("d", arc2).attr("transform", "translate(" + faceData.cx + "," + (faceData.cy + 7) + ")");
            }
            function ambivalent(face2) {
              face2.append("line").attr("class", "mouth").attr("stroke", 2).attr("x1", faceData.cx - 5).attr("y1", faceData.cy + 7).attr("x2", faceData.cx + 5).attr("y2", faceData.cy + 7).attr("class", "mouth").attr("stroke-width", "1px").attr("stroke", "#666");
            }
            if (faceData.score > 3) {
              smile(face);
            } else if (faceData.score < 3) {
              sad(face);
            } else {
              ambivalent(face);
            }
            return circleElement;
          };
          var drawCircle = function drawCircle2(element, circleData) {
            var circleElement = element.append("circle");
            circleElement.attr("cx", circleData.cx);
            circleElement.attr("cy", circleData.cy);
            circleElement.attr("class", "actor-" + circleData.pos);
            circleElement.attr("fill", circleData.fill);
            circleElement.attr("stroke", circleData.stroke);
            circleElement.attr("r", circleData.r);
            if (typeof circleElement.class !== "undefined") {
              circleElement.attr("class", circleElement.class);
            }
            if (typeof circleData.title !== "undefined") {
              circleElement.append("title").text(circleData.title);
            }
            return circleElement;
          };
          var drawText = function drawText2(elem, textData) {
            var nText = textData.text.replace(/<br\s*\/?>/gi, " ");
            var textElem = elem.append("text");
            textElem.attr("x", textData.x);
            textElem.attr("y", textData.y);
            textElem.attr("class", "legend");
            textElem.style("text-anchor", textData.anchor);
            if (typeof textData.class !== "undefined") {
              textElem.attr("class", textData.class);
            }
            var span = textElem.append("tspan");
            span.attr("x", textData.x + textData.textMargin * 2);
            span.text(nText);
            return textElem;
          };
          var drawLabel = function drawLabel2(elem, txtObject) {
            function genPoints(x2, y2, width, height, cut) {
              return x2 + "," + y2 + " " + (x2 + width) + "," + y2 + " " + (x2 + width) + "," + (y2 + height - cut) + " " + (x2 + width - cut * 1.2) + "," + (y2 + height) + " " + x2 + "," + (y2 + height);
            }
            var polygon = elem.append("polygon");
            polygon.attr("points", genPoints(txtObject.x, txtObject.y, 50, 20, 7));
            polygon.attr("class", "labelBox");
            txtObject.y = txtObject.y + txtObject.labelMargin;
            txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;
            drawText(elem, txtObject);
          };
          var drawSection = function drawSection2(elem, section, conf) {
            var g = elem.append("g");
            var rect = getNoteRect();
            rect.x = section.x;
            rect.y = section.y;
            rect.fill = section.fill;
            rect.width = conf.width;
            rect.height = conf.height;
            rect.class = "journey-section section-type-" + section.num;
            rect.rx = 3;
            rect.ry = 3;
            drawRect(g, rect);
            _drawTextCandidateFunc(conf)(section.text, g, rect.x, rect.y, rect.width, rect.height, {
              class: "journey-section section-type-" + section.num
            }, conf, section.colour);
          };
          var taskCount = -1;
          var drawTask = function drawTask2(elem, task, conf) {
            var center2 = task.x + conf.width / 2;
            var g = elem.append("g");
            taskCount++;
            var maxHeight = 300 + 5 * 30;
            g.append("line").attr("id", "task" + taskCount).attr("x1", center2).attr("y1", task.y).attr("x2", center2).attr("y2", maxHeight).attr("class", "task-line").attr("stroke-width", "1px").attr("stroke-dasharray", "4 2").attr("stroke", "#666");
            drawFace(g, {
              cx: center2,
              cy: 300 + (5 - task.score) * 30,
              score: task.score
            });
            var rect = getNoteRect();
            rect.x = task.x;
            rect.y = task.y;
            rect.fill = task.fill;
            rect.width = conf.width;
            rect.height = conf.height;
            rect.class = "task task-type-" + task.num;
            rect.rx = 3;
            rect.ry = 3;
            drawRect(g, rect);
            var xPos = task.x + 14;
            task.people.forEach(function(person) {
              var colour = task.actors[person].color;
              var circle2 = {
                cx: xPos,
                cy: task.y,
                r: 7,
                fill: colour,
                stroke: "#000",
                title: person,
                pos: task.actors[person].position
              };
              drawCircle(g, circle2);
              xPos += 10;
            });
            _drawTextCandidateFunc(conf)(task.task, g, rect.x, rect.y, rect.width, rect.height, {
              class: "task"
            }, conf, task.colour);
          };
          var drawBackgroundRect = function drawBackgroundRect2(elem, bounds2) {
            var rectElem = drawRect(elem, {
              x: bounds2.startx,
              y: bounds2.starty,
              width: bounds2.stopx - bounds2.startx,
              height: bounds2.stopy - bounds2.starty,
              fill: bounds2.fill,
              class: "rect"
            });
            rectElem.lower();
          };
          var getTextObj = function getTextObj2() {
            return {
              x: 0,
              y: 0,
              fill: void 0,
              "text-anchor": "start",
              width: 100,
              height: 100,
              textMargin: 0,
              rx: 0,
              ry: 0
            };
          };
          var getNoteRect = function getNoteRect2() {
            return {
              x: 0,
              y: 0,
              width: 100,
              anchor: "start",
              height: 100,
              rx: 0,
              ry: 0
            };
          };
          var _drawTextCandidateFunc = function() {
            function byText(content, g, x2, y2, width, height, textAttrs, colour) {
              var text2 = g.append("text").attr("x", x2 + width / 2).attr("y", y2 + height / 2 + 5).style("font-color", colour).style("text-anchor", "middle").text(content);
              _setTextAttrs(text2, textAttrs);
            }
            function byTspan(content, g, x2, y2, width, height, textAttrs, conf, colour) {
              var taskFontSize = conf.taskFontSize, taskFontFamily = conf.taskFontFamily;
              var lines = content.split(/<br\s*\/?>/gi);
              for (var i = 0; i < lines.length; i++) {
                var dy = i * taskFontSize - taskFontSize * (lines.length - 1) / 2;
                var text2 = g.append("text").attr("x", x2 + width / 2).attr("y", y2).attr("fill", colour).style("text-anchor", "middle").style("font-size", taskFontSize).style("font-family", taskFontFamily);
                text2.append("tspan").attr("x", x2 + width / 2).attr("dy", dy).text(lines[i]);
                text2.attr("y", y2 + height / 2).attr("dominant-baseline", "central").attr("alignment-baseline", "central");
                _setTextAttrs(text2, textAttrs);
              }
            }
            function byFo(content, g, x2, y2, width, height, textAttrs, conf) {
              var body = g.append("switch");
              var f = body.append("foreignObject").attr("x", x2).attr("y", y2).attr("width", width).attr("height", height).attr("position", "fixed");
              var text2 = f.append("xhtml:div").style("display", "table").style("height", "100%").style("width", "100%");
              text2.append("div").attr("class", "label").style("display", "table-cell").style("text-align", "center").style("vertical-align", "middle").text(content);
              byTspan(content, body, x2, y2, width, height, textAttrs, conf);
              _setTextAttrs(text2, textAttrs);
            }
            function _setTextAttrs(toText, fromTextAttrsDict) {
              for (var key in fromTextAttrsDict) {
                if (key in fromTextAttrsDict) {
                  toText.attr(key, fromTextAttrsDict[key]);
                }
              }
            }
            return function(conf) {
              return conf.textPlacement === "fo" ? byFo : conf.textPlacement === "old" ? byText : byTspan;
            };
          }();
          var initGraphics = function initGraphics2(graphics) {
            graphics.append("defs").append("marker").attr("id", "arrowhead").attr("refX", 5).attr("refY", 2).attr("markerWidth", 6).attr("markerHeight", 4).attr("orient", "auto").append("path").attr("d", "M 0,0 V 4 L6,2 Z");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            drawRect,
            drawCircle,
            drawSection,
            drawText,
            drawLabel,
            drawTask,
            drawBackgroundRect,
            getTextObj,
            getNoteRect,
            initGraphics
          };
        },
        "./src/interactionDb.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "addFunction": () => addFunction,
            "attachFunctions": () => attachFunctions
          });
          var interactionFunctions = [];
          var addFunction = function addFunction2(func) {
            interactionFunctions.push(func);
          };
          var attachFunctions = function attachFunctions2() {
            interactionFunctions.forEach(function(f) {
              f();
            });
            interactionFunctions = [];
          };
        },
        "./src/logger.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "LEVELS": () => LEVELS,
            "log": () => log2,
            "setLogLevel": () => setLogLevel
          });
          var moment_mini__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("moment-mini");
          var moment_mini__WEBPACK_IMPORTED_MODULE_0___default = /* @__PURE__ */ __webpack_require__2.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__);
          var LEVELS = {
            debug: 1,
            info: 2,
            warn: 3,
            error: 4,
            fatal: 5
          };
          var log2 = {
            debug: function debug2() {
            },
            info: function info() {
            },
            warn: function warn() {
            },
            error: function error() {
            },
            fatal: function fatal() {
            }
          };
          var setLogLevel = function setLogLevel2() {
            var level = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "fatal";
            if (isNaN(level)) {
              level = level.toLowerCase();
              if (LEVELS[level] !== void 0) {
                level = LEVELS[level];
              }
            }
            log2.trace = function() {
            };
            log2.debug = function() {
            };
            log2.info = function() {
            };
            log2.warn = function() {
            };
            log2.error = function() {
            };
            log2.fatal = function() {
            };
            if (level <= LEVELS.fatal) {
              log2.fatal = console.error ? console.error.bind(console, format2("FATAL"), "color: orange") : console.log.bind(console, "\x1B[35m", format2("FATAL"));
            }
            if (level <= LEVELS.error) {
              log2.error = console.error ? console.error.bind(console, format2("ERROR"), "color: orange") : console.log.bind(console, "\x1B[31m", format2("ERROR"));
            }
            if (level <= LEVELS.warn) {
              log2.warn = console.warn ? console.warn.bind(console, format2("WARN"), "color: orange") : console.log.bind(console, "\x1B[33m", format2("WARN"));
            }
            if (level <= LEVELS.info) {
              log2.info = console.info ? console.info.bind(console, format2("INFO"), "color: lightblue") : console.log.bind(console, "\x1B[34m", format2("INFO"));
            }
            if (level <= LEVELS.debug) {
              log2.debug = console.debug ? console.debug.bind(console, format2("DEBUG"), "color: lightgreen") : console.log.bind(console, "\x1B[32m", format2("DEBUG"));
            }
          };
          var format2 = function format3(level) {
            var time2 = moment_mini__WEBPACK_IMPORTED_MODULE_0___default()().format("ss.SSS");
            return "%c".concat(time2, " : ").concat(level, " : ");
          };
        },
        "./src/mermaid.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/logger.js");
          var _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/mermaidAPI.js");
          var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/utils.js");
          var init2 = function init3() {
            try {
              initThrowsErrors.apply(void 0, arguments);
            } catch (e) {
              _logger__WEBPACK_IMPORTED_MODULE_0__.log.warn("Syntax Error rendering");
              _logger__WEBPACK_IMPORTED_MODULE_0__.log.warn(e.str);
            }
          };
          var initThrowsErrors = function initThrowsErrors2() {
            var conf = _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].getConfig();
            var nodes;
            if (arguments.length >= 2) {
              /*! sequence config was passed as #1 */
              if (typeof arguments[0] !== "undefined") {
                mermaid.sequenceConfig = arguments[0];
              }
              nodes = arguments[1];
            } else {
              nodes = arguments[0];
            }
            var callback;
            if (typeof arguments[arguments.length - 1] === "function") {
              callback = arguments[arguments.length - 1];
              _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("Callback function found");
            } else {
              if (typeof conf.mermaid !== "undefined") {
                if (typeof conf.mermaid.callback === "function") {
                  callback = conf.mermaid.callback;
                  _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("Callback function found");
                } else {
                  _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("No Callback function found");
                }
              }
            }
            nodes = nodes === void 0 ? document.querySelectorAll(".mermaid") : typeof nodes === "string" ? document.querySelectorAll(nodes) : nodes instanceof window.Node ? [nodes] : nodes;
            _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("Start On Load before: " + mermaid.startOnLoad);
            if (typeof mermaid.startOnLoad !== "undefined") {
              _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("Start On Load inner: " + mermaid.startOnLoad);
              _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].updateSiteConfig({
                startOnLoad: mermaid.startOnLoad
              });
            }
            if (typeof mermaid.ganttConfig !== "undefined") {
              _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].updateSiteConfig({
                gantt: mermaid.ganttConfig
              });
            }
            var idGenerator = new _utils__WEBPACK_IMPORTED_MODULE_2__["default"].initIdGenerator(conf.deterministicIds, conf.deterministicIDSeed);
            var txt;
            var errors = [];
            var _loop = function _loop2(i2) {
              _logger__WEBPACK_IMPORTED_MODULE_0__.log.info("Rendering diagram: " + nodes[i2].id, i2);
              var element = nodes[i2];
              /*! Check if previously processed */
              if (!element.getAttribute("data-processed")) {
                element.setAttribute("data-processed", true);
              } else {
                return "continue";
              }
              var id2 = "mermaid-".concat(idGenerator.next());
              txt = element.innerHTML;
              txt = _utils__WEBPACK_IMPORTED_MODULE_2__["default"].entityDecode(txt).trim().replace(/<br\s*\/?>/gi, "<br/>");
              var init3 = _utils__WEBPACK_IMPORTED_MODULE_2__["default"].detectInit(txt);
              if (init3) {
                _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("Detected early reinit: ", init3);
              }
              try {
                _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].render(id2, txt, function(svgCode, bindFunctions) {
                  element.innerHTML = svgCode;
                  if (typeof callback !== "undefined") {
                    callback(id2);
                  }
                  if (bindFunctions)
                    bindFunctions(element);
                }, element);
              } catch (error) {
                _logger__WEBPACK_IMPORTED_MODULE_0__.log.warn("Catching Error (bootstrap)", error);
                if (typeof mermaid.parseError === "function") {
                  mermaid.parseError({
                    error,
                    str: error.str,
                    hash: error.hash,
                    message: error.str
                  });
                }
                errors.push({
                  error,
                  str: error.str,
                  hash: error.hash,
                  message: error.str
                });
              }
            };
            for (var i = 0; i < nodes.length; i++) {
              var _ret = _loop(i);
              if (_ret === "continue")
                continue;
            }
            if (errors.length > 0) {
              throw errors[0];
            }
          };
          var initialize = function initialize2(config) {
            if (typeof config.mermaid !== "undefined") {
              if (typeof config.mermaid.startOnLoad !== "undefined") {
                mermaid.startOnLoad = config.mermaid.startOnLoad;
              }
              if (typeof config.mermaid.htmlLabels !== "undefined") {
                mermaid.htmlLabels = config.mermaid.htmlLabels === "false" || config.mermaid.htmlLabels === false ? false : true;
              }
            }
            _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].initialize(config);
          };
          var contentLoaded = function contentLoaded2() {
            var config;
            if (mermaid.startOnLoad) {
              config = _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].getConfig();
              if (config.startOnLoad) {
                mermaid.init();
              }
            } else {
              if (typeof mermaid.startOnLoad === "undefined") {
                _logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("In start, no config");
                config = _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].getConfig();
                if (config.startOnLoad) {
                  mermaid.init();
                }
              }
            }
          };
          if (typeof document !== "undefined") {
            /*!
             * Wait for document loaded before starting the execution
             */
            window.addEventListener("load", function() {
              contentLoaded();
            }, false);
          }
          var setParseErrorHandler = function setParseErrorHandler2(newParseErrorHandler) {
            mermaid.parseError = newParseErrorHandler;
          };
          var mermaid = {
            startOnLoad: true,
            htmlLabels: true,
            diagrams: {},
            mermaidAPI: _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"],
            parse: _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"] != void 0 ? _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].parse : null,
            render: _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"] != void 0 ? _mermaidAPI__WEBPACK_IMPORTED_MODULE_1__["default"].render : null,
            init: init2,
            initThrowsErrors,
            initialize,
            contentLoaded,
            setParseErrorHandler
          };
          const __WEBPACK_DEFAULT_EXPORT__ = mermaid;
        },
        "./src/mermaidAPI.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "decodeEntities": () => decodeEntities,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "encodeEntities": () => encodeEntities
          });
          var d3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("d3");
          var stylis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("stylis");
          var _package_json__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__2("./package.json");
          var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/config.js");
          var _diagram_api_diagram_orchestration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagram-api/diagram-orchestration.js");
          var _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__2("./src/diagrams/class/classDb.js");
          var _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__2("./src/diagrams/flowchart/flowDb.js");
          var _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__2("./src/diagrams/flowchart/flowRenderer.js");
          var _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__2("./src/diagrams/flowchart/flowRenderer-v2.js");
          var _diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__2("./src/diagrams/gantt/ganttDb.js");
          var _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__2("./src/diagrams/gantt/ganttRenderer.js");
          var _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__2("./src/diagrams/sequence/sequenceRenderer.js");
          var _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__2("./src/diagrams/state/stateRenderer.js");
          var _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__2("./src/diagrams/state/stateRenderer-v2.js");
          var _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__2("./src/diagrams/user-journey/journeyRenderer.js");
          var _Diagram__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/Diagram.js");
          var _diagrams_error_errorRenderer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__2("./src/diagrams/error/errorRenderer.js");
          var _interactionDb__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__2("./src/interactionDb.js");
          var _logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/logger.js");
          var _styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__2("./src/styles.js");
          var _themes__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__2("./src/themes/index.js");
          var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/utils.js");
          var _assignWithDepth__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__2("./src/assignWithDepth.js");
          var dompurify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("dompurify");
          var dompurify__WEBPACK_IMPORTED_MODULE_2___default = /* @__PURE__ */ __webpack_require__2.n(dompurify__WEBPACK_IMPORTED_MODULE_2__);
          var _mermaid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/mermaid.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          var hasLoadedDiagrams = false;
          function parse(text2, dia) {
            if (!hasLoadedDiagrams) {
              (0, _diagram_api_diagram_orchestration__WEBPACK_IMPORTED_MODULE_3__["default"])();
              hasLoadedDiagrams = true;
            }
            var parseEncounteredException = false;
            try {
              var diag = dia ? dia : new _Diagram__WEBPACK_IMPORTED_MODULE_4__["default"](text2);
              diag.db.clear();
              return diag.parse(text2);
            } catch (error) {
              parseEncounteredException = true;
              if (_mermaid__WEBPACK_IMPORTED_MODULE_5__["default"].parseError) {
                if (error.str != void 0) {
                  _mermaid__WEBPACK_IMPORTED_MODULE_5__["default"].parseError(error.str, error.hash);
                } else {
                  _mermaid__WEBPACK_IMPORTED_MODULE_5__["default"].parseError(error);
                }
              } else {
                throw error;
              }
            }
            return !parseEncounteredException;
          }
          var encodeEntities = function encodeEntities2(text2) {
            var txt = text2;
            txt = txt.replace(/style.*:\S*#.*;/g, function(s2) {
              var innerTxt = s2.substring(0, s2.length - 1);
              return innerTxt;
            });
            txt = txt.replace(/classDef.*:\S*#.*;/g, function(s2) {
              var innerTxt = s2.substring(0, s2.length - 1);
              return innerTxt;
            });
            txt = txt.replace(/#\w+;/g, function(s2) {
              var innerTxt = s2.substring(1, s2.length - 1);
              var isInt = /^\+?\d+$/.test(innerTxt);
              if (isInt) {
                return "\uFB02\xB0\xB0" + innerTxt + "\xB6\xDF";
              } else {
                return "\uFB02\xB0" + innerTxt + "\xB6\xDF";
              }
            });
            return txt;
          };
          var decodeEntities = function decodeEntities2(text2) {
            var txt = text2;
            txt = txt.replace(/ﬂ°°/g, function() {
              return "&#";
            });
            txt = txt.replace(/ﬂ°/g, function() {
              return "&";
            });
            txt = txt.replace(/¶ß/g, function() {
              return ";";
            });
            return txt;
          };
          var render = function render2(id2, _txt, cb, container) {
            if (!hasLoadedDiagrams) {
              (0, _diagram_api_diagram_orchestration__WEBPACK_IMPORTED_MODULE_3__["default"])();
              hasLoadedDiagrams = true;
            }
            _config__WEBPACK_IMPORTED_MODULE_6__.reset();
            var txt = _txt.replace(/\r\n?/g, "\n");
            var graphInit = _utils__WEBPACK_IMPORTED_MODULE_7__["default"].detectInit(txt);
            if (graphInit) {
              (0, _utils__WEBPACK_IMPORTED_MODULE_7__.directiveSanitizer)(graphInit);
              _config__WEBPACK_IMPORTED_MODULE_6__.addDirective(graphInit);
            }
            var cnf = _config__WEBPACK_IMPORTED_MODULE_6__.getConfig();
            _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug(cnf);
            if (_txt.length > cnf.maxTextSize) {
              txt = "graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa";
            }
            var root2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
            if (typeof container !== "undefined") {
              if (cnf.securityLevel === "sandbox") {
                var iframe = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("iframe").attr("id", "i" + id2).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
                root2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(iframe.nodes()[0].contentDocument.body);
                root2.node().style.margin = 0;
              }
              container.innerHTML = "";
              if (cnf.securityLevel === "sandbox") {
                var _iframe = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(container).append("iframe").attr("id", "i" + id2).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
                root2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(_iframe.nodes()[0].contentDocument.body);
                root2.node().style.margin = 0;
              } else {
                root2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(container);
              }
              root2.append("div").attr("id", "d" + id2).attr("style", "font-family: " + cnf.fontFamily).append("svg").attr("id", id2).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg").attr("xmlns:xlink", "http://www.w3.org/1999/xlink").append("g");
            } else {
              var existingSvg = document.getElementById(id2);
              if (existingSvg) {
                existingSvg.remove();
              }
              var _element;
              if (cnf.securityLevel !== "sandbox") {
                _element = document.querySelector("#d" + id2);
              } else {
                _element = document.querySelector("#i" + id2);
              }
              if (_element) {
                _element.remove();
              }
              if (cnf.securityLevel === "sandbox") {
                var _iframe2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("iframe").attr("id", "i" + id2).attr("style", "width: 100%; height: 100%;").attr("sandbox", "");
                root2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(_iframe2.nodes()[0].contentDocument.body);
                root2.node().style.margin = 0;
              } else {
                root2 = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");
              }
              root2.append("div").attr("id", "d" + id2).append("svg").attr("id", id2).attr("width", "100%").attr("xmlns", "http://www.w3.org/2000/svg").append("g");
            }
            txt = encodeEntities(txt);
            var diag;
            var parseEncounteredException;
            try {
              diag = new _Diagram__WEBPACK_IMPORTED_MODULE_4__["default"](txt);
            } catch (error) {
              diag = new _Diagram__WEBPACK_IMPORTED_MODULE_4__["default"]("error");
              parseEncounteredException = error;
            }
            var element = root2.select("#d" + id2).node();
            var graphType = diag.type;
            var svg2 = element.firstChild;
            var firstChild = svg2.firstChild;
            var userStyles = "";
            if (cnf.themeCSS !== void 0) {
              userStyles += "\n".concat(cnf.themeCSS);
            }
            if (cnf.fontFamily !== void 0) {
              userStyles += "\n:root { --mermaid-font-family: ".concat(cnf.fontFamily, "}");
            }
            if (cnf.altFontFamily !== void 0) {
              userStyles += "\n:root { --mermaid-alt-font-family: ".concat(cnf.altFontFamily, "}");
            }
            if (graphType === "flowchart" || graphType === "flowchart-v2" || graphType === "graph") {
              var classes = _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_9__["default"].getClasses(txt, diag);
              var htmlLabels = cnf.htmlLabels || cnf.flowchart.htmlLabels;
              for (var className in classes) {
                if (htmlLabels) {
                  userStyles += "\n.".concat(className, " > * { ").concat(classes[className].styles.join(" !important; "), " !important; }");
                  userStyles += "\n.".concat(className, " span { ").concat(classes[className].styles.join(" !important; "), " !important; }");
                } else {
                  userStyles += "\n.".concat(className, " path { ").concat(classes[className].styles.join(" !important; "), " !important; }");
                  userStyles += "\n.".concat(className, " rect { ").concat(classes[className].styles.join(" !important; "), " !important; }");
                  userStyles += "\n.".concat(className, " polygon { ").concat(classes[className].styles.join(" !important; "), " !important; }");
                  userStyles += "\n.".concat(className, " ellipse { ").concat(classes[className].styles.join(" !important; "), " !important; }");
                  userStyles += "\n.".concat(className, " circle { ").concat(classes[className].styles.join(" !important; "), " !important; }");
                  if (classes[className].textStyles) {
                    userStyles += "\n.".concat(className, " tspan { ").concat(classes[className].textStyles.join(" !important; "), " !important; }");
                  }
                }
              }
            }
            var stylis2 = function stylis3(selector2, styles) {
              return (0, stylis__WEBPACK_IMPORTED_MODULE_1__.serialize)((0, stylis__WEBPACK_IMPORTED_MODULE_1__.compile)("".concat(selector2, "{").concat(styles, "}")), stylis__WEBPACK_IMPORTED_MODULE_1__.stringify);
            };
            var rules = stylis2("#".concat(id2), (0, _styles__WEBPACK_IMPORTED_MODULE_10__["default"])(graphType, userStyles, cnf.themeVariables));
            var style1 = document.createElement("style");
            style1.innerHTML = "#".concat(id2, " ") + rules;
            svg2.insertBefore(style1, firstChild);
            try {
              diag.renderer.draw(txt, id2, _package_json__WEBPACK_IMPORTED_MODULE_11__.version, diag);
            } catch (e) {
              _diagrams_error_errorRenderer__WEBPACK_IMPORTED_MODULE_12__["default"].draw(id2, _package_json__WEBPACK_IMPORTED_MODULE_11__.version);
              throw e;
            }
            root2.select('[id="'.concat(id2, '"]')).selectAll("foreignobject > *").attr("xmlns", "http://www.w3.org/1999/xhtml");
            var svgCode = root2.select("#d" + id2).node().innerHTML;
            _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug("cnf.arrowMarkerAbsolute", cnf.arrowMarkerAbsolute);
            if ((!cnf.arrowMarkerAbsolute || cnf.arrowMarkerAbsolute === "false") && cnf.arrowMarkerAbsolute !== "sandbox") {
              svgCode = svgCode.replace(/marker-end="url\(.*?#/g, 'marker-end="url(#', "g");
            }
            svgCode = decodeEntities(svgCode);
            svgCode = svgCode.replace(/<br>/g, "<br/>");
            if (cnf.securityLevel === "sandbox") {
              var svgEl = root2.select("#d" + id2 + " svg").node();
              var width = "100%";
              var height = "100%";
              if (svgEl) {
                height = svgEl.viewBox.baseVal.height + "px";
              }
              svgCode = '<iframe style="width:'.concat(width, ";height:").concat(height, ';border:0;margin:0;" src="data:text/html;base64,').concat(btoa('<body style="margin:0">' + svgCode + "</body>"), '" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The \u201Ciframe\u201D tag is not supported by your browser.\n</iframe>');
            } else {
              if (cnf.securityLevel !== "loose") {
                svgCode = dompurify__WEBPACK_IMPORTED_MODULE_2___default().sanitize(svgCode, {
                  ADD_TAGS: ["foreignobject"],
                  ADD_ATTR: ["dominant-baseline"]
                });
              }
            }
            if (typeof cb !== "undefined") {
              switch (graphType) {
                case "flowchart":
                case "flowchart-v2":
                  cb(svgCode, _diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_13__["default"].bindFunctions);
                  break;
                case "gantt":
                  cb(svgCode, _diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_14__["default"].bindFunctions);
                  break;
                case "class":
                case "classDiagram":
                  cb(svgCode, _diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_15__["default"].bindFunctions);
                  break;
                default:
                  cb(svgCode);
              }
            } else {
              _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug("CB = undefined!");
            }
            (0, _interactionDb__WEBPACK_IMPORTED_MODULE_16__.attachFunctions)();
            var tmpElementSelector = cnf.securityLevel === "sandbox" ? "#i" + id2 : "#d" + id2;
            var node = (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(tmpElementSelector).node();
            if (node !== null && typeof node.remove === "function") {
              (0, d3__WEBPACK_IMPORTED_MODULE_0__.select)(tmpElementSelector).node().remove();
            }
            if (parseEncounteredException) {
              throw parseEncounteredException;
            }
            return svgCode;
          };
          var currentDirective = {};
          var parseDirective = function parseDirective2(p, statement, context, type2) {
            try {
              if (statement !== void 0) {
                statement = statement.trim();
                switch (context) {
                  case "open_directive":
                    currentDirective = {};
                    break;
                  case "type_directive":
                    currentDirective.type = statement.toLowerCase();
                    break;
                  case "arg_directive":
                    currentDirective.args = JSON.parse(statement);
                    break;
                  case "close_directive":
                    handleDirective(p, currentDirective, type2);
                    currentDirective = null;
                    break;
                }
              }
            } catch (error) {
              _logger__WEBPACK_IMPORTED_MODULE_8__.log.error("Error while rendering sequenceDiagram directive: ".concat(statement, " jison context: ").concat(context));
              _logger__WEBPACK_IMPORTED_MODULE_8__.log.error(error.message);
            }
          };
          var handleDirective = function handleDirective2(p, directive, type2) {
            _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug("Directive type=".concat(directive.type, " with args:"), directive.args);
            switch (directive.type) {
              case "init":
              case "initialize": {
                ["config"].forEach(function(prop) {
                  if (typeof directive.args[prop] !== "undefined") {
                    if (type2 === "flowchart-v2") {
                      type2 = "flowchart";
                    }
                    directive.args[type2] = directive.args[prop];
                    delete directive.args[prop];
                  }
                });
                _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug("sanitize in handleDirective", directive.args);
                (0, _utils__WEBPACK_IMPORTED_MODULE_7__.directiveSanitizer)(directive.args);
                _logger__WEBPACK_IMPORTED_MODULE_8__.log.debug("sanitize in handleDirective (done)", directive.args);
                _config__WEBPACK_IMPORTED_MODULE_6__.addDirective(directive.args);
                break;
              }
              case "wrap":
              case "nowrap":
                if (p && p["setWrap"]) {
                  p.setWrap(directive.type === "wrap");
                }
                break;
              case "themeCss":
                _logger__WEBPACK_IMPORTED_MODULE_8__.log.warn("themeCss encountered");
                break;
              default:
                _logger__WEBPACK_IMPORTED_MODULE_8__.log.warn("Unhandled directive: source: '%%{".concat(directive.type, ": ").concat(JSON.stringify(directive.args ? directive.args : {}), "}%%"), directive);
                break;
            }
          };
          function updateRendererConfigs(conf) {
            _diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_9__["default"].setConf(conf.flowchart);
            _diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_17__["default"].setConf(conf.flowchart);
            if (typeof conf["sequenceDiagram"] !== "undefined") {
              _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_18__["default"].setConf((0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_19__["default"])(conf.sequence, conf["sequenceDiagram"]));
            }
            _diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_18__["default"].setConf(conf.sequence);
            _diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_20__["default"].setConf(conf.gantt);
            _diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_21__["default"].setConf(conf.state);
            _diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_22__["default"].setConf(conf.state);
            _diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_23__["default"].setConf(conf.journey);
            _diagrams_error_errorRenderer__WEBPACK_IMPORTED_MODULE_12__["default"].setConf(conf.class);
          }
          function initialize(options) {
            if (options !== null && options !== void 0 && options.fontFamily) {
              var _options$themeVariabl;
              if (!((_options$themeVariabl = options.themeVariables) !== null && _options$themeVariabl !== void 0 && _options$themeVariabl.fontFamily)) {
                options.themeVariables = {
                  fontFamily: options.fontFamily
                };
              }
            }
            _config__WEBPACK_IMPORTED_MODULE_6__.saveConfigFromInitialize(options);
            if (options !== null && options !== void 0 && options.theme && _themes__WEBPACK_IMPORTED_MODULE_24__["default"][options.theme]) {
              options.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_24__["default"][options.theme].getThemeVariables(options.themeVariables);
            } else if (options) {
              options.themeVariables = _themes__WEBPACK_IMPORTED_MODULE_24__["default"]["default"].getThemeVariables(options.themeVariables);
            }
            var config = _typeof(options) === "object" ? _config__WEBPACK_IMPORTED_MODULE_6__.setSiteConfig(options) : _config__WEBPACK_IMPORTED_MODULE_6__.getSiteConfig();
            updateRendererConfigs(config);
            (0, _logger__WEBPACK_IMPORTED_MODULE_8__.setLogLevel)(config.logLevel);
            if (!hasLoadedDiagrams) {
              (0, _diagram_api_diagram_orchestration__WEBPACK_IMPORTED_MODULE_3__["default"])();
              hasLoadedDiagrams = true;
            }
          }
          var mermaidAPI = Object.freeze({
            render,
            parse,
            parseDirective,
            initialize,
            getConfig: _config__WEBPACK_IMPORTED_MODULE_6__.getConfig,
            setConfig: _config__WEBPACK_IMPORTED_MODULE_6__.setConfig,
            getSiteConfig: _config__WEBPACK_IMPORTED_MODULE_6__.getSiteConfig,
            updateSiteConfig: _config__WEBPACK_IMPORTED_MODULE_6__.updateSiteConfig,
            reset: function reset() {
              _config__WEBPACK_IMPORTED_MODULE_6__.reset();
            },
            globalReset: function globalReset() {
              _config__WEBPACK_IMPORTED_MODULE_6__.reset(_config__WEBPACK_IMPORTED_MODULE_6__.defaultConfig);
              updateRendererConfigs(_config__WEBPACK_IMPORTED_MODULE_6__.getConfig());
            },
            defaultConfig: _config__WEBPACK_IMPORTED_MODULE_6__.defaultConfig
          });
          (0, _logger__WEBPACK_IMPORTED_MODULE_8__.setLogLevel)(_config__WEBPACK_IMPORTED_MODULE_6__.getConfig().logLevel);
          _config__WEBPACK_IMPORTED_MODULE_6__.reset(_config__WEBPACK_IMPORTED_MODULE_6__.getConfig());
          const __WEBPACK_DEFAULT_EXPORT__ = mermaidAPI;
        },
        "./src/styles.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "calcThemeVariables": () => calcThemeVariables,
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagrams/class/styles.js");
          var _diagrams_er_styles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__2("./src/diagrams/er/styles.js");
          var _diagrams_error_styles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__2("./src/diagrams/error/styles.js");
          var _diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/diagrams/flowchart/styles.js");
          var _diagrams_gantt_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/diagrams/gantt/styles.js");
          var _diagrams_git_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/diagrams/git/styles.js");
          var _diagrams_info_styles__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/diagrams/info/styles.js");
          var _diagrams_pie_styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__2("./src/diagrams/pie/styles.js");
          var _diagrams_requirement_styles__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__2("./src/diagrams/requirement/styles.js");
          var _diagrams_sequence_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/diagrams/sequence/styles.js");
          var _diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/diagrams/state/styles.js");
          var _diagrams_user_journey_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__2("./src/diagrams/user-journey/styles.js");
          var _diagrams_c4_styles__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__2("./src/diagrams/c4/styles.js");
          var _logger__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__2("./src/logger.js");
          var themes = {
            flowchart: _diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__["default"],
            "flowchart-v2": _diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__["default"],
            sequence: _diagrams_sequence_styles__WEBPACK_IMPORTED_MODULE_1__["default"],
            gantt: _diagrams_gantt_styles__WEBPACK_IMPORTED_MODULE_2__["default"],
            classDiagram: _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__["default"],
            "classDiagram-v2": _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__["default"],
            class: _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__["default"],
            stateDiagram: _diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__["default"],
            state: _diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__["default"],
            gitGraph: _diagrams_git_styles__WEBPACK_IMPORTED_MODULE_5__["default"],
            info: _diagrams_info_styles__WEBPACK_IMPORTED_MODULE_6__["default"],
            pie: _diagrams_pie_styles__WEBPACK_IMPORTED_MODULE_7__["default"],
            er: _diagrams_er_styles__WEBPACK_IMPORTED_MODULE_8__["default"],
            error: _diagrams_error_styles__WEBPACK_IMPORTED_MODULE_9__["default"],
            journey: _diagrams_user_journey_styles__WEBPACK_IMPORTED_MODULE_10__["default"],
            requirement: _diagrams_requirement_styles__WEBPACK_IMPORTED_MODULE_11__["default"],
            c4: _diagrams_c4_styles__WEBPACK_IMPORTED_MODULE_12__["default"]
          };
          var calcThemeVariables = function calcThemeVariables2(theme, userOverRides) {
            _logger__WEBPACK_IMPORTED_MODULE_13__.log.info("userOverides", userOverRides);
            return theme.calcColors(userOverRides);
          };
          var getStyles = function getStyles2(type2, userStyles, options) {
            return " {\n    font-family: ".concat(options.fontFamily, ";\n    font-size: ").concat(options.fontSize, ";\n    fill: ").concat(options.textColor, "\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ").concat(options.errorBkgColor, ";\n  }\n  .error-text {\n    fill: ").concat(options.errorTextColor, ";\n    stroke: ").concat(options.errorTextColor, ";\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ").concat(options.lineColor, ";\n    stroke: ").concat(options.lineColor, ";\n  }\n  .marker.cross {\n    stroke: ").concat(options.lineColor, ";\n  }\n\n  svg {\n    font-family: ").concat(options.fontFamily, ";\n    font-size: ").concat(options.fontSize, ";\n  }\n\n  ").concat(themes[type2](options), "\n\n  ").concat(userStyles, "\n");
          };
          const __WEBPACK_DEFAULT_EXPORT__ = getStyles;
        },
        "./src/themes/index.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "default": () => __WEBPACK_DEFAULT_EXPORT__
          });
          var _theme_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("./src/themes/theme-base.js");
          var _theme_dark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/themes/theme-dark.js");
          var _theme_default__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/themes/theme-default.js");
          var _theme_forest__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/themes/theme-forest.js");
          var _theme_neutral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/themes/theme-neutral.js");
          const __WEBPACK_DEFAULT_EXPORT__ = {
            base: {
              getThemeVariables: _theme_base__WEBPACK_IMPORTED_MODULE_0__.getThemeVariables
            },
            dark: {
              getThemeVariables: _theme_dark__WEBPACK_IMPORTED_MODULE_1__.getThemeVariables
            },
            default: {
              getThemeVariables: _theme_default__WEBPACK_IMPORTED_MODULE_2__.getThemeVariables
            },
            forest: {
              getThemeVariables: _theme_forest__WEBPACK_IMPORTED_MODULE_3__.getThemeVariables
            },
            neutral: {
              getThemeVariables: _theme_neutral__WEBPACK_IMPORTED_MODULE_4__.getThemeVariables
            }
          };
        },
        "./src/themes/theme-base.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "getThemeVariables": () => getThemeVariables
          });
          var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("khroma");
          var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/themes/theme-helpers.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          var Theme = /* @__PURE__ */ function() {
            function Theme2() {
              _classCallCheck(this, Theme2);
              this.background = "#f4f4f4";
              this.darkMode = false;
              this.primaryColor = "#fff4dd";
              this.noteBkgColor = "#fff5ad";
              this.noteTextColor = "#333";
              this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
              this.fontSize = "16px";
            }
            _createClass(Theme2, [{
              key: "updateColors",
              value: function updateColors() {
                this.primaryTextColor = this.primaryTextColor || (this.darkMode ? "#eee" : "#333");
                this.secondaryColor = this.secondaryColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -120
                });
                this.tertiaryColor = this.tertiaryColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 180,
                  l: 5
                });
                this.primaryBorderColor = this.primaryBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);
                this.secondaryBorderColor = this.secondaryBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);
                this.tertiaryBorderColor = this.tertiaryBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);
                this.noteBorderColor = this.noteBorderColor || (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.noteBkgColor, this.darkMode);
                this.noteBkgColor = this.noteBkgColor || "#fff5ad";
                this.noteTextColor = this.noteTextColor || "#333";
                this.secondaryTextColor = this.secondaryTextColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);
                this.tertiaryTextColor = this.tertiaryTextColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);
                this.lineColor = this.lineColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
                this.textColor = this.textColor || this.primaryTextColor;
                this.nodeBkg = this.nodeBkg || this.primaryColor;
                this.mainBkg = this.mainBkg || this.primaryColor;
                this.nodeBorder = this.nodeBorder || this.primaryBorderColor;
                this.clusterBkg = this.clusterBkg || this.tertiaryColor;
                this.clusterBorder = this.clusterBorder || this.tertiaryBorderColor;
                this.defaultLinkColor = this.defaultLinkColor || this.lineColor;
                this.titleColor = this.titleColor || this.tertiaryTextColor;
                this.edgeLabelBackground = this.edgeLabelBackground || (this.darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 30) : this.secondaryColor);
                this.nodeTextColor = this.nodeTextColor || this.primaryTextColor;
                this.actorBorder = this.actorBorder || this.primaryBorderColor;
                this.actorBkg = this.actorBkg || this.mainBkg;
                this.actorTextColor = this.actorTextColor || this.primaryTextColor;
                this.actorLineColor = this.actorLineColor || "grey";
                this.labelBoxBkgColor = this.labelBoxBkgColor || this.actorBkg;
                this.signalColor = this.signalColor || this.textColor;
                this.signalTextColor = this.signalTextColor || this.textColor;
                this.labelBoxBorderColor = this.labelBoxBorderColor || this.actorBorder;
                this.labelTextColor = this.labelTextColor || this.actorTextColor;
                this.loopTextColor = this.loopTextColor || this.actorTextColor;
                this.activationBorderColor = this.activationBorderColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 10);
                this.activationBkgColor = this.activationBkgColor || this.secondaryColor;
                this.sequenceNumberColor = this.sequenceNumberColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.lineColor);
                this.sectionBkgColor = this.sectionBkgColor || this.tertiaryColor;
                this.altSectionBkgColor = this.altSectionBkgColor || "white";
                this.sectionBkgColor = this.sectionBkgColor || this.secondaryColor;
                this.sectionBkgColor2 = this.sectionBkgColor2 || this.primaryColor;
                this.excludeBkgColor = this.excludeBkgColor || "#eeeeee";
                this.taskBorderColor = this.taskBorderColor || this.primaryBorderColor;
                this.taskBkgColor = this.taskBkgColor || this.primaryColor;
                this.activeTaskBorderColor = this.activeTaskBorderColor || this.primaryColor;
                this.activeTaskBkgColor = this.activeTaskBkgColor || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.primaryColor, 23);
                this.gridColor = this.gridColor || "lightgrey";
                this.doneTaskBkgColor = this.doneTaskBkgColor || "lightgrey";
                this.doneTaskBorderColor = this.doneTaskBorderColor || "grey";
                this.critBorderColor = this.critBorderColor || "#ff8888";
                this.critBkgColor = this.critBkgColor || "red";
                this.todayLineColor = this.todayLineColor || "red";
                this.taskTextColor = this.taskTextColor || this.textColor;
                this.taskTextOutsideColor = this.taskTextOutsideColor || this.textColor;
                this.taskTextLightColor = this.taskTextLightColor || this.textColor;
                this.taskTextColor = this.taskTextColor || this.primaryTextColor;
                this.taskTextDarkColor = this.taskTextDarkColor || this.textColor;
                this.taskTextClickableColor = this.taskTextClickableColor || "#003163";
                this.personBorder = this.personBorder || this.primaryBorderColor;
                this.personBkg = this.personBkg || this.mainBkg;
                this.transitionColor = this.transitionColor || this.lineColor;
                this.transitionLabelColor = this.transitionLabelColor || this.textColor;
                this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
                this.stateBkg = this.stateBkg || this.mainBkg;
                this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
                this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
                this.altBackground = this.altBackground || this.tertiaryColor;
                this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
                this.compositeBorder = this.compositeBorder || this.nodeBorder;
                this.innerEndBackground = this.nodeBorder;
                this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
                this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
                this.transitionColor = this.transitionColor || this.lineColor;
                this.specialStateColor = this.lineColor;
                this.classText = this.classText || this.textColor;
                this.fillType0 = this.fillType0 || this.primaryColor;
                this.fillType1 = this.fillType1 || this.secondaryColor;
                this.fillType2 = this.fillType2 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 64
                });
                this.fillType3 = this.fillType3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 64
                });
                this.fillType4 = this.fillType4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -64
                });
                this.fillType5 = this.fillType5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: -64
                });
                this.fillType6 = this.fillType6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 128
                });
                this.fillType7 = this.fillType7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 128
                });
                this.pie1 = this.pie1 || this.primaryColor;
                this.pie2 = this.pie2 || this.secondaryColor;
                this.pie3 = this.pie3 || this.tertiaryColor;
                this.pie4 = this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  l: -10
                });
                this.pie5 = this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  l: -10
                });
                this.pie6 = this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {
                  l: -10
                });
                this.pie7 = this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60,
                  l: -10
                });
                this.pie8 = this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60,
                  l: -10
                });
                this.pie9 = this.pie9 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120,
                  l: 0
                });
                this.pie10 = this.pie10 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60,
                  l: -20
                });
                this.pie11 = this.pie11 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60,
                  l: -20
                });
                this.pie12 = this.pie12 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120,
                  l: -10
                });
                this.pieTitleTextSize = this.pieTitleTextSize || "25px";
                this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
                this.pieSectionTextSize = this.pieSectionTextSize || "17px";
                this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
                this.pieLegendTextSize = this.pieLegendTextSize || "17px";
                this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
                this.pieStrokeColor = this.pieStrokeColor || "black";
                this.pieStrokeWidth = this.pieStrokeWidth || "2px";
                this.pieOpacity = this.pieOpacity || "0.7";
                this.requirementBackground = this.requirementBackground || this.primaryColor;
                this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
                this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
                this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
                this.relationColor = this.relationColor || this.lineColor;
                this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 30) : this.secondaryColor);
                this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
                this.git0 = this.git0 || this.primaryColor;
                this.git1 = this.git1 || this.secondaryColor;
                this.git2 = this.git2 || this.tertiaryColor;
                this.git3 = this.git3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -30
                });
                this.git4 = this.git4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60
                });
                this.git5 = this.git5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -90
                });
                this.git6 = this.git6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60
                });
                this.git7 = this.git7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120
                });
                if (this.darkMode) {
                  this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git0, 25);
                  this.git1 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git1, 25);
                  this.git2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git2, 25);
                  this.git3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git3, 25);
                  this.git4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git4, 25);
                  this.git5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git5, 25);
                  this.git6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git6, 25);
                  this.git7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git7, 25);
                } else {
                  this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git0, 25);
                  this.git1 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git1, 25);
                  this.git2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git2, 25);
                  this.git3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git3, 25);
                  this.git4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git4, 25);
                  this.git5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git5, 25);
                  this.git6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git6, 25);
                  this.git7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git7, 25);
                }
                this.gitInv0 = this.gitInv0 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git0);
                this.gitInv1 = this.gitInv1 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git1);
                this.gitInv2 = this.gitInv2 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git2);
                this.gitInv3 = this.gitInv3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git3);
                this.gitInv4 = this.gitInv4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git4);
                this.gitInv5 = this.gitInv5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git5);
                this.gitInv6 = this.gitInv6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git6);
                this.gitInv7 = this.gitInv7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git7);
                this.branchLabelColor = this.branchLabelColor || (this.darkMode ? "black" : this.labelTextColor);
                this.gitBranchLabel0 = this.gitBranchLabel0 || this.branchLabelColor;
                this.gitBranchLabel1 = this.gitBranchLabel1 || this.branchLabelColor;
                this.gitBranchLabel2 = this.gitBranchLabel2 || this.branchLabelColor;
                this.gitBranchLabel3 = this.gitBranchLabel3 || this.branchLabelColor;
                this.gitBranchLabel4 = this.gitBranchLabel4 || this.branchLabelColor;
                this.gitBranchLabel5 = this.gitBranchLabel5 || this.branchLabelColor;
                this.gitBranchLabel6 = this.gitBranchLabel6 || this.branchLabelColor;
                this.gitBranchLabel7 = this.gitBranchLabel7 || this.branchLabelColor;
                this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
                this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
                this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
                this.tagLabelFontSize = this.tagLabelFontSize || "10px";
                this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
                this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
                this.commitLabelFontSize = this.commitLabelFontSize || "10px";
              }
            }, {
              key: "calculate",
              value: function calculate(overrides) {
                var _this = this;
                if (_typeof(overrides) !== "object") {
                  this.updateColors();
                  return;
                }
                var keys2 = Object.keys(overrides);
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
                this.updateColors();
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
              }
            }]);
            return Theme2;
          }();
          var getThemeVariables = function getThemeVariables2(userOverrides) {
            var theme = new Theme();
            theme.calculate(userOverrides);
            return theme;
          };
        },
        "./src/themes/theme-dark.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "getThemeVariables": () => getThemeVariables
          });
          var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("khroma");
          var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/themes/theme-helpers.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          var Theme = /* @__PURE__ */ function() {
            function Theme2() {
              _classCallCheck(this, Theme2);
              this.background = "#333";
              this.primaryColor = "#1f2020";
              this.secondaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.primaryColor, 16);
              this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                h: -160
              });
              this.primaryBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);
              this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);
              this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);
              this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);
              this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);
              this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.mainBkg = "#1f2020";
              this.secondBkg = "calculated";
              this.mainContrastColor = "lightgrey";
              this.darkTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)((0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)("#323D47"), 10);
              this.lineColor = "calculated";
              this.border1 = "#81B1DB";
              this.border2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255, 255, 255, 0.25);
              this.arrowheadColor = "calculated";
              this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
              this.fontSize = "16px";
              this.labelBackground = "#181818";
              this.textColor = "#ccc";
              this.nodeBkg = "calculated";
              this.nodeBorder = "calculated";
              this.clusterBkg = "calculated";
              this.clusterBorder = "calculated";
              this.defaultLinkColor = "calculated";
              this.titleColor = "#F9FFFE";
              this.edgeLabelBackground = "calculated";
              this.actorBorder = "calculated";
              this.actorBkg = "calculated";
              this.actorTextColor = "calculated";
              this.actorLineColor = "calculated";
              this.signalColor = "calculated";
              this.signalTextColor = "calculated";
              this.labelBoxBkgColor = "calculated";
              this.labelBoxBorderColor = "calculated";
              this.labelTextColor = "calculated";
              this.loopTextColor = "calculated";
              this.noteBorderColor = "calculated";
              this.noteBkgColor = "#fff5ad";
              this.noteTextColor = "calculated";
              this.activationBorderColor = "calculated";
              this.activationBkgColor = "calculated";
              this.sequenceNumberColor = "black";
              this.sectionBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)("#EAE8D9", 30);
              this.altSectionBkgColor = "calculated";
              this.sectionBkgColor2 = "#EAE8D9";
              this.taskBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255, 255, 255, 70);
              this.taskBkgColor = "calculated";
              this.taskTextColor = "calculated";
              this.taskTextLightColor = "calculated";
              this.taskTextOutsideColor = "calculated";
              this.taskTextClickableColor = "#003163";
              this.activeTaskBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255, 255, 255, 50);
              this.activeTaskBkgColor = "#81B1DB";
              this.gridColor = "calculated";
              this.doneTaskBkgColor = "calculated";
              this.doneTaskBorderColor = "grey";
              this.critBorderColor = "#E83737";
              this.critBkgColor = "#E83737";
              this.taskTextDarkColor = "calculated";
              this.todayLineColor = "#DB5757";
              this.personBorder = "calculated";
              this.personBkg = "calculated";
              this.labelColor = "calculated";
              this.errorBkgColor = "#a44141";
              this.errorTextColor = "#ddd";
            }
            _createClass(Theme2, [{
              key: "updateColors",
              value: function updateColors() {
                this.secondBkg = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.mainBkg, 16);
                this.lineColor = this.mainContrastColor;
                this.arrowheadColor = this.mainContrastColor;
                this.nodeBkg = this.mainBkg;
                this.nodeBorder = this.border1;
                this.clusterBkg = this.secondBkg;
                this.clusterBorder = this.border2;
                this.defaultLinkColor = this.lineColor;
                this.edgeLabelBackground = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.labelBackground, 25);
                this.actorBorder = this.border1;
                this.actorBkg = this.mainBkg;
                this.actorTextColor = this.mainContrastColor;
                this.actorLineColor = this.mainContrastColor;
                this.signalColor = this.mainContrastColor;
                this.signalTextColor = this.mainContrastColor;
                this.labelBoxBkgColor = this.actorBkg;
                this.labelBoxBorderColor = this.actorBorder;
                this.labelTextColor = this.mainContrastColor;
                this.loopTextColor = this.mainContrastColor;
                this.noteBorderColor = this.secondaryBorderColor;
                this.noteBkgColor = this.secondBkg;
                this.noteTextColor = this.secondaryTextColor;
                this.activationBorderColor = this.border1;
                this.activationBkgColor = this.secondBkg;
                this.altSectionBkgColor = this.background;
                this.taskBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.mainBkg, 23);
                this.taskTextColor = this.darkTextColor;
                this.taskTextLightColor = this.mainContrastColor;
                this.taskTextOutsideColor = this.taskTextLightColor;
                this.gridColor = this.mainContrastColor;
                this.doneTaskBkgColor = this.mainContrastColor;
                this.taskTextDarkColor = this.darkTextColor;
                this.transitionColor = this.transitionColor || this.lineColor;
                this.transitionLabelColor = this.transitionLabelColor || this.textColor;
                this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
                this.stateBkg = this.stateBkg || this.mainBkg;
                this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
                this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
                this.altBackground = this.altBackground || "#555";
                this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
                this.compositeBorder = this.compositeBorder || this.nodeBorder;
                this.innerEndBackground = this.primaryBorderColor;
                this.specialStateColor = "#f4f4f4";
                this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
                this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
                this.fillType0 = this.primaryColor;
                this.fillType1 = this.secondaryColor;
                this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 64
                });
                this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 64
                });
                this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -64
                });
                this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: -64
                });
                this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 128
                });
                this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 128
                });
                this.pie1 = this.pie1 || "#0b0000";
                this.pie2 = this.pie2 || "#4d1037";
                this.pie3 = this.pie3 || "#3f5258";
                this.pie4 = this.pie4 || "#4f2f1b";
                this.pie5 = this.pie5 || "#6e0a0a";
                this.pie6 = this.pie6 || "#3b0048";
                this.pie7 = this.pie7 || "#995a01";
                this.pie8 = this.pie8 || "#154706";
                this.pie9 = this.pie9 || "#161722";
                this.pie10 = this.pie10 || "#00296f";
                this.pie11 = this.pie11 || "#01629c";
                this.pie12 = this.pie12 || "#010029";
                this.pieTitleTextSize = this.pieTitleTextSize || "25px";
                this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
                this.pieSectionTextSize = this.pieSectionTextSize || "17px";
                this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
                this.pieLegendTextSize = this.pieLegendTextSize || "17px";
                this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
                this.pieStrokeColor = this.pieStrokeColor || "black";
                this.pieStrokeWidth = this.pieStrokeWidth || "2px";
                this.pieOpacity = this.pieOpacity || "0.7";
                this.classText = this.primaryTextColor;
                this.requirementBackground = this.requirementBackground || this.primaryColor;
                this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
                this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
                this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
                this.relationColor = this.relationColor || this.lineColor;
                this.relationLabelBackground = this.relationLabelBackground || (this.darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor, 30) : this.secondaryColor);
                this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
                this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.secondaryColor, 20);
                this.git1 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.pie2 || this.secondaryColor, 20);
                this.git2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.pie3 || this.tertiaryColor, 20);
                this.git3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -30
                }), 20);
                this.git4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60
                }), 20);
                this.git5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -90
                }), 10);
                this.git6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60
                }), 10);
                this.git7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120
                }), 20);
                this.gitInv0 = this.gitInv0 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git0);
                this.gitInv1 = this.gitInv1 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git1);
                this.gitInv2 = this.gitInv2 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git2);
                this.gitInv3 = this.gitInv3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git3);
                this.gitInv4 = this.gitInv4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git4);
                this.gitInv5 = this.gitInv5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git5);
                this.gitInv6 = this.gitInv6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git6);
                this.gitInv7 = this.gitInv7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git7);
                this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
                this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
                this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
                this.tagLabelFontSize = this.tagLabelFontSize || "10px";
                this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
                this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
                this.commitLabelFontSize = this.commitLabelFontSize || "10px";
              }
            }, {
              key: "calculate",
              value: function calculate(overrides) {
                var _this = this;
                if (_typeof(overrides) !== "object") {
                  this.updateColors();
                  return;
                }
                var keys2 = Object.keys(overrides);
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
                this.updateColors();
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
              }
            }]);
            return Theme2;
          }();
          var getThemeVariables = function getThemeVariables2(userOverrides) {
            var theme = new Theme();
            theme.calculate(userOverrides);
            return theme;
          };
        },
        "./src/themes/theme-default.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "getThemeVariables": () => getThemeVariables
          });
          var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("khroma");
          var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/themes/theme-helpers.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          var Theme = /* @__PURE__ */ function() {
            function Theme2() {
              _classCallCheck(this, Theme2);
              this.background = "#f4f4f4";
              this.primaryColor = "#ECECFF";
              this.secondaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                h: 120
              });
              this.secondaryColor = "#ffffde";
              this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                h: -160
              });
              this.primaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);
              this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);
              this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);
              this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);
              this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);
              this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);
              this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.background = "white";
              this.mainBkg = "#ECECFF";
              this.secondBkg = "#ffffde";
              this.lineColor = "#333333";
              this.border1 = "#9370DB";
              this.border2 = "#aaaa33";
              this.arrowheadColor = "#333333";
              this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
              this.fontSize = "16px";
              this.labelBackground = "#e8e8e8";
              this.textColor = "#333";
              this.nodeBkg = "calculated";
              this.nodeBorder = "calculated";
              this.clusterBkg = "calculated";
              this.clusterBorder = "calculated";
              this.defaultLinkColor = "calculated";
              this.titleColor = "calculated";
              this.edgeLabelBackground = "calculated";
              this.actorBorder = "calculated";
              this.actorBkg = "calculated";
              this.actorTextColor = "black";
              this.actorLineColor = "grey";
              this.signalColor = "calculated";
              this.signalTextColor = "calculated";
              this.labelBoxBkgColor = "calculated";
              this.labelBoxBorderColor = "calculated";
              this.labelTextColor = "calculated";
              this.loopTextColor = "calculated";
              this.noteBorderColor = "calculated";
              this.noteBkgColor = "#fff5ad";
              this.noteTextColor = "calculated";
              this.activationBorderColor = "#666";
              this.activationBkgColor = "#f4f4f4";
              this.sequenceNumberColor = "white";
              this.sectionBkgColor = "calculated";
              this.altSectionBkgColor = "calculated";
              this.sectionBkgColor2 = "calculated";
              this.excludeBkgColor = "#eeeeee";
              this.taskBorderColor = "calculated";
              this.taskBkgColor = "calculated";
              this.taskTextLightColor = "calculated";
              this.taskTextColor = this.taskTextLightColor;
              this.taskTextDarkColor = "calculated";
              this.taskTextOutsideColor = this.taskTextDarkColor;
              this.taskTextClickableColor = "calculated";
              this.activeTaskBorderColor = "calculated";
              this.activeTaskBkgColor = "calculated";
              this.gridColor = "calculated";
              this.doneTaskBkgColor = "calculated";
              this.doneTaskBorderColor = "calculated";
              this.critBorderColor = "calculated";
              this.critBkgColor = "calculated";
              this.todayLineColor = "calculated";
              this.sectionBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(102, 102, 255, 0.49);
              this.altSectionBkgColor = "white";
              this.sectionBkgColor2 = "#fff400";
              this.taskBorderColor = "#534fbc";
              this.taskBkgColor = "#8a90dd";
              this.taskTextLightColor = "white";
              this.taskTextColor = "calculated";
              this.taskTextDarkColor = "black";
              this.taskTextOutsideColor = "calculated";
              this.taskTextClickableColor = "#003163";
              this.activeTaskBorderColor = "#534fbc";
              this.activeTaskBkgColor = "#bfc7ff";
              this.gridColor = "lightgrey";
              this.doneTaskBkgColor = "lightgrey";
              this.doneTaskBorderColor = "grey";
              this.critBorderColor = "#ff8888";
              this.critBkgColor = "red";
              this.todayLineColor = "red";
              this.personBorder = "calculated";
              this.personBkg = "calculated";
              this.labelColor = "black";
              this.errorBkgColor = "#552222";
              this.errorTextColor = "#552222";
              this.updateColors();
            }
            _createClass(Theme2, [{
              key: "updateColors",
              value: function updateColors() {
                this.nodeBkg = this.mainBkg;
                this.nodeBorder = this.border1;
                this.clusterBkg = this.secondBkg;
                this.clusterBorder = this.border2;
                this.defaultLinkColor = this.lineColor;
                this.titleColor = this.textColor;
                this.edgeLabelBackground = this.labelBackground;
                this.actorBorder = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1, 23);
                this.actorBkg = this.mainBkg;
                this.labelBoxBkgColor = this.actorBkg;
                this.signalColor = this.textColor;
                this.signalTextColor = this.textColor;
                this.labelBoxBorderColor = this.actorBorder;
                this.labelTextColor = this.actorTextColor;
                this.loopTextColor = this.actorTextColor;
                this.noteBorderColor = this.border2;
                this.noteTextColor = this.actorTextColor;
                this.taskTextColor = this.taskTextLightColor;
                this.taskTextOutsideColor = this.taskTextDarkColor;
                this.transitionColor = this.transitionColor || this.lineColor;
                this.transitionLabelColor = this.transitionLabelColor || this.textColor;
                this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
                this.stateBkg = this.stateBkg || this.mainBkg;
                this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
                this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
                this.altBackground = this.altBackground || "#f0f0f0";
                this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
                this.compositeBorder = this.compositeBorder || this.nodeBorder;
                this.innerEndBackground = this.nodeBorder;
                this.specialStateColor = this.lineColor;
                this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
                this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
                this.transitionColor = this.transitionColor || this.lineColor;
                this.classText = this.primaryTextColor;
                this.fillType0 = this.primaryColor;
                this.fillType1 = this.secondaryColor;
                this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 64
                });
                this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 64
                });
                this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -64
                });
                this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: -64
                });
                this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 128
                });
                this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 128
                });
                this.pie1 = this.pie1 || this.primaryColor;
                this.pie2 = this.pie2 || this.secondaryColor;
                this.pie3 = this.pie3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {
                  l: -40
                });
                this.pie4 = this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  l: -10
                });
                this.pie5 = this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  l: -30
                });
                this.pie6 = this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {
                  l: -20
                });
                this.pie7 = this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60,
                  l: -20
                });
                this.pie8 = this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60,
                  l: -40
                });
                this.pie9 = this.pie9 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120,
                  l: -40
                });
                this.pie10 = this.pie10 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60,
                  l: -40
                });
                this.pie11 = this.pie11 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -90,
                  l: -40
                });
                this.pie12 = this.pie12 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120,
                  l: -30
                });
                this.pieTitleTextSize = this.pieTitleTextSize || "25px";
                this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
                this.pieSectionTextSize = this.pieSectionTextSize || "17px";
                this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
                this.pieLegendTextSize = this.pieLegendTextSize || "17px";
                this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
                this.pieStrokeColor = this.pieStrokeColor || "black";
                this.pieStrokeWidth = this.pieStrokeWidth || "2px";
                this.pieOpacity = this.pieOpacity || "0.7";
                this.requirementBackground = this.requirementBackground || this.primaryColor;
                this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
                this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
                this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
                this.relationColor = this.relationColor || this.lineColor;
                this.relationLabelBackground = this.relationLabelBackground || this.labelBackground;
                this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
                this.git0 = this.git0 || this.primaryColor;
                this.git1 = this.git1 || this.secondaryColor;
                this.git2 = this.git2 || this.tertiaryColor;
                this.git3 = this.git3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -30
                });
                this.git4 = this.git4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60
                });
                this.git5 = this.git5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -90
                });
                this.git6 = this.git6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60
                });
                this.git7 = this.git7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120
                });
                if (this.darkMode) {
                  this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git0, 25);
                  this.git1 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git1, 25);
                  this.git2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git2, 25);
                  this.git3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git3, 25);
                  this.git4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git4, 25);
                  this.git5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git5, 25);
                  this.git6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git6, 25);
                  this.git7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git7, 25);
                } else {
                  this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git0, 25);
                  this.git1 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git1, 25);
                  this.git2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git2, 25);
                  this.git3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git3, 25);
                  this.git4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git4, 25);
                  this.git5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git5, 25);
                  this.git6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git6, 25);
                  this.git7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git7, 25);
                }
                this.gitInv0 = this.gitInv0 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)((0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git0), 25);
                this.gitInv1 = this.gitInv1 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git1);
                this.gitInv2 = this.gitInv2 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git2);
                this.gitInv3 = this.gitInv3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git3);
                this.gitInv4 = this.gitInv4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git4);
                this.gitInv5 = this.gitInv5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git5);
                this.gitInv6 = this.gitInv6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git6);
                this.gitInv7 = this.gitInv7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git7);
                this.gitBranchLabel0 = this.gitBranchLabel0 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.labelTextColor);
                this.gitBranchLabel1 = this.gitBranchLabel1 || this.labelTextColor;
                this.gitBranchLabel2 = this.gitBranchLabel2 || this.labelTextColor;
                this.gitBranchLabel3 = this.gitBranchLabel3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.labelTextColor);
                this.gitBranchLabel4 = this.gitBranchLabel4 || this.labelTextColor;
                this.gitBranchLabel5 = this.gitBranchLabel5 || this.labelTextColor;
                this.gitBranchLabel6 = this.gitBranchLabel6 || this.labelTextColor;
                this.gitBranchLabel7 = this.gitBranchLabel7 || this.labelTextColor;
                this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
                this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
                this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
                this.tagLabelFontSize = this.tagLabelFontSize || "10px";
                this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
                this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
                this.commitLabelFontSize = this.commitLabelFontSize || "10px";
              }
            }, {
              key: "calculate",
              value: function calculate(overrides) {
                var _this = this;
                if (_typeof(overrides) !== "object") {
                  this.updateColors();
                  return;
                }
                var keys2 = Object.keys(overrides);
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
                this.updateColors();
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
              }
            }]);
            return Theme2;
          }();
          var getThemeVariables = function getThemeVariables2(userOverrides) {
            var theme = new Theme();
            theme.calculate(userOverrides);
            return theme;
          };
        },
        "./src/themes/theme-forest.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "getThemeVariables": () => getThemeVariables
          });
          var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("khroma");
          var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/themes/theme-helpers.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          var Theme = /* @__PURE__ */ function() {
            function Theme2() {
              _classCallCheck(this, Theme2);
              this.background = "#f4f4f4";
              this.primaryColor = "#cde498";
              this.secondaryColor = "#cdffb2";
              this.background = "white";
              this.mainBkg = "#cde498";
              this.secondBkg = "#cdffb2";
              this.lineColor = "green";
              this.border1 = "#13540c";
              this.border2 = "#6eaa49";
              this.arrowheadColor = "green";
              this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
              this.fontSize = "16px";
              this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)("#cde498", 10);
              this.primaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);
              this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);
              this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);
              this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);
              this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);
              this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);
              this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.nodeBkg = "calculated";
              this.nodeBorder = "calculated";
              this.clusterBkg = "calculated";
              this.clusterBorder = "calculated";
              this.defaultLinkColor = "calculated";
              this.titleColor = "#333";
              this.edgeLabelBackground = "#e8e8e8";
              this.actorBorder = "calculated";
              this.actorBkg = "calculated";
              this.actorTextColor = "black";
              this.actorLineColor = "grey";
              this.signalColor = "#333";
              this.signalTextColor = "#333";
              this.labelBoxBkgColor = "calculated";
              this.labelBoxBorderColor = "#326932";
              this.labelTextColor = "calculated";
              this.loopTextColor = "calculated";
              this.noteBorderColor = "calculated";
              this.noteBkgColor = "#fff5ad";
              this.noteTextColor = "calculated";
              this.activationBorderColor = "#666";
              this.activationBkgColor = "#f4f4f4";
              this.sequenceNumberColor = "white";
              this.sectionBkgColor = "#6eaa49";
              this.altSectionBkgColor = "white";
              this.sectionBkgColor2 = "#6eaa49";
              this.excludeBkgColor = "#eeeeee";
              this.taskBorderColor = "calculated";
              this.taskBkgColor = "#487e3a";
              this.taskTextLightColor = "white";
              this.taskTextColor = "calculated";
              this.taskTextDarkColor = "black";
              this.taskTextOutsideColor = "calculated";
              this.taskTextClickableColor = "#003163";
              this.activeTaskBorderColor = "calculated";
              this.activeTaskBkgColor = "calculated";
              this.gridColor = "lightgrey";
              this.doneTaskBkgColor = "lightgrey";
              this.doneTaskBorderColor = "grey";
              this.critBorderColor = "#ff8888";
              this.critBkgColor = "red";
              this.todayLineColor = "red";
              this.personBorder = "calculated";
              this.personBkg = "calculated";
              this.labelColor = "black";
              this.errorBkgColor = "#552222";
              this.errorTextColor = "#552222";
            }
            _createClass(Theme2, [{
              key: "updateColors",
              value: function updateColors() {
                this.nodeBkg = this.mainBkg;
                this.nodeBorder = this.border1;
                this.clusterBkg = this.secondBkg;
                this.clusterBorder = this.border2;
                this.defaultLinkColor = this.lineColor;
                this.actorBorder = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.mainBkg, 20);
                this.actorBkg = this.mainBkg;
                this.labelBoxBkgColor = this.actorBkg;
                this.labelTextColor = this.actorTextColor;
                this.loopTextColor = this.actorTextColor;
                this.noteBorderColor = this.border2;
                this.noteTextColor = this.actorTextColor;
                this.taskBorderColor = this.border1;
                this.taskTextColor = this.taskTextLightColor;
                this.taskTextOutsideColor = this.taskTextDarkColor;
                this.activeTaskBorderColor = this.taskBorderColor;
                this.activeTaskBkgColor = this.mainBkg;
                this.transitionColor = this.transitionColor || this.lineColor;
                this.transitionLabelColor = this.transitionLabelColor || this.textColor;
                this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
                this.stateBkg = this.stateBkg || this.mainBkg;
                this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
                this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
                this.altBackground = this.altBackground || "#f0f0f0";
                this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
                this.compositeBorder = this.compositeBorder || this.nodeBorder;
                this.innerEndBackground = this.primaryBorderColor;
                this.specialStateColor = this.lineColor;
                this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
                this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
                this.transitionColor = this.transitionColor || this.lineColor;
                this.classText = this.primaryTextColor;
                this.fillType0 = this.primaryColor;
                this.fillType1 = this.secondaryColor;
                this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 64
                });
                this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 64
                });
                this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -64
                });
                this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: -64
                });
                this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 128
                });
                this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 128
                });
                this.pie1 = this.pie1 || this.primaryColor;
                this.pie2 = this.pie2 || this.secondaryColor;
                this.pie3 = this.pie3 || this.tertiaryColor;
                this.pie4 = this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  l: -30
                });
                this.pie5 = this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  l: -30
                });
                this.pie6 = this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor, {
                  h: 40,
                  l: -40
                });
                this.pie7 = this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60,
                  l: -10
                });
                this.pie8 = this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60,
                  l: -10
                });
                this.pie9 = this.pie9 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120,
                  l: 0
                });
                this.pie10 = this.pie10 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60,
                  l: -50
                });
                this.pie11 = this.pie11 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60,
                  l: -50
                });
                this.pie12 = this.pie12 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120,
                  l: -50
                });
                this.pieTitleTextSize = this.pieTitleTextSize || "25px";
                this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
                this.pieSectionTextSize = this.pieSectionTextSize || "17px";
                this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
                this.pieLegendTextSize = this.pieLegendTextSize || "17px";
                this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
                this.pieStrokeColor = this.pieStrokeColor || "black";
                this.pieStrokeWidth = this.pieStrokeWidth || "2px";
                this.pieOpacity = this.pieOpacity || "0.7";
                this.requirementBackground = this.requirementBackground || this.primaryColor;
                this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
                this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
                this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
                this.relationColor = this.relationColor || this.lineColor;
                this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;
                this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
                this.git0 = this.git0 || this.primaryColor;
                this.git1 = this.git1 || this.secondaryColor;
                this.git2 = this.git2 || this.tertiaryColor;
                this.git3 = this.git3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -30
                });
                this.git4 = this.git4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60
                });
                this.git5 = this.git5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -90
                });
                this.git6 = this.git6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60
                });
                this.git7 = this.git7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120
                });
                if (this.darkMode) {
                  this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git0, 25);
                  this.git1 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git1, 25);
                  this.git2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git2, 25);
                  this.git3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git3, 25);
                  this.git4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git4, 25);
                  this.git5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git5, 25);
                  this.git6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git6, 25);
                  this.git7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.git7, 25);
                } else {
                  this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git0, 25);
                  this.git1 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git1, 25);
                  this.git2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git2, 25);
                  this.git3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git3, 25);
                  this.git4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git4, 25);
                  this.git5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git5, 25);
                  this.git6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git6, 25);
                  this.git7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.git7, 25);
                }
                this.gitInv0 = this.gitInv0 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git0);
                this.gitInv1 = this.gitInv1 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git1);
                this.gitInv2 = this.gitInv2 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git2);
                this.gitInv3 = this.gitInv3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git3);
                this.gitInv4 = this.gitInv4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git4);
                this.gitInv5 = this.gitInv5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git5);
                this.gitInv6 = this.gitInv6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git6);
                this.gitInv7 = this.gitInv7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git7);
                this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
                this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
                this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
                this.tagLabelFontSize = this.tagLabelFontSize || "10px";
                this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
                this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
                this.commitLabelFontSize = this.commitLabelFontSize || "10px";
              }
            }, {
              key: "calculate",
              value: function calculate(overrides) {
                var _this = this;
                if (_typeof(overrides) !== "object") {
                  this.updateColors();
                  return;
                }
                var keys2 = Object.keys(overrides);
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
                this.updateColors();
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
              }
            }]);
            return Theme2;
          }();
          var getThemeVariables = function getThemeVariables2(userOverrides) {
            var theme = new Theme();
            theme.calculate(userOverrides);
            return theme;
          };
        },
        "./src/themes/theme-helpers.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "mkBorder": () => mkBorder
          });
          var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("khroma");
          var mkBorder = function mkBorder2(col, darkMode) {
            return darkMode ? (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(col, {
              s: -40,
              l: 10
            }) : (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(col, {
              s: -40,
              l: -10
            });
          };
        },
        "./src/themes/theme-neutral.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "getThemeVariables": () => getThemeVariables
          });
          var khroma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("khroma");
          var _theme_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("./src/themes/theme-helpers.js");
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          var Theme = /* @__PURE__ */ function() {
            function Theme2() {
              _classCallCheck(this, Theme2);
              this.primaryColor = "#eee";
              this.contrast = "#707070";
              this.secondaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 55);
              this.background = "#ffffff";
              this.tertiaryColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                h: -160
              });
              this.primaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor, this.darkMode);
              this.secondaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor, this.darkMode);
              this.tertiaryBorderColor = (0, _theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor, this.darkMode);
              this.primaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor);
              this.secondaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor);
              this.tertiaryTextColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor);
              this.lineColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.textColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background);
              this.mainBkg = "#eee";
              this.secondBkg = "calculated";
              this.lineColor = "#666";
              this.border1 = "#999";
              this.border2 = "calculated";
              this.note = "#ffa";
              this.text = "#333";
              this.critical = "#d42";
              this.done = "#bbb";
              this.arrowheadColor = "#333333";
              this.fontFamily = '"trebuchet ms", verdana, arial, sans-serif';
              this.fontSize = "16px";
              this.nodeBkg = "calculated";
              this.nodeBorder = "calculated";
              this.clusterBkg = "calculated";
              this.clusterBorder = "calculated";
              this.defaultLinkColor = "calculated";
              this.titleColor = "calculated";
              this.edgeLabelBackground = "white";
              this.actorBorder = "calculated";
              this.actorBkg = "calculated";
              this.actorTextColor = "calculated";
              this.actorLineColor = "calculated";
              this.signalColor = "calculated";
              this.signalTextColor = "calculated";
              this.labelBoxBkgColor = "calculated";
              this.labelBoxBorderColor = "calculated";
              this.labelTextColor = "calculated";
              this.loopTextColor = "calculated";
              this.noteBorderColor = "calculated";
              this.noteBkgColor = "calculated";
              this.noteTextColor = "calculated";
              this.activationBorderColor = "#666";
              this.activationBkgColor = "#f4f4f4";
              this.sequenceNumberColor = "white";
              this.sectionBkgColor = "calculated";
              this.altSectionBkgColor = "white";
              this.sectionBkgColor2 = "calculated";
              this.excludeBkgColor = "#eeeeee";
              this.taskBorderColor = "calculated";
              this.taskBkgColor = "calculated";
              this.taskTextLightColor = "white";
              this.taskTextColor = "calculated";
              this.taskTextDarkColor = "calculated";
              this.taskTextOutsideColor = "calculated";
              this.taskTextClickableColor = "#003163";
              this.activeTaskBorderColor = "calculated";
              this.activeTaskBkgColor = "calculated";
              this.gridColor = "calculated";
              this.doneTaskBkgColor = "calculated";
              this.doneTaskBorderColor = "calculated";
              this.critBkgColor = "calculated";
              this.critBorderColor = "calculated";
              this.todayLineColor = "calculated";
              this.personBorder = "calculated";
              this.personBkg = "calculated";
              this.labelColor = "black";
              this.errorBkgColor = "#552222";
              this.errorTextColor = "#552222";
            }
            _createClass(Theme2, [{
              key: "updateColors",
              value: function updateColors() {
                this.secondBkg = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 55);
                this.border2 = this.contrast;
                this.nodeBkg = this.mainBkg;
                this.nodeBorder = this.border1;
                this.clusterBkg = this.secondBkg;
                this.clusterBorder = this.border2;
                this.defaultLinkColor = this.lineColor;
                this.titleColor = this.text;
                this.actorBorder = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1, 23);
                this.actorBkg = this.mainBkg;
                this.actorTextColor = this.text;
                this.actorLineColor = this.lineColor;
                this.signalColor = this.text;
                this.signalTextColor = this.text;
                this.labelBoxBkgColor = this.actorBkg;
                this.labelBoxBorderColor = this.actorBorder;
                this.labelTextColor = this.text;
                this.loopTextColor = this.text;
                this.noteBorderColor = "#999";
                this.noteBkgColor = "#666";
                this.noteTextColor = "#fff";
                this.sectionBkgColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 30);
                this.sectionBkgColor2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast, 30);
                this.taskBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.contrast, 10);
                this.taskBkgColor = this.contrast;
                this.taskTextColor = this.taskTextLightColor;
                this.taskTextDarkColor = this.text;
                this.taskTextOutsideColor = this.taskTextDarkColor;
                this.activeTaskBorderColor = this.taskBorderColor;
                this.activeTaskBkgColor = this.mainBkg;
                this.gridColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1, 30);
                this.doneTaskBkgColor = this.done;
                this.doneTaskBorderColor = this.lineColor;
                this.critBkgColor = this.critical;
                this.critBorderColor = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.critBkgColor, 10);
                this.todayLineColor = this.critBkgColor;
                this.transitionColor = this.transitionColor || "#000";
                this.transitionLabelColor = this.transitionLabelColor || this.textColor;
                this.stateLabelColor = this.stateLabelColor || this.stateBkg || this.primaryTextColor;
                this.stateBkg = this.stateBkg || this.mainBkg;
                this.labelBackgroundColor = this.labelBackgroundColor || this.stateBkg;
                this.compositeBackground = this.compositeBackground || this.background || this.tertiaryColor;
                this.altBackground = this.altBackground || "#f4f4f4";
                this.compositeTitleBackground = this.compositeTitleBackground || this.mainBkg;
                this.stateBorder = this.stateBorder || "#000";
                this.innerEndBackground = this.primaryBorderColor;
                this.specialStateColor = "#222";
                this.errorBkgColor = this.errorBkgColor || this.tertiaryColor;
                this.errorTextColor = this.errorTextColor || this.tertiaryTextColor;
                this.classText = this.primaryTextColor;
                this.fillType0 = this.primaryColor;
                this.fillType1 = this.secondaryColor;
                this.fillType2 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 64
                });
                this.fillType3 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 64
                });
                this.fillType4 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -64
                });
                this.fillType5 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: -64
                });
                this.fillType6 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 128
                });
                this.fillType7 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor, {
                  h: 128
                });
                this.pie1 = this.pie1 || "#F4F4F4";
                this.pie2 = this.pie2 || "#555";
                this.pie3 = this.pie3 || "#BBB";
                this.pie4 = this.pie4 || "#777";
                this.pie5 = this.pie5 || "#999";
                this.pie6 = this.pie6 || "#DDD";
                this.pie7 = this.pie7 || "#FFF";
                this.pie8 = this.pie8 || "#DDD";
                this.pie9 = this.pie9 || "#BBB";
                this.pie10 = this.pie10 || "#999";
                this.pie11 = this.pie11 || "#777";
                this.pie12 = this.pie12 || "#555";
                this.pieTitleTextSize = this.pieTitleTextSize || "25px";
                this.pieTitleTextColor = this.pieTitleTextColor || this.taskTextDarkColor;
                this.pieSectionTextSize = this.pieSectionTextSize || "17px";
                this.pieSectionTextColor = this.pieSectionTextColor || this.textColor;
                this.pieLegendTextSize = this.pieLegendTextSize || "17px";
                this.pieLegendTextColor = this.pieLegendTextColor || this.taskTextDarkColor;
                this.pieStrokeColor = this.pieStrokeColor || "black";
                this.pieStrokeWidth = this.pieStrokeWidth || "2px";
                this.pieOpacity = this.pieOpacity || "0.7";
                this.requirementBackground = this.requirementBackground || this.primaryColor;
                this.requirementBorderColor = this.requirementBorderColor || this.primaryBorderColor;
                this.requirementBorderSize = this.requirementBorderSize || this.primaryBorderColor;
                this.requirementTextColor = this.requirementTextColor || this.primaryTextColor;
                this.relationColor = this.relationColor || this.lineColor;
                this.relationLabelBackground = this.relationLabelBackground || this.edgeLabelBackground;
                this.relationLabelColor = this.relationLabelColor || this.actorTextColor;
                this.git0 = (0, khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.pie1, 25) || this.primaryColor;
                this.git1 = this.pie2 || this.secondaryColor;
                this.git2 = this.pie3 || this.tertiaryColor;
                this.git3 = this.pie4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -30
                });
                this.git4 = this.pie5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -60
                });
                this.git5 = this.pie6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: -90
                });
                this.git6 = this.pie7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 60
                });
                this.git7 = this.pie8 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor, {
                  h: 120
                });
                this.gitInv0 = this.gitInv0 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git0);
                this.gitInv1 = this.gitInv1 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git1);
                this.gitInv2 = this.gitInv2 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git2);
                this.gitInv3 = this.gitInv3 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git3);
                this.gitInv4 = this.gitInv4 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git4);
                this.gitInv5 = this.gitInv5 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git5);
                this.gitInv6 = this.gitInv6 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git6);
                this.gitInv7 = this.gitInv7 || (0, khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.git7);
                this.branchLabelColor = this.branchLabelColor || this.labelTextColor;
                this.gitBranchLabel0 = this.branchLabelColor;
                this.gitBranchLabel1 = "white";
                this.gitBranchLabel2 = this.branchLabelColor;
                this.gitBranchLabel3 = "white";
                this.gitBranchLabel4 = this.branchLabelColor;
                this.gitBranchLabel5 = this.branchLabelColor;
                this.gitBranchLabel6 = this.branchLabelColor;
                this.gitBranchLabel7 = this.branchLabelColor;
                this.tagLabelColor = this.tagLabelColor || this.primaryTextColor;
                this.tagLabelBackground = this.tagLabelBackground || this.primaryColor;
                this.tagLabelBorder = this.tagBorder || this.primaryBorderColor;
                this.tagLabelFontSize = this.tagLabelFontSize || "10px";
                this.commitLabelColor = this.commitLabelColor || this.secondaryTextColor;
                this.commitLabelBackground = this.commitLabelBackground || this.secondaryColor;
                this.commitLabelFontSize = this.commitLabelFontSize || "10px";
              }
            }, {
              key: "calculate",
              value: function calculate(overrides) {
                var _this = this;
                if (_typeof(overrides) !== "object") {
                  this.updateColors();
                  return;
                }
                var keys2 = Object.keys(overrides);
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
                this.updateColors();
                keys2.forEach(function(k2) {
                  _this[k2] = overrides[k2];
                });
              }
            }]);
            return Theme2;
          }();
          var getThemeVariables = function getThemeVariables2(userOverrides) {
            var theme = new Theme();
            theme.calculate(userOverrides);
            return theme;
          };
        },
        "./src/utils.js": (__unused_webpack_module, __webpack_exports__2, __webpack_require__2) => {
          __webpack_require__2.r(__webpack_exports__2);
          __webpack_require__2.d(__webpack_exports__2, {
            "calculateSvgSizeAttrs": () => calculateSvgSizeAttrs,
            "calculateTextDimensions": () => calculateTextDimensions,
            "calculateTextHeight": () => calculateTextHeight,
            "calculateTextWidth": () => calculateTextWidth,
            "configureSvgSize": () => configureSvgSize,
            "default": () => __WEBPACK_DEFAULT_EXPORT__,
            "detectDirective": () => detectDirective,
            "detectInit": () => detectInit,
            "directiveSanitizer": () => directiveSanitizer,
            "drawSimpleText": () => drawSimpleText,
            "entityDecode": () => entityDecode,
            "formatUrl": () => formatUrl,
            "generateId": () => generateId,
            "getStylesFromArray": () => getStylesFromArray,
            "getTextObj": () => getTextObj,
            "initIdGenerator": () => initIdGenerator,
            "interpolateToCurve": () => interpolateToCurve,
            "isSubstringInArray": () => isSubstringInArray,
            "random": () => random,
            "runFunc": () => runFunc,
            "sanitizeCss": () => sanitizeCss,
            "setupGraphViewbox": () => setupGraphViewbox,
            "wrapLabel": () => wrapLabel
          });
          var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__2("@braintree/sanitize-url");
          var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__2("d3");
          var _diagrams_common_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__2("./src/diagrams/common/common.js");
          var _defaultConfig__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__2("./src/defaultConfig.js");
          var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__2("./src/logger.js");
          var _diagram_api_detectType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__2("./src/diagram-api/detectType.js");
          var _assignWithDepth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__2("./src/assignWithDepth.js");
          var _this = void 0;
          function _typeof(obj) {
            "@babel/helpers - typeof";
            return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
              return typeof obj2;
            } : function(obj2) {
              return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
            }, _typeof(obj);
          }
          function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) {
              throw new TypeError("Cannot call a class as a function");
            }
          }
          function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
              var descriptor = props[i];
              descriptor.enumerable = descriptor.enumerable || false;
              descriptor.configurable = true;
              if ("value" in descriptor)
                descriptor.writable = true;
              Object.defineProperty(target, descriptor.key, descriptor);
            }
          }
          function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps)
              _defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
              _defineProperties(Constructor, staticProps);
            Object.defineProperty(Constructor, "prototype", { writable: false });
            return Constructor;
          }
          function _createForOfIteratorHelper(o, allowArrayLike) {
            var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];
            if (!it) {
              if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
                if (it)
                  o = it;
                var i = 0;
                var F = function F2() {
                };
                return { s: F, n: function n() {
                  if (i >= o.length)
                    return { done: true };
                  return { done: false, value: o[i++] };
                }, e: function e(_e) {
                  throw _e;
                }, f: F };
              }
              throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var normalCompletion = true, didErr = false, err;
            return { s: function s2() {
              it = it.call(o);
            }, n: function n() {
              var step2 = it.next();
              normalCompletion = step2.done;
              return step2;
            }, e: function e(_e2) {
              didErr = true;
              err = _e2;
            }, f: function f() {
              try {
                if (!normalCompletion && it.return != null)
                  it.return();
              } finally {
                if (didErr)
                  throw err;
              }
            } };
          }
          function _toConsumableArray(arr) {
            return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
          }
          function _nonIterableSpread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          function _unsupportedIterableToArray(o, minLen) {
            if (!o)
              return;
            if (typeof o === "string")
              return _arrayLikeToArray(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
              n = o.constructor.name;
            if (n === "Map" || n === "Set")
              return Array.from(o);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
              return _arrayLikeToArray(o, minLen);
          }
          function _iterableToArray(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
              return Array.from(iter);
          }
          function _arrayWithoutHoles(arr) {
            if (Array.isArray(arr))
              return _arrayLikeToArray(arr);
          }
          function _arrayLikeToArray(arr, len) {
            if (len == null || len > arr.length)
              len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
          var d3CurveTypes = {
            curveBasis: d3__WEBPACK_IMPORTED_MODULE_1__.curveBasis,
            curveBasisClosed: d3__WEBPACK_IMPORTED_MODULE_1__.curveBasisClosed,
            curveBasisOpen: d3__WEBPACK_IMPORTED_MODULE_1__.curveBasisOpen,
            curveLinear: d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear,
            curveLinearClosed: d3__WEBPACK_IMPORTED_MODULE_1__.curveLinearClosed,
            curveMonotoneX: d3__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneX,
            curveMonotoneY: d3__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneY,
            curveNatural: d3__WEBPACK_IMPORTED_MODULE_1__.curveNatural,
            curveStep: d3__WEBPACK_IMPORTED_MODULE_1__.curveStep,
            curveStepAfter: d3__WEBPACK_IMPORTED_MODULE_1__.curveStepAfter,
            curveStepBefore: d3__WEBPACK_IMPORTED_MODULE_1__.curveStepBefore
          };
          var directive = /[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi;
          var directiveWithoutOpen = /\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi;
          var detectInit = function detectInit2(text2, cnf) {
            var inits = detectDirective(text2, /(?:init\b)|(?:initialize\b)/);
            var results = {};
            if (Array.isArray(inits)) {
              var args = inits.map(function(init2) {
                return init2.args;
              });
              directiveSanitizer(args);
              results = (0, _assignWithDepth__WEBPACK_IMPORTED_MODULE_2__["default"])(results, _toConsumableArray(args));
            } else {
              results = inits.args;
            }
            if (results) {
              var type2 = (0, _diagram_api_detectType__WEBPACK_IMPORTED_MODULE_3__["default"])(text2, cnf);
              ["config"].forEach(function(prop) {
                if (typeof results[prop] !== "undefined") {
                  if (type2 === "flowchart-v2") {
                    type2 = "flowchart";
                  }
                  results[type2] = results[prop];
                  delete results[prop];
                }
              });
            }
            return results;
          };
          var detectDirective = function detectDirective2(text2) {
            var type2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
            try {
              var commentWithoutDirectives = new RegExp("[%]{2}(?![{]".concat(directiveWithoutOpen.source, ")(?=[}][%]{2}).*\n"), "ig");
              text2 = text2.trim().replace(commentWithoutDirectives, "").replace(/'/gm, '"');
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Detecting diagram directive".concat(type2 !== null ? " type:" + type2 : "", " based on the text:").concat(text2));
              var match, result = [];
              while ((match = directive.exec(text2)) !== null) {
                if (match.index === directive.lastIndex) {
                  directive.lastIndex++;
                }
                if (match && !type2 || type2 && match[1] && match[1].match(type2) || type2 && match[2] && match[2].match(type2)) {
                  var _type = match[1] ? match[1] : match[2];
                  var args = match[3] ? match[3].trim() : match[4] ? JSON.parse(match[4].trim()) : null;
                  result.push({
                    type: _type,
                    args
                  });
                }
              }
              if (result.length === 0) {
                result.push({
                  type: text2,
                  args: null
                });
              }
              return result.length === 1 ? result[0] : result;
            } catch (error) {
              _logger__WEBPACK_IMPORTED_MODULE_4__.log.error("ERROR: ".concat(error.message, " - Unable to parse directive\n      ").concat(type2 !== null ? " type:" + type2 : "", " based on the text:").concat(text2));
              return {
                type: null,
                args: null
              };
            }
          };
          var memoize = function memoize2(fn, resolver) {
            var cache = {};
            return function() {
              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }
              var n = resolver ? resolver.apply(_this, args) : args[0];
              if (n in cache) {
                return cache[n];
              } else {
                var result = fn.apply(void 0, args);
                cache[n] = result;
                return result;
              }
            };
          };
          var isSubstringInArray = function isSubstringInArray2(str, arr) {
            for (var i = 0; i < arr.length; i++) {
              if (arr[i].match(str))
                return i;
            }
            return -1;
          };
          var interpolateToCurve = function interpolateToCurve2(interpolate2, defaultCurve) {
            if (!interpolate2) {
              return defaultCurve;
            }
            var curveName = "curve".concat(interpolate2.charAt(0).toUpperCase() + interpolate2.slice(1));
            return d3CurveTypes[curveName] || defaultCurve;
          };
          var formatUrl = function formatUrl2(linkStr, config) {
            var url = linkStr.trim();
            if (url) {
              if (config.securityLevel !== "loose") {
                return (0, _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(url);
              }
              return url;
            }
          };
          var runFunc = function runFunc2(functionName) {
            var _obj;
            var arrPaths = functionName.split(".");
            var len = arrPaths.length - 1;
            var fnName = arrPaths[len];
            var obj = window;
            for (var i = 0; i < len; i++) {
              obj = obj[arrPaths[i]];
              if (!obj)
                return;
            }
            for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
              params[_key2 - 1] = arguments[_key2];
            }
            (_obj = obj)[fnName].apply(_obj, params);
          };
          var distance2 = function distance3(p1, p2) {
            return p1 && p2 ? Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2)) : 0;
          };
          var traverseEdge = function traverseEdge2(points) {
            var prevPoint;
            var totalDistance = 0;
            points.forEach(function(point2) {
              totalDistance += distance2(point2, prevPoint);
              prevPoint = point2;
            });
            var remainingDistance = totalDistance / 2;
            var center2 = void 0;
            prevPoint = void 0;
            points.forEach(function(point2) {
              if (prevPoint && !center2) {
                var vectorDistance = distance2(point2, prevPoint);
                if (vectorDistance < remainingDistance) {
                  remainingDistance -= vectorDistance;
                } else {
                  var distanceRatio = remainingDistance / vectorDistance;
                  if (distanceRatio <= 0)
                    center2 = prevPoint;
                  if (distanceRatio >= 1)
                    center2 = {
                      x: point2.x,
                      y: point2.y
                    };
                  if (distanceRatio > 0 && distanceRatio < 1) {
                    center2 = {
                      x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point2.x,
                      y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point2.y
                    };
                  }
                }
              }
              prevPoint = point2;
            });
            return center2;
          };
          var calcLabelPosition = function calcLabelPosition2(points) {
            if (points.length === 1) {
              return points[0];
            }
            return traverseEdge(points);
          };
          var calcCardinalityPosition = function calcCardinalityPosition2(isRelationTypePresent, points, initialPosition) {
            var prevPoint;
            var totalDistance = 0;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("our points", points);
            if (points[0] !== initialPosition) {
              points = points.reverse();
            }
            points.forEach(function(point2) {
              totalDistance += distance2(point2, prevPoint);
              prevPoint = point2;
            });
            var distanceToCardinalityPoint = 25;
            var remainingDistance = distanceToCardinalityPoint;
            var center2;
            prevPoint = void 0;
            points.forEach(function(point2) {
              if (prevPoint && !center2) {
                var vectorDistance = distance2(point2, prevPoint);
                if (vectorDistance < remainingDistance) {
                  remainingDistance -= vectorDistance;
                } else {
                  var distanceRatio = remainingDistance / vectorDistance;
                  if (distanceRatio <= 0)
                    center2 = prevPoint;
                  if (distanceRatio >= 1)
                    center2 = {
                      x: point2.x,
                      y: point2.y
                    };
                  if (distanceRatio > 0 && distanceRatio < 1) {
                    center2 = {
                      x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point2.x,
                      y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point2.y
                    };
                  }
                }
              }
              prevPoint = point2;
            });
            var d = isRelationTypePresent ? 10 : 5;
            var angle2 = Math.atan2(points[0].y - center2.y, points[0].x - center2.x);
            var cardinalityPosition = {
              x: 0,
              y: 0
            };
            cardinalityPosition.x = Math.sin(angle2) * d + (points[0].x + center2.x) / 2;
            cardinalityPosition.y = -Math.cos(angle2) * d + (points[0].y + center2.y) / 2;
            return cardinalityPosition;
          };
          var calcTerminalLabelPosition = function calcTerminalLabelPosition2(terminalMarkerSize, position, _points) {
            var points = JSON.parse(JSON.stringify(_points));
            var prevPoint;
            var totalDistance = 0;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("our points", points);
            if (position !== "start_left" && position !== "start_right") {
              points = points.reverse();
            }
            points.forEach(function(point2) {
              totalDistance += distance2(point2, prevPoint);
              prevPoint = point2;
            });
            var distanceToCardinalityPoint = 25 + terminalMarkerSize;
            var remainingDistance = distanceToCardinalityPoint;
            var center2;
            prevPoint = void 0;
            points.forEach(function(point2) {
              if (prevPoint && !center2) {
                var vectorDistance = distance2(point2, prevPoint);
                if (vectorDistance < remainingDistance) {
                  remainingDistance -= vectorDistance;
                } else {
                  var distanceRatio = remainingDistance / vectorDistance;
                  if (distanceRatio <= 0)
                    center2 = prevPoint;
                  if (distanceRatio >= 1)
                    center2 = {
                      x: point2.x,
                      y: point2.y
                    };
                  if (distanceRatio > 0 && distanceRatio < 1) {
                    center2 = {
                      x: (1 - distanceRatio) * prevPoint.x + distanceRatio * point2.x,
                      y: (1 - distanceRatio) * prevPoint.y + distanceRatio * point2.y
                    };
                  }
                }
              }
              prevPoint = point2;
            });
            var d = 10 + terminalMarkerSize * 0.5;
            var angle2 = Math.atan2(points[0].y - center2.y, points[0].x - center2.x);
            var cardinalityPosition = {
              x: 0,
              y: 0
            };
            cardinalityPosition.x = Math.sin(angle2) * d + (points[0].x + center2.x) / 2;
            cardinalityPosition.y = -Math.cos(angle2) * d + (points[0].y + center2.y) / 2;
            if (position === "start_left") {
              cardinalityPosition.x = Math.sin(angle2 + Math.PI) * d + (points[0].x + center2.x) / 2;
              cardinalityPosition.y = -Math.cos(angle2 + Math.PI) * d + (points[0].y + center2.y) / 2;
            }
            if (position === "end_right") {
              cardinalityPosition.x = Math.sin(angle2 - Math.PI) * d + (points[0].x + center2.x) / 2 - 5;
              cardinalityPosition.y = -Math.cos(angle2 - Math.PI) * d + (points[0].y + center2.y) / 2 - 5;
            }
            if (position === "end_left") {
              cardinalityPosition.x = Math.sin(angle2) * d + (points[0].x + center2.x) / 2 - 5;
              cardinalityPosition.y = -Math.cos(angle2) * d + (points[0].y + center2.y) / 2 - 5;
            }
            return cardinalityPosition;
          };
          var getStylesFromArray = function getStylesFromArray2(arr) {
            var style = "";
            var labelStyle = "";
            for (var i = 0; i < arr.length; i++) {
              if (typeof arr[i] !== "undefined") {
                if (arr[i].startsWith("color:") || arr[i].startsWith("text-align:")) {
                  labelStyle = labelStyle + arr[i] + ";";
                } else {
                  style = style + arr[i] + ";";
                }
              }
            }
            return {
              style,
              labelStyle
            };
          };
          var cnt = 0;
          var generateId = function generateId2() {
            cnt++;
            return "id-" + Math.random().toString(36).substr(2, 12) + "-" + cnt;
          };
          function makeid(length2) {
            var result = "";
            var characters = "0123456789abcdef";
            var charactersLength = characters.length;
            for (var i = 0; i < length2; i++) {
              result += characters.charAt(Math.floor(Math.random() * charactersLength));
            }
            return result;
          }
          var random = function random2(options) {
            return makeid(options.length);
          };
          var getTextObj = function getTextObj2() {
            return {
              x: 0,
              y: 0,
              fill: void 0,
              anchor: "start",
              style: "#666",
              width: 100,
              height: 100,
              textMargin: 0,
              rx: 0,
              ry: 0,
              valign: void 0
            };
          };
          var drawSimpleText = function drawSimpleText2(elem, textData) {
            var nText = textData.text.replace(_diagrams_common_common__WEBPACK_IMPORTED_MODULE_5__["default"].lineBreakRegex, " ");
            var textElem = elem.append("text");
            textElem.attr("x", textData.x);
            textElem.attr("y", textData.y);
            textElem.style("text-anchor", textData.anchor);
            textElem.style("font-family", textData.fontFamily);
            textElem.style("font-size", textData.fontSize);
            textElem.style("font-weight", textData.fontWeight);
            textElem.attr("fill", textData.fill);
            if (typeof textData.class !== "undefined") {
              textElem.attr("class", textData.class);
            }
            var span = textElem.append("tspan");
            span.attr("x", textData.x + textData.textMargin * 2);
            span.attr("fill", textData.fill);
            span.text(nText);
            return textElem;
          };
          var wrapLabel = memoize(function(label, maxWidth, config) {
            if (!label) {
              return label;
            }
            config = Object.assign({
              fontSize: 12,
              fontWeight: 400,
              fontFamily: "Arial",
              joinWith: "<br/>"
            }, config);
            if (_diagrams_common_common__WEBPACK_IMPORTED_MODULE_5__["default"].lineBreakRegex.test(label)) {
              return label;
            }
            var words = label.split(" ");
            var completedLines = [];
            var nextLine = "";
            words.forEach(function(word, index2) {
              var wordLength = calculateTextWidth("".concat(word, " "), config);
              var nextLineLength = calculateTextWidth(nextLine, config);
              if (wordLength > maxWidth) {
                var _breakString = breakString(word, maxWidth, "-", config), hyphenatedStrings = _breakString.hyphenatedStrings, remainingWord = _breakString.remainingWord;
                completedLines.push.apply(completedLines, [nextLine].concat(_toConsumableArray(hyphenatedStrings)));
                nextLine = remainingWord;
              } else if (nextLineLength + wordLength >= maxWidth) {
                completedLines.push(nextLine);
                nextLine = word;
              } else {
                nextLine = [nextLine, word].filter(Boolean).join(" ");
              }
              var currentWord = index2 + 1;
              var isLastWord = currentWord === words.length;
              if (isLastWord) {
                completedLines.push(nextLine);
              }
            });
            return completedLines.filter(function(line2) {
              return line2 !== "";
            }).join(config.joinWith);
          }, function(label, maxWidth, config) {
            return "".concat(label, "-").concat(maxWidth, "-").concat(config.fontSize, "-").concat(config.fontWeight, "-").concat(config.fontFamily, "-").concat(config.joinWith);
          });
          var breakString = memoize(function(word, maxWidth) {
            var hyphenCharacter = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "-";
            var config = arguments.length > 3 ? arguments[3] : void 0;
            config = Object.assign({
              fontSize: 12,
              fontWeight: 400,
              fontFamily: "Arial",
              margin: 0
            }, config);
            var characters = word.split("");
            var lines = [];
            var currentLine = "";
            characters.forEach(function(character, index2) {
              var nextLine = "".concat(currentLine).concat(character);
              var lineWidth = calculateTextWidth(nextLine, config);
              if (lineWidth >= maxWidth) {
                var currentCharacter = index2 + 1;
                var isLastLine = characters.length === currentCharacter;
                var hyphenatedNextLine = "".concat(nextLine).concat(hyphenCharacter);
                lines.push(isLastLine ? nextLine : hyphenatedNextLine);
                currentLine = "";
              } else {
                currentLine = nextLine;
              }
            });
            return {
              hyphenatedStrings: lines,
              remainingWord: currentLine
            };
          }, function(word, maxWidth) {
            var hyphenCharacter = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "-";
            var config = arguments.length > 3 ? arguments[3] : void 0;
            return "".concat(word, "-").concat(maxWidth, "-").concat(hyphenCharacter, "-").concat(config.fontSize, "-").concat(config.fontWeight, "-").concat(config.fontFamily);
          });
          var calculateTextHeight = function calculateTextHeight2(text2, config) {
            config = Object.assign({
              fontSize: 12,
              fontWeight: 400,
              fontFamily: "Arial",
              margin: 15
            }, config);
            return calculateTextDimensions(text2, config).height;
          };
          var calculateTextWidth = function calculateTextWidth2(text2, config) {
            config = Object.assign({
              fontSize: 12,
              fontWeight: 400,
              fontFamily: "Arial"
            }, config);
            return calculateTextDimensions(text2, config).width;
          };
          var calculateTextDimensions = memoize(function(text2, config) {
            config = Object.assign({
              fontSize: 12,
              fontWeight: 400,
              fontFamily: "Arial"
            }, config);
            var _config = config, fontSize = _config.fontSize, fontFamily = _config.fontFamily, fontWeight = _config.fontWeight;
            if (!text2) {
              return {
                width: 0,
                height: 0
              };
            }
            var fontFamilies = ["sans-serif", fontFamily];
            var lines = text2.split(_diagrams_common_common__WEBPACK_IMPORTED_MODULE_5__["default"].lineBreakRegex);
            var dims = [];
            var body = (0, d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");
            if (!body.remove) {
              return {
                width: 0,
                height: 0,
                lineHeight: 0
              };
            }
            var g = body.append("svg");
            for (var _i = 0, _fontFamilies = fontFamilies; _i < _fontFamilies.length; _i++) {
              var _fontFamily = _fontFamilies[_i];
              var cheight = 0;
              var dim = {
                width: 0,
                height: 0,
                lineHeight: 0
              };
              var _iterator = _createForOfIteratorHelper(lines), _step;
              try {
                for (_iterator.s(); !(_step = _iterator.n()).done; ) {
                  var line2 = _step.value;
                  var textObj = getTextObj();
                  textObj.text = line2;
                  var textElem = drawSimpleText(g, textObj).style("font-size", fontSize).style("font-weight", fontWeight).style("font-family", _fontFamily);
                  var bBox = (textElem._groups || textElem)[0][0].getBBox();
                  dim.width = Math.round(Math.max(dim.width, bBox.width));
                  cheight = Math.round(bBox.height);
                  dim.height += cheight;
                  dim.lineHeight = Math.round(Math.max(dim.lineHeight, cheight));
                }
              } catch (err) {
                _iterator.e(err);
              } finally {
                _iterator.f();
              }
              dims.push(dim);
            }
            g.remove();
            var index2 = isNaN(dims[1].height) || isNaN(dims[1].width) || isNaN(dims[1].lineHeight) || dims[0].height > dims[1].height && dims[0].width > dims[1].width && dims[0].lineHeight > dims[1].lineHeight ? 0 : 1;
            return dims[index2];
          }, function(text2, config) {
            return "".concat(text2, "-").concat(config.fontSize, "-").concat(config.fontWeight, "-").concat(config.fontFamily);
          });
          var d3Attrs = function d3Attrs2(d3Elem, attrs) {
            var _iterator2 = _createForOfIteratorHelper(attrs), _step2;
            try {
              for (_iterator2.s(); !(_step2 = _iterator2.n()).done; ) {
                var attr = _step2.value;
                d3Elem.attr(attr[0], attr[1]);
              }
            } catch (err) {
              _iterator2.e(err);
            } finally {
              _iterator2.f();
            }
          };
          var calculateSvgSizeAttrs = function calculateSvgSizeAttrs2(height, width, useMaxWidth) {
            var attrs = /* @__PURE__ */ new Map();
            if (useMaxWidth) {
              attrs.set("width", "100%");
              attrs.set("style", "max-width: ".concat(width, "px;"));
            } else {
              attrs.set("width", width);
            }
            return attrs;
          };
          var configureSvgSize = function configureSvgSize2(svgElem, height, width, useMaxWidth) {
            var attrs = calculateSvgSizeAttrs(height, 1 * width, useMaxWidth);
            d3Attrs(svgElem, attrs);
          };
          var setupGraphViewbox = function setupGraphViewbox2(graph2, svgElem, padding, useMaxWidth) {
            var svgBounds = svgElem.node().getBBox();
            var sWidth = svgBounds.width;
            var sHeight = svgBounds.height;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("SVG bounds: ".concat(sWidth, "x").concat(sHeight), svgBounds);
            var width = graph2._label.width;
            var height = graph2._label.height;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Graph bounds: ".concat(width, "x").concat(height), graph2);
            width = sWidth + padding * 2;
            height = sHeight + padding * 2;
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Calculated bounds: ".concat(width, "x").concat(height));
            configureSvgSize(svgElem, height, width, useMaxWidth);
            var vBox = "".concat(svgBounds.x - padding, " ").concat(svgBounds.y - padding, " ").concat(svgBounds.width + 2 * padding, " ").concat(svgBounds.height + 2 * padding);
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Graph.label", graph2._label, "swidth", sWidth, "sheight", sHeight, "width", width, "height", height, "vBox", vBox);
            svgElem.attr("viewBox", vBox);
          };
          var initIdGenerator = /* @__PURE__ */ function() {
            function iterator(deterministic, seed) {
              _classCallCheck(this, iterator);
              this.deterministic = deterministic;
              this.seed = seed;
              this.count = seed ? seed.length : 0;
            }
            _createClass(iterator, [{
              key: "next",
              value: function next() {
                if (!this.deterministic)
                  return Date.now();
                return this.count++;
              }
            }]);
            return iterator;
          }();
          var decoder;
          var entityDecode = function entityDecode2(html2) {
            decoder = decoder || document.createElement("div");
            html2 = escape(html2).replace(/%26/g, "&").replace(/%23/g, "#").replace(/%3B/g, ";");
            decoder.innerHTML = html2;
            return unescape(decoder.textContent);
          };
          var directiveSanitizer = function directiveSanitizer2(args) {
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("directiveSanitizer called with", args);
            if (_typeof(args) === "object") {
              if (args.length) {
                args.forEach(function(arg) {
                  return directiveSanitizer2(arg);
                });
              } else {
                Object.keys(args).forEach(function(key) {
                  _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Checking key", key);
                  if (key.indexOf("__") === 0) {
                    _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitize deleting __ option", key);
                    delete args[key];
                  }
                  if (key.indexOf("proto") >= 0) {
                    _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitize deleting proto option", key);
                    delete args[key];
                  }
                  if (key.indexOf("constr") >= 0) {
                    _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitize deleting constr option", key);
                    delete args[key];
                  }
                  if (key.indexOf("themeCSS") >= 0) {
                    _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitizing themeCss option");
                    args[key] = sanitizeCss(args[key]);
                  }
                  if (key.indexOf("fontFamily") >= 0) {
                    _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitizing fontFamily option");
                    args[key] = sanitizeCss(args[key]);
                  }
                  if (key.indexOf("altFontFamily") >= 0) {
                    _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitizing altFontFamily option");
                    args[key] = sanitizeCss(args[key]);
                  }
                  if (_defaultConfig__WEBPACK_IMPORTED_MODULE_6__.configKeys.indexOf(key) < 0) {
                    _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitize deleting option", key);
                    delete args[key];
                  } else {
                    if (_typeof(args[key]) === "object") {
                      _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitize deleting object", key);
                      directiveSanitizer2(args[key]);
                    }
                  }
                });
              }
            }
            if (args.themeVariables) {
              var kArr = Object.keys(args.themeVariables);
              for (var i = 0; i < kArr.length; i++) {
                var k2 = kArr[i];
                var val = args.themeVariables[k2];
                if (val && val.match && !val.match(/^[a-zA-Z0-9#,";()%. ]+$/)) {
                  args.themeVariables[k2] = "";
                }
              }
            }
            _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("After sanitization", args);
          };
          var sanitizeCss = function sanitizeCss2(str) {
            var startCnt = 0;
            var endCnt = 0;
            for (var i = 0; i < str.length; i++) {
              if (startCnt < endCnt) {
                return "{ /* ERROR: Unbalanced CSS */ }";
              }
              if (str[i] === "{") {
                startCnt++;
              } else if (str[i] === "}") {
                endCnt++;
              }
            }
            if (startCnt !== endCnt) {
              return "{ /* ERROR: Unbalanced CSS */ }";
            }
            return str;
          };
          const __WEBPACK_DEFAULT_EXPORT__ = {
            assignWithDepth: _assignWithDepth__WEBPACK_IMPORTED_MODULE_2__["default"],
            wrapLabel,
            calculateTextHeight,
            calculateTextWidth,
            calculateTextDimensions,
            calculateSvgSizeAttrs,
            configureSvgSize,
            setupGraphViewbox,
            detectInit,
            detectDirective,
            isSubstringInArray,
            interpolateToCurve,
            calcLabelPosition,
            calcCardinalityPosition,
            calcTerminalLabelPosition,
            formatUrl,
            getStylesFromArray,
            generateId,
            random,
            memoize,
            runFunc,
            entityDecode,
            initIdGenerator,
            directiveSanitizer,
            sanitizeCss
          };
        },
        "./node_modules/path-browserify/index.js": (module2) => {
          function assertPath(path2) {
            if (typeof path2 !== "string") {
              throw new TypeError("Path must be a string. Received " + JSON.stringify(path2));
            }
          }
          function normalizeStringPosix(path2, allowAboveRoot) {
            var res = "";
            var lastSegmentLength = 0;
            var lastSlash = -1;
            var dots = 0;
            var code;
            for (var i = 0; i <= path2.length; ++i) {
              if (i < path2.length)
                code = path2.charCodeAt(i);
              else if (code === 47)
                break;
              else
                code = 47;
              if (code === 47) {
                if (lastSlash === i - 1 || dots === 1)
                  ;
                else if (lastSlash !== i - 1 && dots === 2) {
                  if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
                    if (res.length > 2) {
                      var lastSlashIndex = res.lastIndexOf("/");
                      if (lastSlashIndex !== res.length - 1) {
                        if (lastSlashIndex === -1) {
                          res = "";
                          lastSegmentLength = 0;
                        } else {
                          res = res.slice(0, lastSlashIndex);
                          lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
                        }
                        lastSlash = i;
                        dots = 0;
                        continue;
                      }
                    } else if (res.length === 2 || res.length === 1) {
                      res = "";
                      lastSegmentLength = 0;
                      lastSlash = i;
                      dots = 0;
                      continue;
                    }
                  }
                  if (allowAboveRoot) {
                    if (res.length > 0)
                      res += "/..";
                    else
                      res = "..";
                    lastSegmentLength = 2;
                  }
                } else {
                  if (res.length > 0)
                    res += "/" + path2.slice(lastSlash + 1, i);
                  else
                    res = path2.slice(lastSlash + 1, i);
                  lastSegmentLength = i - lastSlash - 1;
                }
                lastSlash = i;
                dots = 0;
              } else if (code === 46 && dots !== -1) {
                ++dots;
              } else {
                dots = -1;
              }
            }
            return res;
          }
          function _format(sep, pathObject) {
            var dir = pathObject.dir || pathObject.root;
            var base = pathObject.base || (pathObject.name || "") + (pathObject.ext || "");
            if (!dir) {
              return base;
            }
            if (dir === pathObject.root) {
              return dir + base;
            }
            return dir + sep + base;
          }
          var posix = {
            resolve: function resolve() {
              var resolvedPath = "";
              var resolvedAbsolute = false;
              var cwd;
              for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
                var path2;
                if (i >= 0)
                  path2 = arguments[i];
                else {
                  if (cwd === void 0)
                    cwd = process.cwd();
                  path2 = cwd;
                }
                assertPath(path2);
                if (path2.length === 0) {
                  continue;
                }
                resolvedPath = path2 + "/" + resolvedPath;
                resolvedAbsolute = path2.charCodeAt(0) === 47;
              }
              resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);
              if (resolvedAbsolute) {
                if (resolvedPath.length > 0)
                  return "/" + resolvedPath;
                else
                  return "/";
              } else if (resolvedPath.length > 0) {
                return resolvedPath;
              } else {
                return ".";
              }
            },
            normalize: function normalize2(path2) {
              assertPath(path2);
              if (path2.length === 0)
                return ".";
              var isAbsolute = path2.charCodeAt(0) === 47;
              var trailingSeparator = path2.charCodeAt(path2.length - 1) === 47;
              path2 = normalizeStringPosix(path2, !isAbsolute);
              if (path2.length === 0 && !isAbsolute)
                path2 = ".";
              if (path2.length > 0 && trailingSeparator)
                path2 += "/";
              if (isAbsolute)
                return "/" + path2;
              return path2;
            },
            isAbsolute: function isAbsolute(path2) {
              assertPath(path2);
              return path2.length > 0 && path2.charCodeAt(0) === 47;
            },
            join: function join() {
              if (arguments.length === 0)
                return ".";
              var joined;
              for (var i = 0; i < arguments.length; ++i) {
                var arg = arguments[i];
                assertPath(arg);
                if (arg.length > 0) {
                  if (joined === void 0)
                    joined = arg;
                  else
                    joined += "/" + arg;
                }
              }
              if (joined === void 0)
                return ".";
              return posix.normalize(joined);
            },
            relative: function relative(from, to) {
              assertPath(from);
              assertPath(to);
              if (from === to)
                return "";
              from = posix.resolve(from);
              to = posix.resolve(to);
              if (from === to)
                return "";
              var fromStart = 1;
              for (; fromStart < from.length; ++fromStart) {
                if (from.charCodeAt(fromStart) !== 47)
                  break;
              }
              var fromEnd = from.length;
              var fromLen = fromEnd - fromStart;
              var toStart = 1;
              for (; toStart < to.length; ++toStart) {
                if (to.charCodeAt(toStart) !== 47)
                  break;
              }
              var toEnd = to.length;
              var toLen = toEnd - toStart;
              var length2 = fromLen < toLen ? fromLen : toLen;
              var lastCommonSep = -1;
              var i = 0;
              for (; i <= length2; ++i) {
                if (i === length2) {
                  if (toLen > length2) {
                    if (to.charCodeAt(toStart + i) === 47) {
                      return to.slice(toStart + i + 1);
                    } else if (i === 0) {
                      return to.slice(toStart + i);
                    }
                  } else if (fromLen > length2) {
                    if (from.charCodeAt(fromStart + i) === 47) {
                      lastCommonSep = i;
                    } else if (i === 0) {
                      lastCommonSep = 0;
                    }
                  }
                  break;
                }
                var fromCode = from.charCodeAt(fromStart + i);
                var toCode = to.charCodeAt(toStart + i);
                if (fromCode !== toCode)
                  break;
                else if (fromCode === 47)
                  lastCommonSep = i;
              }
              var out = "";
              for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
                if (i === fromEnd || from.charCodeAt(i) === 47) {
                  if (out.length === 0)
                    out += "..";
                  else
                    out += "/..";
                }
              }
              if (out.length > 0)
                return out + to.slice(toStart + lastCommonSep);
              else {
                toStart += lastCommonSep;
                if (to.charCodeAt(toStart) === 47)
                  ++toStart;
                return to.slice(toStart);
              }
            },
            _makeLong: function _makeLong(path2) {
              return path2;
            },
            dirname: function dirname(path2) {
              assertPath(path2);
              if (path2.length === 0)
                return ".";
              var code = path2.charCodeAt(0);
              var hasRoot = code === 47;
              var end = -1;
              var matchedSlash = true;
              for (var i = path2.length - 1; i >= 1; --i) {
                code = path2.charCodeAt(i);
                if (code === 47) {
                  if (!matchedSlash) {
                    end = i;
                    break;
                  }
                } else {
                  matchedSlash = false;
                }
              }
              if (end === -1)
                return hasRoot ? "/" : ".";
              if (hasRoot && end === 1)
                return "//";
              return path2.slice(0, end);
            },
            basename: function basename(path2, ext) {
              if (ext !== void 0 && typeof ext !== "string")
                throw new TypeError('"ext" argument must be a string');
              assertPath(path2);
              var start2 = 0;
              var end = -1;
              var matchedSlash = true;
              var i;
              if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {
                if (ext.length === path2.length && ext === path2)
                  return "";
                var extIdx = ext.length - 1;
                var firstNonSlashEnd = -1;
                for (i = path2.length - 1; i >= 0; --i) {
                  var code = path2.charCodeAt(i);
                  if (code === 47) {
                    if (!matchedSlash) {
                      start2 = i + 1;
                      break;
                    }
                  } else {
                    if (firstNonSlashEnd === -1) {
                      matchedSlash = false;
                      firstNonSlashEnd = i + 1;
                    }
                    if (extIdx >= 0) {
                      if (code === ext.charCodeAt(extIdx)) {
                        if (--extIdx === -1) {
                          end = i;
                        }
                      } else {
                        extIdx = -1;
                        end = firstNonSlashEnd;
                      }
                    }
                  }
                }
                if (start2 === end)
                  end = firstNonSlashEnd;
                else if (end === -1)
                  end = path2.length;
                return path2.slice(start2, end);
              } else {
                for (i = path2.length - 1; i >= 0; --i) {
                  if (path2.charCodeAt(i) === 47) {
                    if (!matchedSlash) {
                      start2 = i + 1;
                      break;
                    }
                  } else if (end === -1) {
                    matchedSlash = false;
                    end = i + 1;
                  }
                }
                if (end === -1)
                  return "";
                return path2.slice(start2, end);
              }
            },
            extname: function extname(path2) {
              assertPath(path2);
              var startDot = -1;
              var startPart = 0;
              var end = -1;
              var matchedSlash = true;
              var preDotState = 0;
              for (var i = path2.length - 1; i >= 0; --i) {
                var code = path2.charCodeAt(i);
                if (code === 47) {
                  if (!matchedSlash) {
                    startPart = i + 1;
                    break;
                  }
                  continue;
                }
                if (end === -1) {
                  matchedSlash = false;
                  end = i + 1;
                }
                if (code === 46) {
                  if (startDot === -1)
                    startDot = i;
                  else if (preDotState !== 1)
                    preDotState = 1;
                } else if (startDot !== -1) {
                  preDotState = -1;
                }
              }
              if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
                return "";
              }
              return path2.slice(startDot, end);
            },
            format: function format2(pathObject) {
              if (pathObject === null || typeof pathObject !== "object") {
                throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof pathObject);
              }
              return _format("/", pathObject);
            },
            parse: function parse(path2) {
              assertPath(path2);
              var ret = { root: "", dir: "", base: "", ext: "", name: "" };
              if (path2.length === 0)
                return ret;
              var code = path2.charCodeAt(0);
              var isAbsolute = code === 47;
              var start2;
              if (isAbsolute) {
                ret.root = "/";
                start2 = 1;
              } else {
                start2 = 0;
              }
              var startDot = -1;
              var startPart = 0;
              var end = -1;
              var matchedSlash = true;
              var i = path2.length - 1;
              var preDotState = 0;
              for (; i >= start2; --i) {
                code = path2.charCodeAt(i);
                if (code === 47) {
                  if (!matchedSlash) {
                    startPart = i + 1;
                    break;
                  }
                  continue;
                }
                if (end === -1) {
                  matchedSlash = false;
                  end = i + 1;
                }
                if (code === 46) {
                  if (startDot === -1)
                    startDot = i;
                  else if (preDotState !== 1)
                    preDotState = 1;
                } else if (startDot !== -1) {
                  preDotState = -1;
                }
              }
              if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
                if (end !== -1) {
                  if (startPart === 0 && isAbsolute)
                    ret.base = ret.name = path2.slice(1, end);
                  else
                    ret.base = ret.name = path2.slice(startPart, end);
                }
              } else {
                if (startPart === 0 && isAbsolute) {
                  ret.name = path2.slice(1, startDot);
                  ret.base = path2.slice(1, end);
                } else {
                  ret.name = path2.slice(startPart, startDot);
                  ret.base = path2.slice(startPart, end);
                }
                ret.ext = path2.slice(startDot, end);
              }
              if (startPart > 0)
                ret.dir = path2.slice(0, startPart - 1);
              else if (isAbsolute)
                ret.dir = "/";
              return ret;
            },
            sep: "/",
            delimiter: ":",
            win32: null,
            posix: null
          };
          posix.posix = posix;
          module2.exports = posix;
        },
        "@braintree/sanitize-url": (module2) => {
          module2.exports = requireDist();
        },
        "d3": (module2) => {
          module2.exports = require$$1;
        },
        "dagre": (module2) => {
          module2.exports = requireDagre$1();
        },
        "dagre-d3": (module2) => {
          module2.exports = requireDagreD3();
        },
        "dagre-d3/lib/label/add-html-label.js": (module2) => {
          module2.exports = requireAddHtmlLabel();
        },
        "dompurify": (module2) => {
          module2.exports = require$$5;
        },
        "graphlib": (module2) => {
          module2.exports = requireGraphlib$2();
        },
        "khroma": (module2) => {
          module2.exports = require$$7;
        },
        "moment-mini": (module2) => {
          module2.exports = requireMoment_min();
        },
        "stylis": (module2) => {
          module2.exports = requireStylis();
        },
        "?1da1": () => {
        },
        "?35ed": () => {
        },
        "?3c87": () => {
        },
        "?dbae": () => {
        },
        "?8ed1": () => {
        },
        "?2b40": () => {
        },
        "?c5f1": () => {
        },
        "?a3fa": () => {
        },
        "?ebf4": () => {
        },
        "?e940": () => {
        },
        "?a3b8": () => {
        },
        "?0f62": () => {
        },
        "./package.json": (module2) => {
          module2.exports = JSON.parse('{"name":"mermaid","version":"9.1.7","description":"Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.","main":"dist/mermaid.min.js","module":"dist/mermaid.esm.min.mjs","exports":{".":{"require":"./dist/mermaid.min.js","import":"./dist/mermaid.esm.min.mjs"},"./*":"./*"},"keywords":["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],"scripts":{"build:development":"webpack --mode development --progress --color","build:production":"webpack --mode production --progress --color","build":"concurrently \\"yarn build:development\\" \\"yarn build:production\\"","postbuild":"documentation build src/mermaidAPI.js src/config.js src/defaultConfig.js --shallow -f md --markdown-toc false > docs/Setup.md","build:watch":"yarn build:development --watch","release":"yarn build","lint":"eslint --cache ./ --ext .js,.json,.html,.md","lint:fix":"yarn lint --fix","e2e:depr":"yarn lint && jest e2e --config e2e/jest.config.js","cypress":"cypress run","e2e":"start-server-and-test dev http://localhost:9000/ cypress","e2e-upd":"yarn lint && jest e2e -u --config e2e/jest.config.js","dev":"webpack serve --config ./.webpack/webpack.config.e2e.babel.js","ci":"jest src/.*","test":"yarn lint && jest src/.*","test:watch":"jest --watch src","prepublishOnly":"yarn build && yarn test","prepare":"husky install && yarn build","pre-commit":"lint-staged"},"repository":{"type":"git","url":"https://github.com/knsv/mermaid"},"author":"Knut Sveidqvist","license":"MIT","standard":{"ignore":["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],"globals":["page"]},"dependencies":{"@braintree/sanitize-url":"^6.0.0","d3":"^7.0.0","dagre":"^0.8.5","dagre-d3":"^0.6.4","dompurify":"2.4.0","graphlib":"^2.1.8","khroma":"^2.0.0","moment-mini":"2.24.0","stylis":"^4.0.10"},"devDependencies":{"@applitools/eyes-cypress":"^3.25.7","@babel/core":"^7.14.6","@babel/eslint-parser":"^7.14.7","@babel/preset-env":"^7.14.7","@babel/register":"^7.14.5","@commitlint/cli":"^17.1.2","@commitlint/config-conventional":"^17.0.0","babel-jest":"^29.0.1","babel-loader":"^8.2.2","concurrently":"^7.0.0","coveralls":"^3.0.2","css-to-string-loader":"^0.1.3","cypress":"9.7.0","cypress-image-snapshot":"^4.0.1","documentation":"13.2.0","eslint":"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-html":"^7.1.0","eslint-plugin-jest":"^27.0.1","eslint-plugin-jsdoc":"^39.1.0","eslint-plugin-json":"^3.1.0","eslint-plugin-markdown":"^3.0.0","eslint-plugin-prettier":"^4.0.0","husky":"^8.0.0","identity-obj-proxy":"^3.0.0","jest":"^28.0.3","jest-environment-jsdom":"^29.0.1","jison":"^0.4.18","js-base64":"3.7.2","lint-staged":"^13.0.0","moment":"^2.23.0","path-browserify":"^1.0.1","prettier":"^2.3.2","prettier-plugin-jsdoc":"^0.3.30","start-server-and-test":"^1.12.6","terser-webpack-plugin":"^5.3.6","webpack":"^5.53.0","webpack-cli":"^4.7.2","webpack-dev-server":"^4.10.1","webpack-merge":"^5.8.0","webpack-node-externals":"^3.0.0"},"resolutions":{"d3":"^7.0.0"},"files":["dist"],"sideEffects":["**/*.css","**/*.scss"]}');
        }
      };
      var __webpack_module_cache__ = {};
      function __webpack_require__(moduleId) {
        var cachedModule = __webpack_module_cache__[moduleId];
        if (cachedModule !== void 0) {
          return cachedModule.exports;
        }
        var module2 = __webpack_module_cache__[moduleId] = {
          id: moduleId,
          loaded: false,
          exports: {}
        };
        __webpack_modules__[moduleId](module2, module2.exports, __webpack_require__);
        module2.loaded = true;
        return module2.exports;
      }
      __webpack_require__.c = __webpack_module_cache__;
      (() => {
        __webpack_require__.n = (module2) => {
          var getter = module2 && module2.__esModule ? () => module2["default"] : () => module2;
          __webpack_require__.d(getter, { a: getter });
          return getter;
        };
      })();
      (() => {
        __webpack_require__.d = (exports2, definition) => {
          for (var key in definition) {
            if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports2, key)) {
              Object.defineProperty(exports2, key, { enumerable: true, get: definition[key] });
            }
          }
        };
      })();
      (() => {
        __webpack_require__.g = function() {
          if (typeof globalThis === "object")
            return globalThis;
          try {
            return this || new Function("return this")();
          } catch (e) {
            if (typeof window === "object")
              return window;
          }
        }();
      })();
      (() => {
        __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
      })();
      (() => {
        __webpack_require__.r = (exports2) => {
          if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
            Object.defineProperty(exports2, Symbol.toStringTag, { value: "Module" });
          }
          Object.defineProperty(exports2, "__esModule", { value: true });
        };
      })();
      (() => {
        __webpack_require__.nmd = (module2) => {
          module2.paths = [];
          if (!module2.children)
            module2.children = [];
          return module2;
        };
      })();
      var __webpack_exports__ = __webpack_require__(__webpack_require__.s = "./src/mermaid.js");
      __webpack_exports__ = __webpack_exports__["default"];
      return __webpack_exports__;
    })();
  });
})(mermaid_core$2);
const mermaid_core = /* @__PURE__ */ getDefaultExportFromCjs(mermaid_core$2.exports);
const mermaid_core$1 = /* @__PURE__ */ _mergeNamespaces({
  __proto__: null,
  default: mermaid_core
}, [mermaid_core$2.exports]);
export {
  mermaid_core$1 as m
};
